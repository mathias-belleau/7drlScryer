!function(t){var e={};function n(u){if(e[u])return e[u].exports;var r=e[u]={i:u,l:!1,exports:{}};return t[u].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,u){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:u})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(u,r,function(e){return t[e]}.bind(null,r));return u},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";function u(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var r=2.3283064365386963e-10,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}var e,n,o;return e=t,(n=[{key:"getSeed",value:function(){return this._seed}},{key:"setSeed",value:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*r,t=69069*t+1>>>0,this._s1=t*r,t=69069*t+1>>>0,this._s2=t*r,this._c=1,this}},{key:"getUniform",value:function(){var t=2091639*this._s0+this._c*r;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}},{key:"getUniformInt",value:function(t,e){var n=Math.max(t,e),u=Math.min(t,e);return Math.floor(this.getUniform()*(n-u+1))+u}},{key:"getNormal",value:function(){var t,e,n,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;do{n=(t=2*this.getUniform()-1)*t+(e=2*this.getUniform()-1)*e}while(n>1||0==n);var o=t*Math.sqrt(-2*Math.log(n)/n);return u+o*r}},{key:"getPercentage",value:function(){return 1+Math.floor(100*this.getUniform())}},{key:"getItem",value:function(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}},{key:"shuffle",value:function(t){for(var e=[],n=t.slice();n.length;){var u=n.indexOf(this.getItem(n));e.push(n.splice(u,1)[0])}return e}},{key:"getWeightedValue",value:function(t){var e=0;for(var n in t)e+=t[n];var u,r=this.getUniform()*e,o=0;for(u in t)if(r<(o+=t[u]))return u;return u}},{key:"getState",value:function(){return[this._s0,this._s1,this._s2,this._c]}},{key:"setState",value:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}},{key:"clone",value:function(){var e=new t;return e.setState(this.getState())}}])&&u(e.prototype,n),o&&u(e,o),t}();e.a=(new o).setSeed(Date.now())},function(t,e,n){"use strict";function u(t,e){return(t%e+e)%e}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t}function o(t){return t.charAt(0).toUpperCase()+t.substring(1)}function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];var r=i.map,a=function(e,u,i,a){if("%"==t.charAt(a-1))return e.substring(1);if(!n.length)return e;var c=n[0],s=(u||i).split(","),l=s.shift()||"",f=r[l.toLowerCase()];if(!f)return e;var h=(c=n.shift())[f].apply(c,s),p=l.charAt(0);return p!=p.toLowerCase()&&(h=o(h)),h};return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,a)}n.r(e),n.d(e,"mod",(function(){return u})),n.d(e,"clamp",(function(){return r})),n.d(e,"capitalize",(function(){return o})),n.d(e,"format",(function(){return i})),i.map={s:"toString"}},function(t,e,n){"use strict";n.r(e),n.d(e,"fromString",(function(){return o})),n.d(e,"add",(function(){return i})),n.d(e,"add_",(function(){return a})),n.d(e,"multiply",(function(){return c})),n.d(e,"multiply_",(function(){return s})),n.d(e,"interpolate",(function(){return l})),n.d(e,"lerp",(function(){return f})),n.d(e,"interpolateHSL",(function(){return h})),n.d(e,"lerpHSL",(function(){return p})),n.d(e,"randomize",(function(){return D})),n.d(e,"rgb2hsl",(function(){return y})),n.d(e,"hsl2rgb",(function(){return d})),n.d(e,"toRGB",(function(){return g})),n.d(e,"toHex",(function(){return _}));var u=n(1),r=n(0);function o(t){var e,n;if(t in A)e=A[t];else{if("#"==t.charAt(0)){var u=(t.match(/[0-9a-f]/gi)||[]).map((function(t){return parseInt(t,16)}));if(3==u.length)e=u.map((function(t){return 17*t}));else{for(var r=0;r<3;r++)u[r+1]+=16*u[r],u.splice(r,1);e=u}}else e=(n=t.match(/rgb\(([0-9, ]+)\)/i))?n[1].split(/\s*,\s*/).map((function(t){return parseInt(t)})):[0,0,0];A[t]=e}return e.slice()}function i(t){for(var e=t.slice(),n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];for(var o=0;o<3;o++)for(var i=0;i<u.length;i++)e[o]+=u[i][o];return e}function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];for(var r=0;r<3;r++)for(var o=0;o<n.length;o++)t[r]+=n[o][r];return t}function c(t){for(var e=t.slice(),n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];for(var o=0;o<3;o++){for(var i=0;i<u.length;i++)e[o]*=u[i][o]/255;e[o]=Math.round(e[o])}return e}function s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];for(var r=0;r<3;r++){for(var o=0;o<n.length;o++)t[r]*=n[o][r]/255;t[r]=Math.round(t[r])}return t}function l(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,u=t.slice(),r=0;r<3;r++)u[r]=Math.round(u[r]+n*(e[r]-t[r]));return u}var f=l;function h(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,u=y(t),r=y(e),o=0;o<3;o++)u[o]+=n*(r[o]-u[o]);return d(u)}var p=h;function D(t,e){e instanceof Array||(e=Math.round(r.a.getNormal(0,e)));for(var n=t.slice(),u=0;u<3;u++)n[u]+=e instanceof Array?Math.round(r.a.getNormal(0,e[u])):e;return n}function y(t){var e,n=t[0]/255,u=t[1]/255,r=t[2]/255,o=Math.max(n,u,r),i=Math.min(n,u,r),a=0,c=(o+i)/2;if(o==i)e=0;else{var s=o-i;switch(e=c>.5?s/(2-o-i):s/(o+i),o){case n:a=(u-r)/s+(u<r?6:0);break;case u:a=(r-n)/s+2;break;case r:a=(n-u)/s+4}a/=6}return[a,e,c]}function v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d(t){var e=t[2];if(0==t[1])return[e=Math.round(255*e),e,e];var n=t[1],u=e<.5?e*(1+n):e+n-e*n,r=2*e-u,o=v(r,u,t[0]+1/3),i=v(r,u,t[0]),a=v(r,u,t[0]-1/3);return[Math.round(255*o),Math.round(255*i),Math.round(255*a)]}function g(t){var e=t.map((function(t){return Object(u.clamp)(t,0,255)}));return"rgb(".concat(e.join(","),")")}function _(t){var e=t.map((function(t){return Object(u.clamp)(t,0,255).toString(16).padStart(2,"0")}));return"#".concat(e.join(""))}var A={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},function(t,e,n){"use strict";function u(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}n.d(e,"a",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getContainer",value:function(){return null}},{key:"setOptions",value:function(t){this._options=t}}])&&u(e.prototype,n),r&&u(e,r),t}()},function(t,e,n){(function(t,u){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",a="__lodash_placeholder__",c=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",l="[object Array]",f="[object Boolean]",h="[object Date]",p="[object Error]",D="[object Function]",y="[object GeneratorFunction]",v="[object Map]",d="[object Number]",g="[object Object]",_="[object RegExp]",A="[object Set]",C="[object String]",E="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",F="[object DataView]",B="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",j="[object Uint16Array]",P="[object Uint32Array]",R=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,U=RegExp(I.source),L=RegExp(z.source),W=/<%-([\s\S]+?)%>/g,N=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,G=RegExp($.source),K=/^\s+/,Q=/\s/,V=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/[()=,{}\[\]\/\s]/,nt=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,ot=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ct=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yt="[\\ud800-\\udfff]",vt="["+Dt+"]",dt="["+pt+"]",gt="\\d+",_t="[\\u2700-\\u27bf]",At="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ct="[^\\ud800-\\udfff"+Dt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Et="\\ud83c[\\udffb-\\udfff]",mt="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",wt="(?:"+At+"|"+Ct+")",xt="(?:"+Bt+"|"+Ct+")",kt="(?:"+dt+"|"+Et+")"+"?",St="[\\ufe0e\\ufe0f]?"+kt+("(?:\\u200d(?:"+[mt,bt,Ft].join("|")+")[\\ufe0e\\ufe0f]?"+kt+")*"),Ot="(?:"+[_t,bt,Ft].join("|")+")"+St,jt="(?:"+[mt+dt+"?",dt,bt,Ft,yt].join("|")+")",Pt=RegExp("['’]","g"),Rt=RegExp(dt,"g"),Tt=RegExp(Et+"(?="+Et+")|"+jt+St,"g"),Mt=RegExp([Bt+"?"+At+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,Bt,"$"].join("|")+")",xt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Bt+wt,"$"].join("|")+")",Bt+"?"+wt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Bt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Ot].join("|"),"g"),It=RegExp("[\\u200d\\ud800-\\udfff"+pt+"\\ufe0e\\ufe0f]"),zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ut=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,Wt={};Wt[B]=Wt[w]=Wt[x]=Wt[k]=Wt[S]=Wt[O]=Wt["[object Uint8ClampedArray]"]=Wt[j]=Wt[P]=!0,Wt[s]=Wt[l]=Wt[b]=Wt[f]=Wt[F]=Wt[h]=Wt[p]=Wt[D]=Wt[v]=Wt[d]=Wt[g]=Wt[_]=Wt[A]=Wt[C]=Wt[m]=!1;var Nt={};Nt[s]=Nt[l]=Nt[b]=Nt[F]=Nt[f]=Nt[h]=Nt[B]=Nt[w]=Nt[x]=Nt[k]=Nt[S]=Nt[v]=Nt[d]=Nt[g]=Nt[_]=Nt[A]=Nt[C]=Nt[E]=Nt[O]=Nt["[object Uint8ClampedArray]"]=Nt[j]=Nt[P]=!0,Nt[p]=Nt[D]=Nt[m]=!1;var Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Ht=parseInt,qt="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,$t="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,Gt=qt||$t||Function("return this")(),Kt="object"==o(e)&&e&&!e.nodeType&&e,Qt=Kt&&"object"==o(u)&&u&&!u.nodeType&&u,Vt=Qt&&Qt.exports===Kt,Zt=Vt&&qt.process,Jt=function(){try{var t=Qt&&Qt.require&&Qt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),te=Jt&&Jt.isArrayBuffer,ee=Jt&&Jt.isDate,ne=Jt&&Jt.isMap,ue=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,oe=Jt&&Jt.isTypedArray;function ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,u){for(var r=-1,o=null==t?0:t.length;++r<o;){var i=t[r];e(u,i,n(i),t)}return u}function ce(t,e){for(var n=-1,u=null==t?0:t.length;++n<u&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,u=null==t?0:t.length;++n<u;)if(!e(t[n],n,t))return!1;return!0}function fe(t,e){for(var n=-1,u=null==t?0:t.length,r=0,o=[];++n<u;){var i=t[n];e(i,n,t)&&(o[r++]=i)}return o}function he(t,e){return!!(null==t?0:t.length)&&Ee(t,e,0)>-1}function pe(t,e,n){for(var u=-1,r=null==t?0:t.length;++u<r;)if(n(e,t[u]))return!0;return!1}function De(t,e){for(var n=-1,u=null==t?0:t.length,r=Array(u);++n<u;)r[n]=e(t[n],n,t);return r}function ye(t,e){for(var n=-1,u=e.length,r=t.length;++n<u;)t[r+n]=e[n];return t}function ve(t,e,n,u){var r=-1,o=null==t?0:t.length;for(u&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function de(t,e,n,u){var r=null==t?0:t.length;for(u&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ge(t,e){for(var n=-1,u=null==t?0:t.length;++n<u;)if(e(t[n],n,t))return!0;return!1}var _e=Be("length");function Ae(t,e,n){var u;return n(t,(function(t,n,r){if(e(t,n,r))return u=n,!1})),u}function Ce(t,e,n,u){for(var r=t.length,o=n+(u?1:-1);u?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Ee(t,e,n){return e==e?function(t,e,n){var u=n-1,r=t.length;for(;++u<r;)if(t[u]===e)return u;return-1}(t,e,n):Ce(t,be,n)}function me(t,e,n,u){for(var r=n-1,o=t.length;++r<o;)if(u(t[r],e))return r;return-1}function be(t){return t!=t}function Fe(t,e){var n=null==t?0:t.length;return n?ke(t,e)/n:NaN}function Be(t){return function(e){return null==e?void 0:e[t]}}function we(t){return function(e){return null==t?void 0:t[e]}}function xe(t,e,n,u,r){return r(t,(function(t,r,o){n=u?(u=!1,t):e(n,t,r,o)})),n}function ke(t,e){for(var n,u=-1,r=t.length;++u<r;){var o=e(t[u]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Se(t,e){for(var n=-1,u=Array(t);++n<t;)u[n]=e(n);return u}function Oe(t){return t?t.slice(0,Ke(t)+1).replace(K,""):t}function je(t){return function(e){return t(e)}}function Pe(t,e){return De(e,(function(e){return t[e]}))}function Re(t,e){return t.has(e)}function Te(t,e){for(var n=-1,u=t.length;++n<u&&Ee(e,t[n],0)>-1;);return n}function Me(t,e){for(var n=t.length;n--&&Ee(e,t[n],0)>-1;);return n}function Ie(t,e){for(var n=t.length,u=0;n--;)t[n]===e&&++u;return u}var ze=we({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ue=we({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Xt[t]}function We(t){return It.test(t)}function Ne(t){var e=-1,n=Array(t.size);return t.forEach((function(t,u){n[++e]=[u,t]})),n}function Xe(t,e){return function(n){return t(e(n))}}function Ye(t,e){for(var n=-1,u=t.length,r=0,o=[];++n<u;){var i=t[n];i!==e&&i!==a||(t[n]=a,o[r++]=n)}return o}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function $e(t){return We(t)?function(t){var e=Tt.lastIndex=0;for(;Tt.test(t);)++e;return e}(t):_e(t)}function Ge(t){return We(t)?function(t){return t.match(Tt)||[]}(t):function(t){return t.split("")}(t)}function Ke(t){for(var e=t.length;e--&&Q.test(t.charAt(e)););return e}var Qe=we({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ve=function t(e){var n,u=(e=null==e?Gt:Ve.defaults(Gt.Object(),e,Ve.pick(Gt,Ut))).Array,r=e.Date,Q=e.Error,pt=e.Function,Dt=e.Math,yt=e.Object,vt=e.RegExp,dt=e.String,gt=e.TypeError,_t=u.prototype,At=pt.prototype,Ct=yt.prototype,Et=e["__core-js_shared__"],mt=At.toString,bt=Ct.hasOwnProperty,Ft=0,Bt=(n=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",wt=Ct.toString,xt=mt.call(yt),kt=Gt._,St=vt("^"+mt.call(bt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=Vt?e.Buffer:void 0,jt=e.Symbol,Tt=e.Uint8Array,It=Ot?Ot.allocUnsafe:void 0,Xt=Xe(yt.getPrototypeOf,yt),qt=yt.create,$t=Ct.propertyIsEnumerable,Kt=_t.splice,Qt=jt?jt.isConcatSpreadable:void 0,Zt=jt?jt.iterator:void 0,Jt=jt?jt.toStringTag:void 0,_e=function(){try{var t=eo(yt,"defineProperty");return t({},"",{}),t}catch(t){}}(),we=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Ze=r&&r.now!==Gt.Date.now&&r.now,Je=e.setTimeout!==Gt.setTimeout&&e.setTimeout,tn=Dt.ceil,en=Dt.floor,nn=yt.getOwnPropertySymbols,un=Ot?Ot.isBuffer:void 0,rn=e.isFinite,on=_t.join,an=Xe(yt.keys,yt),cn=Dt.max,sn=Dt.min,ln=r.now,fn=e.parseInt,hn=Dt.random,pn=_t.reverse,Dn=eo(e,"DataView"),yn=eo(e,"Map"),vn=eo(e,"Promise"),dn=eo(e,"Set"),gn=eo(e,"WeakMap"),_n=eo(yt,"create"),An=gn&&new gn,Cn={},En=ko(Dn),mn=ko(yn),bn=ko(vn),Fn=ko(dn),Bn=ko(gn),wn=jt?jt.prototype:void 0,xn=wn?wn.valueOf:void 0,kn=wn?wn.toString:void 0;function Sn(t){if(qi(t)&&!Ti(t)&&!(t instanceof Rn)){if(t instanceof Pn)return t;if(bt.call(t,"__wrapped__"))return So(t)}return new Pn(t)}var On=function(){function t(){}return function(e){if(!Hi(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function jn(){}function Pn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Rn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new In;++e<n;)this.add(t[e])}function Un(t){var e=this.__data__=new Mn(t);this.size=e.size}function Ln(t,e){var n=Ti(t),u=!n&&Ri(t),r=!n&&!u&&Ui(t),o=!n&&!u&&!r&&ta(t),i=n||u||r||o,a=i?Se(t.length,dt):[],c=a.length;for(var s in t)!e&&!bt.call(t,s)||i&&("length"==s||r&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||co(s,c))||a.push(s);return a}function Wn(t){var e=t.length;return e?t[zu(0,e-1)]:void 0}function Nn(t,e){return Bo(_r(t),Vn(e,0,t.length))}function Xn(t){return Bo(_r(t))}function Yn(t,e,n){(void 0!==n&&!Oi(t[e],n)||void 0===n&&!(e in t))&&Kn(t,e,n)}function Hn(t,e,n){var u=t[e];bt.call(t,e)&&Oi(u,n)&&(void 0!==n||e in t)||Kn(t,e,n)}function qn(t,e){for(var n=t.length;n--;)if(Oi(t[n][0],e))return n;return-1}function $n(t,e,n,u){return nu(t,(function(t,r,o){e(u,t,n(t),o)})),u}function Gn(t,e){return t&&Ar(e,Ea(e),t)}function Kn(t,e,n){"__proto__"==e&&_e?_e(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Qn(t,e){for(var n=-1,r=e.length,o=u(r),i=null==t;++n<r;)o[n]=i?void 0:da(t,e[n]);return o}function Vn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,u,r,o){var i,a=1&e,c=2&e,l=4&e;if(n&&(i=r?n(t,u,r,o):n(t)),void 0!==i)return i;if(!Hi(t))return t;var p=Ti(t);if(p){if(i=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&bt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!a)return _r(t,i)}else{var m=ro(t),R=m==D||m==y;if(Ui(t))return pr(t,a);if(m==g||m==s||R&&!r){if(i=c||R?{}:io(t),!a)return c?function(t,e){return Ar(t,uo(t),e)}(t,function(t,e){return t&&Ar(e,ma(e),t)}(i,t)):function(t,e){return Ar(t,no(t),e)}(t,Gn(i,t))}else{if(!Nt[m])return r?t:{};i=function(t,e,n){var u=t.constructor;switch(e){case b:return Dr(t);case f:case h:return new u(+t);case F:return function(t,e){var n=e?Dr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case B:case w:case x:case k:case S:case O:case"[object Uint8ClampedArray]":case j:case P:return yr(t,n);case v:return new u;case d:case C:return new u(t);case _:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new u;case E:return r=t,xn?yt(xn.call(r)):{}}var r}(t,m,a)}}o||(o=new Un);var T=o.get(t);if(T)return T;o.set(t,i),Vi(t)?t.forEach((function(u){i.add(Zn(u,e,n,u,t,o))})):$i(t)&&t.forEach((function(u,r){i.set(r,Zn(u,e,n,r,t,o))}));var M=p?void 0:(l?c?Gr:$r:c?ma:Ea)(t);return ce(M||t,(function(u,r){M&&(u=t[r=u]),Hn(i,r,Zn(u,e,n,r,t,o))})),i}function Jn(t,e,n){var u=n.length;if(null==t)return!u;for(t=yt(t);u--;){var r=n[u],o=e[r],i=t[r];if(void 0===i&&!(r in t)||!o(i))return!1}return!0}function tu(t,e,n){if("function"!=typeof t)throw new gt(i);return Eo((function(){t.apply(void 0,n)}),e)}function eu(t,e,n,u){var r=-1,o=he,i=!0,a=t.length,c=[],s=e.length;if(!a)return c;n&&(e=De(e,je(n))),u?(o=pe,i=!1):e.length>=200&&(o=Re,i=!1,e=new zn(e));t:for(;++r<a;){var l=t[r],f=null==n?l:n(l);if(l=u||0!==l?l:0,i&&f==f){for(var h=s;h--;)if(e[h]===f)continue t;c.push(l)}else o(e,f,u)||c.push(l)}return c}Sn.templateSettings={escape:W,evaluate:N,interpolate:X,variable:"",imports:{_:Sn}},Sn.prototype=jn.prototype,Sn.prototype.constructor=Sn,Pn.prototype=On(jn.prototype),Pn.prototype.constructor=Pn,Rn.prototype=On(jn.prototype),Rn.prototype.constructor=Rn,Tn.prototype.clear=function(){this.__data__=_n?_n(null):{},this.size=0},Tn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Tn.prototype.get=function(t){var e=this.__data__;if(_n){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return bt.call(e,t)?e[t]:void 0},Tn.prototype.has=function(t){var e=this.__data__;return _n?void 0!==e[t]:bt.call(e,t)},Tn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_n&&void 0===e?"__lodash_hash_undefined__":e,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=qn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Mn.prototype.get=function(t){var e=this.__data__,n=qn(e,t);return n<0?void 0:e[n][1]},Mn.prototype.has=function(t){return qn(this.__data__,t)>-1},Mn.prototype.set=function(t,e){var n=this.__data__,u=qn(n,t);return u<0?(++this.size,n.push([t,e])):n[u][1]=e,this},In.prototype.clear=function(){this.size=0,this.__data__={hash:new Tn,map:new(yn||Mn),string:new Tn}},In.prototype.delete=function(t){var e=Jr(this,t).delete(t);return this.size-=e?1:0,e},In.prototype.get=function(t){return Jr(this,t).get(t)},In.prototype.has=function(t){return Jr(this,t).has(t)},In.prototype.set=function(t,e){var n=Jr(this,t),u=n.size;return n.set(t,e),this.size+=n.size==u?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},zn.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.clear=function(){this.__data__=new Mn,this.size=0},Un.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Un.prototype.get=function(t){return this.__data__.get(t)},Un.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mn){var u=n.__data__;if(!yn||u.length<199)return u.push([t,e]),this.size=++n.size,this;n=this.__data__=new In(u)}return n.set(t,e),this.size=n.size,this};var nu=mr(lu),uu=mr(fu,!0);function ru(t,e){var n=!0;return nu(t,(function(t,u,r){return n=!!e(t,u,r)})),n}function ou(t,e,n){for(var u=-1,r=t.length;++u<r;){var o=t[u],i=e(o);if(null!=i&&(void 0===a?i==i&&!Ji(i):n(i,a)))var a=i,c=o}return c}function iu(t,e){var n=[];return nu(t,(function(t,u,r){e(t,u,r)&&n.push(t)})),n}function au(t,e,n,u,r){var o=-1,i=t.length;for(n||(n=ao),r||(r=[]);++o<i;){var a=t[o];e>0&&n(a)?e>1?au(a,e-1,n,u,r):ye(r,a):u||(r[r.length]=a)}return r}var cu=br(),su=br(!0);function lu(t,e){return t&&cu(t,e,Ea)}function fu(t,e){return t&&su(t,e,Ea)}function hu(t,e){return fe(e,(function(e){return Ni(t[e])}))}function pu(t,e){for(var n=0,u=(e=sr(e,t)).length;null!=t&&n<u;)t=t[xo(e[n++])];return n&&n==u?t:void 0}function Du(t,e,n){var u=e(t);return Ti(t)?u:ye(u,n(t))}function yu(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Jt&&Jt in yt(t)?function(t){var e=bt.call(t,Jt),n=t[Jt];try{t[Jt]=void 0;var u=!0}catch(t){}var r=wt.call(t);u&&(e?t[Jt]=n:delete t[Jt]);return r}(t):function(t){return wt.call(t)}(t)}function vu(t,e){return t>e}function du(t,e){return null!=t&&bt.call(t,e)}function gu(t,e){return null!=t&&e in yt(t)}function _u(t,e,n){for(var r=n?pe:he,o=t[0].length,i=t.length,a=i,c=u(i),s=1/0,l=[];a--;){var f=t[a];a&&e&&(f=De(f,je(e))),s=sn(f.length,s),c[a]=!n&&(e||o>=120&&f.length>=120)?new zn(a&&f):void 0}f=t[0];var h=-1,p=c[0];t:for(;++h<o&&l.length<s;){var D=f[h],y=e?e(D):D;if(D=n||0!==D?D:0,!(p?Re(p,y):r(l,y,n))){for(a=i;--a;){var v=c[a];if(!(v?Re(v,y):r(t[a],y,n)))continue t}p&&p.push(y),l.push(D)}}return l}function Au(t,e,n){var u=null==(t=go(t,e=sr(e,t)))?t:t[xo(Wo(e))];return null==u?void 0:ie(u,t,n)}function Cu(t){return qi(t)&&yu(t)==s}function Eu(t,e,n,u,r){return t===e||(null==t||null==e||!qi(t)&&!qi(e)?t!=t&&e!=e:function(t,e,n,u,r,o){var i=Ti(t),a=Ti(e),c=i?l:ro(t),D=a?l:ro(e),y=(c=c==s?g:c)==g,m=(D=D==s?g:D)==g,B=c==D;if(B&&Ui(t)){if(!Ui(e))return!1;i=!0,y=!1}if(B&&!y)return o||(o=new Un),i||ta(t)?Hr(t,e,n,u,r,o):function(t,e,n,u,r,o,i){switch(n){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!o(new Tt(t),new Tt(e)));case f:case h:case d:return Oi(+t,+e);case p:return t.name==e.name&&t.message==e.message;case _:case C:return t==e+"";case v:var a=Ne;case A:var c=1&u;if(a||(a=He),t.size!=e.size&&!c)return!1;var s=i.get(t);if(s)return s==e;u|=2,i.set(t,e);var l=Hr(a(t),a(e),u,r,o,i);return i.delete(t),l;case E:if(xn)return xn.call(t)==xn.call(e)}return!1}(t,e,c,n,u,r,o);if(!(1&n)){var w=y&&bt.call(t,"__wrapped__"),x=m&&bt.call(e,"__wrapped__");if(w||x){var k=w?t.value():t,S=x?e.value():e;return o||(o=new Un),r(k,S,n,u,o)}}if(!B)return!1;return o||(o=new Un),function(t,e,n,u,r,o){var i=1&n,a=$r(t),c=a.length,s=$r(e).length;if(c!=s&&!i)return!1;var l=c;for(;l--;){var f=a[l];if(!(i?f in e:bt.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var D=!0;o.set(t,e),o.set(e,t);var y=i;for(;++l<c;){f=a[l];var v=t[f],d=e[f];if(u)var g=i?u(d,v,f,e,t,o):u(v,d,f,t,e,o);if(!(void 0===g?v===d||r(v,d,n,u,o):g)){D=!1;break}y||(y="constructor"==f)}if(D&&!y){var _=t.constructor,A=e.constructor;_==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof A&&A instanceof A||(D=!1)}return o.delete(t),o.delete(e),D}(t,e,n,u,r,o)}(t,e,n,u,Eu,r))}function mu(t,e,n,u){var r=n.length,o=r,i=!u;if(null==t)return!o;for(t=yt(t);r--;){var a=n[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var c=(a=n[r])[0],s=t[c],l=a[1];if(i&&a[2]){if(void 0===s&&!(c in t))return!1}else{var f=new Un;if(u)var h=u(s,l,c,t,e,f);if(!(void 0===h?Eu(l,s,3,u,f):h))return!1}}return!0}function bu(t){return!(!Hi(t)||(e=t,Bt&&Bt in e))&&(Ni(t)?St:at).test(ko(t));var e}function Fu(t){return"function"==typeof t?t:null==t?Ga:"object"==o(t)?Ti(t)?Ou(t[0],t[1]):Su(t):uc(t)}function Bu(t){if(!po(t))return an(t);var e=[];for(var n in yt(t))bt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function wu(t){if(!Hi(t))return function(t){var e=[];if(null!=t)for(var n in yt(t))e.push(n);return e}(t);var e=po(t),n=[];for(var u in t)("constructor"!=u||!e&&bt.call(t,u))&&n.push(u);return n}function xu(t,e){return t<e}function ku(t,e){var n=-1,r=Ii(t)?u(t.length):[];return nu(t,(function(t,u,o){r[++n]=e(t,u,o)})),r}function Su(t){var e=to(t);return 1==e.length&&e[0][2]?yo(e[0][0],e[0][1]):function(n){return n===t||mu(n,t,e)}}function Ou(t,e){return lo(t)&&Do(e)?yo(xo(t),e):function(n){var u=da(n,t);return void 0===u&&u===e?ga(n,t):Eu(e,u,3)}}function ju(t,e,n,u,r){t!==e&&cu(e,(function(o,i){if(r||(r=new Un),Hi(o))!function(t,e,n,u,r,o,i){var a=Ao(t,n),c=Ao(e,n),s=i.get(c);if(s)return void Yn(t,n,s);var l=o?o(a,c,n+"",t,e,i):void 0,f=void 0===l;if(f){var h=Ti(c),p=!h&&Ui(c),D=!h&&!p&&ta(c);l=c,h||p||D?Ti(a)?l=a:zi(a)?l=_r(a):p?(f=!1,l=pr(c,!0)):D?(f=!1,l=yr(c,!0)):l=[]:Ki(c)||Ri(c)?(l=a,Ri(a)?l=ca(a):Hi(a)&&!Ni(a)||(l=io(c))):f=!1}f&&(i.set(c,l),r(l,c,u,o,i),i.delete(c));Yn(t,n,l)}(t,e,i,n,ju,u,r);else{var a=u?u(Ao(t,i),o,i+"",t,e,r):void 0;void 0===a&&(a=o),Yn(t,i,a)}}),ma)}function Pu(t,e){var n=t.length;if(n)return co(e+=e<0?n:0,n)?t[e]:void 0}function Ru(t,e,n){e=e.length?De(e,(function(t){return Ti(t)?function(e){return pu(e,1===t.length?t[0]:t)}:t})):[Ga];var u=-1;return e=De(e,je(Zr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ku(t,(function(t,n,r){return{criteria:De(e,(function(e){return e(t)})),index:++u,value:t}})),(function(t,e){return function(t,e,n){var u=-1,r=t.criteria,o=e.criteria,i=r.length,a=n.length;for(;++u<i;){var c=vr(r[u],o[u]);if(c){if(u>=a)return c;var s=n[u];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function Tu(t,e,n){for(var u=-1,r=e.length,o={};++u<r;){var i=e[u],a=pu(t,i);n(a,i)&&Xu(o,sr(i,t),a)}return o}function Mu(t,e,n,u){var r=u?me:Ee,o=-1,i=e.length,a=t;for(t===e&&(e=_r(e)),n&&(a=De(t,je(n)));++o<i;)for(var c=0,s=e[o],l=n?n(s):s;(c=r(a,l,c,u))>-1;)a!==t&&Kt.call(a,c,1),Kt.call(t,c,1);return t}function Iu(t,e){for(var n=t?e.length:0,u=n-1;n--;){var r=e[n];if(n==u||r!==o){var o=r;co(r)?Kt.call(t,r,1):er(t,r)}}return t}function zu(t,e){return t+en(hn()*(e-t+1))}function Uu(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=en(e/2))&&(t+=t)}while(e);return n}function Lu(t,e){return mo(vo(t,e,Ga),t+"")}function Wu(t){return Wn(Oa(t))}function Nu(t,e){var n=Oa(t);return Bo(n,Vn(e,0,n.length))}function Xu(t,e,n,u){if(!Hi(t))return t;for(var r=-1,o=(e=sr(e,t)).length,i=o-1,a=t;null!=a&&++r<o;){var c=xo(e[r]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=i){var l=a[c];void 0===(s=u?u(l,c,a):void 0)&&(s=Hi(l)?l:co(e[r+1])?[]:{})}Hn(a,c,s),a=a[c]}return t}var Yu=An?function(t,e){return An.set(t,e),t}:Ga,Hu=_e?function(t,e){return _e(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:Ga;function qu(t){return Bo(Oa(t))}function $u(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=u(o);++r<o;)i[r]=t[r+e];return i}function Gu(t,e){var n;return nu(t,(function(t,u,r){return!(n=e(t,u,r))})),!!n}function Ku(t,e,n){var u=0,r=null==t?u:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;u<r;){var o=u+r>>>1,i=t[o];null!==i&&!Ji(i)&&(n?i<=e:i<e)?u=o+1:r=o}return r}return Qu(t,e,Ga,n)}function Qu(t,e,n,u){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var i=(e=n(e))!=e,a=null===e,c=Ji(e),s=void 0===e;r<o;){var l=en((r+o)/2),f=n(t[l]),h=void 0!==f,p=null===f,D=f==f,y=Ji(f);if(i)var v=u||D;else v=s?D&&(u||h):a?D&&h&&(u||!p):c?D&&h&&!p&&(u||!y):!p&&!y&&(u?f<=e:f<e);v?r=l+1:o=l}return sn(o,4294967294)}function Vu(t,e){for(var n=-1,u=t.length,r=0,o=[];++n<u;){var i=t[n],a=e?e(i):i;if(!n||!Oi(a,c)){var c=a;o[r++]=0===i?0:i}}return o}function Zu(t){return"number"==typeof t?t:Ji(t)?NaN:+t}function Ju(t){if("string"==typeof t)return t;if(Ti(t))return De(t,Ju)+"";if(Ji(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function tr(t,e,n){var u=-1,r=he,o=t.length,i=!0,a=[],c=a;if(n)i=!1,r=pe;else if(o>=200){var s=e?null:Ur(t);if(s)return He(s);i=!1,r=Re,c=new zn}else c=e?[]:a;t:for(;++u<o;){var l=t[u],f=e?e(l):l;if(l=n||0!==l?l:0,i&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),a.push(l)}else r(c,f,n)||(c!==a&&c.push(f),a.push(l))}return a}function er(t,e){return null==(t=go(t,e=sr(e,t)))||delete t[xo(Wo(e))]}function nr(t,e,n,u){return Xu(t,e,n(pu(t,e)),u)}function ur(t,e,n,u){for(var r=t.length,o=u?r:-1;(u?o--:++o<r)&&e(t[o],o,t););return n?$u(t,u?0:o,u?o+1:r):$u(t,u?o+1:0,u?r:o)}function rr(t,e){var n=t;return n instanceof Rn&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,ye([t],e.args))}),n)}function or(t,e,n){var r=t.length;if(r<2)return r?tr(t[0]):[];for(var o=-1,i=u(r);++o<r;)for(var a=t[o],c=-1;++c<r;)c!=o&&(i[o]=eu(i[o]||a,t[c],e,n));return tr(au(i,1),e,n)}function ir(t,e,n){for(var u=-1,r=t.length,o=e.length,i={};++u<r;){var a=u<o?e[u]:void 0;n(i,t[u],a)}return i}function ar(t){return zi(t)?t:[]}function cr(t){return"function"==typeof t?t:Ga}function sr(t,e){return Ti(t)?t:lo(t,e)?[t]:wo(sa(t))}var lr=Lu;function fr(t,e,n){var u=t.length;return n=void 0===n?u:n,!e&&n>=u?t:$u(t,e,n)}var hr=we||function(t){return Gt.clearTimeout(t)};function pr(t,e){if(e)return t.slice();var n=t.length,u=It?It(n):new t.constructor(n);return t.copy(u),u}function Dr(t){var e=new t.constructor(t.byteLength);return new Tt(e).set(new Tt(t)),e}function yr(t,e){var n=e?Dr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function vr(t,e){if(t!==e){var n=void 0!==t,u=null===t,r=t==t,o=Ji(t),i=void 0!==e,a=null===e,c=e==e,s=Ji(e);if(!a&&!s&&!o&&t>e||o&&i&&c&&!a&&!s||u&&i&&c||!n&&c||!r)return 1;if(!u&&!o&&!s&&t<e||s&&n&&r&&!u&&!o||a&&n&&r||!i&&r||!c)return-1}return 0}function dr(t,e,n,r){for(var o=-1,i=t.length,a=n.length,c=-1,s=e.length,l=cn(i-a,0),f=u(s+l),h=!r;++c<s;)f[c]=e[c];for(;++o<a;)(h||o<i)&&(f[n[o]]=t[o]);for(;l--;)f[c++]=t[o++];return f}function gr(t,e,n,r){for(var o=-1,i=t.length,a=-1,c=n.length,s=-1,l=e.length,f=cn(i-c,0),h=u(f+l),p=!r;++o<f;)h[o]=t[o];for(var D=o;++s<l;)h[D+s]=e[s];for(;++a<c;)(p||o<i)&&(h[D+n[a]]=t[o++]);return h}function _r(t,e){var n=-1,r=t.length;for(e||(e=u(r));++n<r;)e[n]=t[n];return e}function Ar(t,e,n,u){var r=!n;n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=u?u(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),r?Kn(n,a,c):Hn(n,a,c)}return n}function Cr(t,e){return function(n,u){var r=Ti(n)?ae:$n,o=e?e():{};return r(n,t,Zr(u,2),o)}}function Er(t){return Lu((function(e,n){var u=-1,r=n.length,o=r>1?n[r-1]:void 0,i=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,i&&so(n[0],n[1],i)&&(o=r<3?void 0:o,r=1),e=yt(e);++u<r;){var a=n[u];a&&t(e,a,u,o)}return e}))}function mr(t,e){return function(n,u){if(null==n)return n;if(!Ii(n))return t(n,u);for(var r=n.length,o=e?r:-1,i=yt(n);(e?o--:++o<r)&&!1!==u(i[o],o,i););return n}}function br(t){return function(e,n,u){for(var r=-1,o=yt(e),i=u(e),a=i.length;a--;){var c=i[t?a:++r];if(!1===n(o[c],c,o))break}return e}}function Fr(t){return function(e){var n=We(e=sa(e))?Ge(e):void 0,u=n?n[0]:e.charAt(0),r=n?fr(n,1).join(""):e.slice(1);return u[t]()+r}}function Br(t){return function(e){return ve(Na(Ra(e).replace(Pt,"")),t,"")}}function wr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=On(t.prototype),u=t.apply(n,e);return Hi(u)?u:n}}function xr(t){return function(e,n,u){var r=yt(e);if(!Ii(e)){var o=Zr(n,3);e=Ea(e),n=function(t){return o(r[t],t,r)}}var i=t(e,n,u);return i>-1?r[o?e[i]:i]:void 0}}function kr(t){return qr((function(e){var n=e.length,u=n,r=Pn.prototype.thru;for(t&&e.reverse();u--;){var o=e[u];if("function"!=typeof o)throw new gt(i);if(r&&!a&&"wrapper"==Qr(o))var a=new Pn([],!0)}for(u=a?u:n;++u<n;){var c=Qr(o=e[u]),s="wrapper"==c?Kr(o):void 0;a=s&&fo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Qr(s[0])].apply(a,s[3]):1==o.length&&fo(o)?a[c]():a.thru(o)}return function(){var t=arguments,u=t[0];if(a&&1==t.length&&Ti(u))return a.plant(u).value();for(var r=0,o=n?e[r].apply(this,t):u;++r<n;)o=e[r].call(this,o);return o}}))}function Sr(t,e,n,r,o,i,a,c,s,l){var f=128&e,h=1&e,p=2&e,D=24&e,y=512&e,v=p?void 0:wr(t);return function d(){for(var g=arguments.length,_=u(g),A=g;A--;)_[A]=arguments[A];if(D)var C=Vr(d),E=Ie(_,C);if(r&&(_=dr(_,r,o,D)),i&&(_=gr(_,i,a,D)),g-=E,D&&g<l){var m=Ye(_,C);return Ir(t,e,Sr,d.placeholder,n,_,m,c,s,l-g)}var b=h?n:this,F=p?b[t]:t;return g=_.length,c?_=_o(_,c):y&&g>1&&_.reverse(),f&&s<g&&(_.length=s),this&&this!==Gt&&this instanceof d&&(F=v||wr(F)),F.apply(b,_)}}function Or(t,e){return function(n,u){return function(t,e,n,u){return lu(t,(function(t,r,o){e(u,n(t),r,o)})),u}(n,t,e(u),{})}}function jr(t,e){return function(n,u){var r;if(void 0===n&&void 0===u)return e;if(void 0!==n&&(r=n),void 0!==u){if(void 0===r)return u;"string"==typeof n||"string"==typeof u?(n=Ju(n),u=Ju(u)):(n=Zu(n),u=Zu(u)),r=t(n,u)}return r}}function Pr(t){return qr((function(e){return e=De(e,je(Zr())),Lu((function(n){var u=this;return t(e,(function(t){return ie(t,u,n)}))}))}))}function Rr(t,e){var n=(e=void 0===e?" ":Ju(e)).length;if(n<2)return n?Uu(e,t):e;var u=Uu(e,tn(t/$e(e)));return We(e)?fr(Ge(u),0,t).join(""):u.slice(0,t)}function Tr(t){return function(e,n,r){return r&&"number"!=typeof r&&so(e,n,r)&&(n=r=void 0),e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n,r){for(var o=-1,i=cn(tn((e-t)/(n||1)),0),a=u(i);i--;)a[r?i:++o]=t,t+=n;return a}(e,n,r=void 0===r?e<n?1:-1:ra(r),t)}}function Mr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=aa(e),n=aa(n)),t(e,n)}}function Ir(t,e,n,u,r,o,i,a,c,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,r,l?o:void 0,l?i:void 0,l?void 0:o,l?void 0:i,a,c,s],h=n.apply(void 0,f);return fo(t)&&Co(h,f),h.placeholder=u,bo(h,t,e)}function zr(t){var e=Dt[t];return function(t,n){if(t=aa(t),(n=null==n?0:sn(oa(n),292))&&rn(t)){var u=(sa(t)+"e").split("e");return+((u=(sa(e(u[0]+"e"+(+u[1]+n)))+"e").split("e"))[0]+"e"+(+u[1]-n))}return e(t)}}var Ur=dn&&1/He(new dn([,-0]))[1]==1/0?function(t){return new dn(t)}:Ja;function Lr(t){return function(e){var n=ro(e);return n==v?Ne(e):n==A?qe(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wr(t,e,n,r,o,c,s,l){var f=2&e;if(!f&&"function"!=typeof t)throw new gt(i);var h=r?r.length:0;if(h||(e&=-97,r=o=void 0),s=void 0===s?s:cn(oa(s),0),l=void 0===l?l:oa(l),h-=o?o.length:0,64&e){var p=r,D=o;r=o=void 0}var y=f?void 0:Kr(t),v=[t,e,n,r,o,p,D,c,s,l];if(y&&function(t,e){var n=t[1],u=e[1],r=n|u,o=r<131,i=128==u&&8==n||128==u&&256==n&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==n;if(!o&&!i)return t;1&u&&(t[2]=e[2],r|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?dr(s,c,e[4]):c,t[4]=s?Ye(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?gr(s,c,e[6]):c,t[6]=s?Ye(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&u&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(v,y),t=v[0],e=v[1],n=v[2],r=v[3],o=v[4],!(l=v[9]=void 0===v[9]?f?0:t.length:cn(v[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)d=8==e||16==e?function(t,e,n){var r=wr(t);return function o(){for(var i=arguments.length,a=u(i),c=i,s=Vr(o);c--;)a[c]=arguments[c];var l=i<3&&a[0]!==s&&a[i-1]!==s?[]:Ye(a,s);if((i-=l.length)<n)return Ir(t,e,Sr,o.placeholder,void 0,a,l,void 0,void 0,n-i);var f=this&&this!==Gt&&this instanceof o?r:t;return ie(f,this,a)}}(t,e,l):32!=e&&33!=e||o.length?Sr.apply(void 0,v):function(t,e,n,r){var o=1&e,i=wr(t);return function e(){for(var a=-1,c=arguments.length,s=-1,l=r.length,f=u(l+c),h=this&&this!==Gt&&this instanceof e?i:t;++s<l;)f[s]=r[s];for(;c--;)f[s++]=arguments[++a];return ie(h,o?n:this,f)}}(t,e,n,r);else var d=function(t,e,n){var u=1&e,r=wr(t);return function e(){var o=this&&this!==Gt&&this instanceof e?r:t;return o.apply(u?n:this,arguments)}}(t,e,n);return bo((y?Yu:Co)(d,v),t,e)}function Nr(t,e,n,u){return void 0===t||Oi(t,Ct[n])&&!bt.call(u,n)?e:t}function Xr(t,e,n,u,r,o){return Hi(t)&&Hi(e)&&(o.set(e,t),ju(t,e,void 0,Xr,o),o.delete(e)),t}function Yr(t){return Ki(t)?void 0:t}function Hr(t,e,n,u,r,o){var i=1&n,a=t.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var s=o.get(t),l=o.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,p=2&n?new zn:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var D=t[f],y=e[f];if(u)var v=i?u(y,D,f,e,t,o):u(D,y,f,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!ge(e,(function(t,e){if(!Re(p,e)&&(D===t||r(D,t,n,u,o)))return p.push(e)}))){h=!1;break}}else if(D!==y&&!r(D,y,n,u,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function qr(t){return mo(vo(t,void 0,Mo),t+"")}function $r(t){return Du(t,Ea,no)}function Gr(t){return Du(t,ma,uo)}var Kr=An?function(t){return An.get(t)}:Ja;function Qr(t){for(var e=t.name+"",n=Cn[e],u=bt.call(Cn,e)?n.length:0;u--;){var r=n[u],o=r.func;if(null==o||o==t)return r.name}return e}function Vr(t){return(bt.call(Sn,"placeholder")?Sn:t).placeholder}function Zr(){var t=Sn.iteratee||Ka;return t=t===Ka?Fu:t,arguments.length?t(arguments[0],arguments[1]):t}function Jr(t,e){var n,u,r=t.__data__;return("string"==(u=o(n=e))||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function to(t){for(var e=Ea(t),n=e.length;n--;){var u=e[n],r=t[u];e[n]=[u,r,Do(r)]}return e}function eo(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return bu(n)?n:void 0}var no=nn?function(t){return null==t?[]:(t=yt(t),fe(nn(t),(function(e){return $t.call(t,e)})))}:ic,uo=nn?function(t){for(var e=[];t;)ye(e,no(t)),t=Xt(t);return e}:ic,ro=yu;function oo(t,e,n){for(var u=-1,r=(e=sr(e,t)).length,o=!1;++u<r;){var i=xo(e[u]);if(!(o=null!=t&&n(t,i)))break;t=t[i]}return o||++u!=r?o:!!(r=null==t?0:t.length)&&Yi(r)&&co(i,r)&&(Ti(t)||Ri(t))}function io(t){return"function"!=typeof t.constructor||po(t)?{}:On(Xt(t))}function ao(t){return Ti(t)||Ri(t)||!!(Qt&&t&&t[Qt])}function co(t,e){var n=o(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Hi(n))return!1;var u=o(e);return!!("number"==u?Ii(n)&&co(e,n.length):"string"==u&&e in n)&&Oi(n[e],t)}function lo(t,e){if(Ti(t))return!1;var n=o(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ji(t))||(H.test(t)||!Y.test(t)||null!=e&&t in yt(e))}function fo(t){var e=Qr(t),n=Sn[e];if("function"!=typeof n||!(e in Rn.prototype))return!1;if(t===n)return!0;var u=Kr(n);return!!u&&t===u[0]}(Dn&&ro(new Dn(new ArrayBuffer(1)))!=F||yn&&ro(new yn)!=v||vn&&"[object Promise]"!=ro(vn.resolve())||dn&&ro(new dn)!=A||gn&&ro(new gn)!=m)&&(ro=function(t){var e=yu(t),n=e==g?t.constructor:void 0,u=n?ko(n):"";if(u)switch(u){case En:return F;case mn:return v;case bn:return"[object Promise]";case Fn:return A;case Bn:return m}return e});var ho=Et?Ni:ac;function po(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ct)}function Do(t){return t==t&&!Hi(t)}function yo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in yt(n)))}}function vo(t,e,n){return e=cn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=cn(r.length-e,0),a=u(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=u(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),ie(t,this,c)}}function go(t,e){return e.length<2?t:pu(t,$u(e,0,-1))}function _o(t,e){for(var n=t.length,u=sn(e.length,n),r=_r(t);u--;){var o=e[u];t[u]=co(o,n)?r[o]:void 0}return t}function Ao(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Co=Fo(Yu),Eo=Je||function(t,e){return Gt.setTimeout(t,e)},mo=Fo(Hu);function bo(t,e,n){var u=e+"";return mo(t,function(t,e){var n=e.length;if(!n)return t;var u=n-1;return e[u]=(n>1?"& ":"")+e[u],e=e.join(n>2?", ":" "),t.replace(V,"{\n/* [wrapped with "+e+"] */\n")}(u,function(t,e){return ce(c,(function(n){var u="_."+n[0];e&n[1]&&!he(t,u)&&t.push(u)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(J):[]}(u),n)))}function Fo(t){var e=0,n=0;return function(){var u=ln(),r=16-(u-n);if(n=u,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Bo(t,e){var n=-1,u=t.length,r=u-1;for(e=void 0===e?u:e;++n<e;){var o=zu(n,r),i=t[o];t[o]=t[n],t[n]=i}return t.length=e,t}var wo=function(t){var e=Fi(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,n,u,r){e.push(u?r.replace(nt,"$1"):n||t)})),e}));function xo(t){if("string"==typeof t||Ji(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ko(t){if(null!=t){try{return mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function So(t){if(t instanceof Rn)return t.clone();var e=new Pn(t.__wrapped__,t.__chain__);return e.__actions__=_r(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Oo=Lu((function(t,e){return zi(t)?eu(t,au(e,1,zi,!0)):[]})),jo=Lu((function(t,e){var n=Wo(e);return zi(n)&&(n=void 0),zi(t)?eu(t,au(e,1,zi,!0),Zr(n,2)):[]})),Po=Lu((function(t,e){var n=Wo(e);return zi(n)&&(n=void 0),zi(t)?eu(t,au(e,1,zi,!0),void 0,n):[]}));function Ro(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=null==n?0:oa(n);return r<0&&(r=cn(u+r,0)),Ce(t,Zr(e,3),r)}function To(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=u-1;return void 0!==n&&(r=oa(n),r=n<0?cn(u+r,0):sn(r,u-1)),Ce(t,Zr(e,3),r,!0)}function Mo(t){return(null==t?0:t.length)?au(t,1):[]}function Io(t){return t&&t.length?t[0]:void 0}var zo=Lu((function(t){var e=De(t,ar);return e.length&&e[0]===t[0]?_u(e):[]})),Uo=Lu((function(t){var e=Wo(t),n=De(t,ar);return e===Wo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?_u(n,Zr(e,2)):[]})),Lo=Lu((function(t){var e=Wo(t),n=De(t,ar);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?_u(n,void 0,e):[]}));function Wo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var No=Lu(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Mu(t,e):t}var Yo=qr((function(t,e){var n=null==t?0:t.length,u=Qn(t,e);return Iu(t,De(e,(function(t){return co(t,n)?+t:t})).sort(vr)),u}));function Ho(t){return null==t?t:pn.call(t)}var qo=Lu((function(t){return tr(au(t,1,zi,!0))})),$o=Lu((function(t){var e=Wo(t);return zi(e)&&(e=void 0),tr(au(t,1,zi,!0),Zr(e,2))})),Go=Lu((function(t){var e=Wo(t);return e="function"==typeof e?e:void 0,tr(au(t,1,zi,!0),void 0,e)}));function Ko(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(zi(t))return e=cn(t.length,e),!0})),Se(e,(function(e){return De(t,Be(e))}))}function Qo(t,e){if(!t||!t.length)return[];var n=Ko(t);return null==e?n:De(n,(function(t){return ie(e,void 0,t)}))}var Vo=Lu((function(t,e){return zi(t)?eu(t,e):[]})),Zo=Lu((function(t){return or(fe(t,zi))})),Jo=Lu((function(t){var e=Wo(t);return zi(e)&&(e=void 0),or(fe(t,zi),Zr(e,2))})),ti=Lu((function(t){var e=Wo(t);return e="function"==typeof e?e:void 0,or(fe(t,zi),void 0,e)})),ei=Lu(Ko);var ni=Lu((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Qo(t,n)}));function ui(t){var e=Sn(t);return e.__chain__=!0,e}function ri(t,e){return e(t)}var oi=qr((function(t){var e=t.length,n=e?t[0]:0,u=this.__wrapped__,r=function(e){return Qn(e,t)};return!(e>1||this.__actions__.length)&&u instanceof Rn&&co(n)?((u=u.slice(n,+n+(e?1:0))).__actions__.push({func:ri,args:[r],thisArg:void 0}),new Pn(u,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var ii=Cr((function(t,e,n){bt.call(t,n)?++t[n]:Kn(t,n,1)}));var ai=xr(Ro),ci=xr(To);function si(t,e){return(Ti(t)?ce:nu)(t,Zr(e,3))}function li(t,e){return(Ti(t)?se:uu)(t,Zr(e,3))}var fi=Cr((function(t,e,n){bt.call(t,n)?t[n].push(e):Kn(t,n,[e])}));var hi=Lu((function(t,e,n){var r=-1,o="function"==typeof e,i=Ii(t)?u(t.length):[];return nu(t,(function(t){i[++r]=o?ie(e,t,n):Au(t,e,n)})),i})),pi=Cr((function(t,e,n){Kn(t,n,e)}));function Di(t,e){return(Ti(t)?De:ku)(t,Zr(e,3))}var yi=Cr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var vi=Lu((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Ru(t,au(e,1),[])})),di=Ze||function(){return Gt.Date.now()};function gi(t,e,n){return e=n?void 0:e,Wr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function _i(t,e){var n;if("function"!=typeof e)throw new gt(i);return t=oa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Ai=Lu((function(t,e,n){var u=1;if(n.length){var r=Ye(n,Vr(Ai));u|=32}return Wr(t,u,e,n,r)})),Ci=Lu((function(t,e,n){var u=3;if(n.length){var r=Ye(n,Vr(Ci));u|=32}return Wr(e,u,t,n,r)}));function Ei(t,e,n){var u,r,o,a,c,s,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(i);function D(e){var n=u,o=r;return u=r=void 0,l=e,a=t.apply(o,n)}function y(t){return l=t,c=Eo(d,e),f?D(t):a}function v(t){var n=t-s;return void 0===s||n>=e||n<0||h&&t-l>=o}function d(){var t=di();if(v(t))return g(t);c=Eo(d,function(t){var n=e-(t-s);return h?sn(n,o-(t-l)):n}(t))}function g(t){return c=void 0,p&&u?D(t):(u=r=void 0,a)}function _(){var t=di(),n=v(t);if(u=arguments,r=this,s=t,n){if(void 0===c)return y(s);if(h)return hr(c),c=Eo(d,e),D(s)}return void 0===c&&(c=Eo(d,e)),a}return e=aa(e)||0,Hi(n)&&(f=!!n.leading,o=(h="maxWait"in n)?cn(aa(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==c&&hr(c),l=0,u=s=r=c=void 0},_.flush=function(){return void 0===c?a:g(di())},_}var mi=Lu((function(t,e){return tu(t,1,e)})),bi=Lu((function(t,e,n){return tu(t,aa(e)||0,n)}));function Fi(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(i);var n=function n(){var u=arguments,r=e?e.apply(this,u):u[0],o=n.cache;if(o.has(r))return o.get(r);var i=t.apply(this,u);return n.cache=o.set(r,i)||o,i};return n.cache=new(Fi.Cache||In),n}function Bi(t){if("function"!=typeof t)throw new gt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Fi.Cache=In;var wi=lr((function(t,e){var n=(e=1==e.length&&Ti(e[0])?De(e[0],je(Zr())):De(au(e,1),je(Zr()))).length;return Lu((function(u){for(var r=-1,o=sn(u.length,n);++r<o;)u[r]=e[r].call(this,u[r]);return ie(t,this,u)}))})),xi=Lu((function(t,e){return Wr(t,32,void 0,e,Ye(e,Vr(xi)))})),ki=Lu((function(t,e){return Wr(t,64,void 0,e,Ye(e,Vr(ki)))})),Si=qr((function(t,e){return Wr(t,256,void 0,void 0,void 0,e)}));function Oi(t,e){return t===e||t!=t&&e!=e}var ji=Mr(vu),Pi=Mr((function(t,e){return t>=e})),Ri=Cu(function(){return arguments}())?Cu:function(t){return qi(t)&&bt.call(t,"callee")&&!$t.call(t,"callee")},Ti=u.isArray,Mi=te?je(te):function(t){return qi(t)&&yu(t)==b};function Ii(t){return null!=t&&Yi(t.length)&&!Ni(t)}function zi(t){return qi(t)&&Ii(t)}var Ui=un||ac,Li=ee?je(ee):function(t){return qi(t)&&yu(t)==h};function Wi(t){if(!qi(t))return!1;var e=yu(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ki(t)}function Ni(t){if(!Hi(t))return!1;var e=yu(t);return e==D||e==y||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xi(t){return"number"==typeof t&&t==oa(t)}function Yi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hi(t){var e=o(t);return null!=t&&("object"==e||"function"==e)}function qi(t){return null!=t&&"object"==o(t)}var $i=ne?je(ne):function(t){return qi(t)&&ro(t)==v};function Gi(t){return"number"==typeof t||qi(t)&&yu(t)==d}function Ki(t){if(!qi(t)||yu(t)!=g)return!1;var e=Xt(t);if(null===e)return!0;var n=bt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mt.call(n)==xt}var Qi=ue?je(ue):function(t){return qi(t)&&yu(t)==_};var Vi=re?je(re):function(t){return qi(t)&&ro(t)==A};function Zi(t){return"string"==typeof t||!Ti(t)&&qi(t)&&yu(t)==C}function Ji(t){return"symbol"==o(t)||qi(t)&&yu(t)==E}var ta=oe?je(oe):function(t){return qi(t)&&Yi(t.length)&&!!Wt[yu(t)]};var ea=Mr(xu),na=Mr((function(t,e){return t<=e}));function ua(t){if(!t)return[];if(Ii(t))return Zi(t)?Ge(t):_r(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=ro(t);return(e==v?Ne:e==A?He:Oa)(t)}function ra(t){return t?(t=aa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function oa(t){var e=ra(t),n=e%1;return e==e?n?e-n:e:0}function ia(t){return t?Vn(oa(t),0,4294967295):0}function aa(t){if("number"==typeof t)return t;if(Ji(t))return NaN;if(Hi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Oe(t);var n=it.test(t);return n||ct.test(t)?Ht(t.slice(2),n?2:8):ot.test(t)?NaN:+t}function ca(t){return Ar(t,ma(t))}function sa(t){return null==t?"":Ju(t)}var la=Er((function(t,e){if(po(e)||Ii(e))Ar(e,Ea(e),t);else for(var n in e)bt.call(e,n)&&Hn(t,n,e[n])})),fa=Er((function(t,e){Ar(e,ma(e),t)})),ha=Er((function(t,e,n,u){Ar(e,ma(e),t,u)})),pa=Er((function(t,e,n,u){Ar(e,Ea(e),t,u)})),Da=qr(Qn);var ya=Lu((function(t,e){t=yt(t);var n=-1,u=e.length,r=u>2?e[2]:void 0;for(r&&so(e[0],e[1],r)&&(u=1);++n<u;)for(var o=e[n],i=ma(o),a=-1,c=i.length;++a<c;){var s=i[a],l=t[s];(void 0===l||Oi(l,Ct[s])&&!bt.call(t,s))&&(t[s]=o[s])}return t})),va=Lu((function(t){return t.push(void 0,Xr),ie(Fa,void 0,t)}));function da(t,e,n){var u=null==t?void 0:pu(t,e);return void 0===u?n:u}function ga(t,e){return null!=t&&oo(t,e,gu)}var _a=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=wt.call(e)),t[e]=n}),Ha(Ga)),Aa=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=wt.call(e)),bt.call(t,e)?t[e].push(n):t[e]=[n]}),Zr),Ca=Lu(Au);function Ea(t){return Ii(t)?Ln(t):Bu(t)}function ma(t){return Ii(t)?Ln(t,!0):wu(t)}var ba=Er((function(t,e,n){ju(t,e,n)})),Fa=Er((function(t,e,n,u){ju(t,e,n,u)})),Ba=qr((function(t,e){var n={};if(null==t)return n;var u=!1;e=De(e,(function(e){return e=sr(e,t),u||(u=e.length>1),e})),Ar(t,Gr(t),n),u&&(n=Zn(n,7,Yr));for(var r=e.length;r--;)er(n,e[r]);return n}));var wa=qr((function(t,e){return null==t?{}:function(t,e){return Tu(t,e,(function(e,n){return ga(t,n)}))}(t,e)}));function xa(t,e){if(null==t)return{};var n=De(Gr(t),(function(t){return[t]}));return e=Zr(e),Tu(t,n,(function(t,n){return e(t,n[0])}))}var ka=Lr(Ea),Sa=Lr(ma);function Oa(t){return null==t?[]:Pe(t,Ea(t))}var ja=Br((function(t,e,n){return e=e.toLowerCase(),t+(n?Pa(e):e)}));function Pa(t){return Wa(sa(t).toLowerCase())}function Ra(t){return(t=sa(t))&&t.replace(lt,ze).replace(Rt,"")}var Ta=Br((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ma=Br((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ia=Fr("toLowerCase");var za=Br((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ua=Br((function(t,e,n){return t+(n?" ":"")+Wa(e)}));var La=Br((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Wa=Fr("toUpperCase");function Na(t,e,n){return t=sa(t),void 0===(e=n?void 0:e)?function(t){return zt.test(t)}(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Xa=Lu((function(t,e){try{return ie(t,void 0,e)}catch(t){return Wi(t)?t:new Q(t)}})),Ya=qr((function(t,e){return ce(e,(function(e){e=xo(e),Kn(t,e,Ai(t[e],t))})),t}));function Ha(t){return function(){return t}}var qa=kr(),$a=kr(!0);function Ga(t){return t}function Ka(t){return Fu("function"==typeof t?t:Zn(t,1))}var Qa=Lu((function(t,e){return function(n){return Au(n,t,e)}})),Va=Lu((function(t,e){return function(n){return Au(t,n,e)}}));function Za(t,e,n){var u=Ea(e),r=hu(e,u);null!=n||Hi(e)&&(r.length||!u.length)||(n=e,e=t,t=this,r=hu(e,Ea(e)));var o=!(Hi(n)&&"chain"in n&&!n.chain),i=Ni(t);return ce(r,(function(n){var u=e[n];t[n]=u,i&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=_r(this.__actions__);return r.push({func:u,args:arguments,thisArg:t}),n.__chain__=e,n}return u.apply(t,ye([this.value()],arguments))})})),t}function Ja(){}var tc=Pr(De),ec=Pr(le),nc=Pr(ge);function uc(t){return lo(t)?Be(xo(t)):function(t){return function(e){return pu(e,t)}}(t)}var rc=Tr(),oc=Tr(!0);function ic(){return[]}function ac(){return!1}var cc=jr((function(t,e){return t+e}),0),sc=zr("ceil"),lc=jr((function(t,e){return t/e}),1),fc=zr("floor");var hc,pc=jr((function(t,e){return t*e}),1),Dc=zr("round"),yc=jr((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new gt(i);return t=oa(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=gi,Sn.assign=la,Sn.assignIn=fa,Sn.assignInWith=ha,Sn.assignWith=pa,Sn.at=Da,Sn.before=_i,Sn.bind=Ai,Sn.bindAll=Ya,Sn.bindKey=Ci,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ti(t)?t:[t]},Sn.chain=ui,Sn.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:cn(oa(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,i=0,a=u(tn(r/e));o<r;)a[i++]=$u(t,o,o+=e);return a},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,u=0,r=[];++e<n;){var o=t[e];o&&(r[u++]=o)}return r},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=u(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ye(Ti(n)?_r(n):[n],au(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=Zr();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new gt(i);return[n(t[0]),t[1]]})):[],Lu((function(n){for(var u=-1;++u<e;){var r=t[u];if(ie(r[0],this,n))return ie(r[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=Ea(t);return function(n){return Jn(n,t,e)}}(Zn(t,1))},Sn.constant=Ha,Sn.countBy=ii,Sn.create=function(t,e){var n=On(t);return null==e?n:Gn(n,e)},Sn.curry=function t(e,n,u){var r=Wr(e,8,void 0,void 0,void 0,void 0,void 0,n=u?void 0:n);return r.placeholder=t.placeholder,r},Sn.curryRight=function t(e,n,u){var r=Wr(e,16,void 0,void 0,void 0,void 0,void 0,n=u?void 0:n);return r.placeholder=t.placeholder,r},Sn.debounce=Ei,Sn.defaults=ya,Sn.defaultsDeep=va,Sn.defer=mi,Sn.delay=bi,Sn.difference=Oo,Sn.differenceBy=jo,Sn.differenceWith=Po,Sn.drop=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,(e=n||void 0===e?1:oa(e))<0?0:e,u):[]},Sn.dropRight=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,0,(e=u-(e=n||void 0===e?1:oa(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!0):[]},Sn.fill=function(t,e,n,u){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,u=r),function(t,e,n,u){var r=t.length;for((n=oa(n))<0&&(n=-n>r?0:r+n),(u=void 0===u||u>r?r:oa(u))<0&&(u+=r),u=n>u?0:ia(u);n<u;)t[n++]=e;return t}(t,e,n,u)):[]},Sn.filter=function(t,e){return(Ti(t)?fe:iu)(t,Zr(e,3))},Sn.flatMap=function(t,e){return au(Di(t,e),1)},Sn.flatMapDeep=function(t,e){return au(Di(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:oa(n),au(Di(t,e),n)},Sn.flatten=Mo,Sn.flattenDeep=function(t){return(null==t?0:t.length)?au(t,1/0):[]},Sn.flattenDepth=function(t,e){return(null==t?0:t.length)?au(t,e=void 0===e?1:oa(e)):[]},Sn.flip=function(t){return Wr(t,512)},Sn.flow=qa,Sn.flowRight=$a,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,u={};++e<n;){var r=t[e];u[r[0]]=r[1]}return u},Sn.functions=function(t){return null==t?[]:hu(t,Ea(t))},Sn.functionsIn=function(t){return null==t?[]:hu(t,ma(t))},Sn.groupBy=fi,Sn.initial=function(t){return(null==t?0:t.length)?$u(t,0,-1):[]},Sn.intersection=zo,Sn.intersectionBy=Uo,Sn.intersectionWith=Lo,Sn.invert=_a,Sn.invertBy=Aa,Sn.invokeMap=hi,Sn.iteratee=Ka,Sn.keyBy=pi,Sn.keys=Ea,Sn.keysIn=ma,Sn.map=Di,Sn.mapKeys=function(t,e){var n={};return e=Zr(e,3),lu(t,(function(t,u,r){Kn(n,e(t,u,r),t)})),n},Sn.mapValues=function(t,e){var n={};return e=Zr(e,3),lu(t,(function(t,u,r){Kn(n,u,e(t,u,r))})),n},Sn.matches=function(t){return Su(Zn(t,1))},Sn.matchesProperty=function(t,e){return Ou(t,Zn(e,1))},Sn.memoize=Fi,Sn.merge=ba,Sn.mergeWith=Fa,Sn.method=Qa,Sn.methodOf=Va,Sn.mixin=Za,Sn.negate=Bi,Sn.nthArg=function(t){return t=oa(t),Lu((function(e){return Pu(e,t)}))},Sn.omit=Ba,Sn.omitBy=function(t,e){return xa(t,Bi(Zr(e)))},Sn.once=function(t){return _i(2,t)},Sn.orderBy=function(t,e,n,u){return null==t?[]:(Ti(e)||(e=null==e?[]:[e]),Ti(n=u?void 0:n)||(n=null==n?[]:[n]),Ru(t,e,n))},Sn.over=tc,Sn.overArgs=wi,Sn.overEvery=ec,Sn.overSome=nc,Sn.partial=xi,Sn.partialRight=ki,Sn.partition=yi,Sn.pick=wa,Sn.pickBy=xa,Sn.property=uc,Sn.propertyOf=function(t){return function(e){return null==t?void 0:pu(t,e)}},Sn.pull=No,Sn.pullAll=Xo,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Mu(t,e,Zr(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Mu(t,e,void 0,n):t},Sn.pullAt=Yo,Sn.range=rc,Sn.rangeRight=oc,Sn.rearg=Si,Sn.reject=function(t,e){return(Ti(t)?fe:iu)(t,Bi(Zr(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var u=-1,r=[],o=t.length;for(e=Zr(e,3);++u<o;){var i=t[u];e(i,u,t)&&(n.push(i),r.push(u))}return Iu(t,r),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new gt(i);return Lu(t,e=void 0===e?e:oa(e))},Sn.reverse=Ho,Sn.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:oa(e),(Ti(t)?Nn:Nu)(t,e)},Sn.set=function(t,e,n){return null==t?t:Xu(t,e,n)},Sn.setWith=function(t,e,n,u){return u="function"==typeof u?u:void 0,null==t?t:Xu(t,e,n,u)},Sn.shuffle=function(t){return(Ti(t)?Xn:qu)(t)},Sn.slice=function(t,e,n){var u=null==t?0:t.length;return u?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=u):(e=null==e?0:oa(e),n=void 0===n?u:oa(n)),$u(t,e,n)):[]},Sn.sortBy=vi,Sn.sortedUniq=function(t){return t&&t.length?Vu(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?Vu(t,Zr(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=sa(t))&&("string"==typeof e||null!=e&&!Qi(e))&&!(e=Ju(e))&&We(t)?fr(Ge(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new gt(i);return e=null==e?0:cn(oa(e),0),Lu((function(n){var u=n[e],r=fr(n,0,e);return u&&ye(r,u),ie(t,this,r)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?$u(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?$u(t,0,(e=n||void 0===e?1:oa(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,(e=u-(e=n||void 0===e?1:oa(e)))<0?0:e,u):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var u=!0,r=!0;if("function"!=typeof t)throw new gt(i);return Hi(n)&&(u="leading"in n?!!n.leading:u,r="trailing"in n?!!n.trailing:r),Ei(t,e,{leading:u,maxWait:e,trailing:r})},Sn.thru=ri,Sn.toArray=ua,Sn.toPairs=ka,Sn.toPairsIn=Sa,Sn.toPath=function(t){return Ti(t)?De(t,xo):Ji(t)?[t]:_r(wo(sa(t)))},Sn.toPlainObject=ca,Sn.transform=function(t,e,n){var u=Ti(t),r=u||Ui(t)||ta(t);if(e=Zr(e,4),null==n){var o=t&&t.constructor;n=r?u?new o:[]:Hi(t)&&Ni(o)?On(Xt(t)):{}}return(r?ce:lu)(t,(function(t,u,r){return e(n,t,u,r)})),n},Sn.unary=function(t){return gi(t,1)},Sn.union=qo,Sn.unionBy=$o,Sn.unionWith=Go,Sn.uniq=function(t){return t&&t.length?tr(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?tr(t,Zr(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?tr(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||er(t,e)},Sn.unzip=Ko,Sn.unzipWith=Qo,Sn.update=function(t,e,n){return null==t?t:nr(t,e,cr(n))},Sn.updateWith=function(t,e,n,u){return u="function"==typeof u?u:void 0,null==t?t:nr(t,e,cr(n),u)},Sn.values=Oa,Sn.valuesIn=function(t){return null==t?[]:Pe(t,ma(t))},Sn.without=Vo,Sn.words=Na,Sn.wrap=function(t,e){return xi(cr(e),t)},Sn.xor=Zo,Sn.xorBy=Jo,Sn.xorWith=ti,Sn.zip=ei,Sn.zipObject=function(t,e){return ir(t||[],e||[],Hn)},Sn.zipObjectDeep=function(t,e){return ir(t||[],e||[],Xu)},Sn.zipWith=ni,Sn.entries=ka,Sn.entriesIn=Sa,Sn.extend=fa,Sn.extendWith=ha,Za(Sn,Sn),Sn.add=cc,Sn.attempt=Xa,Sn.camelCase=ja,Sn.capitalize=Pa,Sn.ceil=sc,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=aa(n))==n?n:0),void 0!==e&&(e=(e=aa(e))==e?e:0),Vn(aa(t),e,n)},Sn.clone=function(t){return Zn(t,4)},Sn.cloneDeep=function(t){return Zn(t,5)},Sn.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||Jn(t,e,Ea(e))},Sn.deburr=Ra,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=lc,Sn.endsWith=function(t,e,n){t=sa(t),e=Ju(e);var u=t.length,r=n=void 0===n?u:Vn(oa(n),0,u);return(n-=e.length)>=0&&t.slice(n,r)==e},Sn.eq=Oi,Sn.escape=function(t){return(t=sa(t))&&L.test(t)?t.replace(z,Ue):t},Sn.escapeRegExp=function(t){return(t=sa(t))&&G.test(t)?t.replace($,"\\$&"):t},Sn.every=function(t,e,n){var u=Ti(t)?le:ru;return n&&so(t,e,n)&&(e=void 0),u(t,Zr(e,3))},Sn.find=ai,Sn.findIndex=Ro,Sn.findKey=function(t,e){return Ae(t,Zr(e,3),lu)},Sn.findLast=ci,Sn.findLastIndex=To,Sn.findLastKey=function(t,e){return Ae(t,Zr(e,3),fu)},Sn.floor=fc,Sn.forEach=si,Sn.forEachRight=li,Sn.forIn=function(t,e){return null==t?t:cu(t,Zr(e,3),ma)},Sn.forInRight=function(t,e){return null==t?t:su(t,Zr(e,3),ma)},Sn.forOwn=function(t,e){return t&&lu(t,Zr(e,3))},Sn.forOwnRight=function(t,e){return t&&fu(t,Zr(e,3))},Sn.get=da,Sn.gt=ji,Sn.gte=Pi,Sn.has=function(t,e){return null!=t&&oo(t,e,du)},Sn.hasIn=ga,Sn.head=Io,Sn.identity=Ga,Sn.includes=function(t,e,n,u){t=Ii(t)?t:Oa(t),n=n&&!u?oa(n):0;var r=t.length;return n<0&&(n=cn(r+n,0)),Zi(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ee(t,e,n)>-1},Sn.indexOf=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=null==n?0:oa(n);return r<0&&(r=cn(u+r,0)),Ee(t,e,r)},Sn.inRange=function(t,e,n){return e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n){return t>=sn(e,n)&&t<cn(e,n)}(t=aa(t),e,n)},Sn.invoke=Ca,Sn.isArguments=Ri,Sn.isArray=Ti,Sn.isArrayBuffer=Mi,Sn.isArrayLike=Ii,Sn.isArrayLikeObject=zi,Sn.isBoolean=function(t){return!0===t||!1===t||qi(t)&&yu(t)==f},Sn.isBuffer=Ui,Sn.isDate=Li,Sn.isElement=function(t){return qi(t)&&1===t.nodeType&&!Ki(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Ii(t)&&(Ti(t)||"string"==typeof t||"function"==typeof t.splice||Ui(t)||ta(t)||Ri(t)))return!t.length;var e=ro(t);if(e==v||e==A)return!t.size;if(po(t))return!Bu(t).length;for(var n in t)if(bt.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return Eu(t,e)},Sn.isEqualWith=function(t,e,n){var u=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===u?Eu(t,e,void 0,n):!!u},Sn.isError=Wi,Sn.isFinite=function(t){return"number"==typeof t&&rn(t)},Sn.isFunction=Ni,Sn.isInteger=Xi,Sn.isLength=Yi,Sn.isMap=$i,Sn.isMatch=function(t,e){return t===e||mu(t,e,to(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,mu(t,e,to(e),n)},Sn.isNaN=function(t){return Gi(t)&&t!=+t},Sn.isNative=function(t){if(ho(t))throw new Q("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return bu(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=Gi,Sn.isObject=Hi,Sn.isObjectLike=qi,Sn.isPlainObject=Ki,Sn.isRegExp=Qi,Sn.isSafeInteger=function(t){return Xi(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=Vi,Sn.isString=Zi,Sn.isSymbol=Ji,Sn.isTypedArray=ta,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return qi(t)&&ro(t)==m},Sn.isWeakSet=function(t){return qi(t)&&"[object WeakSet]"==yu(t)},Sn.join=function(t,e){return null==t?"":on.call(t,e)},Sn.kebabCase=Ta,Sn.last=Wo,Sn.lastIndexOf=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=u;return void 0!==n&&(r=(r=oa(n))<0?cn(u+r,0):sn(r,u-1)),e==e?function(t,e,n){for(var u=n+1;u--;)if(t[u]===e)return u;return u}(t,e,r):Ce(t,be,r,!0)},Sn.lowerCase=Ma,Sn.lowerFirst=Ia,Sn.lt=ea,Sn.lte=na,Sn.max=function(t){return t&&t.length?ou(t,Ga,vu):void 0},Sn.maxBy=function(t,e){return t&&t.length?ou(t,Zr(e,2),vu):void 0},Sn.mean=function(t){return Fe(t,Ga)},Sn.meanBy=function(t,e){return Fe(t,Zr(e,2))},Sn.min=function(t){return t&&t.length?ou(t,Ga,xu):void 0},Sn.minBy=function(t,e){return t&&t.length?ou(t,Zr(e,2),xu):void 0},Sn.stubArray=ic,Sn.stubFalse=ac,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=pc,Sn.nth=function(t,e){return t&&t.length?Pu(t,oa(e)):void 0},Sn.noConflict=function(){return Gt._===this&&(Gt._=kt),this},Sn.noop=Ja,Sn.now=di,Sn.pad=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;if(!e||u>=e)return t;var r=(e-u)/2;return Rr(en(r),n)+t+Rr(tn(r),n)},Sn.padEnd=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;return e&&u<e?t+Rr(e-u,n):t},Sn.padStart=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;return e&&u<e?Rr(e-u,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),fn(sa(t).replace(K,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ra(t),void 0===e?(e=t,t=0):e=ra(e)),t>e){var u=t;t=e,e=u}if(n||t%1||e%1){var r=hn();return sn(t+r*(e-t+Yt("1e-"+((r+"").length-1))),e)}return zu(t,e)},Sn.reduce=function(t,e,n){var u=Ti(t)?ve:xe,r=arguments.length<3;return u(t,Zr(e,4),n,r,nu)},Sn.reduceRight=function(t,e,n){var u=Ti(t)?de:xe,r=arguments.length<3;return u(t,Zr(e,4),n,r,uu)},Sn.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:oa(e),Uu(sa(t),e)},Sn.replace=function(){var t=arguments,e=sa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var u=-1,r=(e=sr(e,t)).length;for(r||(r=1,t=void 0);++u<r;){var o=null==t?void 0:t[xo(e[u])];void 0===o&&(u=r,o=n),t=Ni(o)?o.call(t):o}return t},Sn.round=Dc,Sn.runInContext=t,Sn.sample=function(t){return(Ti(t)?Wn:Wu)(t)},Sn.size=function(t){if(null==t)return 0;if(Ii(t))return Zi(t)?$e(t):t.length;var e=ro(t);return e==v||e==A?t.size:Bu(t).length},Sn.snakeCase=za,Sn.some=function(t,e,n){var u=Ti(t)?ge:Gu;return n&&so(t,e,n)&&(e=void 0),u(t,Zr(e,3))},Sn.sortedIndex=function(t,e){return Ku(t,e)},Sn.sortedIndexBy=function(t,e,n){return Qu(t,e,Zr(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var u=Ku(t,e);if(u<n&&Oi(t[u],e))return u}return-1},Sn.sortedLastIndex=function(t,e){return Ku(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return Qu(t,e,Zr(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ku(t,e,!0)-1;if(Oi(t[n],e))return n}return-1},Sn.startCase=Ua,Sn.startsWith=function(t,e,n){return t=sa(t),n=null==n?0:Vn(oa(n),0,t.length),e=Ju(e),t.slice(n,n+e.length)==e},Sn.subtract=yc,Sn.sum=function(t){return t&&t.length?ke(t,Ga):0},Sn.sumBy=function(t,e){return t&&t.length?ke(t,Zr(e,2)):0},Sn.template=function(t,e,n){var u=Sn.templateSettings;n&&so(t,e,n)&&(e=void 0),t=sa(t),e=ha({},e,u,Nr);var r,o,i=ha({},e.imports,u.imports,Nr),a=Ea(i),c=Pe(i,a),s=0,l=e.interpolate||ft,f="__p += '",h=vt((e.escape||ft).source+"|"+l.source+"|"+(l===X?ut:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),p="//# sourceURL="+(bt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";t.replace(h,(function(e,n,u,i,a,c){return u||(u=i),f+=t.slice(s,c).replace(ht,Le),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),u&&(f+="' +\n((__t = ("+u+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),f+="';\n";var D=bt.call(e,"variable")&&e.variable;if(D){if(et.test(D))throw new Q("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(R,""):f).replace(T,"$1").replace(M,"$1;"),f="function("+(D||"obj")+") {\n"+(D?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Xa((function(){return pt(a,p+"return "+f).apply(void 0,c)}));if(y.source=f,Wi(y))throw y;return y},Sn.times=function(t,e){if((t=oa(t))<1||t>9007199254740991)return[];var n=4294967295,u=sn(t,4294967295);t-=4294967295;for(var r=Se(u,e=Zr(e));++n<t;)e(n);return r},Sn.toFinite=ra,Sn.toInteger=oa,Sn.toLength=ia,Sn.toLower=function(t){return sa(t).toLowerCase()},Sn.toNumber=aa,Sn.toSafeInteger=function(t){return t?Vn(oa(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=sa,Sn.toUpper=function(t){return sa(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return Oe(t);if(!t||!(e=Ju(e)))return t;var u=Ge(t),r=Ge(e);return fr(u,Te(u,r),Me(u,r)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return t.slice(0,Ke(t)+1);if(!t||!(e=Ju(e)))return t;var u=Ge(t);return fr(u,0,Me(u,Ge(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Ju(e)))return t;var u=Ge(t);return fr(u,Te(u,Ge(e))).join("")},Sn.truncate=function(t,e){var n=30,u="...";if(Hi(e)){var r="separator"in e?e.separator:r;n="length"in e?oa(e.length):n,u="omission"in e?Ju(e.omission):u}var o=(t=sa(t)).length;if(We(t)){var i=Ge(t);o=i.length}if(n>=o)return t;var a=n-$e(u);if(a<1)return u;var c=i?fr(i,0,a).join(""):t.slice(0,a);if(void 0===r)return c+u;if(i&&(a+=c.length-a),Qi(r)){if(t.slice(a).search(r)){var s,l=c;for(r.global||(r=vt(r.source,sa(rt.exec(r))+"g")),r.lastIndex=0;s=r.exec(l);)var f=s.index;c=c.slice(0,void 0===f?a:f)}}else if(t.indexOf(Ju(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+u},Sn.unescape=function(t){return(t=sa(t))&&U.test(t)?t.replace(I,Qe):t},Sn.uniqueId=function(t){var e=++Ft;return sa(t)+e},Sn.upperCase=La,Sn.upperFirst=Wa,Sn.each=si,Sn.eachRight=li,Sn.first=Io,Za(Sn,(hc={},lu(Sn,(function(t,e){bt.call(Sn.prototype,e)||(hc[e]=t)})),hc),{chain:!1}),Sn.VERSION="4.17.21",ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),ce(["drop","take"],(function(t,e){Rn.prototype[t]=function(n){n=void 0===n?1:cn(oa(n),0);var u=this.__filtered__&&!e?new Rn(this):this.clone();return u.__filtered__?u.__takeCount__=sn(n,u.__takeCount__):u.__views__.push({size:sn(n,4294967295),type:t+(u.__dir__<0?"Right":"")}),u},Rn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,u=1==n||3==n;Rn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zr(t,3),type:n}),e.__filtered__=e.__filtered__||u,e}})),ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Rn.prototype[t]=function(){return this[n](1).value()[0]}})),ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Rn.prototype[t]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(Ga)},Rn.prototype.find=function(t){return this.filter(t).head()},Rn.prototype.findLast=function(t){return this.reverse().find(t)},Rn.prototype.invokeMap=Lu((function(t,e){return"function"==typeof t?new Rn(this):this.map((function(n){return Au(n,t,e)}))})),Rn.prototype.reject=function(t){return this.filter(Bi(Zr(t)))},Rn.prototype.slice=function(t,e){t=oa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Rn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=oa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Rn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},lu(Rn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),r=Sn[u?"take"+("last"==e?"Right":""):e],o=u||/^find/.test(e);r&&(Sn.prototype[e]=function(){var e=this.__wrapped__,i=u?[1]:arguments,a=e instanceof Rn,c=i[0],s=a||Ti(e),l=function(t){var e=r.apply(Sn,ye([t],i));return u&&f?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(a=s=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,D=a&&!h;if(!o&&s){e=D?e:new Rn(this);var y=t.apply(e,i);return y.__actions__.push({func:ri,args:[l],thisArg:void 0}),new Pn(y,f)}return p&&D?t.apply(this,i):(y=this.thru(l),p?u?y.value()[0]:y.value():y)})})),ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",u=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(u&&!this.__chain__){var r=this.value();return e.apply(Ti(r)?r:[],t)}return this[n]((function(n){return e.apply(Ti(n)?n:[],t)}))}})),lu(Rn.prototype,(function(t,e){var n=Sn[e];if(n){var u=n.name+"";bt.call(Cn,u)||(Cn[u]=[]),Cn[u].push({name:e,func:n})}})),Cn[Sr(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var t=new Rn(this.__wrapped__);return t.__actions__=_r(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=_r(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=_r(this.__views__),t},Rn.prototype.reverse=function(){if(this.__filtered__){var t=new Rn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ti(t),u=e<0,r=n?t.length:0,o=function(t,e,n){var u=-1,r=n.length;for(;++u<r;){var o=n[u],i=o.size;switch(o.type){case"drop":t+=i;break;case"dropRight":e-=i;break;case"take":e=sn(e,t+i);break;case"takeRight":t=cn(t,e-i)}}return{start:t,end:e}}(0,r,this.__views__),i=o.start,a=o.end,c=a-i,s=u?a:i-1,l=this.__iteratees__,f=l.length,h=0,p=sn(c,this.__takeCount__);if(!n||!u&&r==c&&p==c)return rr(t,this.__actions__);var D=[];t:for(;c--&&h<p;){for(var y=-1,v=t[s+=e];++y<f;){var d=l[y],g=d.iteratee,_=d.type,A=g(v);if(2==_)v=A;else if(!A){if(1==_)continue t;break t}}D[h++]=v}return D},Sn.prototype.at=oi,Sn.prototype.chain=function(){return ui(this)},Sn.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ua(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof jn;){var u=So(n);u.__index__=0,u.__values__=void 0,e?r.__wrapped__=u:e=u;var r=u;n=n.__wrapped__}return r.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Rn){var e=t;return this.__actions__.length&&(e=new Rn(this)),(e=e.reverse()).__actions__.push({func:ri,args:[Ho],thisArg:void 0}),new Pn(e,this.__chain__)}return this.thru(Ho)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return rr(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Zt&&(Sn.prototype[Zt]=function(){return this}),Sn}();"object"==o(n(6))&&n(6)?(Gt._=Ve,void 0===(r=function(){return Ve}.call(e,n,e,u))||(u.exports=r)):Qt?((Qt.exports=Ve)._=Ve,Kt._=Ve):Gt._=Ve}).call(this)}).call(this,n(8),n(9)(t))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var u=n(3),r=n(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function c(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t){var e=r.fromString(t);return 36*Math.floor(e[0]*(6/256))+6*Math.floor(e[1]*(6/256))+1*Math.floor(e[2]*(6/256))+16}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,e);var n,u,r,o=f(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this))._offset=[0,0],t._cursor=[-1,-1],t._lastColor="",t}return n=a,(u=[{key:"schedule",value:function(t){setTimeout(t,1e3/60)}},{key:"setOptions",value:function(t){s(p(a.prototype),"setOptions",this).call(this,t);var e=[t.width,t.height],n=this.computeSize();this._offset=n.map((function(t,n){return Math.floor((t-e[n])/2)}))}},{key:"clear",value:function(){var e;t.stdout.write((e=this._options.bg,"[0;48;5;".concat(D(e),"m[2J")))}},{key:"draw",value:function(e,n){var u=i(e,5),r=u[0],o=u[1],a=u[2],c=u[3],s=u[4],l=this._offset[0]+r,f=this._offset[1]+o,h=this.computeSize();if(!(l<0||l>=h[0])&&!(f<0||f>=h[1])&&(l===this._cursor[0]&&f===this._cursor[1]||(t.stdout.write(function(t,e){return"[".concat(e+1,";").concat(t+1,"H")}(l,f)),this._cursor[0]=l,this._cursor[1]=f),n&&(a||(a=" ")),a)){var p=function(t,e){return"[0;38;5;".concat(D(t),";48;5;").concat(D(e),"m")}(c,s);if(p!==this._lastColor&&(t.stdout.write(p),this._lastColor=p),"\t"!=a){var y=[].concat(a);t.stdout.write(y[0])}this._cursor[0]++,this._cursor[0]>=h[0]&&(this._cursor[0]=0,this._cursor[1]++)}}},{key:"computeFontSize",value:function(){throw new Error("Terminal backend has no notion of font size")}},{key:"eventToPosition",value:function(t,e){return[t,e]}},{key:"computeSize",value:function(){return[t.stdout.columns,t.stdout.rows]}}])&&c(n.prototype,u),r&&c(n,r),a}(u.a)}).call(this,n(7))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){var n,u,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var c,s=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function D(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new D(t,e)),1!==s.length||l||a(p)},D.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(u=window)}t.exports=u},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"gameState",(function(){return xo})),n.d(e,"previousGameState",(function(){return ko})),n.d(e,"SetQueuedAbility",(function(){return jo})),n.d(e,"SetQueuedEntity",(function(){return Po})),n.d(e,"targetEntity",(function(){return Ro})),n.d(e,"CurrrentActivePlayer",(function(){return To})),n.d(e,"ExamineTargetEnable",(function(){return Ho})),n.d(e,"ExamineTargetDisable",(function(){return $o})),n.d(e,"setupTestFight",(function(){return Zo})),n.d(e,"StartGame",(function(){return ui}));var u={};n.r(u),n.d(u,"TYPE_TEXT",(function(){return lt})),n.d(u,"TYPE_NEWLINE",(function(){return ft})),n.d(u,"TYPE_FG",(function(){return ht})),n.d(u,"TYPE_BG",(function(){return pt})),n.d(u,"measure",(function(){return Dt})),n.d(u,"tokenize",(function(){return yt}));var r=n(0),o=n(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,t);var e,n,u,r=l(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._ctx=document.createElement("canvas").getContext("2d"),t}return e=o,(n=[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._ctx.canvas}},{key:"setOptions",value:function(t){c(h(o.prototype),"setOptions",this).call(this,t);var e=t.fontStyle?"".concat(t.fontStyle," "):"",n="".concat(e," ").concat(t.fontSize,"px ").concat(t.fontFamily);this._ctx.font=n,this._updateSize(),this._ctx.font=n,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}},{key:"clear",value:function(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}},{key:"eventToPosition",value:function(t,e){var n=this._ctx.canvas,u=n.getBoundingClientRect();return t-=u.left,e-=u.top,t*=n.width/u.width,e*=n.height/u.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}])&&a(e.prototype,n),u&&a(e,u),o}(o.a),D=n(1);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function g(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=E(t);if(e){var r=E(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,t);var e,n,u,r=A(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._spacingX=0,t._spacingY=0,t._hexSize=0,t}return e=o,(n=[{key:"draw",value:function(t,e){var n=v(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=[(u+1)*this._spacingX,r*this._spacingY+this._hexSize];if(this._options.transpose&&c.reverse(),e&&(this._ctx.fillStyle=a,this._fill(c[0],c[1])),o){this._ctx.fillStyle=i;for(var s=[].concat(o),l=0;l<s.length;l++)this._ctx.fillText(s[l],c[0],Math.ceil(c[1]))}}},{key:"computeSize",value:function(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}},{key:"computeFontSize",value:function(t,e){this._options.transpose&&(t+=e,t-=e=t-e);var n=2*t/((this._options.width+1)*Math.sqrt(3))-1,u=e/(2+1.5*(this._options.height-1)),r=Math.min(n,u),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var i=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;var a=i/100,c=2*(r=Math.floor(r)+1)/(this._options.spacing*(1+a/Math.sqrt(3)));return Math.ceil(c)-1}},{key:"_normalizedEventToPosition",value:function(t,e){var n;this._options.transpose?(t+=e,t-=e=t-e,n=this._ctx.canvas.width):n=this._ctx.canvas.height;var u=n/this._options.height;return e=Math.floor(e/u),Object(D.mod)(e,2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}},{key:"_fill",value:function(t,e){var n=this._hexSize,u=this._options.border,r=this._ctx;r.beginPath(),this._options.transpose?(r.moveTo(t-n+u,e),r.lineTo(t-n/2+u,e+this._spacingX-u),r.lineTo(t+n/2-u,e+this._spacingX-u),r.lineTo(t+n-u,e),r.lineTo(t+n/2-u,e-this._spacingX+u),r.lineTo(t-n/2+u,e-this._spacingX+u),r.lineTo(t-n+u,e)):(r.moveTo(t,e-n+u),r.lineTo(t+this._spacingX-u,e-n/2+u),r.lineTo(t+this._spacingX-u,e+n/2-u),r.lineTo(t,e+n-u),r.lineTo(t-this._spacingX+u,e+n/2-u),r.lineTo(t-this._spacingX+u,e-n/2+u),r.lineTo(t,e-n+u)),r.fill()}},{key:"_updateSize",value:function(){var t,e,n=this._options,u=Math.ceil(this._ctx.measureText("W").width);this._hexSize=Math.floor(n.spacing*(n.fontSize+u/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,n.transpose?(t="height",e="width"):(t="width",e="height"),this._ctx.canvas[t]=Math.ceil((n.width+1)*this._spacingX),this._ctx.canvas[e]=Math.ceil((n.height-1)*this._spacingY+2*this._hexSize)}}])&&g(e.prototype,n),u&&g(e,u),o}(p);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function w(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P,R=((P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(o,t);var e,n,u,r=S(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._spacingX=0,t._spacingY=0,t._canvasCache={},t}return e=o,(n=[{key:"setOptions",value:function(t){x(j(o.prototype),"setOptions",this).call(this,t),this._canvasCache={}}},{key:"draw",value:function(t,e){o.cache?this._drawWithCache(t):this._drawNoCache(t,e)}},{key:"_drawWithCache",value:function(t){var e,n=F(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=""+o+i+a;if(c in this._canvasCache)e=this._canvasCache[c];else{var s=this._options.border,l=(e=document.createElement("canvas")).getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,l.fillStyle=a,l.fillRect(s,s,e.width-s,e.height-s),o){l.fillStyle=i,l.font=this._ctx.font,l.textAlign="center",l.textBaseline="middle";for(var f=[].concat(o),h=0;h<f.length;h++)l.fillText(f[h],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[c]=e}this._ctx.drawImage(e,u*this._spacingX,r*this._spacingY)}},{key:"_drawNoCache",value:function(t,e){var n=F(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4];if(e){var c=this._options.border;this._ctx.fillStyle=a,this._ctx.fillRect(u*this._spacingX+c,r*this._spacingY+c,this._spacingX-c,this._spacingY-c)}if(o){this._ctx.fillStyle=i;for(var s=[].concat(o),l=0;l<s.length;l++)this._ctx.fillText(s[l],(u+.5)*this._spacingX,Math.ceil((r+.5)*this._spacingY))}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"computeFontSize",value:function(t,e){var n=Math.floor(t/this._options.width),u=Math.floor(e/this._options.height),r=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=r;var i=o/100*u/n;return i>1&&(u=Math.floor(u/i)),Math.floor(u/this._options.spacing)}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"_updateSize",value:function(){var t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}])&&w(e.prototype,n),u&&w(e,u),o}(p)).cache=!1,P);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function z(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=N(t);if(e){var r=N(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return W(this,n)}}function W(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(o,t);var e,n,u,r=L(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._colorCanvas=document.createElement("canvas"),t}return e=o,(n=[{key:"draw",value:function(t,e){var n=M(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=this._options.tileWidth,s=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(u*c,r*s,c,s):(this._ctx.fillStyle=a,this._ctx.fillRect(u*c,r*s,c,s))),o)for(var l=[].concat(o),f=[].concat(i),h=[].concat(a),p=0;p<l.length;p++){var D=this._options.tileMap[l[p]];if(!D)throw new Error('Char "'.concat(l[p],'" not found in tileMap'));if(this._options.tileColorize){var y=this._colorCanvas,v=y.getContext("2d");v.globalCompositeOperation="source-over",v.clearRect(0,0,c,s);var d=f[p],g=h[p];v.drawImage(this._options.tileSet,D[0],D[1],c,s,0,0,c,s),"transparent"!=d&&(v.fillStyle=d,v.globalCompositeOperation="source-atop",v.fillRect(0,0,c,s)),"transparent"!=g&&(v.fillStyle=g,v.globalCompositeOperation="destination-over",v.fillRect(0,0,c,s)),this._ctx.drawImage(y,u*c,r*s,c,s)}else this._ctx.drawImage(this._options.tileSet,D[0],D[1],c,s,u*c,r*s,c,s)}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}])&&z(e.prototype,n),u&&z(e,u),o}(p),Y=n(2);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||G(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||G(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Q(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function V(t,e,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=et(t);if(e){var r=et(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return tt(this,n)}}function tt(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(o,t);var e,n,u,r=J(o);function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._uniforms={};try{t._gl=t._initWebGL()}catch(t){alert(t.message)}return t}return e=o,u=[{key:"isSupported",value:function(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}}],(n=[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._gl.canvas}},{key:"setOptions",value:function(t){var e=this;V(et(o.prototype),"setOptions",this).call(this,t),this._updateSize();var n=this._options.tileSet;n&&"complete"in n&&!n.complete?n.addEventListener("load",(function(){return e._updateTexture(n)})):this._updateTexture(n)}},{key:"draw",value:function(t,e){var n=this._gl,u=this._options,r=$(t,5),o=r[0],i=r[1],a=r[2],c=r[3],s=r[4],l=n.canvas.height-(i+1)*u.tileHeight;if(n.scissor(o*u.tileWidth,l,u.tileWidth,u.tileHeight),e&&(u.tileColorize?n.clearColor(0,0,0,0):n.clearColor.apply(n,q(at(s))),n.clear(n.COLOR_BUFFER_BIT)),a){var f=[].concat(a),h=[].concat(s),p=[].concat(c);n.uniform2fv(this._uniforms.targetPosRel,[o,i]);for(var D=0;D<f.length;D++){var y=this._options.tileMap[f[D]];if(!y)throw new Error('Char "'.concat(f[D],'" not found in tileMap'));n.uniform1f(this._uniforms.colorize,u.tileColorize?1:0),n.uniform2fv(this._uniforms.tilesetPosAbs,y),u.tileColorize&&(n.uniform4fv(this._uniforms.tint,at(p[D])),n.uniform4fv(this._uniforms.bg,at(h[D]))),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}}},{key:"clear",value:function(){var t=this._gl;t.clearColor.apply(t,q(at(this._options.bg))),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"eventToPosition",value:function(t,e){var n=this._gl.canvas,u=n.getBoundingClientRect();return t-=u.left,e-=u.top,t*=n.width/u.width,e*=n.height/u.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}},{key:"_initWebGL",value:function(){var t=this,e=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=e;var n=function(t,e,n){var u=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(u,e),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(u)||"");var r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r)||"");var o=t.createProgram();if(t.attachShader(o,u),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(o)||"");return o}(e,rt,ot);return e.useProgram(n),function(t){var e=new Float32Array([0,0,1,0,0,1,1,1]),n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(e),ut.forEach((function(u){return t._uniforms[u]=e.getUniformLocation(n,u)})),this._program=n,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.SCISSOR_TEST),e}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._gl,e=this._options,n=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=n[0],t.canvas.height=n[1],t.viewport(0,0,n[0],n[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,n)}},{key:"_updateTexture",value:function(t){var e,n,u;e=this._gl,n=t,u=e.createTexture(),e.bindTexture(e.TEXTURE_2D,u),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}}])&&Q(e.prototype,n),u&&Q(e,u),o}(o.a),ut=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],rt="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),ot="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();var it={};function at(t){if(!(t in it)){var e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(var n=0;n<3;n++)e[n]=e[n]/255}else(e=Y.fromString(t).map((function(t){return t/255}))).push(1);it[t]=e}return it[t]}var ct=n(5),st=/%([bc]){([^}]*)}/g,lt=0,ft=1,ht=2,pt=3;function Dt(t,e){for(var n={width:0,height:1},u=yt(t,e),r=0,o=0;o<u.length;o++){var i=u[o];switch(i.type){case lt:r+=i.value.length;break;case ft:n.height++,n.width=Math.max(n.width,r),r=0}}return n.width=Math.max(n.width,r),n}function yt(t,e){var n=[],u=0;t.replace(st,(function(e,r,o,i){var a=t.substring(u,i);return a.length&&n.push({type:lt,value:a}),n.push({type:"c"==r?ht:pt,value:o.trim()}),u=i+e.length,""}));var r=t.substring(u);return r.length&&n.push({type:lt,value:r}),function(t,e){e||(e=1/0);var n=0,u=0,r=-1;for(;n<t.length;){var o=t[n];if(o.type==ft&&(u=0,r=-1),o.type==lt){for(;0==u&&" "==o.value.charAt(0);)o.value=o.value.substring(1);var i=o.value.indexOf("\n");if(-1!=i){o.value=vt(t,n,i,!0);for(var a=o.value.split("");a.length&&" "==a[a.length-1];)a.pop();o.value=a.join("")}if(o.value.length){if(u+o.value.length>e){for(var c=-1;;){var s=o.value.indexOf(" ",c+1);if(-1==s)break;if(u+s>e)break;c=s}if(-1!=c)o.value=vt(t,n,c,!0);else if(-1!=r){var l=t[r],f=l.value.lastIndexOf(" ");l.value=vt(t,r,f,!0),n=r}else o.value=vt(t,n,e-u,!1)}else u+=o.value.length,-1!=o.value.indexOf(" ")&&(r=n);n++}else t.splice(n,1)}else n++}t.push({type:ft});for(var h=null,p=0;p<t.length;p++){var D=t[p];switch(D.type){case lt:h=D;break;case ft:if(h){for(var y=h.value.split("");y.length&&" "==y[y.length-1];)y.pop();h.value=y.join("")}h=null}}return t.pop(),t}(n,e)}function vt(t,e,n,u){var r={type:ft},o={type:lt,value:t[e].value.substring(n+(u?1:0))};return t.splice(e+1,0,r,o),t[e].value.substring(0,n)}var dt={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]};function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var At,Ct={hex:m,rect:R,tile:X,"tile-gl":nt,term:ct.a},Et={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1},mt=((At=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gt(this,t),this._data={},this._dirty=!1,this._options={},e=Object.assign({},Et,e),this.setOptions(e),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}var e,n,u;return e=t,(n=[{key:"DEBUG",value:function(t,e,n){var u=[this._options.bg,this._options.fg];this.draw(t,e,null,null,u[n%u.length])}},{key:"clear",value:function(){this._data={},this._dirty=!0}},{key:"setOptions",value:function(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){var e=Ct[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}},{key:"getOptions",value:function(){return this._options}},{key:"getContainer",value:function(){return this._backend.getContainer()}},{key:"computeSize",value:function(t,e){return this._backend.computeSize(t,e)}},{key:"computeFontSize",value:function(t,e){return this._backend.computeFontSize(t,e)}},{key:"computeTileSize",value:function(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}},{key:"eventToPosition",value:function(t){var e,n;return"touches"in t?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY),this._backend.eventToPosition(e,n)}},{key:"draw",value:function(t,e,n,u,r){u||(u=this._options.fg),r||(r=this._options.bg);var o="".concat(t,",").concat(e);this._data[o]=[t,e,n,u,r],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}},{key:"drawText",value:function(t,e,n,u){var r=null,o=null,i=t,a=e,c=1;u||(u=this._options.width-t);for(var s=yt(n,u);s.length;){var l=s.shift();switch(l.type){case lt:for(var f=!1,h=!1,p=!1,D=!1,y=0;y<l.value.length;y++){var v=l.value.charCodeAt(y),d=l.value.charAt(y);if("term"===this._options.layout){var g=v>>8;if(17===g||g>=46&&g<=159||g>=172&&g<=215||v>=43360&&v<=43391){this.draw(i+0,a,d,r,o),this.draw(i+1,a,"\t",r,o),i+=2;continue}}p=v>65280&&v<65377||v>65500&&v<65512||v>65518,f=32==d.charCodeAt(0)||12288==d.charCodeAt(0),!D||p||f||i++,p&&!h&&i++,this.draw(i++,a,d,r,o),h=f,D=p}break;case ht:r=l.value||null;break;case pt:o=l.value||null;break;case ft:i=t,a++,c++}}return c}},{key:"_tick",value:function(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty)for(var t in this._backend.clear(),this._data)this._draw(t,!1);else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}}},{key:"_draw",value:function(t,e){var n=this._data[t];n[4]!=this._options.bg&&(e=!0),this._backend.draw(n,e)}}])&&_t(e.prototype,n),u&&_t(e,u),t}()).Rect=R,At.Hex=m,At.Tile=X,At.TileGL=nt,At.Term=ct.a,At);function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var Bt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;bt(this,t),this._width=e,this._height=n}var e,n,u;return e=t,(n=[{key:"_fillMap",value:function(t){for(var e=[],n=0;n<this._width;n++){e.push([]);for(var u=0;u<this._height;u++)e[n].push(t)}return e}}])&&Ft(e.prototype,n),u&&Ft(e,u),t}();function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Pt(t);if(e){var r=Pt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return jt(this,n)}}function jt(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(o,t);var e,n,u,r=Ot(o);function o(){return xt(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"create",value:function(t){for(var e=this._width-1,n=this._height-1,u=0;u<=e;u++)for(var r=0;r<=n;r++)t(u,r,u&&r&&u<e&&r<n?0:1);return this}}])&&kt(e.prototype,n),u&&kt(e,u),o}(Bt);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Lt(t);if(e){var r=Lt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ut(this,n)}}function Ut(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(o,t);var e,n,u,r=zt(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t,e))._rooms=[],n._corridors=[],n}return e=o,(n=[{key:"getRooms",value:function(){return this._rooms}},{key:"getCorridors",value:function(){return this._corridors}}])&&Mt(e.prototype,n),u&&Mt(e,u),o}(Bt);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Yt(t,e,n){return e&&Xt(t.prototype,e),n&&Xt(t,n),t}function Ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Kt(t);if(e){var r=Kt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Gt(this,n)}}function Gt(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Vt=function t(){Qt(this,t)},Zt=function(t){Ht(n,t);var e=$t(n);function n(t,u,r,o,i,a){var c;return Qt(this,n),(c=e.call(this))._x1=t,c._y1=u,c._x2=r,c._y2=o,c._doors={},void 0!==i&&void 0!==a&&c.addDoor(i,a),c}return Yt(n,[{key:"addDoor",value:function(t,e){return this._doors[t+","+e]=1,this}},{key:"getDoors",value:function(t){for(var e in this._doors){var n=e.split(",");t(parseInt(n[0]),parseInt(n[1]))}return this}},{key:"clearDoors",value:function(){return this._doors={},this}},{key:"addDoors",value:function(t){for(var e=this._x1-1,n=this._x2+1,u=this._y1-1,r=this._y2+1,o=e;o<=n;o++)for(var i=u;i<=r;i++)o!=e&&o!=n&&i!=u&&i!=r||t(o,i)||this.addDoor(o,i);return this}},{key:"debug",value:function(){console.log("room",this._x1,this._y1,this._x2,this._y2)}},{key:"isValid",value:function(t,e){for(var n=this._x1-1,u=this._x2+1,r=this._y1-1,o=this._y2+1,i=n;i<=u;i++)for(var a=r;a<=o;a++)if(i==n||i==u||a==r||a==o){if(!t(i,a))return!1}else if(!e(i,a))return!1;return!0}},{key:"create",value:function(t){for(var e=this._x1-1,n=this._x2+1,u=this._y1-1,r=this._y2+1,o=e;o<=n;o++)for(var i=u;i<=r;i++)t(o,i,o+","+i in this._doors?2:o==e||o==n||i==u||i==r?1:0)}},{key:"getCenter",value:function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]}},{key:"getLeft",value:function(){return this._x1}},{key:"getRight",value:function(){return this._x2}},{key:"getTop",value:function(){return this._y1}},{key:"getBottom",value:function(){return this._y2}}],[{key:"createRandomAt",value:function(t,e,n,u,o){var i=o.roomWidth[0],a=o.roomWidth[1],c=r.a.getUniformInt(i,a);i=o.roomHeight[0],a=o.roomHeight[1];var s=r.a.getUniformInt(i,a);if(1==n){var l=e-Math.floor(r.a.getUniform()*s);return new this(t+1,l,t+c,l+s-1,t,e)}if(-1==n){var f=e-Math.floor(r.a.getUniform()*s);return new this(t-c,f,t-1,f+s-1,t,e)}if(1==u){var h=t-Math.floor(r.a.getUniform()*c);return new this(h,e+1,h+c-1,e+s,t,e)}if(-1==u){var p=t-Math.floor(r.a.getUniform()*c);return new this(p,e-s,p+c-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")}},{key:"createRandomCenter",value:function(t,e,n){var u=n.roomWidth[0],o=n.roomWidth[1],i=r.a.getUniformInt(u,o);u=n.roomHeight[0],o=n.roomHeight[1];var a=r.a.getUniformInt(u,o),c=t-Math.floor(r.a.getUniform()*i),s=e-Math.floor(r.a.getUniform()*a);return new this(c,s,c+i-1,s+a-1)}},{key:"createRandom",value:function(t,e,n){var u=n.roomWidth[0],o=n.roomWidth[1],i=r.a.getUniformInt(u,o);u=n.roomHeight[0],o=n.roomHeight[1];var a=r.a.getUniformInt(u,o),c=t-i-1,s=e-a-1,l=1+Math.floor(r.a.getUniform()*c),f=1+Math.floor(r.a.getUniform()*s);return new this(l,f,l+i-1,f+a-1)}}]),n}(Vt),Jt=function(t){Ht(n,t);var e=$t(n);function n(t,u,r,o){var i;return Qt(this,n),(i=e.call(this))._startX=t,i._startY=u,i._endX=r,i._endY=o,i._endsWithAWall=!0,i}return Yt(n,[{key:"debug",value:function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)}},{key:"isValid",value:function(t,e){var n=this._startX,u=this._startY,r=this._endX-n,o=this._endY-u,i=1+Math.max(Math.abs(r),Math.abs(o));r&&(r/=Math.abs(r)),o&&(o/=Math.abs(o));for(var a=o,c=-r,s=!0,l=0;l<i;l++){var f=n+l*r,h=u+l*o;if(e(f,h)||(s=!1),t(f+a,h+c)||(s=!1),t(f-a,h-c)||(s=!1),!s){i=l,this._endX=f-r,this._endY=h-o;break}}if(0==i)return!1;if(1==i&&t(this._endX+r,this._endY+o))return!1;var p=!t(this._endX+r+a,this._endY+o+c),D=!t(this._endX+r-a,this._endY+o-c);return this._endsWithAWall=t(this._endX+r,this._endY+o),!p&&!D||!this._endsWithAWall}},{key:"create",value:function(t){var e=this._startX,n=this._startY,u=this._endX-e,r=this._endY-n,o=1+Math.max(Math.abs(u),Math.abs(r));u&&(u/=Math.abs(u)),r&&(r/=Math.abs(r));for(var i=0;i<o;i++){t(e+i*u,n+i*r,0)}return!0}},{key:"createPriorityWalls",value:function(t){if(this._endsWithAWall){var e=this._startX,n=this._startY,u=this._endX-e,r=this._endY-n;u&&(u/=Math.abs(u)),r&&(r/=Math.abs(r));var o=r,i=-u;t(this._endX+u,this._endY+r),t(this._endX+o,this._endY+i),t(this._endX-o,this._endY-i)}}}],[{key:"createRandomAt",value:function(t,e,n,u,o){var i=o.corridorLength[0],a=o.corridorLength[1],c=r.a.getUniformInt(i,a);return new this(t,e,t+n*c,e+u*c)}}]),n}(Vt);function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function ne(t,e){return(ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=ie(t);if(e){var r=ie(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return re(this,n)}}function re(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?oe(t):e}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(i,t);var e,n,u,o=ue(i);function i(t,e,n){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,t,e))._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3},Object.assign(u._options,n),u._map=[],u._dug=0,u._roomAttempts=20,u._corridorAttempts=20,u._connected=[],u._unconnected=[],u._digCallback=u._digCallback.bind(oe(u)),u._canBeDugCallback=u._canBeDugCallback.bind(oe(u)),u._isWallCallback=u._isWallCallback.bind(oe(u)),u}return e=i,(n=[{key:"create",value:function(t){for(var e=Date.now();;){if(Date.now()-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var n=0;n<this._width;n++)for(var u=0;u<this._height;u++)t(n,u,this._map[n][u]);return this}},{key:"_generateRooms",value:function(){var t,e=this._width-2,n=this._height-2;do{if(t=this._generateRoom(),this._dug/(e*n)>this._options.roomDugPercentage)break}while(t)}},{key:"_generateRoom",value:function(){for(var t=0;t<this._roomAttempts;){t++;var e=Zt.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null}},{key:"_generateCorridors",value:function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var n=this._rooms[e];n.clearDoors(),n.create(this._digCallback)}for(this._unconnected=r.a.shuffle(this._rooms.slice()),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var u=r.a.getItem(this._connected);if(!u)break;var o=this._closestRoom(this._unconnected,u);if(!o)break;var i=this._closestRoom(this._connected,o);if(!i)break;if(!this._connectRooms(o,i))break;if(!this._unconnected.length)return!0}}return!1}},{key:"_closestRoom",value:function(t,e){for(var n=1/0,u=e.getCenter(),r=null,o=0;o<t.length;o++){var i=t[o],a=i.getCenter(),c=a[0]-u[0],s=a[1]-u[1],l=c*c+s*s;l<n&&(n=l,r=i)}return r}},{key:"_connectRooms",value:function(t,e){var n,u,r,o,i,a,c,s=t.getCenter(),l=e.getCenter(),f=l[0]-s[0],h=l[1]-s[1];if(Math.abs(f)<Math.abs(h)?(o=(2+(r=h>0?2:0))%4,i=e.getLeft(),a=e.getRight(),c=0):(o=(2+(r=f>0?1:3))%4,i=e.getTop(),a=e.getBottom(),c=1),!(n=this._placeInWall(t,r)))return!1;if(n[c]>=i&&n[c]<=a){u=n.slice();var p=0;switch(o){case 0:p=e.getTop()-1;break;case 1:p=e.getRight()+1;break;case 2:p=e.getBottom()+1;break;case 3:p=e.getLeft()-1}u[(c+1)%2]=p,this._digLine([n,u])}else if(n[c]<i-1||n[c]>a+1){var D=n[c]-l[c],y=0;switch(o){case 0:case 1:y=D<0?3:1;break;case 2:case 3:y=D<0?1:3}if(o=(o+y)%4,!(u=this._placeInWall(e,o)))return!1;var v=[0,0];v[c]=n[c];var d=(c+1)%2;v[d]=u[d],this._digLine([n,v,u])}else{var g=(c+1)%2;if(!(u=this._placeInWall(e,o)))return!1;var _=Math.round((u[g]+n[g])/2),A=[0,0],C=[0,0];A[c]=n[c],A[g]=_,C[c]=u[c],C[g]=_,this._digLine([n,A,C,u])}return t.addDoor(n[0],n[1]),e.addDoor(u[0],u[1]),-1!=(c=this._unconnected.indexOf(t))&&(this._unconnected.splice(c,1),this._connected.push(t)),-1!=(c=this._unconnected.indexOf(e))&&(this._unconnected.splice(c,1),this._connected.push(e)),!0}},{key:"_placeInWall",value:function(t,e){var n=[0,0],u=[0,0],o=0;switch(e){case 0:u=[1,0],n=[t.getLeft(),t.getTop()-1],o=t.getRight()-t.getLeft()+1;break;case 1:u=[0,1],n=[t.getRight()+1,t.getTop()],o=t.getBottom()-t.getTop()+1;break;case 2:u=[1,0],n=[t.getLeft(),t.getBottom()+1],o=t.getRight()-t.getLeft()+1;break;case 3:u=[0,1],n=[t.getLeft()-1,t.getTop()],o=t.getBottom()-t.getTop()+1}for(var i=[],a=-2,c=0;c<o;c++){var s=n[0]+c*u[0],l=n[1]+c*u[1];i.push(null),1==this._map[s][l]?a!=c-1&&(i[c]=[s,l]):(a=c,c&&(i[c-1]=null))}for(var f=i.length-1;f>=0;f--)i[f]||i.splice(f,1);return i.length?r.a.getItem(i):null}},{key:"_digLine",value:function(t){for(var e=1;e<t.length;e++){var n=t[e-1],u=t[e],r=new Jt(n[0],n[1],u[0],u[1]);r.create(this._digCallback),this._corridors.push(r)}}},{key:"_digCallback",value:function(t,e,n){this._map[t][e]=n,0==n&&this._dug++}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}}])&&ee(e.prototype,n),u&&ee(e,u),i}(Wt);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=De(t);if(e){var r=De(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return pe(this,n)}}function pe(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function de(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ee(t);if(e){var r=Ee(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ae(this,n)}}function Ae(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?Ce(t):e}function Ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me={room:Zt,corridor:Jt};function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Be(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Se(t);if(e){var r=Se(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return ke(this,n)}}function ke(t,e){return!e||"object"!==be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t,e,n){n[e[t+1]]=n[t],e[n[t]]=e[t+1],n[t]=t+1,e[t+1]=t}function je(t,e,n){n[e[t]]=n[t],e[n[t]]=e[t],n[t]=t,e[t]=t}function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ue(t);if(e){var r=Ue(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return ze(this,n)}}function ze(t,e){return!e||"object"!==Pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=qe(t);if(e){var r=qe(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return He(this,n)}}function He(t,e){return!e||"object"!==Le(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qe(t){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ze(t);if(e){var r=Ze(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je={Arena:Rt,Uniform:ae,Cellular:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(i,t);var e,n,u,o=he(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se(this,i),(n=o.call(this,t,e))._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8},n.setOptions(u),n._dirs=dt[n._options.topology],n._map=n._fillMap(0),n}return e=i,(n=[{key:"randomize",value:function(t){for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)this._map[e][n]=r.a.getUniform()<t?1:0;return this}},{key:"setOptions",value:function(t){Object.assign(this._options,t)}},{key:"set",value:function(t,e,n){this._map[t][e]=n}},{key:"create",value:function(t){for(var e=this._fillMap(0),n=this._options.born,u=this._options.survive,r=0;r<this._height;r++){var o=1,i=0;6==this._options.topology&&(o=2,i=r%2);for(var a=i;a<this._width;a+=o){var c=this._map[a][r],s=this._getNeighbors(a,r);c&&-1!=u.indexOf(s)?e[a][r]=1:c||-1==n.indexOf(s)||(e[a][r]=1)}}this._map=e,t&&this._serviceCallback(t)}},{key:"_serviceCallback",value:function(t){for(var e=0;e<this._height;e++){var n=1,u=0;6==this._options.topology&&(n=2,u=e%2);for(var r=u;r<this._width;r+=n)t(r,e,this._map[r][e])}}},{key:"_getNeighbors",value:function(t,e){for(var n=0,u=0;u<this._dirs.length;u++){var r=this._dirs[u],o=t+r[0],i=e+r[1];o<0||o>=this._width||i<0||i>=this._height||(n+=1==this._map[o][i]?1:0)}return n}},{key:"connect",value:function(t,e,n){e||(e=0);var u=[],o={},i=1,a=[0,0];6==this._options.topology&&(i=2,a=[0,1]);for(var c=0;c<this._height;c++)for(var s=a[c%2];s<this._width;s+=i)if(this._freeSpace(s,c,e)){var l=[s,c];o[this._pointKey(l)]=l,u.push([s,c])}var f=u[r.a.getUniformInt(0,u.length-1)],h=this._pointKey(f),p={};for(p[h]=f,delete o[h],this._findConnected(p,o,[f],!1,e);Object.keys(o).length>0;){var D=this._getFromTo(p,o),y=D[0],v=D[1],d={};d[this._pointKey(y)]=y,this._findConnected(d,o,[y],!0,e);var g=6==this._options.topology?this._tunnelToConnected6:this._tunnelToConnected;for(var _ in g.call(this,v,y,p,o,e,n),d){var A=d[_];this._map[A[0]][A[1]]=e,p[_]=A,delete o[_]}}t&&this._serviceCallback(t)}},{key:"_getFromTo",value:function(t,e){for(var n=[0,0],u=[0,0],o=Object.keys(t),i=Object.keys(e),a=0;a<5;a++){if(o.length<i.length){var c=o;u=t[c[r.a.getUniformInt(0,c.length-1)]],n=this._getClosest(u,e)}else{var s=i;n=e[s[r.a.getUniformInt(0,s.length-1)]],u=this._getClosest(n,t)}if((n[0]-u[0])*(n[0]-u[0])+(n[1]-u[1])*(n[1]-u[1])<64)break}return[n,u]}},{key:"_getClosest",value:function(t,e){var n=null,u=null;for(var r in e){var o=e[r],i=(o[0]-t[0])*(o[0]-t[0])+(o[1]-t[1])*(o[1]-t[1]);(null==u||i<u)&&(u=i,n=o)}return n}},{key:"_findConnected",value:function(t,e,n,u,r){for(;n.length>0;){var o=n.splice(0,1)[0],i=void 0;i=6==this._options.topology?[[o[0]+2,o[1]],[o[0]+1,o[1]-1],[o[0]-1,o[1]-1],[o[0]-2,o[1]],[o[0]-1,o[1]+1],[o[0]+1,o[1]+1]]:[[o[0]+1,o[1]],[o[0]-1,o[1]],[o[0],o[1]+1],[o[0],o[1]-1]];for(var a=0;a<i.length;a++){var c=this._pointKey(i[a]);null==t[c]&&this._freeSpace(i[a][0],i[a][1],r)&&(t[c]=i[a],u||delete e[c],n.push(i[a]))}}}},{key:"_tunnelToConnected",value:function(t,e,n,u,r,o){var i,a;e[0]<t[0]?(i=e,a=t):(i=t,a=e);for(var c=i[0];c<=a[0];c++){this._map[c][i[1]]=r;var s=[c,i[1]],l=this._pointKey(s);n[l]=s,delete u[l]}o&&i[0]<a[0]&&o(i,[a[0],i[1]]);var f=a[0];e[1]<t[1]?(i=e,a=t):(i=t,a=e);for(var h=i[1];h<a[1];h++){this._map[f][h]=r;var p=[f,h],D=this._pointKey(p);n[D]=p,delete u[D]}o&&i[1]<a[1]&&o([a[0],i[1]],[a[0],a[1]])}},{key:"_tunnelToConnected6",value:function(t,e,n,u,r,o){var i,a;e[0]<t[0]?(i=e,a=t):(i=t,a=e);for(var c=i[0],s=i[1];c!=a[0]||s!=a[1];){var l=2;s<a[1]?(s++,l=1):s>a[1]&&(s--,l=1),c<a[0]?c+=l:c>a[0]||a[1]%2?c-=l:c+=l,this._map[c][s]=r;var f=[c,s],h=this._pointKey(f);n[h]=f,delete u[h]}o&&o(e,t)}},{key:"_freeSpace",value:function(t,e,n){return t>=0&&t<this._width&&e>=0&&e<this._height&&this._map[t][e]==n}},{key:"_pointKey",value:function(t){return t[0]+"."+t[1]}}])&&le(e.prototype,n),u&&le(e,u),i}(Bt),Digger:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(i,t);var e,n,u,o=_e(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ve(this,i),(n=o.call(this,t,e))._options=Object.assign({roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3},u),n._features={room:4,corridor:4},n._map=[],n._featureAttempts=20,n._walls={},n._dug=0,n._digCallback=n._digCallback.bind(Ce(n)),n._canBeDugCallback=n._canBeDugCallback.bind(Ce(n)),n._isWallCallback=n._isWallCallback.bind(Ce(n)),n._priorityWallCallback=n._priorityWallCallback.bind(Ce(n)),n}return e=i,(n=[{key:"create",value:function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var n,u=Date.now();do{if(n=0,Date.now()-u>this._options.timeLimit)break;var r=this._findWall();if(!r)break;var o=r.split(","),i=parseInt(o[0]),a=parseInt(o[1]),c=this._getDiggingDirection(i,a);if(c){var s=0;do{if(s++,this._tryFeature(i,a,c[0],c[1])){this._removeSurroundingWalls(i,a),this._removeSurroundingWalls(i-c[0],a-c[1]);break}}while(s<this._featureAttempts);for(var l in this._walls)this._walls[l]>1&&n++}}while(this._dug/e<this._options.dugPercentage||n);if(this._addDoors(),t)for(var f=0;f<this._width;f++)for(var h=0;h<this._height;h++)t(f,h,this._map[f][h]);return this._walls={},this._map=[],this}},{key:"_digCallback",value:function(t,e,n){0==n||2==n?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}},{key:"_priorityWallCallback",value:function(t,e){this._walls[t+","+e]=2}},{key:"_firstRoom",value:function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),n=Zt.createRandomCenter(t,e,this._options);this._rooms.push(n),n.create(this._digCallback)}},{key:"_findWall",value:function(){var t=[],e=[];for(var n in this._walls)2==this._walls[n]?e.push(n):t.push(n);var u=e.length?e:t;if(!u.length)return null;var o=r.a.getItem(u.sort());return delete this._walls[o],o}},{key:"_tryFeature",value:function(t,e,n,u){var o=r.a.getWeightedValue(this._features),i=me[o].createRandomAt(t,e,n,u,this._options);return!!i.isValid(this._isWallCallback,this._canBeDugCallback)&&(i.create(this._digCallback),i instanceof Zt&&this._rooms.push(i),i instanceof Jt&&(i.createPriorityWalls(this._priorityWallCallback),this._corridors.push(i)),!0)}},{key:"_removeSurroundingWalls",value:function(t,e){for(var n=dt[4],u=0;u<n.length;u++){var r=n[u],o=t+r[0],i=e+r[1];delete this._walls[o+","+i],o=t+2*r[0],i=e+2*r[1],delete this._walls[o+","+i]}}},{key:"_getDiggingDirection",value:function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var n=null,u=dt[4],r=0;r<u.length;r++){var o=u[r],i=t+o[0],a=e+o[1];if(!this._map[i][a]){if(n)return null;n=o}}return n?[-n[0],-n[1]]:null}},{key:"_addDoors",value:function(){var t=this._map;function e(e,n){return 1==t[e][n]}for(var n=0;n<this._rooms.length;n++){var u=this._rooms[n];u.clearDoors(),u.addDoors(e)}}}])&&de(e.prototype,n),u&&de(e,u),i}(Wt),EllerMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(i,t);var e,n,u,o=xe(i);function i(){return Fe(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"create",value:function(t){for(var e,n=this._fillMap(1),u=Math.ceil((this._width-2)/2),o=[],i=[],a=0;a<u;a++)o.push(a),i.push(a);for(o.push(u-1),e=1;e+3<this._height;e+=2)for(var c=0;c<u;c++){var s=2*c+1,l=e;n[s][l]=0,c!=o[c+1]&&r.a.getUniform()>9/24&&(Oe(c,o,i),n[s+1][l]=0),c!=o[c]&&r.a.getUniform()>9/24?je(c,o,i):n[s][l+1]=0}for(var f=0;f<u;f++){var h=2*f+1,p=e;n[h][p]=0,f!=o[f+1]&&(f==o[f]||r.a.getUniform()>9/24)&&(Oe(f,o,i),n[h+1][p]=0),je(f,o,i)}for(var D=0;D<this._width;D++)for(var y=0;y<this._height;y++)t(D,y,n[D][y]);return this}}])&&Be(e.prototype,n),u&&Be(e,u),i}(Bt),DividedMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(i,t);var e,n,u,o=Ie(i);function i(){var t;return Re(this,i),(t=o.apply(this,arguments))._stack=[],t._map=[],t}return e=i,(n=[{key:"create",value:function(t){var e=this._width,n=this._height;this._map=[];for(var u=0;u<e;u++){this._map.push([]);for(var r=0;r<n;r++){var o=0==u||0==r||u+1==e||r+1==n;this._map[u].push(o?1:0)}}this._stack=[[1,1,e-2,n-2]],this._process();for(var i=0;i<e;i++)for(var a=0;a<n;a++)t(i,a,this._map[i][a]);return this._map=[],this}},{key:"_process",value:function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}}},{key:"_partitionRoom",value:function(t){for(var e=[],n=[],u=t[0]+1;u<t[2];u++){var o=this._map[u][t[1]-1],i=this._map[u][t[3]+1];!o||!i||u%2||e.push(u)}for(var a=t[1]+1;a<t[3];a++){var c=this._map[t[0]-1][a],s=this._map[t[2]+1][a];!c||!s||a%2||n.push(a)}if(e.length&&n.length){var l=r.a.getItem(e),f=r.a.getItem(n);this._map[l][f]=1;var h=[],p=[];h.push(p);for(var D=t[0];D<l;D++)this._map[D][f]=1,D%2&&p.push([D,f]);p=[],h.push(p);for(var y=l+1;y<=t[2];y++)this._map[y][f]=1,y%2&&p.push([y,f]);p=[],h.push(p);for(var v=t[1];v<f;v++)this._map[l][v]=1,v%2&&p.push([l,v]);p=[],h.push(p);for(var d=f+1;d<=t[3];d++)this._map[l][d]=1,d%2&&p.push([l,d]);for(var g=r.a.getItem(h),_=0;_<h.length;_++){var A=h[_];if(A!=g){var C=r.a.getItem(A);this._map[C[0]][C[1]]=0}}this._stack.push([t[0],t[1],l-1,f-1]),this._stack.push([l+1,t[1],t[2],f-1]),this._stack.push([t[0],f+1,l-1,t[3]]),this._stack.push([l+1,f+1,t[2],t[3]])}}}])&&Te(e.prototype,n),u&&Te(e,u),i}(Bt),IceyMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(i,t);var e,n,u,o=Ye(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return We(this,i),(n=o.call(this,t,e))._regularity=u,n._map=[],n}return e=i,(n=[{key:"create",value:function(t){var e=this._width,n=this._height,u=this._fillMap(1);e-=e%2?1:2,n-=n%2?1:2;var o=0,i=0,a=0,c=0,s=0,l=!1,f=[[0,0],[0,0],[0,0],[0,0]];do{if(o=1+2*Math.floor(r.a.getUniform()*(e-1)/2),i=1+2*Math.floor(r.a.getUniform()*(n-1)/2),s||(u[o][i]=0),!u[o][i]){this._randomize(f);do{0==Math.floor(r.a.getUniform()*(this._regularity+1))&&this._randomize(f),l=!0;for(var h=0;h<4;h++)if(a=o+2*f[h][0],c=i+2*f[h][1],this._isFree(u,a,c,e,n)){u[a][c]=0,u[o+f[h][0]][i+f[h][1]]=0,o=a,i=c,l=!1,s++;break}}while(!l)}}while(s+1<e*n/4);for(var p=0;p<this._width;p++)for(var D=0;D<this._height;D++)t(p,D,u[p][D]);return this._map=[],this}},{key:"_randomize",value:function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*r.a.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}}},{key:"_isFree",value:function(t,e,n,u,r){return!(e<1||n<1||e>=u||n>=r)&&t[e][n]}}])&&Ne(e.prototype,n),u&&Ne(e,u),i}(Bt),Rogue:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(i,t);var e,n,u,o=Qe(i);function i(t,e,n){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,t,e)).map=[],u.rooms=[],u.connectedCells=[],(n=Object.assign({cellWidth:3,cellHeight:3},n)).hasOwnProperty("roomWidth")||(n.roomWidth=u._calculateRoomSize(u._width,n.cellWidth)),n.hasOwnProperty("roomHeight")||(n.roomHeight=u._calculateRoomSize(u._height,n.cellHeight)),u._options=n,u}return e=i,(n=[{key:"create",value:function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)t(e,n,this.map[e][n]);return this}},{key:"_calculateRoomSize",value:function(t,e){var n=Math.floor(t/e*.8),u=Math.floor(t/e*.25);return u<2&&(u=2),n<2&&(n=2),[u,n]}},{key:"_initRooms",value:function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}}},{key:"_connectRooms",value:function(){var t,e,n,u,o,i,a=r.a.getUniformInt(0,this._options.cellWidth-1),c=r.a.getUniformInt(0,this._options.cellHeight-1),s=!1;do{i=[0,2,4,6],i=r.a.shuffle(i);do{if(s=!1,t=i.pop(),e=a+dt[8][t][0],n=c+dt[8][t][1],!(e<0||e>=this._options.cellWidth||n<0||n>=this._options.cellHeight)){if((u=this.rooms[a][c]).connections.length>0&&u.connections[0][0]==e&&u.connections[0][1]==n)break;0==(o=this.rooms[e][n]).connections.length&&(o.connections.push([a,c]),this.connectedCells.push([e,n]),a=e,c=n,s=!0)}}while(i.length>0&&0==s)}while(i.length>0)}},{key:"_connectUnconnectedRooms",value:function(){var t,e,n,u=this._options.cellWidth,o=this._options.cellHeight;this.connectedCells=r.a.shuffle(this.connectedCells);for(var i=0;i<this._options.cellWidth;i++)for(var a=0;a<this._options.cellHeight;a++)if(0==(t=this.rooms[i][a]).connections.length){var c=[0,2,4,6];c=r.a.shuffle(c),n=!1;do{var s=c.pop(),l=i+dt[8][s][0],f=a+dt[8][s][1];if(!(l<0||l>=u||f<0||f>=o)){if(n=!0,0==(e=this.rooms[l][f]).connections.length)break;for(var h=0;h<e.connections.length;h++)if(e.connections[h][0]==i&&e.connections[h][1]==a){n=!1;break}if(n)break}}while(c.length);n?t.connections.push([e.cellx,e.celly]):console.log("-- Unable to connect room.")}}},{key:"_createRandomRoomConnections",value:function(){}},{key:"_createRooms",value:function(){for(var t,e,n,u,o,i=this._width,a=this._height,c=this._options.cellWidth,s=this._options.cellHeight,l=Math.floor(this._width/c),f=Math.floor(this._height/s),h=this._options.roomWidth,p=this._options.roomHeight,D=0;D<c;D++)for(var y=0;y<s;y++){if(0==(n=l*D)&&(n=1),0==(u=f*y)&&(u=1),t=r.a.getUniformInt(h[0],h[1]),e=r.a.getUniformInt(p[0],p[1]),y>0)for(o=this.rooms[D][y-1];u-(o.y+o.height)<3;)u++;if(D>0)for(o=this.rooms[D-1][y];n-(o.x+o.width)<3;)n++;for(var v=Math.round(r.a.getUniformInt(0,l-t)/2),d=Math.round(r.a.getUniformInt(0,f-e)/2);n+v+t>=i;)v?v--:t--;for(;u+d+e>=a;)d?d--:e--;n+=v,u+=d,this.rooms[D][y].x=n,this.rooms[D][y].y=u,this.rooms[D][y].width=t,this.rooms[D][y].height=e;for(var g=n;g<n+t;g++)for(var _=u;_<u+e;_++)this.map[g][_]=0}}},{key:"_getWallPosition",value:function(t,e){var n,u,o;return 1==e||3==e?(n=r.a.getUniformInt(t.x+1,t.x+t.width-2),o=1==e?1+(u=t.y-2):(u=t.y+t.height+1)-1,this.map[n][o]=0):(u=r.a.getUniformInt(t.y+1,t.y+t.height-2),o=2==e?(n=t.x+t.width+1)-1:1+(n=t.x-2),this.map[o][u]=0),[n,u]}},{key:"_drawCorridor",value:function(t,e){var n,u,o,i,a=e[0]-t[0],c=e[1]-t[1],s=t[0],l=t[1],f=[],h=Math.abs(a),p=Math.abs(c),D=r.a.getUniform(),y=D,v=1-D;for(u=a>0?2:6,o=c>0?4:0,h<p?(n=Math.ceil(p*y),f.push([o,n]),f.push([u,h]),n=Math.floor(p*v),f.push([o,n])):(n=Math.ceil(h*y),f.push([u,n]),f.push([o,p]),n=Math.floor(h*v),f.push([u,n])),this.map[s][l]=0;f.length>0;)for(i=f.pop();i[1]>0;)s+=dt[8][i[0]][0],l+=dt[8][i[0]][1],this.map[s][l]=0,i[1]=i[1]-1}},{key:"_createCorridors",value:function(){for(var t,e,n,u,r,o=this._options.cellWidth,i=this._options.cellHeight,a=0;a<o;a++)for(var c=0;c<i;c++){t=this.rooms[a][c];for(var s=0;s<t.connections.length;s++)e=t.connections[s],(n=this.rooms[e[0]][e[1]]).cellx>t.cellx?(u=2,r=4):n.cellx<t.cellx?(u=4,r=2):n.celly>t.celly?(u=3,r=1):(u=1,r=3),this._drawCorridor(this._getWallPosition(t,u),this._getWallPosition(n,r))}}}])&&Ge(e.prototype,n),u&&Ge(e,u),i}(Bt)};Math.sqrt(3),Math.sqrt(3);function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var nn=function(){function t(e,n,u){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};tn(this,t),this._toX=e,this._toY=n,this._passableCallback=u,this._options=Object.assign({topology:8},r),this._dirs=dt[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}var e,n,u;return e=t,(n=[{key:"_getNeighbors",value:function(t,e){for(var n=[],u=0;u<this._dirs.length;u++){var r=this._dirs[u],o=t+r[0],i=e+r[1];this._passableCallback(o,i)&&n.push([o,i])}return n}}])&&en(e.prototype,n),u&&en(e,u),t}();function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function on(t,e){return(on=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return cn(this,n)}}function cn(t,e){return!e||"object"!==un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sn(t){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=vn(t);if(e){var r=vn(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return yn(this,n)}}function yn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dn={Dijkstra:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&on(t,e)}(o,t);var e,n,u,r=an(o);function o(t,e,n,u){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(i=r.call(this,t,e,n,u))._computed={},i._todo=[],i._add(t,e,null),i}return e=o,(n=[{key:"compute",value:function(t,e,n){var u=t+","+e;if(u in this._computed||this._compute(t,e),u in this._computed)for(var r=this._computed[u];r;)n(r.x,r.y),r=r.prev}},{key:"_compute",value:function(t,e){for(;this._todo.length;){var n=this._todo.shift();if(n.x==t&&n.y==e)return;for(var u=this._getNeighbors(n.x,n.y),r=0;r<u.length;r++){var o=u[r],i=o[0],a=o[1];i+","+a in this._computed||this._add(i,a,n)}}}},{key:"_add",value:function(t,e,n){var u={x:t,y:e,prev:n};this._computed[t+","+e]=u,this._todo.push(u)}}])&&rn(e.prototype,n),u&&rn(e,u),o}(nn),AStar:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(o,t);var e,n,u,r=Dn(o);function o(t,e,n){var u,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fn(this,o),(u=r.call(this,t,e,n,i))._todo=[],u._done={},u}return e=o,(n=[{key:"compute",value:function(t,e,n){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var u=this._todo.shift(),r=u.x+","+u.y;if(!(r in this._done)){if(this._done[r]=u,u.x==t&&u.y==e)break;for(var o=this._getNeighbors(u.x,u.y),i=0;i<o.length;i++){var a=o[i],c=a[0],s=a[1];c+","+s in this._done||this._add(c,s,u)}}}var l=this._done[t+","+e];if(l)for(;l;)n(l.x,l.y),l=l.prev}},{key:"_add",value:function(t,e,n){for(var u=this._distance(t,e),r={x:t,y:e,prev:n,g:n?n.g+1:0,h:u},o=r.g+r.h,i=0;i<this._todo.length;i++){var a=this._todo[i],c=a.g+a.h;if(o<c||o==c&&u<a.h)return void this._todo.splice(i,0,r)}this._todo.push(r)}},{key:"_distance",value:function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var n=Math.abs(t-this._fromX),u=Math.abs(e-this._fromY);return u+Math.max(0,(n-u)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}}}])&&hn(e.prototype,n),u&&hn(e,u),o}(nn)};window.devicePixelRatio,document.querySelector("#game");var gn=50,_n=34,An={width:20,height:10,x:10,y:3},Cn={width:10,height:10,x:31,y:3},En={width:10,height:2,x:1,y:3},mn={width:50,height:2,x:10,y:14},bn={width:30,height:1,x:10,y:16},Fn={width:20,height:1,x:12,y:2},Bn={width:40,height:30},wn=new mt({bg:"black",fg:"Grey",fontFamily:"Fira Mono",width:gn,height:_n,fontSize:18,forceSquareRatio:!0});document.body.appendChild(wn.getContainer());var xn={bg:"black",fg:"Grey",fontFamily:"Fira Mono",width:Bn.width,height:Bn.height,fontSize:18,forceSquareRatio:!0},kn=document.createElement("div");kn.id="helpMenu",document.body.appendChild(kn);var Sn=new mt(xn);function On(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||Rn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(t,e){if(null==t)return{};var n,u,r=function(t,e){if(null==t)return{};var n,u,r={},o=Object.keys(t);for(u=0;u<o.length;u++)n=o[u],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(u=0;u<o.length;u++)n=o[u],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Rn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var u=0,r=function(){};return{s:r,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Rn(t,e){if(t){if("string"==typeof t)return Tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(t,e):void 0}}function Tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Un(t,e,n){return e&&zn(t.prototype,e),n&&zn(t,n),t}function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,u)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){Nn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}kn.appendChild(Sn.getContainer()),Sn.drawText(0,0,"HELLO CAN YOU SEE THIS");var Yn=function(t,e){if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");e=Wn(Wn({},{pascalCase:!1}),e);var n;return 0===(t=Array.isArray(t)?t.map((function(t){return t.trim()})).filter((function(t){return t.length})).join("-"):t.trim()).length?"":1===t.length?e.pascalCase?t.toLocaleUpperCase():t.toLocaleLowerCase():(t!==t.toLocaleLowerCase()&&(t=function(t){for(var e=!1,n=!1,u=!1,r=0;r<t.length;r++){var o=t[r];e&&/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C2\uA7C4-\uA7C7\uA7C9\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21])/.test(o)?(t=t.slice(0,r)+"-"+t.slice(r),e=!1,u=n,n=!0,r++):n&&u&&/(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C3\uA7C8\uA7CA\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.test(o)?(t=t.slice(0,r-1)+"-"+t.slice(r-1),u=n,n=!1,e=!0):(e=o.toLocaleLowerCase()===o&&o.toLocaleUpperCase()!==o,u=n,n=o.toLocaleUpperCase()===o&&o.toLocaleLowerCase()!==o)}return t}(t)),t=t.replace(/^[_.\- ]+/,"").toLocaleLowerCase().replace(/[ \x2D\._]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(t,e){return e.toLocaleUpperCase()})).replace(/[0-9]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(t){return t.toLocaleUpperCase()})),n=t,e.pascalCase?n.charAt(0).toLocaleUpperCase()+n.slice(1):n)},Hn=Yn,qn=Yn;Hn.default=qn;var $n={},Gn=function(t){var e=$n[t];return e||($n[t]=Hn(t),$n[t])},Kn=function(){function t(){In(this,t),Xn(this,"_cbit",0),Xn(this,"_map",{})}return Un(t,[{key:"register",value:function(t){var e=Gn(t.name);t.prototype._ckey=e,t.prototype._cbit=BigInt(++this._cbit),this._map[e]=t}},{key:"get",value:function(t){return this._map[t]}}]),t}(),Qn=function(t){return function(t){return!!t&&"object"===Mn(t)}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Vn}(t)}(t)};var Vn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Zn(t,e){return!1!==e.clone&&e.isMergeableObject(t)?uu((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function Jn(t,e,n){return t.concat(e).map((function(t){return Zn(t,n)}))}function tu(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function eu(t,e){try{return e in t}catch(t){return!1}}function nu(t,e,n){var u={};return n.isMergeableObject(t)&&tu(t).forEach((function(e){u[e]=Zn(t[e],n)})),tu(e).forEach((function(r){(function(t,e){return eu(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(eu(t,r)&&n.isMergeableObject(e[r])?u[r]=function(t,e){if(!e.customMerge)return uu;var n=e.customMerge(t);return"function"==typeof n?n:uu}(r,n)(t[r],e[r],n):u[r]=Zn(e[r],n))})),u}function uu(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Jn,n.isMergeableObject=n.isMergeableObject||Qn,n.cloneUnlessOtherwiseSpecified=Zn;var u=Array.isArray(e);return u===Array.isArray(t)?u?n.arrayMerge(t,e,n):nu(t,e,n):Zn(e,n)}uu.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return uu(t,n,e)}),{})};var ru=uu,ou=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];In(this,t),this.clazz=e,this.properties=n,this.overwrite=u}return Un(t,[{key:"applyToEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.clazz.allowMultiple&&t.has(this.clazz)){if(!this.overwrite)return;var n=t[this.clazz.prototype._ckey];t.remove(n)}var u=ru(this.properties,e);t.add(this.clazz,u)}}]),t}(),iu=function(){function t(e){In(this,t),Xn(this,"name",""),Xn(this,"inherit",[]),Xn(this,"components",[]),this.name=e}return Un(t,[{key:"addComponent",value:function(t){this.components.push(t)}},{key:"applyToEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.inherit.forEach((function(n){n.applyToEntity(t,e)}));var n={};return this.components.forEach((function(u){var r=u.clazz,o=r.prototype._ckey,i={};if(r.allowMultiple)if(r.keyProperty){var a=u.properties[r.keyProperty];e[o]&&e[o][a]&&(i=e[o][a])}else n[o]||(n[o]=0),e[o]&&e[o][n[o]]&&(i=e[o][n[o]]),n[o]++;else i=e[o];u.applyToEntity(t,i)})),t}}]),t}(),au=function(){function t(e){In(this,t),Xn(this,"_prefabs",{}),Xn(this,"_engine",null),this._engine=e}return Un(t,[{key:"deserialize",value:function(t){var e=this,n=this.get(t.name);if(n)return n;var u,r=new iu(t.name);return u=Array.isArray(t.inherit)?t.inherit:"string"==typeof t.inherit?[t.inherit]:[],r.inherit=u.map((function(n){var u=e.get(n);return u||(console.warn('Prefab "'.concat(t.name,'" cannot inherit from Prefab "').concat(n,'" because is not registered yet! Prefabs must be registered in the right order.')),n)})),(t.components||[]).forEach((function(n){if("string"==typeof n){var u=Gn(n),o=e._engine._components.get(u);if(o)return void r.addComponent(new ou(o))}if("object"===Mn(n)){var i=Gn(n.type),a=e._engine._components.get(i);if(a)return void r.addComponent(new ou(a,n.properties,n.overwrite))}console.warn('Unrecognized component reference "'.concat(n,'" in prefab "').concat(t.name,'". Ensure the component is registered before the prefab.'))})),r}},{key:"register",value:function(t){var e=this.deserialize(t);this._prefabs[e.name]=e}},{key:"get",value:function(t){return this._prefabs[t]}},{key:"create",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=this.get(e);if(u){var r=t.createEntity();return r._qeligible=!1,u.applyToEntity(r,n),r._qeligible=!0,r._candidacy(),r}console.warn('Could not instantiate prefab "'.concat(e,'" since it is not registered'))}}]),t}(),cu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};In(this,t),Object.assign(this,this.constructor.properties,e)}return Un(t,[{key:"world",get:function(){return this.entity.world}},{key:"allowMultiple",get:function(){return this.constructor.allowMultiple}},{key:"keyProperty",get:function(){return this.constructor.keyProperty}},{key:"destroy",value:function(){this.entity.remove(this)}},{key:"_onDestroyed",value:function(){this.onDestroyed(),delete this.entity}},{key:"_onEvent",value:function(t){this.onEvent(t),"function"==typeof this[t.handlerName]&&this[t.handlerName](t)}},{key:"_onAttached",value:function(t){this.entity=t,this.onAttached(t)}},{key:"serialize",value:function(){var t={};for(var e in this.constructor.properties)t[e]=this[e];return t}},{key:"onAttached",value:function(t){}},{key:"onDestroyed",value:function(){}},{key:"onEvent",value:function(t){}}]),t}();Xn(cu,"allowMultiple",!1),Xn(cu,"keyProperty",null),Xn(cu,"properties",{});var su=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};In(this,t),Xn(this,"data",{}),Xn(this,"prevented",!1),Xn(this,"handled",!1),this.name=e,this.data=n,this.handlerName=Gn("on ".concat(this.name))}return Un(t,[{key:"is",value:function(t){return this.name===t}},{key:"handle",value:function(){this.handled=!0,this.prevented=!0}},{key:"prevent",value:function(){this.prevented=!0}}]),t}(),lu=1n,fu=function(t,e){return t&~(1n<<e)},hu=function(t,e){return t|lu<<e},pu=function(t,e){return t&e},Du=function(t){return t.serialize()},yu=function(t){var e={};for(var n in t)e[n]=Du(t[n]);return e},vu=function(){function t(e,n){In(this,t),Xn(this,"_cbits",0n),Xn(this,"_qeligible",!0),this.world=e,this.id=n,this.components={},this.isDestroyed=!1}return Un(t,[{key:"_candidacy",value:function(){this._qeligible&&this.world._candidate(this)}},{key:"add",value:function(t,e){var n=new t(e);n.keyProperty?function(t,e){var n=e._ckey;t.components[n]||(t[n]={},t.components[n]={}),t[n][e[e.keyProperty]]=e,t.components[n][e[e.keyProperty]]=e}(this,n):n.allowMultiple?function(t,e){var n=e._ckey;t.components[n]||(t[n]=[],t.components[n]=[]),t[n].push(e),t.components[n].push(e)}(this,n):function(t,e){var n=e._ckey;t[n]=e,t.components[n]=e}(this,n),this._cbits=hu(this._cbits,n._cbit),n._onAttached(this),this._candidacy()}},{key:"has",value:function(t){return e=this._cbits,n=t.prototype._cbit,(e>>n)%2n!==0n;var e,n}},{key:"remove",value:function(t){t.keyProperty?function(t,e){var n=e._ckey,u=e[e.keyProperty];delete t[n][u],delete t.components[n][u],Object.keys(t[n]).length<=0&&(delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy())}(this,t):t.allowMultiple?function(t,e){var n=e._ckey,u=t[n].indexOf(e);t[n].splice(u,1),t.components[n].splice(u,1),t[n].length<=0&&(delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy())}(this,t):function(t,e){var n=e._ckey;delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy()}(this,t),t._onDestroyed()}},{key:"destroy",value:function(){for(var t in this.components){var e=this.components[t];if(e instanceof cu)this._cbits=fu(this._cbits,e._cbit),e._onDestroyed();else if(e instanceof Array){var n,u=Pn(e);try{for(u.s();!(n=u.n()).done;){var r=n.value;this._cbits=fu(this._cbits,r._cbit),r._onDestroyed()}}catch(t){u.e(t)}finally{u.f()}}else for(var o=0,i=Object.values(e);o<i.length;o++){var a=i[o];this._cbits=fu(this._cbits,a._cbit),a._onDestroyed()}delete this[t],delete this.components[t]}this._candidacy(),this.world._destroyed(this.id),this.components={},this.isDestroyed=!0}},{key:"serialize",value:function(){var t={};for(var e in this.components){var n=this.components[e];t[e]=n instanceof cu?Du(n):n instanceof Array?n.map(Du):yu(n)}return Wn({id:this.id},t)}},{key:"fireEvent",value:function(t,e){var n=new su(t,e);for(var u in this.components){var r=this.components[u];if(r instanceof cu){if(r._onEvent(n),n.prevented)return n}else if(r instanceof Array){for(var o=0;o<r.length;o++)if(r[o]._onEvent(n),n.prevented)return n}else for(var i=0,a=Object.values(r);i<a.length;i++){if(a[i]._onEvent(n),n.prevented)return n}}return n}}]),t}(),du=function(){function t(e,n){In(this,t),Xn(this,"_cache",[]),Xn(this,"_onAddListeners",[]),Xn(this,"_onRemoveListeners",[]),this._world=e;var u=n.any||[],r=n.all||[],o=n.none||[];this._any=u.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this._all=r.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this._none=o.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this.refresh()}return Un(t,[{key:"onEntityAdded",value:function(t){this._onAddListeners.push(t)}},{key:"onEntityRemoved",value:function(t){this._onRemoveListeners.push(t)}},{key:"has",value:function(t){return this.idx(t)>=0}},{key:"idx",value:function(t){return this._cache.indexOf(t)}},{key:"matches",value:function(t){var e=t._cbits,n=0n===this._any||pu(e,this._any)>0,u=pu(e,this._all)===this._all,r=0n===pu(e,this._none);return n&&u&&r}},{key:"candidate",value:function(t){var e=this.idx(t),n=e>=0;return!t.isDestroyed&&this.matches(t)?(n||(this._cache.push(t),this._onAddListeners.forEach((function(e){return e(t)}))),!0):(n&&(this._cache.splice(e,1),this._onRemoveListeners.forEach((function(e){return e(t)}))),!1)}},{key:"refresh",value:function(){var t=this;this._cache=[],this._world._entities.forEach((function(e){t.candidate(e)}))}},{key:"get",value:function(){return this._cache}}]),t}(),gu=function(){function t(e){In(this,t),Xn(this,"_id",0),Xn(this,"_queries",[]),Xn(this,"_entities",new Map),this.engine=e}return Un(t,[{key:"createId",value:function(){return++this._id+Math.random().toString(36).substr(2,9)}},{key:"getEntity",value:function(t){return this._entities.get(t)}},{key:"getEntities",value:function(){return this._entities.values()}},{key:"createEntity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createId(),e=new vu(this,t);return this._entities.set(t,e),e}},{key:"destroyEntity",value:function(t){var e=this.getEntity(t);e&&e.destroy()}},{key:"destroyEntities",value:function(){this._entities.forEach((function(t){t.destroy()}))}},{key:"destroy",value:function(){this.destroyEntities(),this._id=0,this._queries=[],this._entities=new Map}},{key:"createQuery",value:function(t){var e=new du(this,t);return this._queries.push(e),e}},{key:"createPrefab",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.engine._prefabs.create(this,t,e)}},{key:"serialize",value:function(t){var e=[];return(t||this._entities).forEach((function(t){e.push(t.serialize())})),{entities:e}}},{key:"deserialize",value:function(t){var e,n=Pn(t.entities);try{for(n.s();!(e=n.n()).done;){var u=e.value;this._createOrGetEntityById(u.id)}}catch(t){n.e(t)}finally{n.f()}var r,o=Pn(t.entities);try{for(o.s();!(r=o.n()).done;){var i=r.value;this._deserializeEntity(i)}}catch(t){o.e(t)}finally{o.f()}}},{key:"_createOrGetEntityById",value:function(t){return this.getEntity(t)||this.createEntity(t)}},{key:"_deserializeEntity",value:function(t){var e=this,n=t.id,u=jn(t,["id"]),r=this._createOrGetEntityById(n);r._qeligible=!1,Object.entries(u).forEach((function(t){var n=On(t,2),u=n[0],o=n[1],i=Gn(u),a=e.engine._components.get(i);a.allowMultiple?Object.values(o).forEach((function(t){r.add(a,t)})):r.add(a,o)})),r._qeligible=!0,r._candidacy()}},{key:"_candidate",value:function(t){this._queries.forEach((function(e){return e.candidate(t)}))}},{key:"_destroyed",value:function(t){return this._entities.delete(t)}}]),t}(),_u=function(){function t(){In(this,t),Xn(this,"_components",new Kn),Xn(this,"_prefabs",new au(this))}return Un(t,[{key:"registerComponent",value:function(t){this._components.register(t)}},{key:"registerPrefab",value:function(t){this._prefabs.register(t)}},{key:"createWorld",value:function(){return new gu(this)}},{key:"destroyWorld",value:function(t){t.destroy()}}]),t}(),Au=n(4),Cu={entitiesAtLocation:{}},Eu=function(t,e,n){Cu[t][e]||(Cu[t][e]=new Set),Cu[t][e].add(n)},mu=function(t,e,n){Cu[t][e]&&Cu[t][e].has(n)&&Cu[t][e].delete(n)},bu=function(t,e,n){if(Cu[t][e])return n?Cu[t][e].get(n):Cu[t][e]},Fu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,2,3,4,5,6];return wu(t,1,e)},Bu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,2,3,4,5,6];return wu(t,2,e)},wu=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,2,3,4,5,6],u=[],r=1;r<7;r++)t[r]&&t[r]==e&&n.includes(r)&&(console.log("found match"),u.push(r));return console.log(t),console.log(u),console.log("match:"+e),u},xu=function(t){var e=t;return"string"!=typeof e&&(e=Su(e)),e},ku=function(t){var e=t.split(",");return{x:parseInt(e[0],10),y:parseInt(e[1],10)}},Su=function(t){var e=t.x,n=t.y;return"".concat(e,",").concat(n)};function Ou(t){return function(t){if(Array.isArray(t))return ju(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ju(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ju(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var Pu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Fu(n)},onUse:function(t,e){console.log("used"),console.log(t),console.log(t.abilityPhase.phase),Wu(e),e.fireEvent("gain-movement",3),e.fireEvent("exhaust-selected")}},Ru={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Fu(n)},onUse:function(t,e){for(var n=Wu(e),u=0,r=1;r<7;r++)n[r]&&1==n[r]&&(u=r);e.fireEvent("gain-movement",u),e.fireEvent("exhaust-selected")}},Tu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Bu(n)},onUse:function(t,e){e.fireEvent("gain-dodge",1),e.fireEvent("exhaust-selected")}},Mu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(t),console.log(t.abilityTarget.coords);var u=Nu(t,e,n);u.forEach((function(t){console.log(t),console.log(n.x+","+n.y);var e=Zr.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(Ar),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){jo(t),Po(e),Ho("targeting")}},Iu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(t){console.log(t);var e=Zr.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(_r),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){jo(t),Po(e),Ho("targeting")}},zu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(t){console.log(t);var e=Zr.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(_r),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){jo(t),Po(e),Ho("targeting")}},Uu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Bu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(e){console.log(e);var u=Zr.createEntity();u.add(ar,{x:n.x+e[0],y:n.y+e[1]}),u.add(_r),u.add(Er,{dmg:t.abilityDamage.dmg})})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){jo(t),Po(e),Ho("targeting")}},Lu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Bu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(e){console.log(e);var u=Zr.createEntity();u.add(ar,{x:n.x+e[0],y:n.y+e[1]}),u.add(Ar),u.add(Er,{dmg:t.abilityDamage.dmg})})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){jo(t),Po(e),Ho("targeting")}};var Wu=function(t){for(var e=[],n=0;n<t.die.length;n++)t.die[n].selected&&!t.die[n].exhausted&&e.push(t.die[n].number);e.sort();var u={};return e.forEach((function(t){u[t]=(u[t]||0)+1})),u},Nu=function(t,e,n){var u=n.x-e.position.x,r=n.y-e.position.y,o=t.abilityTarget.coords;return console.log("before rotate"),console.log(o),console.log("direction"),r<=-1?console.log("up"):r>=1?(console.log("down"),o=Hu(o)):u<=-1?(console.log("left"),o=Yu(o)):u>=1&&(console.log("right"),o=Xu(o)),console.log("after rotate"),console.log(o),o},Xu=function(t){var e=[];return t.forEach((function(t){var n=[];n.push(t[1]),n.push(t[0]),n[0]=-1*n[0],n[1]=1*n[1],e.push(n)})),e},Yu=function(t){var e=[];return t.forEach((function(t){var n=[];n.push(t[1]),n.push(t[0]),n[1]=-1*n[1],e.push(n)})),e},Hu=function(t){var e=[];return t.forEach((function(t){var n=[];(n=Ou(t))[0]=-1*n[0],n[1]=-1*n[1],e.push(n)})),e};function qu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var u=0,r=function(){};return{s:r,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function $u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Gu(t){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ku(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Qu(t,e,n){return e&&Ku(t.prototype,e),n&&Ku(t,n),t}function Vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ju(t,e)}function Ju(t,e){return(Ju=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=nr(t);if(e){var r=nr(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return er(this,n)}}function er(t,e){return!e||"object"!==Gu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(rr,"properties",{color:"#ff0077",char:"?",background:"#000"});var or=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(or,"properties",{name:"No Name",description:"nothing"});var ir=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),ar=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){var t="".concat(this.entity.position.x,",").concat(this.entity.position.y);Eu("entitiesAtLocation",t,this.entity.id)}},{key:"onDestroyed",value:function(){var t="".concat(this.x,",").concat(this.y);mu("entitiesAtLocation",t,this.entity.id)}}]),n}(cu);ur(ar,"properties",{x:0,y:0});var cr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTakeDamage",value:function(t){console.log("i've been hit!"),this.current-=t.data.amount,console.log(this),console.log("ow"),this.current<=0&&(this.entity.remove(this.entity.position),this.entity.add(Cr)),t.handle()}}]),n}(cu);ur(cr,"properties",{max:4,current:4});var sr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onGainMovement",value:function(t){this.movement+=t.data,console.log("new movement: "+this.movement),t.handle()}},{key:"onGainDodge",value:function(t){this.dodge+=t.data,t.handle()}},{key:"onTurnEnd",value:function(t){console.log("ended in move"),this.movement=0,this.dodge=0}},{key:"onChangePosition",value:function(t){this.x=t.data.x,this.y=t.data.y,t.handle()}},{key:"onAttemptMove",value:function(t){this.movement<=0&&this.dodge<=0?t.handle():function(t,e){console.log("check here"),console.log(t),console.log(e);var n=t.x,u=t.y;n=e.position.x+n,u=e.position.y+u;var r=[],o=[];console.log("".concat(n,",").concat(u));var i=bu("entitiesAtLocation","".concat(n,",").concat(u));console.log(i);var a,c=qu(i);try{for(c.s();!(a=c.n()).done;){var s=a.value;Zr.getEntity(s).isBlocking&&r.push(s)}}catch(t){c.e(t)}finally{c.f()}if(r.length>=1)return console.log("blocked"),!1;var l,f=qu(bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})));try{for(f.s();!(l=f.n()).done;){var h=l.value;console.log(Zr.getEntity(h)),Zr.getEntity(h).fastAttack&&o.push(e)}}catch(t){f.e(t)}finally{f.f()}return o.length>=1&&e.movement.dodge<1?(console.log("no dodge"),!1):(mu("entitiesAtLocation","".concat(e.position.x,",").concat(e.position.y),e.id),Eu("entitiesAtLocation","".concat(n,",").concat(u),e.id),e.position.x=n,e.position.y=u,!0)}(this,this.entity)&&(this.dodge>0?this.dodge=Math.max(0,this.dodge-1):this.movement-=1);this.x=0,this.y=0,t.handle()}}]),n}(cu);ur(sr,"properties",{movement:0,dodge:0,x:0,y:0});var lr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTurnStart",value:function(t){this.entity.fireEvent("gain-movement",this.amount)}}]),n}(cu);ur(lr,"properties",{amount:3});var fr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(fr,"properties",{max:0,current:0});var hr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){for(var t=0;t<this.max;t++)this.entity.add(pr);this.onRollDice()}},{key:"onTurnEnd",value:function(t){console.log("doing turn end"),this.current=Math.min(this.max,this.current+Math.max(0,this.regen-this.used)),this.used=0,this.onRollDice()}},{key:"onRollDice",value:function(){for(var t=0;t<this.max;t++)this.entity.die[t].selected=!1,this.entity.die[t].exhausted=t>=this.current,this.entity.die[t].number=Object(Au.random)(1,6)}},{key:"onUseStamina",value:function(t){this.current=Math.max(this.current-t.data,0)}},{key:"onAiUseStamina",value:function(t){this.used+=t.data}},{key:"onUpdateStamina",value:function(){}}]),n}(cu);ur(hr,"properties",{max:5,current:5,used:0,regen:4});var pr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onExhaustSelected",value:function(t){this.selected&&(this.entity.stamina.used++,this.entity.stamina.current--,this.exhausted=!0,this.selected=!1,this.entity.fireEvent("update-stamina"))}}]),n}(cu);ur(pr,"allowMultiple",!0),ur(pr,"properties",{number:0,selected:!1,exhausted:!1});var Dr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTurnEnd",value:function(t){this.destroy()}}]),n}(cu),yr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),vr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(vr,"properties",{enemy:!0});var dr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),gr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),_r=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Ar=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Cr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Er=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Er,"properties",{dmg:1});var mr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){var t=[];this.abilities.forEach((function(e){t.push(Zr.createPrefab(e))})),this.abilities=t}}]),n}(cu);ur(mr,"properties",{abilities:[]});var br=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(br,"properties",{coords:[[0,0]]});var Fr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Fr,"properties",{allowed:[1,2,3,4,5,6]});var Br=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Br,"properties",{function:Pu});var wr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(wr,"properties",{phase:"Any"});var xr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(xr,"properties",{speed:"Instant"});var kr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(kr,"properties",{amount:1});var Sr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Sr,"properties",{smallName:"abl"});var Or=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Or,"properties",{range:1});var jr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(jr,"properties",{dmg:1});var Pr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Rr={name:"Tile",components:[{type:"Appearance"},{type:"Description"},{type:"LayerMap"}]},Tr={name:"Being",components:[{type:"Appearance"},{type:"Description"},{type:"Health"},{type:"IsBlocking"},{type:"LayerUnit"},{type:"Movement"},{type:"Armour"},{type:"Stamina"},{type:"AbilityList"}]},Mr={name:"Ability",components:[{type:"Description",properties:{name:"Generic Ability",description:"used for testing as base template"}},{type:"AbilityPhase"},{type:"AbilitySpeed"},{type:"AbilityStaminaCost"},{type:"AbilityFunction"},{type:"AbilitySmallName"},{type:"AbilityTarget"},{type:"AbilityAllowedDie"},{type:"AbilityRange"},{type:"AbilityDamage"}]},Ir={name:"Wall",inherit:["Tile"],components:[{type:"IsBlocking"},{type:"Appearance",properties:{char:"#",color:"#AAA"}},{type:"Description",properties:{name:"wall"}}]},zr={name:"Floor",inherit:["Tile"],components:[{type:"Appearance",properties:{char:".",color:"#AAA"}},{type:"Description",properties:{name:"wall"}}]},Ur={name:"PlayerBeing",inherit:["Being"],components:[{type:"IsPlayerControlled"},{type:"Apperance",properties:{char:"@"}},{type:"AbilityList",properties:{abilities:["AbilityMove","AbilityDodge","AbilitySwordJab","AbilitySwordSwing"]}}]},Lr={name:"Mob",inherit:["Being"],components:[{type:"Ai"},{type:"IsEnemy"},{type:"GainMovement"}]},Wr={name:"Goblin",inherit:["Mob"],components:[{type:"Appearance",properties:{char:"g",color:"green"}},{type:"Description",properties:{name:"Goblin",description:"A lowly Goblin"}},{type:"AbilityList",properties:{abilities:["AbilitySpearThrust"]}},{type:"Health",properties:{max:2,current:2}},{type:"Stamina",properties:{max:2,current:2,used:0,regen:2}}]},Nr={name:"Orc Warrior",inherit:["Mob"],components:[{type:"Appearance",properties:{char:"o",color:"green"}},{type:"Description",properties:{name:"Orc Warrior",description:"A fearsome Orc wielding axees"}},{type:"AbilityList",properties:{abilities:["AbilityDoubleAxeSwing","AbilityAxeDecapitate"]}},{type:"Health",properties:{max:8,current:8}},{type:"Stamina",properties:{max:4,current:4,used:0,regen:4}}]},Xr={name:"AbilityMove",inherit:["Ability"],components:[{type:"Description",properties:{name:"Move",description:"exhausts 1 die to give it's face value for movement points"}},{type:"AbilityFunction",properties:{function:Ru}},{type:"AbilitySmallName",properties:{smallName:"MOV"}}]},Yr={name:"AbilityDodge",inherit:["Ability"],components:[{type:"Description",properties:{name:"Dodge",description:"exhausts a pair to give 1 dodge point"}},{type:"AbilityFunction",properties:{function:Tu}},{type:"AbilitySmallName",properties:{smallName:"DDG"}},{type:"AbilityStaminaCost",properties:{amount:2}}]},Hr={name:"AbilitySpearThrust",inherit:["Ability"],components:[{type:"Description",properties:{name:"Spear Thrust",description:"exhausts 5,6 to do a slow attack on a 2x1 1 dmg"}},{type:"AbilityFunction",properties:{function:zu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"STH"}},{type:"AbilityTarget",properties:{coords:[[0,0],[0,-1]]}},{type:"AbilityAllowedDie",properties:{allowed:[5,6]}},{type:"AbilityRange",properties:{range:2}}]},qr={name:"AbilitySwordJab",inherit:["Ability"],components:[{type:"Description",properties:{name:"Sword Jab",description:"exhausts a 4,5,6 to do a slow attack on a single tile for 1 dmg"}},{type:"AbilityFunction",properties:{function:Mu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"SJB"}},{type:"AbilityTarget",properties:{coords:[[0,0]]}},{type:"AbilityAllowedDie",properties:{allowed:[4,5,6]}},{type:"AbilityEndsTurn"}]},$r={name:"AbilitySwordSwing",inherit:["Ability"],components:[{type:"Description",properties:{name:"Sword Swing",description:"exhausts 6 to do a slow attack on a T shape for 1 dmg"}},{type:"AbilityFunction",properties:{function:Iu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"SSW"}},{type:"AbilityTarget",properties:{coords:[[-1,0],[0,0],[1,0],[0,-1]]}},{type:"AbilityAllowedDie",properties:{allowed:[6]}},{type:"AbilityEndsTurn"}]},Gr={name:"AbilityDoubleAxeSwing",inherit:["Ability"],components:[{type:"Description",properties:{name:"Double Axe Swing",description:"swings both your axes in two massive arcs dealing 2 dmg"}},{type:"AbilityFunction",properties:{function:Uu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"DAS"}},{type:"AbilityTarget",properties:{coords:[[-1,0],[0,0],[1,0],[-1,1],[1,1]]}},{type:"AbilityAllowedDie",properties:{allowed:[5,6]}},{type:"AbilityStaminaCost",properties:{amount:3}},{type:"AbilityDamage",properties:{dmg:2}},{type:"AbilityEndsTurn"}]},Kr={name:"AbilityAxeDecapitate",inherit:["Ability"],components:[{type:"Description",properties:{name:"Axe Decapitate",description:"Swings an axe directly at the targets head for 3 dmg"}},{type:"AbilityFunction",properties:{function:Lu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"DAC"}},{type:"AbilityTarget",properties:{coords:[[0,0]]}},{type:"AbilityAllowedDie",properties:{allowed:[6]}},{type:"AbilityStaminaCost",properties:{amount:4}},{type:"AbilityDamage",properties:{dmg:3}},{type:"AbilityEndsTurn"}]},Qr=new _u,Vr=Qr.createWorld();console.log("got here first"),Qr.registerComponent(rr),Qr.registerComponent(fr),Qr.registerComponent(or),Qr.registerComponent(cr),Qr.registerComponent(ir),Qr.registerComponent(Cr),Qr.registerComponent(yr),Qr.registerComponent(vr),Qr.registerComponent(dr),Qr.registerComponent(gr),Qr.registerComponent(sr),Qr.registerComponent(ar),Qr.registerComponent(hr),Qr.registerComponent(pr),Qr.registerComponent(_r),Qr.registerComponent(Ar),Qr.registerComponent(Er),Qr.registerComponent(Dr),Qr.registerComponent(mr),Qr.registerComponent(Br),Qr.registerComponent(wr),Qr.registerComponent(xr),Qr.registerComponent(kr),Qr.registerComponent(Sr),Qr.registerComponent(br),Qr.registerComponent(Fr),Qr.registerComponent(lr),Qr.registerComponent(Or),Qr.registerComponent(jr),Qr.registerComponent(Pr),Qr.registerPrefab(Rr),Qr.registerPrefab(Tr),Qr.registerPrefab(Ir),Qr.registerPrefab(zr),Qr.registerPrefab(Ur),Qr.registerPrefab(Lr),Qr.registerPrefab(Wr),Qr.registerPrefab(Nr),Qr.registerPrefab(Mr),Qr.registerPrefab(Xr),Qr.registerPrefab(Yr),Qr.registerPrefab(Hr),Qr.registerPrefab(qr),Qr.registerPrefab($r),Qr.registerPrefab(Gr),Qr.registerPrefab(Kr),ui();var Zr=Vr,Jr=function(){kn.style.visibility="visible";var t="#".repeat(Bn.width);Sn.drawText(0,0,t)},to=function(t){var e="";return e+="\n"+t.description.name,e+="\n"+t.description.description,e+="\n"+t.abilityPhase.phase,e+="\n"+t.abilityPhase.speed};function eo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return no(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var uo=Zr.createQuery({all:[ar,rr,dr]}),ro=Zr.createQuery({all:[ar,rr,gr]}),oo=Zr.createQuery({all:[ar,_r]}),io=Zr.createQuery({all:[ar,Ar]}),ao=Zr.createQuery({all:[ar,rr,gr,vr],none:[Cr]}),co="",so=["q","w","e","r","t","y"],lo=function(t,e,n){wn.drawText(e,n,t)},fo=function(t,e,n){wn.draw(e,n,t.appearance.char,t.appearance.color,t.appearance.background||"black")},ho=function(){var t;"Help"==xo?function(){Jr();Sn.drawText(2,5,"Welcome to my bad game, this is just placeholder help text for now\n\nEnemy attacks at end of player defend turn\nyou need to use dodge to get out of red attacks\nYou regen 4 stamina - the amount used this turn\nplayer attacks resolve at end of player attack turn\n\nHOTKEYS:\nArrow Keys to move\nEnter to end turn / confirm target\nn: select next character\n1-6 are to select stamina die\nqwerty selects abilites\nshift+qwerty for info\nz: shows enemy numbers\nc: shows dmg that will hit tile\nEscape to exit this and most menus")}():"AbilityInfo"==xo?function(t){Jr();var e=to(t);Sn.drawText(2,5,e)}(co):"EnemyNumbers"==xo?(t=1,ao.get().forEach((function(e){wn.draw(An.x+e.position.x,An.y+e.position.y,t.toString()),t++}))):"DamageShow"==xo?function(){var t=[];t.push.apply(t,oo.get()),t.push.apply(t,io.get()),console.log(t);var e,n=[];t.forEach((function(t){var e=xu({x:t.position.x,y:t.position.y});n[e]||(n[e]=0),n[e]+=t.dmgTile.dmg})),console.log(n);for(var u=0,r=Object.entries(n);u<r.length;u++){var o=eo(r[u],2),i=o[0],a=o[1];console.log("".concat(i,": ").concat(a));var c=(e=void 0,"string"==typeof(e=i)&&(e=ku(e)),e);wn.draw(An.x+c.x,An.y+c.y,a)}}():(wn.clear(),uo.get().forEach((function(t){fo(t,t.position.x+An.x,t.position.y+An.y)})),ro.get().forEach((function(t){fo(t,t.position.x+An.x,t.position.y+An.y)})),function(){if(To){lo("Active:",En.x,En.y),fo(To,En.x+"Active:".length,En.y),lo("Hp:"+To.health.current.toString(),En.x,En.y+1),lo("Stam:"+To.stamina.current.toString()+"/"+To.stamina.max.toString(),En.x,En.y+2),lo("StamRgn:"+Math.max(0,4-To.stamina.used).toString(),En.x,En.y+3),lo("Move:"+To.movement.movement.toString(),En.x,En.y+4),lo("Dodge:"+To.movement.dodge.toString(),En.x,En.y+5)}}(),function(){if(To)for(var t=0;t<To.die.length;t++){var e="white";To.die[t].selected?e="green":To.die[t].exhausted&&(e="grey"),lo((t+1).toString()+"| |",mn.x+5*t,mn.y),wn.draw(2+mn.x+5*t,mn.y,To.die[t].number.toString(),"black",e)}}(),function(){for(var t=0;t<To.abilityList.abilities.length;t++){var e="gray",n="PlayerTurnDefend"==xo?"Defend":"Attack";("Any"==To.abilityList.abilities[t].abilityPhase.phase||To.abilityList.abilities[t].abilityPhase.phase==n)&&To.abilityList.abilities[t].abilityFunction.function.canUse(To.abilityList.abilities[t],To).length>0&&(e="white");var u=To.abilityList.abilities[t].abilitySmallName.smallName;lo(so[t]+"[%c{"+e+"}"+u+"%c{}]",bn.x+7*t,bn.y)}}(),lo(xo,Fn.x,Fn.y),wn.draw(0,0,"O"),wn.draw(0,_n-1,"O"),wn.draw(gn-1,0,"O"),wn.draw(gn-1,_n-1,"O"),function(){var t=1;ao.get().forEach((function(e){var n=""+t;n+="%c{"+e.appearance.color+"} "+e.description.name+" "+e.health.current,lo(n,Cn.x,Cn.y+t-1),t++}))}(),oo.get().forEach((function(t){var e,n=bu("entitiesAtLocation",xu({x:t.position.x,y:t.position.y})),u=!1;n.forEach((function(n){var r=Zr.getEntity(n);r.has(gr)?(u=!0,wn.draw(t.position.x+An.x,t.position.y+An.y,r.appearance.char,r.appearance.color,"yellow")):r.has(dr)&&(e=r),!u&&e&&wn.draw(t.position.x+An.x,t.position.y+An.y,e.appearance.char,e.appearance.color,"yellow")}))})),io.get().forEach((function(t){var e,n=bu("entitiesAtLocation",xu({x:t.position.x,y:t.position.y})),u=!1;n.forEach((function(n){var r=Zr.getEntity(n);r.has(gr)?(u=!0,wn.draw(t.position.x+An.x,t.position.y+An.y,r.appearance.char,r.appearance.color,"red")):r.has(dr)&&(e=r),!u&&e&&wn.draw(t.position.x+An.x,t.position.y+An.y,e.appearance.char,e.appearance.color,"red")}))})),console.log(xo),"examine"!==xo&&"targeting"!==xo||(console.log("need to show target"),console.log(Ro),fo(Ro,Ro.position.x+An.x,Ro.position.y+An.y)))},po=Zr.createQuery({all:[ar,rr,dr]}),Do=new Je.Arena(An.width,An.height),yo=function(){var t=vo();return Object(Au.sample)(t)},vo=function(){var t=[];return po.get().forEach((function(e){e.isBlocking||1==bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})).size&&t.push(e)})),t};function go(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var Ao=Zr.createQuery({all:[ar,rr,gr],none:[vr]}),Co=function(t,e){return new dn.Dijkstra(t,e,Fo,{topology:4})},Eo=function(t){var e=Co(t.position.x,t.position.y);console.log("path finder"),console.log(e);var n=mo(e,t);return console.log(n),n.pop(),n},mo=function(t,e){var n;return e.has(vr)&&(console.log("enemies to check: "+Ao.get().length),Ao.get().forEach((function(e){var u=[];t.compute(e.position.x,e.position.y,(function(t,e){u.push([t,e])})),(!n||u.length<n.length)&&(n=u)}))),n},bo=function(t,e){var n=go(t).slice(0);if(console.log("in range check"),1==n.length)return console.log("path short"),!0;var u=[],r=[];return n.forEach((function(t){u.push(t[0]),r.push(t[1])})),console.log(u.toString()),console.log(r.toString()),e.x==n[0][0]||e.y==n[0][1]},Fo=function(t,e){var n=bu("entitiesAtLocation",xu({x:t,y:e}));return n?(n.forEach((function(t){if(Zr.getEntity(t).has(ir))return 0})),1):0},Bo=function(t,e){var n=!1;e.shuffle(),console.log("Doing mob attack: ");for(var u=0;u<2;u++){var r=Eo(t);e.forEach((function(e){if(console.log(r.toString()),console.log(r.length),r.length>=1&&r.length<=e.abilityRange.range&&!n&&bo(r,{x:t.position.x,y:t.position.y})){console.log("In Range");var u=r.pop();console.log(u.toString()),e.abilityFunction.function.onUse(e,t,{x:u[0],y:u[1]}),t.fireEvent("use-stamina",e.abilityStaminaCost.amount),t.fireEvent("ai-use-stamina",e.abilityStaminaCost.amount),n=!0}})),r.length>1&&!n&&(console.log("Not In Range so we move"),r.length>1&&(wo(t,r),t.fireEvent("use-stamina",1),t.fireEvent("ai-use-stamina",1)))}},wo=function(t,e){t.fireEvent("gain-movement",2);for(var n=t.movement.movement,u=0;u<n;u++)if(e&&e.length>1){console.log("remaining target"),console.log(e.toString());var r=e.pop();console.log("Next Step"+r.toString()),t.movement.x=r[0]-t.position.x,t.movement.y=r[1]-t.position.y,t.fireEvent("attempt-move")}};Object.defineProperty(Array.prototype,"shuffle",{value:function(){for(var t=this.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),n=[this[e],this[t]];this[t]=n[0],this[e]=n[1]}return this}});var xo="setup",ko="",So="hi",Oo="hi",jo=function(t){So=t},Po=function(t){Oo=t},Ro=Zr.createEntity("targetEntity");Ro.add(rr,{char:"X",color:"black",background:"green"});var To,Mo=0,Io=null,zo=Zr.createQuery({all:[ar,rr,gr,yr],none:[Cr]}),Uo=Zr.createQuery({all:[ar,rr,gr],none:[vr]}),Lo=Zr.createQuery({all:[ar,rr,gr,vr],none:[Cr]}),Wo=Zr.createQuery({all:[Er]}),No=function(){if("PlayerTurnDefend"==xo||"PlayerTurnAttack"==xo)if("?"===Io)qo("Help"),ho();else if("n"===Io)console.log("input: "+Io),To=Vo(),ho();else if("1"===Io||"2"===Io||"3"===Io||"4"===Io||"5"===Io||"6"===Io||"7"===Io||"8"===Io||"9"===Io)console.log("dice swap"),Io-1<To.die.length&&(console.log(To.die[Io-1]),To.die[Io-1].exhausted||(To.die[Io-1].selected=!To.die[Io-1].selected),ho());else if("ArrowUp"===Io)Ko();else if("ArrowRight"===Io)Ko();else if("ArrowDown"===Io)Ko();else if("ArrowLeft"===Io)Ko();else if("q"===Io||"w"===Io||"e"===Io||"r"===Io||"t"===Io||"y"===Io){if(console.log("ability use"),(u=Xo(Io))<To.abilityList.abilities.length){var t=To.abilityList.abilities[u],e=t.abilityFunction.function.canUse(t,To),n="PlayerTurnDefend"==xo?"Defend":"Attack";e.length>0&&("Any"==t.abilityPhase.phase||t.abilityPhase.phase==n)&&(t.abilityFunction.function.onTarget?t.abilityFunction.function.onTarget(t,To):t.abilityFunction.function.onUse(t,To,Yo()))}ho()}else if("Q"===Io||"W"===Io||"E"===Io||"R"===Io||"T"===Io||"Y"===Io){console.log("ability info");var u=Xo(Io);qo("AbilityInfo"),console.log(u),console.log(To.abilityList.abilities[u]),r=To.abilityList.abilities[u],co=r,ho()}else"Enter"==Io?(console.log("Enter"),"PlayerTurnDefend"==xo?(ti(),xo="PlayerTurnAttack"):"PlayerTurnAttack"==xo&&(ei(),ni(Uo.get()),xo="EnemyTurnDefend"),ho()):"x"===Io?(Ho("examine"),ho()):"c"===Io?(qo("DamageShow"),ho()):"z"===Io?(qo("EnemyNumbers"),ho()):"p"===Io&&console.log(To);else"examine"===xo||"targeting"===xo?"Escape"===Io?($o(),ho()):"ArrowUp"===Io||"ArrowRight"===Io||"ArrowDown"===Io||"ArrowLeft"===Io?(Qo(),ho()):"Enter"===Io&&"targeting"===xo&&(console.log(So),So.abilityFunction.function.onUse(So,Oo,Yo()),$o(),ho()):"Help"!==xo&&"AbilityInfo"!=xo&&"DamageShow"!=xo&&"EnemyNumbers"!=xo||"Escape"===Io&&(Sn.clear(),kn.style.visibility="hidden",Go(),ho());var r;Io=null},Xo=function(t){switch(Io){case"q":case"Q":return 0;case"w":case"W":return 1;case"e":case"E":return 2;case"r":case"R":return 3;case"t":case"T":return 4;case"y":case"Y":return 5;default:return 0}},Yo=function(){return Ro.has(ar)?{x:Ro.position.x,y:Ro.position.y}:{x:0,y:0}},Ho=function(t){qo(t),Ro.add(ar,{x:To.position.x,y:To.position.y})},qo=function(t){ko=xo,xo=t},$o=function(){Go(),Ro.remove(Ro.position)},Go=function(){xo=ko},Ko=function(){"ArrowUp"===Io&&(To.movement.y=-1),"ArrowRight"===Io&&(To.movement.x=1),"ArrowDown"===Io&&(To.movement.y=1),"ArrowLeft"===Io&&(To.movement.x=-1),To.fireEvent("attempt-move"),ho()},Qo=function(){"ArrowUp"===Io?(Ro.position.y=To.position.y+-1,Ro.position.x=To.position.x):"ArrowRight"===Io?(Ro.position.x=To.position.x+1,Ro.position.y=To.position.y):"ArrowDown"===Io?(Ro.position.y=To.position.y+1,Ro.position.x=To.position.x):"ArrowLeft"===Io&&(Ro.position.x=To.position.x+-1,Ro.position.y=To.position.y)},Vo=function(){return Mo+1>=zo.get().length?Mo=0:Mo++,zo.get()[Mo]};document.addEventListener("keydown",(function(t){Io=t.key}));var Zo=function(){var t=Zr.createPrefab("PlayerBeing",{appearance:{char:"@",color:"green"}}),e=yo();t.add(ar,{x:e.position.x,y:e.position.y}),To=t;var n=Zr.createPrefab("PlayerBeing",{appearance:{char:"@",color:"purple"}});e=yo(),n.add(ar,{x:e.position.x,y:e.position.y}),Object(Au.times)(6,(function(){e=yo(),Zr.createPrefab("Goblin").add(ar,{x:e.position.x,y:e.position.y})})),e=yo(),Zr.createPrefab("Orc Warrior").add(ar,{x:e.position.x,y:e.position.y})},Jo=function(){console.log("enemy attacks"),Lo.get().forEach((function(t){var e,n,u;n=[],u=(e=t).stamina.current,console.log("AI usable stamina"),console.log(e),console.log(u),e.abilityList.abilities.forEach((function(t){("Any"==t.abilityPhase.phase||"Attack"==t.abilityPhase.phase)&&t.abilityStaminaCost.amount<=e.stamina.current&&n.push(t)})),console.log("ai usable abilities"),console.log(n),Bo(e,n),console.log("pathfinding")}))},ti=function(){ei()},ei=function(){console.log("process dmg"),console.log(Wo.get());var t=[];Wo.get().forEach((function(e){bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})).forEach((function(t){var n=Zr.getEntity(t);console.log(n),n.layerUnit&&n.fireEvent("take-damage",{amount:e.dmgTile.dmg})})),t.push(e)})),t.forEach((function(t){t.destroy()})),console.log(Wo.get()),console.log("end process dmg")},ni=function(t){console.log("ending turn for "),t.forEach((function(t){console.log(t),t.fireEvent("turn-end",t)}))},ui=function(){Do.create((function(t,e,n){n?Zr.createPrefab("Wall").add(ar,{x:t,y:e}):Zr.createPrefab("Floor").add(ar,{x:t,y:e})})),Zo(),yo(),ho()};requestAnimationFrame((function t(){"setup"==xo?xo="EnemyTurnDefend":"EnemyTurnDefend"==xo?(xo="EnemyTurnAttack",ho()):"EnemyTurnAttack"==xo?(Jo(),ni(Lo.get()),xo="PlayerTurnDefend",ho()):"PlayerTurnDefend"==xo||"PlayerTurnAttack"==xo?No():"examine"!=xo&&"targeting"!=xo&&"Help"!=xo&&"AbilityInfo"!=xo&&"DamageShow"!=xo&&"EnemyNumbers"!=xo||No(),requestAnimationFrame(t)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9iYWNrZW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvdGVybS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9oZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9yZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvdGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9kaXNwbGF5L3RpbGUtZ2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvdGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9kaXNwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2FyZW5hLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9kdW5nZW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9mZWF0dXJlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvdW5pZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZGlnZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9lbGxlcm1hemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9jZWxsdWxhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZGl2aWRlZG1hemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2ljZXltYXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9yb2d1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9ub2lzZS9zaW1wbGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3BhdGgvcGF0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9wYXRoL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3BhdGgvZGlqa3N0cmEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcGF0aC9hc3Rhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2NhbWVsY2FzZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwvc3RyaW5nLXV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Db21wb25lbnRSZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2RlZXBtZXJnZS9kaXN0L2Nqcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYlJlZ2lzdHJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvRW50aXR5RXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlsL2JpdC11dGlsLmpzIiwid2VicGFjazovLy8uLi9zcmMvRW50aXR5LmpzIiwid2VicGFjazovLy8uLi9zcmMvUXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Xb3JsZC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0VuZ2luZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUvY2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMveWFodHplZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvYWJpbGl0aWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvbW92ZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL3ByZWZhYi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUvZWNzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9oZWxwTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3lzdGVtcy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL2R1bmdlb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvcGF0aGZpbmRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvYWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRlJBQyIsIlJORyIsInRoaXMiLCJfc2VlZCIsIl9zMCIsIl9zMSIsIl9zMiIsIl9jIiwic2VlZCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwibWF4IiwiTWF0aCIsIm1pbiIsImZsb29yIiwiZ2V0VW5pZm9ybSIsInUiLCJ2IiwibWVhbiIsInN0ZGRldiIsImdhdXNzIiwic3FydCIsImxvZyIsImFycmF5IiwibGVuZ3RoIiwicmVzdWx0IiwiY2xvbmUiLCJzbGljZSIsImluZGV4IiwiaW5kZXhPZiIsImdldEl0ZW0iLCJwdXNoIiwic3BsaWNlIiwiZGF0YSIsInRvdGFsIiwiaWQiLCJyYW5kb20iLCJwYXJ0Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImdldFN0YXRlIiwic2V0U2VlZCIsIkRhdGUiLCJub3ciLCJtb2QiLCJ4IiwiY2xhbXAiLCJ2YWwiLCJjYXBpdGFsaXplIiwic3RyaW5nIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJmb3JtYXQiLCJ0ZW1wbGF0ZSIsImFyZ3MiLCJtYXAiLCJyZXBsYWNlciIsIm1hdGNoIiwiZ3JvdXAxIiwiZ3JvdXAyIiwib2JqIiwicGFydHMiLCJzcGxpdCIsInNoaWZ0IiwibWV0aG9kIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlZCIsImFwcGx5IiwiZmlyc3QiLCJyZXBsYWNlIiwiZnJvbVN0cmluZyIsInN0ciIsImNhY2hlZCIsIkNBQ0hFIiwidmFsdWVzIiwicGFyc2VJbnQiLCJhZGQiLCJjb2xvcjEiLCJjb2xvcnMiLCJqIiwiYWRkXyIsIm11bHRpcGx5Iiwicm91bmQiLCJtdWx0aXBseV8iLCJpbnRlcnBvbGF0ZSIsImNvbG9yMiIsImZhY3RvciIsImxlcnAiLCJpbnRlcnBvbGF0ZUhTTCIsImhzbDEiLCJyZ2IyaHNsIiwiaHNsMiIsImhzbDJyZ2IiLCJsZXJwSFNMIiwicmFuZG9taXplIiwiY29sb3IiLCJkaWZmIiwiQXJyYXkiLCJnZXROb3JtYWwiLCJnIiwiYiIsImgiLCJodWUycmdiIiwicSIsInRvUkdCIiwiY2xhbXBlZCIsImpvaW4iLCJ0b0hleCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJCYWNrZW5kIiwib3B0aW9ucyIsIl9vcHRpb25zIiwiRlVOQ19FUlJPUl9URVhUIiwiUExBQ0VIT0xERVIiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm9iamVjdFRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsIndlYWtNYXBUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJSZWdFeHAiLCJzb3VyY2UiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW1TdGFydCIsInJlV2hpdGVzcGFjZSIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzIiwicmVFc2NhcGVDaGFyIiwicmVFc1RlbXBsYXRlIiwicmVGbGFncyIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc0hvc3RDdG9yIiwicmVJc09jdGFsIiwicmVJc1VpbnQiLCJyZUxhdGluIiwicmVOb01hdGNoIiwicmVVbmVzY2FwZWRTdHJpbmciLCJyc0NvbWJvUmFuZ2UiLCJyc0NvbWJvTWFya3NSYW5nZSIsInJzQnJlYWtSYW5nZSIsInJzTWF0aE9wUmFuZ2UiLCJyc0FzdHJhbCIsInJzQnJlYWsiLCJyc0NvbWJvIiwicnNEaWdpdHMiLCJyc0RpbmdiYXQiLCJyc0xvd2VyIiwicnNNaXNjIiwicnNGaXR6IiwicnNOb25Bc3RyYWwiLCJyc1JlZ2lvbmFsIiwicnNTdXJyUGFpciIsInJzVXBwZXIiLCJyc01pc2NMb3dlciIsInJzTWlzY1VwcGVyIiwicmVPcHRNb2QiLCJyc1NlcSIsInJzRW1vamkiLCJyc1N5bWJvbCIsInJlQXBvcyIsInJlQ29tYm9NYXJrIiwicmVVbmljb2RlIiwicmVVbmljb2RlV29yZCIsInJlSGFzVW5pY29kZSIsInJlSGFzVW5pY29kZVdvcmQiLCJjb250ZXh0UHJvcHMiLCJ0ZW1wbGF0ZUNvdW50ZXIiLCJ0eXBlZEFycmF5VGFncyIsImNsb25lYWJsZVRhZ3MiLCJzdHJpbmdFc2NhcGVzIiwiZnJlZVBhcnNlRmxvYXQiLCJwYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwidHlwZXMiLCJyZXF1aXJlIiwiYmluZGluZyIsImUiLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImFycmF5RWFjaCIsImFycmF5RWFjaFJpZ2h0IiwiYXJyYXlFdmVyeSIsInByZWRpY2F0ZSIsImFycmF5RmlsdGVyIiwicmVzSW5kZXgiLCJhcnJheUluY2x1ZGVzIiwiYmFzZUluZGV4T2YiLCJhcnJheUluY2x1ZGVzV2l0aCIsImNvbXBhcmF0b3IiLCJhcnJheU1hcCIsImFycmF5UHVzaCIsIm9mZnNldCIsImFycmF5UmVkdWNlIiwiaW5pdEFjY3VtIiwiYXJyYXlSZWR1Y2VSaWdodCIsImFycmF5U29tZSIsImFzY2lpU2l6ZSIsImJhc2VQcm9wZXJ0eSIsImJhc2VGaW5kS2V5IiwiY29sbGVjdGlvbiIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJ1bmRlZmluZWQiLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJjdXJyZW50IiwiYmFzZVRpbWVzIiwiYmFzZVRyaW0iLCJ0cmltbWVkRW5kSW5kZXgiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwicHJvcHMiLCJjYWNoZUhhcyIsImNhY2hlIiwiaGFzIiwiY2hhcnNTdGFydEluZGV4Iiwic3RyU3ltYm9scyIsImNoclN5bWJvbHMiLCJjaGFyc0VuZEluZGV4IiwiY291bnRIb2xkZXJzIiwicGxhY2Vob2xkZXIiLCJkZWJ1cnJMZXR0ZXIiLCJlc2NhcGVIdG1sQ2hhciIsImVzY2FwZVN0cmluZ0NoYXIiLCJjaHIiLCJoYXNVbmljb2RlIiwidGVzdCIsIm1hcFRvQXJyYXkiLCJzaXplIiwiZm9yRWFjaCIsIm92ZXJBcmciLCJ0cmFuc2Zvcm0iLCJhcmciLCJyZXBsYWNlSG9sZGVycyIsInNldFRvQXJyYXkiLCJzZXQiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIl8iLCJydW5JbkNvbnRleHQiLCJjb250ZXh0IiwidWlkIiwiZGVmYXVsdHMiLCJwaWNrIiwiRXJyb3IiLCJTdHJpbmciLCJUeXBlRXJyb3IiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3R4Tm93IiwiY3R4U2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwiY2VpbCIsIm5hdGl2ZUZsb29yIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVJc0Zpbml0ZSIsImlzRmluaXRlIiwibmF0aXZlSm9pbiIsIm5hdGl2ZUtleXMiLCJuYXRpdmVNYXgiLCJuYXRpdmVNaW4iLCJuYXRpdmVOb3ciLCJuYXRpdmVQYXJzZUludCIsIm5hdGl2ZVJhbmRvbSIsIm5hdGl2ZVJldmVyc2UiLCJyZXZlcnNlIiwiRGF0YVZpZXciLCJNYXAiLCJQcm9taXNlIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJzeW1ib2xUb1N0cmluZyIsImxvZGFzaCIsImlzT2JqZWN0TGlrZSIsImlzQXJyYXkiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiYmFzZUF0IiwicGF0aHMiLCJza2lwIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJjb25zdHJ1Y3RvciIsImlucHV0IiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJDdG9yIiwiY2xvbmVBcnJheUJ1ZmZlciIsImRhdGFWaWV3IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwicmVnZXhwIiwiY2xvbmVSZWdFeHAiLCJzeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJiYXNlRGlmZmVyZW5jZSIsImluY2x1ZGVzIiwiaXNDb21tb24iLCJ2YWx1ZXNMZW5ndGgiLCJvdXRlciIsImNvbXB1dGVkIiwidmFsdWVzSW5kZXgiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwicG9wIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiTEFSR0VfQVJSQVlfU0laRSIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJJbmZpbml0eSIsInNlZW4iLCJiYXNlSW52b2tlIiwicGFyZW50IiwibGFzdCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsIm1lc3NhZ2UiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwib2JqU3RhY2tlZCIsIm90aFN0YWNrZWQiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJtZXJnZUZ1bmMiLCJzYWZlR2V0IiwibmV3VmFsdWUiLCJpc1R5cGVkIiwiaXNBcnJheUxpa2VPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwidG9QbGFpbk9iamVjdCIsImJhc2VNZXJnZURlZXAiLCJiYXNlTnRoIiwiYmFzZU9yZGVyQnkiLCJpdGVyYXRlZXMiLCJvcmRlcnMiLCJnZXRJdGVyYXRlZSIsImNvbXBhcmVyIiwic29ydCIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInN0YXJ0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImVuZCIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJNQVhfQVJSQVlfTEVOR1RIIiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYmFzZVdyYXBwZXJWYWx1ZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiY29weSIsImFycmF5QnVmZmVyIiwidHlwZWRBcnJheSIsInZhbElzRGVmaW5lZCIsInZhbElzUmVmbGV4aXZlIiwiY29tcG9zZUFyZ3MiLCJwYXJ0aWFscyIsImhvbGRlcnMiLCJpc0N1cnJpZWQiLCJhcmdzSW5kZXgiLCJhcmdzTGVuZ3RoIiwiaG9sZGVyc0xlbmd0aCIsImxlZnRJbmRleCIsImxlZnRMZW5ndGgiLCJyYW5nZUxlbmd0aCIsImlzVW5jdXJyaWVkIiwiY29tcG9zZUFyZ3NSaWdodCIsImhvbGRlcnNJbmRleCIsInJpZ2h0SW5kZXgiLCJyaWdodExlbmd0aCIsImlzTmV3IiwiY3JlYXRlQWdncmVnYXRvciIsImluaXRpYWxpemVyIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJtZXRob2ROYW1lIiwidHJhaWxpbmciLCJjcmVhdGVDb21wb3VuZGVyIiwiY2FsbGJhY2siLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJhcmd1bWVudHMiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJub29wIiwiY3JlYXRlVG9QYWlycyIsImJhc2VUb1BhaXJzIiwiY3JlYXRlV3JhcCIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm1lcmdlRGF0YSIsImNyZWF0ZUN1cnJ5IiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZUJpbmQiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwiY3VzdG9tRGVmYXVsdHNNZXJnZSIsImN1c3RvbU9taXRDbG9uZSIsImFyckxlbmd0aCIsImFyclN0YWNrZWQiLCJhcnJWYWx1ZSIsImZsYXR0ZW4iLCJvdGhlckZ1bmMiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJvbGRBcnJheSIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwicmFuZCIsIm1lbW9pemUiLCJtZW1vaXplQ2FwcGVkIiwiY2hhckNvZGVBdCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZCIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImxlYWRpbmdFZGdlIiwidGltZXJFeHBpcmVkIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0cmFpbGluZ0VkZ2UiLCJ0aW1lV2FpdGluZyIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiY2FuY2VsIiwiZmx1c2giLCJkZWZlciIsImRlbGF5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwibmV4dCIsImRvbmUiLCJpdGVyYXRvclRvQXJyYXkiLCJyZW1haW5kZXIiLCJ0b0xlbmd0aCIsImlzQmluYXJ5IiwiYXNzaWduIiwiYXNzaWduSW4iLCJhc3NpZ25JbldpdGgiLCJhc3NpZ25XaXRoIiwiYXQiLCJwcm9wc0luZGV4IiwicHJvcHNMZW5ndGgiLCJkZWZhdWx0c0RlZXAiLCJtZXJnZVdpdGgiLCJpbnZlcnQiLCJpbnZlcnRCeSIsImludm9rZSIsIm1lcmdlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwicHJvcCIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJjYW1lbENhc2UiLCJ3b3JkIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJwYXR0ZXJuIiwiaGFzVW5pY29kZVdvcmQiLCJ1bmljb2RlV29yZHMiLCJhc2NpaVdvcmRzIiwiYXR0ZW1wdCIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2RPZiIsIm1peGluIiwib3ZlciIsIm92ZXJFdmVyeSIsIm92ZXJTb21lIiwiYmFzZVByb3BlcnR5RGVlcCIsInJhbmdlIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWNhbmQiLCJzdWJ0cmFjdCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwiYWZ0ZXIiLCJjYXN0QXJyYXkiLCJjaHVuayIsImNvbXBhY3QiLCJjb25jYXQiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImJhc2VGaWxsIiwiZmlsdGVyIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmbGlwIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zIiwiZnVuY3Rpb25zSW4iLCJpbml0aWFsIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1hdGNoZXMiLCJtYXRjaGVzUHJvcGVydHkiLCJudGhBcmciLCJvbWl0QnkiLCJvbmNlIiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlamVjdCIsInJlbW92ZSIsInJlc3QiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXEiLCJ1bmlxQnkiLCJ1bmlxV2l0aCIsInVuc2V0IiwidXBkYXRlIiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwid3JhcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJlbnRyaWVzSW4iLCJleHRlbmQiLCJleHRlbmRXaXRoIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNsb25lV2l0aCIsImNvbmZvcm1zVG8iLCJkZWZhdWx0VG8iLCJlbmRzV2l0aCIsInRhcmdldCIsInBvc2l0aW9uIiwiZXNjYXBlIiwiZXNjYXBlUmVnRXhwIiwiZXZlcnkiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hTiIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc051bGwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJsYXN0SW5kZXhPZiIsInN0cmljdExhc3RJbmRleE9mIiwibWF4QnkiLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0IiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicmFkaXgiLCJmbG9hdGluZyIsInRlbXAiLCJyZWR1Y2UiLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvbWUiLCJzb3J0ZWRJbmRleCIsInNvcnRlZEluZGV4QnkiLCJzb3J0ZWRJbmRleE9mIiwic29ydGVkTGFzdEluZGV4Iiwic29ydGVkTGFzdEluZGV4QnkiLCJzb3J0ZWRMYXN0SW5kZXhPZiIsInN0YXJ0c1dpdGgiLCJzdW0iLCJzdW1CeSIsInNldHRpbmdzIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHMiLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbSIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwic2VhcmNoIiwibmV3RW5kIiwidW5lc2NhcGUiLCJ1bmlxdWVJZCIsInByZWZpeCIsImVhY2giLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImRpciIsImlzUmlnaHQiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJ3cmFwcGVkIiwidG9KU09OIiwiZGVmaW5lIiwidGVybWNvbG9yIiwicmdiIiwiQ29sb3IiLCJUZXJtIiwiX29mZnNldCIsIl9jdXJzb3IiLCJfbGFzdENvbG9yIiwiY2IiLCJ3aWR0aCIsImhlaWdodCIsImF2YWlsIiwiY29tcHV0ZVNpemUiLCJiZyIsInN0ZG91dCIsIndyaXRlIiwiY2xlYXJCZWZvcmUiLCJ5IiwiY2giLCJmZyIsImR4IiwiZHkiLCJwb3NpdGlvblRvQW5zaSIsIm5ld0NvbG9yIiwiY29sb3JUb0Fuc2kiLCJjb2x1bW5zIiwicm93cyIsIl9fd2VicGFja19hbWRfb3B0aW9uc19fIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJjd2QiLCJjaGRpciIsInVtYXNrIiwid2luZG93Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwiY2hpbGRyZW4iLCJDYW52YXMiLCJfY3R4IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbnZhcyIsIm9wdHMiLCJzdHlsZSIsImZvbnRTdHlsZSIsImZvbnQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJfdXBkYXRlU2l6ZSIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJfbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbiIsIkhleCIsIl9zcGFjaW5nWCIsIl9zcGFjaW5nWSIsIl9oZXhTaXplIiwicHgiLCJ0cmFuc3Bvc2UiLCJfZmlsbCIsImZpbGxUZXh0IiwiYXZhaWxXaWR0aCIsImF2YWlsSGVpZ2h0IiwiaGV4U2l6ZVdpZHRoIiwiaGV4U2l6ZUhlaWdodCIsImhleFNpemUiLCJvbGRGb250IiwibWVhc3VyZVRleHQiLCJyYXRpbyIsInNwYWNpbmciLCJub2RlU2l6ZSIsImN4IiwiY3kiLCJhIiwiYm9yZGVyIiwiY3R4IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwieHByb3AiLCJ5cHJvcCIsImNoYXJXaWR0aCIsIlJlY3QiLCJfY2FudmFzQ2FjaGUiLCJfZHJhd1dpdGhDYWNoZSIsIl9kcmF3Tm9DYWNoZSIsImhhc2giLCJkcmF3SW1hZ2UiLCJib3hXaWR0aCIsImJveEhlaWdodCIsIndpZHRoRnJhY3Rpb24iLCJmb3JjZVNxdWFyZVJhdGlvIiwiVGlsZSIsIl9jb2xvckNhbnZhcyIsInRpbGVXaWR0aCIsInRpbGVIZWlnaHQiLCJ0aWxlQ29sb3JpemUiLCJjbGVhclJlY3QiLCJmZ3MiLCJiZ3MiLCJ0aWxlIiwidGlsZU1hcCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInRpbGVTZXQiLCJUaWxlR0wiLCJfdW5pZm9ybXMiLCJfZ2wiLCJfaW5pdFdlYkdMIiwiYWxlcnQiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJjb21wbGV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdXBkYXRlVGV4dHVyZSIsImdsIiwic2Npc3NvclkiLCJzY2lzc29yIiwiY2xlYXJDb2xvciIsInBhcnNlQ29sb3IiLCJDT0xPUl9CVUZGRVJfQklUIiwidW5pZm9ybTJmdiIsInVuaWZvcm0xZiIsInVuaWZvcm00ZnYiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJwcm9ncmFtIiwidnNzIiwiZnNzIiwidnMiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImZzIiwiRlJBR01FTlRfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJWUyIsIkZTIiwidXNlUHJvZ3JhbSIsInBvcyIsIkZsb2F0MzJBcnJheSIsImJ1ZiIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImNyZWF0ZVF1YWQiLCJVTklGT1JNUyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsIl9wcm9ncmFtIiwiZW5hYmxlIiwiQkxFTkQiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJPTkUiLCJTQ0lTU09SX1RFU1QiLCJjYW52YXNTaXplIiwidmlld3BvcnQiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX1dSQVBfUyIsIlJFUEVBVCIsIlRFWFRVUkVfV1JBUF9UIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwidGV4SW1hZ2UyRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiY29sb3JDYWNoZSIsInBhcnNlZCIsIk51bWJlciIsIiQiLCJSRV9DT0xPUlMiLCJUWVBFX1RFWFQiLCJUWVBFX05FV0xJTkUiLCJUWVBFX0ZHIiwiVFlQRV9CRyIsIm1lYXN1cmUiLCJtYXhXaWR0aCIsInRva2VucyIsInRva2VuaXplIiwibGluZVdpZHRoIiwidG9rZW4iLCJsaW5lTGVuZ3RoIiwibGFzdFRva2VuV2l0aFNwYWNlIiwiYnJlYWtJbnNpZGVUb2tlbiIsImFyciIsIm5leHRJbmRleCIsImJyZWFrSW5kZXgiLCJsYXN0VGV4dFRva2VuIiwiYnJlYWtMaW5lcyIsInRva2VuSW5kZXgiLCJyZW1vdmVCcmVha0NoYXIiLCJuZXdCcmVha1Rva2VuIiwibmV3VGV4dFRva2VuIiwiRElSUyIsIjQiLCI4IiwiNiIsIkRpc3BsYXkiLCJCQUNLRU5EUyIsIkRFRkFVTFRfT1BUSU9OUyIsImxheW91dCIsIl9kYXRhIiwiX2RpcnR5Iiwic2V0T3B0aW9ucyIsIkRFQlVHIiwiX3RpY2siLCJfYmFja2VuZCIsInNjaGVkdWxlIiwid2hhdCIsImRyYXciLCJjdG9yIiwiZ2V0Q29udGFpbmVyIiwiY29tcHV0ZUZvbnRTaXplIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZXZlbnRUb1Bvc2l0aW9uIiwidGV4dCIsImxpbmVzIiwiVGV4dCIsImlzU3BhY2UiLCJpc1ByZXZTcGFjZSIsImlzRnVsbFdpZHRoIiwiaXNQcmV2RnVsbFdpZHRoIiwiY2MiLCJjY2giLCJfZHJhdyIsIl93aWR0aCIsIl9oZWlnaHQiLCJBcmVuYSIsInciLCJEdW5nZW9uIiwiX3Jvb21zIiwiX2NvcnJpZG9ycyIsIkZlYXR1cmUiLCJSb29tIiwieDEiLCJ5MSIsIngyIiwieTIiLCJkb29yWCIsImRvb3JZIiwiX3gxIiwiX3kxIiwiX3gyIiwiX3kyIiwiX2Rvb3JzIiwiYWRkRG9vciIsImlzV2FsbENhbGxiYWNrIiwicmlnaHQiLCJib3R0b20iLCJjb25zb2xlIiwiY2FuQmVEdWdDYWxsYmFjayIsImRpZ0NhbGxiYWNrIiwicm9vbVdpZHRoIiwiZ2V0VW5pZm9ybUludCIsInJvb21IZWlnaHQiLCJDb3JyaWRvciIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwiX3N0YXJ0WCIsIl9zdGFydFkiLCJfZW5kWCIsIl9lbmRZIiwiX2VuZHNXaXRoQVdhbGwiLCJzeCIsInN5IiwiYWJzIiwibngiLCJueSIsIm9rIiwiZmlyc3RDb3JuZXJCYWQiLCJzZWNvbmRDb3JuZXJCYWQiLCJwcmlvcml0eVdhbGxDYWxsYmFjayIsImNvcnJpZG9yTGVuZ3RoIiwiVW5pZm9ybSIsInJvb21EdWdQZXJjZW50YWdlIiwidGltZUxpbWl0IiwiX21hcCIsIl9kdWciLCJfcm9vbUF0dGVtcHRzIiwiX2NvcnJpZG9yQXR0ZW1wdHMiLCJfY29ubmVjdGVkIiwiX3VuY29ubmVjdGVkIiwiX2RpZ0NhbGxiYWNrIiwiX2NhbkJlRHVnQ2FsbGJhY2siLCJfaXNXYWxsQ2FsbGJhY2siLCJ0MSIsIl9maWxsTWFwIiwiX2dlbmVyYXRlUm9vbXMiLCJfZ2VuZXJhdGVDb3JyaWRvcnMiLCJyb29tIiwiX2dlbmVyYXRlUm9vbSIsImNyZWF0ZVJhbmRvbSIsImlzVmFsaWQiLCJjbnQiLCJjbGVhckRvb3JzIiwiY29ubmVjdGVkIiwicm9vbTEiLCJfY2xvc2VzdFJvb20iLCJyb29tMiIsIl9jb25uZWN0Um9vbXMiLCJyb29tcyIsImRpc3QiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJkaXJJbmRleDEiLCJkaXJJbmRleDIiLCJjZW50ZXIxIiwiY2VudGVyMiIsImRpZmZYIiwiZGlmZlkiLCJnZXRMZWZ0IiwiZ2V0UmlnaHQiLCJnZXRUb3AiLCJnZXRCb3R0b20iLCJfcGxhY2VJbldhbGwiLCJfZGlnTGluZSIsInJvdGF0aW9uIiwiaW5kZXgyIiwibWlkMSIsIm1pZDIiLCJkaXJJbmRleCIsImxhc3RCYWRJbmRleCIsInBvaW50cyIsImNvcnJpZG9yIiwiRkVBVFVSRVMiLCJhZGRUb0xpc3QiLCJMIiwiUiIsInJlbW92ZUZyb21MaXN0IiwiQ2VsbHVsYXIiLCJib3JuIiwic3Vydml2ZSIsInRvcG9sb2d5IiwiX2RpcnMiLCJwcm9iYWJpbGl0eSIsIm5ld01hcCIsIndpZHRoU3RlcCIsIndpZHRoU3RhcnQiLCJjdXIiLCJuY291bnQiLCJfZ2V0TmVpZ2hib3JzIiwiX3NlcnZpY2VDYWxsYmFjayIsImNvbm5lY3Rpb25DYWxsYmFjayIsImFsbEZyZWVTcGFjZSIsIm5vdENvbm5lY3RlZCIsIndpZHRoU3RhcnRzIiwiX2ZyZWVTcGFjZSIsIl9wb2ludEtleSIsIl9maW5kQ29ubmVjdGVkIiwiX2dldEZyb21UbyIsImZyb20iLCJ0byIsImxvY2FsIiwidHVubmVsRm4iLCJfdHVubmVsVG9Db25uZWN0ZWQ2IiwiX3R1bm5lbFRvQ29ubmVjdGVkIiwiayIsInBwIiwiY29ubmVjdGVkS2V5cyIsIm5vdENvbm5lY3RlZEtleXMiLCJfZ2V0Q2xvc2VzdCIsInBvaW50Iiwic3BhY2UiLCJtaW5Qb2ludCIsIm1pbkRpc3QiLCJrZWVwTm90Q29ubmVjdGVkIiwidGVzdHMiLCJ4eCIsInBrZXkiLCJ5eSIsInN0ZXBXaWR0aCIsIkRpZ2dlciIsImR1Z1BlcmNlbnRhZ2UiLCJfZmVhdHVyZXMiLCJfZmVhdHVyZUF0dGVtcHRzIiwiX3dhbGxzIiwiX3ByaW9yaXR5V2FsbENhbGxiYWNrIiwiYXJlYSIsIl9maXJzdFJvb20iLCJwcmlvcml0eVdhbGxzIiwid2FsbCIsIl9maW5kV2FsbCIsIl9nZXREaWdnaW5nRGlyZWN0aW9uIiwiZmVhdHVyZUF0dGVtcHRzIiwiX3RyeUZlYXR1cmUiLCJfcmVtb3ZlU3Vycm91bmRpbmdXYWxscyIsIl9hZGREb29ycyIsImNyZWF0ZVJhbmRvbUNlbnRlciIsInByaW8xIiwicHJpbzIiLCJmZWF0dXJlTmFtZSIsImdldFdlaWdodGVkVmFsdWUiLCJmZWF0dXJlIiwiY3JlYXRlUmFuZG9tQXQiLCJjcmVhdGVQcmlvcml0eVdhbGxzIiwiZGVsdGFzIiwiZGVsdGEiLCJhZGREb29ycyIsIkVsbGVyTWF6ZSIsIkRpdmlkZWRNYXplIiwiX3N0YWNrIiwiX3Byb2Nlc3MiLCJfcGFydGl0aW9uUm9vbSIsImF2YWlsWCIsImF2YWlsWSIsIndhbGxzIiwic29saWQiLCJob2xlIiwiSWNleU1hemUiLCJyZWd1bGFyaXR5IiwiX3JlZ3VsYXJpdHkiLCJibG9ja2VkIiwiZGlycyIsIl9yYW5kb21pemUiLCJfaXNGcmVlIiwiUm9ndWUiLCJjb25uZWN0ZWRDZWxscyIsImNlbGxXaWR0aCIsImNlbGxIZWlnaHQiLCJfY2FsY3VsYXRlUm9vbVNpemUiLCJfaW5pdFJvb21zIiwiX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zIiwiX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyIsIl9jcmVhdGVSb29tcyIsIl9jcmVhdGVDb3JyaWRvcnMiLCJjZWxsIiwiaWR4IiwibmNneCIsIm5jZ3kiLCJvdGhlclJvb20iLCJkaXJUb0NoZWNrIiwiY2d4IiwiY2d5IiwiZm91bmQiLCJ2YWxpZFJvb20iLCJjdyIsImRpcmVjdGlvbnMiLCJkaXJJZHgiLCJuZXdJIiwibmV3SiIsInJvb213Iiwicm9vbWgiLCJjd3AiLCJjaHAiLCJzeE9mZnNldCIsInN5T2Zmc2V0IiwiaWkiLCJqaiIsImFSb29tIiwiYURpcmVjdGlvbiIsInJ4IiwicnkiLCJkb29yIiwic3RhcnRQb3NpdGlvbiIsImVuZFBvc2l0aW9uIiwidGVtcERpc3QiLCJ4RGlyIiwieURpciIsIm1vdmUiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhwb3MiLCJ5cG9zIiwibW92ZXMiLCJ4QWJzIiwieUFicyIsInBlcmNlbnQiLCJmaXJzdEhhbGYiLCJzZWNvbmRIYWxmIiwiY29ubmVjdGlvbiIsIm90aGVyV2FsbCIsIl9kcmF3Q29ycmlkb3IiLCJfZ2V0V2FsbFBvc2l0aW9uIiwiUGF0aCIsInRvWCIsInRvWSIsInBhc3NhYmxlQ2FsbGJhY2siLCJfdG9YIiwiX3RvWSIsIl9wYXNzYWJsZUNhbGxiYWNrIiwiRGlqa3N0cmEiLCJfY29tcHV0ZWQiLCJfdG9kbyIsIl9hZGQiLCJmcm9tWCIsImZyb21ZIiwiX2NvbXB1dGUiLCJpdGVtIiwicHJldiIsIm5laWdoYm9ycyIsIm5laWdoYm9yIiwiQVN0YXIiLCJfZG9uZSIsIl9mcm9tWCIsIl9mcm9tWSIsIl9kaXN0YW5jZSIsImYiLCJpdGVtRiIsImRldmljZVBpeGVsUmF0aW8iLCJxdWVyeVNlbGVjdG9yIiwiZ3JpZCIsImRpc3BsYXkiLCJST1QiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5T3B0aW9uc0hlbHAiLCJkaXZIZWxwIiwiZGlzcGxheUhlbHAiLCJkcmF3VGV4dCIsInBhc2NhbENhc2UiLCJpc0xhc3RDaGFyTG93ZXIiLCJpc0xhc3RDaGFyVXBwZXIiLCJpc0xhc3RMYXN0Q2hhclVwcGVyIiwiY2hhcmFjdGVyIiwicHJlc2VydmVDYW1lbENhc2UiLCJwMSIsImNhbWVsQ2FjaGUiLCJjYW1lbFN0cmluZyIsImNhbWVsY2FzZVNsb3ciLCJyZWdpc3RlciIsImNsYXp6IiwiQmlnSW50IiwiaXNNZXJnZWFibGVPYmplY3QiLCJpc05vbk51bGxPYmplY3QiLCJzdHJpbmdWYWx1ZSIsImlzUmVhY3RFbGVtZW50IiwiaXNTcGVjaWFsIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQiLCJkZWVwbWVyZ2UiLCJkZWZhdWx0QXJyYXlNZXJnZSIsImVsZW1lbnQiLCJnZXRLZXlzIiwiZ2V0RW51bWVyYWJsZU93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNPbk9iamVjdCIsIm1lcmdlT2JqZWN0IiwiZGVzdGluYXRpb24iLCJwcm9wZXJ0eUlzVW5zYWZlIiwiY3VzdG9tTWVyZ2UiLCJnZXRNZXJnZUZ1bmN0aW9uIiwic291cmNlSXNBcnJheSIsIm92ZXJ3cml0ZSIsImFwcGx5VG9FbnRpdHkiLCJpbml0aWFsUHJvcHMiLCJlbnRpdHkiLCJjb21wIiwiYWRkQ29tcG9uZW50IiwicHJlZmFiUHJvcHMiLCJhcnJDb21wcyIsImNvbXBvbmVudCIsImNrZXkiLCJpbml0aWFsQ29tcFByb3BzIiwiZGVzZXJpYWxpemUiLCJyZWdpc3RlcmVkIiwicHJlZmFiIiwiUHJlZmFiIiwiaW5oZXJpdCIsInJlZiIsImNvbXBzIiwiY29tcG9uZW50RGF0YSIsIlByZWZhYkNvbXBvbmVudCIsIl9wcmVmYWJzIiwid29ybGQiLCJkZXN0cm95IiwiX29uRGVzdHJveWVkIiwiX29uRXZlbnQiLCJldnQiLCJfb25BdHRhY2hlZCIsInNlcmlhbGl6ZSIsIm9iIiwib25BdHRhY2hlZCIsIm9uRGVzdHJveWVkIiwib25FdmVudCIsIkNvbXBvbmVudCIsImlzIiwiaGFuZGxlIiwicHJldmVudCIsInN1YnRyYWN0Qml0IiwibnVtIiwiYml0IiwiYWRkQml0IiwiYml0SW50ZXJzZWN0aW9uIiwibjEiLCJuMiIsInNlcmlhbGl6ZUNvbXBvbmVudCIsInNlcmlhbGl6ZUNvbXBvbmVudEtleWVkIiwic2VyIiwiX2NhbmRpZGFjeSIsImF0dGFjaENvbXBvbmVudEtleWVkIiwiYXR0YWNoQ29tcG9uZW50QXJyYXkiLCJhdHRhY2hDb21wb25lbnQiLCJrZXlQcm9wIiwicmVtb3ZlQ29tcG9uZW50S2V5ZWQiLCJyZW1vdmVDb21wb25lbnRBcnJheSIsInJlbW92ZUNvbXBvbmVudCIsImNvbXBvbmVudHMiLCJmaXJlRXZlbnQiLCJFbnRpdHlFdmVudCIsImFueSIsImZpbHRlcnMiLCJhbGwiLCJub25lIiwib25FbnRpdHlBZGRlZCIsIm9uRW50aXR5UmVtb3ZlZCIsIl9jYWNoZSIsImJpdHMiLCJfYW55IiwiY2FuZGlkYXRlIiwiaXNUcmFja2luZyIsInJlZnJlc2giLCJjcmVhdGVJZCIsImdldEVudGl0eSIsIl9lbnRpdGllcyIsImdldEVudGl0aWVzIiwiY3JlYXRlRW50aXR5IiwiRW50aXR5IiwiZGVzdHJveUVudGl0eSIsImRlc3Ryb3lFbnRpdGllcyIsImNyZWF0ZVF1ZXJ5IiwicXVlcnkiLCJRdWVyeSIsImNyZWF0ZVByZWZhYiIsImVuZ2luZSIsImpzb24iLCJlbnRpdGllcyIsImxpc3QiLCJlbnRpdHlEYXRhIiwiX2NyZWF0ZU9yR2V0RW50aXR5QnlJZCIsIl9kZXNlcmlhbGl6ZUVudGl0eSIsImRlZiIsIl9jYW5kaWRhdGUiLCJfZGVzdHJveWVkIiwiUHJlZmFiUmVnaXN0cnkiLCJyZWdpc3RlckNvbXBvbmVudCIsInJlZ2lzdGVyUHJlZmFiIiwiY3JlYXRlV29ybGQiLCJXb3JsZCIsImRlc3Ryb3lXb3JsZCIsImVudGl0aWVzQXRMb2NhdGlvbiIsImFkZENhY2hlU2V0IiwiZGVsZXRlQ2FjaGVTZXQiLCJyZWFkQ2FjaGVTZXQiLCJDaGVja1NpbmdsZXMiLCJjb3VudHMiLCJBbGxvd2VkIiwiQ2hlY2tTYW1lcyIsIkNoZWNrRG91YmxlcyIsInRvTG9jSWQiLCJjZWxsT3JJZCIsImxvY0lkIiwiY2VsbFRvSWQiLCJpZFRvQ2VsbCIsImNvb3JkcyIsIkFiaWxpdHkiLCJjYW5Vc2UiLCJhYmlsaXR5IiwiZGljZSIsIkdldFNlbGVjdGVkRGllIiwieWFodHplZSIsIm9uVXNlIiwiYWJpbGl0eVBoYXNlIiwicGhhc2UiLCJBYmlsaXR5TW92ZSIsInNlbGVjdGVkIiwidG9HYWluIiwiQWJpbGl0eURvZGdlIiwiQWJpbGl0eVN3b3JkSmFiIiwiYWJpbGl0eUFsbG93ZWREaWUiLCJhbGxvd2VkIiwiYWJpbGl0eVRhcmdldCIsIlJvdGF0ZUNvb3JkcyIsImNvb3JkIiwibmV3RG1nVGlsZSIsIm9uVGFyZ2V0IiwiU2V0UXVldWVkQWJpbGl0eSIsIlNldFF1ZXVlZEVudGl0eSIsIkV4YW1pbmVUYXJnZXRFbmFibGUiLCJBYmlsaXR5U3dvcmRTd2luZyIsIkFiaWxpdHlTcGVhclRocnVzdCIsIkFiaWxpdHlEb3VibGVBeGVTd2luZyIsImRtZyIsImFiaWxpdHlEYW1hZ2UiLCJBYmlsaXR5QXhlRGVjYXBpdGF0ZSIsImRpZUxpc3QiLCJkaWUiLCJleGhhdXN0ZWQiLCJDb252ZXJ0Q29vcmRzRG93biIsIkNvbnZlcnRDb29yZHNMZWZ0IiwiQ29udmVydENvb3Jkc1JpZ2h0IiwibmV3UmlnaHQiLCJjbyIsImhvbGRlciIsIkFwcGVhcmFuY2UiLCJjaGFyIiwiYmFja2dyb3VuZCIsIkRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJJc0Jsb2NraW5nIiwiUG9zaXRpb24iLCJIZWFsdGgiLCJhbW91bnQiLCJJc0RlYWQiLCJNb3ZlbWVudCIsIm1vdmVtZW50IiwiZG9kZ2UiLCJtb3ZlQ29tcCIsIm14IiwibXkiLCJibG9ja2VycyIsImZhc3RBdHRhY2tzIiwiZW50aXRpZXNBdExvYyIsImVJZCIsImlzQmxvY2tpbmciLCJmYXN0QXR0YWNrIiwiTW92ZW1lbnRzIiwiR2Fpbk1vdmVtZW50IiwiQXJtb3VyIiwiU3RhbWluYSIsIkRpZSIsIm9uUm9sbERpY2UiLCJyZWdlbiIsInVzZWQiLCJzdGFtaW5hIiwiSXNUdXJuRW5kIiwiSXNQbGF5ZXJDb250cm9sbGVkIiwiSXNFbmVteSIsImVuZW15IiwiTGF5ZXJNYXAiLCJMYXllclVuaXQiLCJTbG93QXR0YWNrIiwiRmFzdEF0dGFjayIsIkRtZ1RpbGUiLCJBYmlsaXR5TGlzdCIsImFiaWxpdGllcyIsImFiaWwiLCJBYmlsaXR5VGFyZ2V0IiwiQWJpbGl0eUFsbG93ZWREaWUiLCJBYmlsaXR5RnVuY3Rpb24iLCJmdW5jdGlvbiIsIkFiaWxpdGllcyIsIkFiaWxpdHlQaGFzZSIsIkFiaWxpdHlTcGVlZCIsInNwZWVkIiwiQWJpbGl0eVN0YW1pbmFDb3N0IiwiQWJpbGl0eVNtYWxsTmFtZSIsInNtYWxsTmFtZSIsIkFiaWxpdHlSYW5nZSIsIkFiaWxpdHlEYW1hZ2UiLCJBYmlsaXR5RW5kc1R1cm4iLCJCZWluZyIsIldhbGwiLCJGbG9vciIsIlBsYXllckJlaW5nIiwiTW9iIiwiR29ibGluIiwiT3JjV2FycmlvciIsImVjcyIsIkVuZ2luZSIsInByZWZhYnMiLCJTdGFydEdhbWUiLCJNYWtlVmlzaWJsZSIsInZpc2liaWxpdHkiLCJiYW5uZXIiLCJXcml0ZUFiaWxpdHkiLCJ0b1dyaXRlIiwibGF5ZXJNYXBFbnRpdGllcyIsImxheWVyVW5pdEVudGl0aWVzIiwic2xvd0RtZ0VudGl0aWVzIiwiZmFzdERtZ0VudGl0aWVzIiwiZW5lbXlFbnRpdGllcyIsIkVudGl0eVRvUmVuZGVyIiwiYWJpbGl0eUhvdGtleXMiLCJEcmF3VGV4dCIsIkRyYXdDaGFyIiwiYXBwZWFyYW5jZSIsInJlbmRlciIsImdhbWVTdGF0ZSIsImhlbHBUZXh0IiwiRHJhd0hlbHBNZW51IiwiU2hvd0FiaWxpdHlJbmZvIiwiZG1nVGlsZXMiLCJkbWdDb3VudCIsInRvTG9jIiwiZG1nVGlsZSIsIlJlbmRlckRhbWFnZU51bWJlcnMiLCJDdXJycmVudEFjdGl2ZVBsYXllciIsImhlYWx0aCIsInJlbmRlckFjdGl2ZVBsYXllciIsInJlbmRlckRpZU1lbnUiLCJhYmlsaXR5TGlzdCIsImN1cnJlbnRQaGFzZSIsImFiaWxpdHlGdW5jdGlvbiIsInNtbE5hbWUiLCJhYmlsaXR5U21hbGxOYW1lIiwicmVuZGVyQWJpbGl0eU1lbnUiLCJyZW5kZXJFbmVteVF1aWNrQmFyIiwic2xvdyIsImdldEVudGl0aWVzQXRMb2MiLCJnb3RVbml0IiwiZWlkIiwiZW50cyIsImZhc3QiLCJ0YXJnZXRFbnRpdHkiLCJkdW5nZW9uTWFwR2VuIiwiRmV0Y2hGcmVlVGlsZSIsImFueUZyZWUiLCJDcmVhdGVGcmVlU3BhY2VMaXN0IiwiZW1wdHlUaWxlcyIsImFsbHlFbnRpdGllcyIsIk1ha2VEaWprc3RyYSIsIkFpUGF0aGZpbmQiLCJkaWprc3RyYSIsIkZpbmRDbG9zZXN0VGFyZ2V0Iiwid2lubmVyIiwiY2xvc2VzdCIsImNvbXB1dGUiLCJDaGVja1N0cmFpZ2h0TGluZSIsImN1cnJlbnRYWSIsIlhzIiwiWXMiLCJDaG9vc2VBaUF0dGFjayIsImF0dGFja2VkIiwiYWJpbGl0eVJhbmdlIiwidGFyZyIsImFiaWxpdHlTdGFtaW5hQ29zdCIsIk1vdmVGb3J3YXJkIiwibmV4dFN0ZXAiLCJwcmV2aW91c0dhbWVTdGF0ZSIsInF1ZXVlZEFiaWxpdHkiLCJxdWV1ZWRFbnRpdHkiLCJlbnQiLCJDdXJycmVudEFjdGl2ZVBsYXllckluZGV4IiwidXNlcklucHV0IiwicGxheWVyRW50aXRpZXMiLCJkbWdUaWxlRW50aXRpZXMiLCJwcm9jZXNzVXNlcklucHV0IiwiU2V0UHJldmlvdXNTdGF0ZSIsIkdldE5leHRBY3RpdmVQbGF5ZXIiLCJQbGF5ZXJBdHRlbXB0TW92ZSIsImFiaWxpdHlJbmRleCIsIkNvbnZlcnRTa2lsbEhvdGtleSIsIkdldFRhcmdldEVudGl0eVBvcyIsIlBsYXllclR1cm5EZWZlbmQiLCJQcm9jZXNzRG1nVGlsZXMiLCJFbmRUdXJuUHJvY2VzcyIsIkV4YW1pbmVUYXJnZXREaXNhYmxlIiwiVGFyZ2V0TW92ZSIsIlJldHVyblByZXZpb3VzR2FtZVN0YXRlIiwiaG90a2V5IiwiZXYiLCJzZXR1cFRlc3RGaWdodCIsIm5ld1BsYXllciIsImVtcHR5VGlsZSIsIm5ld1BsYXllcjIiLCJFbmVteUF0dGFja1R1cm4iLCJlbmVtIiwiYWJpbGl0aWVzQ2FuVXNlIiwidG9EZXN0cm95IiwiZW50aXR5QXRMb2MiLCJsYXllclVuaXQiLCJnYW1lTG9vcCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FL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anhCRyxDQUVwQixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQ3RCLElBQVEsSUFBTSxJQUFRLElBQ3RCLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFDdEIsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQ25DLElBQVEsS0FBTSxJQUFRLEtBQ3RCLElBQVEsS0FBTSxJQUFRLEtBQ3RCLElBQVEsS0FFUixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQzFCLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN0RixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdEYsSUFBVSxJQUFNLElBQVUs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MUIsSUE3WGMsU0FBYnBGLEdBQ0RBLEdBQVksa0JBQ1EsbUJBQWJBLElBS1BBLEdBQVksa0JBQ1pELE1BR29CLG1CQUFiQyxJQUNQOEUsS0FFQVYsR0FBZTNFLEdBQWNyK0QsT0FFN0I0K0QsR0FBWSxtQkFDWkQsTUFDb0Isb0JBQWJDLElBSWEsb0JBQWJBLEdBSFAyRCxLQVVrQixXQUFYM0QsSUFBb0MsYUFBWkEsSUFBd0MsUUFBYkEsSUFBb0MsZUFBYkEsSUFBMkMsY0FBYkEsSUFBMEMsZ0JBQWJBLElBQzVJMkQsS0FrV0Z2ekIsc0JBQXNCZzFCIiwiZmlsZSI6Im1haW4uYzIzYTgwNzY1NTMyOGI4ODgwNzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTApO1xuIiwiLyoqXG4gKiBUaGlzIGNvZGUgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgQWxlYSBhbGdvcml0aG07IChDKSAyMDEwIEpvaGFubmVzIEJhYWfDuGUuXG4gKiBBbGVhIGlzIGxpY2Vuc2VkIGFjY29yZGluZyB0byB0aGUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NSVRfTGljZW5zZS5cbiAqL1xuY29uc3QgRlJBQyA9IDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8qIDJeLTMyICovXG5jbGFzcyBSTkcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9zZWVkID0gMDtcbiAgICAgICAgdGhpcy5fczAgPSAwO1xuICAgICAgICB0aGlzLl9zMSA9IDA7XG4gICAgICAgIHRoaXMuX3MyID0gMDtcbiAgICAgICAgdGhpcy5fYyA9IDA7XG4gICAgfVxuICAgIGdldFNlZWQoKSB7IHJldHVybiB0aGlzLl9zZWVkOyB9XG4gICAgLyoqXG4gICAgICogU2VlZCB0aGUgbnVtYmVyIGdlbmVyYXRvclxuICAgICAqL1xuICAgIHNldFNlZWQoc2VlZCkge1xuICAgICAgICBzZWVkID0gKHNlZWQgPCAxID8gMSAvIHNlZWQgOiBzZWVkKTtcbiAgICAgICAgdGhpcy5fc2VlZCA9IHNlZWQ7XG4gICAgICAgIHRoaXMuX3MwID0gKHNlZWQgPj4+IDApICogRlJBQztcbiAgICAgICAgc2VlZCA9IChzZWVkICogNjkwNjkgKyAxKSA+Pj4gMDtcbiAgICAgICAgdGhpcy5fczEgPSBzZWVkICogRlJBQztcbiAgICAgICAgc2VlZCA9IChzZWVkICogNjkwNjkgKyAxKSA+Pj4gMDtcbiAgICAgICAgdGhpcy5fczIgPSBzZWVkICogRlJBQztcbiAgICAgICAgdGhpcy5fYyA9IDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBQc2V1ZG9yYW5kb20gdmFsdWUgWzAsMSksIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuICAgICAqL1xuICAgIGdldFVuaWZvcm0oKSB7XG4gICAgICAgIGxldCB0ID0gMjA5MTYzOSAqIHRoaXMuX3MwICsgdGhpcy5fYyAqIEZSQUM7XG4gICAgICAgIHRoaXMuX3MwID0gdGhpcy5fczE7XG4gICAgICAgIHRoaXMuX3MxID0gdGhpcy5fczI7XG4gICAgICAgIHRoaXMuX2MgPSB0IHwgMDtcbiAgICAgICAgdGhpcy5fczIgPSB0IC0gdGhpcy5fYztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3MyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbG93ZXJCb3VuZCBUaGUgbG93ZXIgZW5kIG9mIHRoZSByYW5nZSB0byByZXR1cm4gYSB2YWx1ZSBmcm9tLCBpbmNsdXNpdmVcbiAgICAgKiBAcGFyYW0gdXBwZXJCb3VuZCBUaGUgdXBwZXIgZW5kIG9mIHRoZSByYW5nZSB0byByZXR1cm4gYSB2YWx1ZSBmcm9tLCBpbmNsdXNpdmVcbiAgICAgKiBAcmV0dXJucyBQc2V1ZG9yYW5kb20gdmFsdWUgW2xvd2VyQm91bmQsIHVwcGVyQm91bmRdLCB1c2luZyBST1QuUk5HLmdldFVuaWZvcm0oKSB0byBkaXN0cmlidXRlIHRoZSB2YWx1ZVxuICAgICAqL1xuICAgIGdldFVuaWZvcm1JbnQobG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuICAgICAgICBsZXQgbWF4ID0gTWF0aC5tYXgobG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG4gICAgICAgIGxldCBtaW4gPSBNYXRoLm1pbihsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbWVhbiBNZWFuIHZhbHVlXG4gICAgICogQHBhcmFtIHN0ZGRldiBTdGFuZGFyZCBkZXZpYXRpb24uIH45NSUgb2YgdGhlIGFic29sdXRlIHZhbHVlcyB3aWxsIGJlIGxvd2VyIHRoYW4gMipzdGRkZXYuXG4gICAgICogQHJldHVybnMgQSBub3JtYWxseSBkaXN0cmlidXRlZCBwc2V1ZG9yYW5kb20gdmFsdWVcbiAgICAgKi9cbiAgICBnZXROb3JtYWwobWVhbiA9IDAsIHN0ZGRldiA9IDEpIHtcbiAgICAgICAgbGV0IHUsIHYsIHI7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHUgPSAyICogdGhpcy5nZXRVbmlmb3JtKCkgLSAxO1xuICAgICAgICAgICAgdiA9IDIgKiB0aGlzLmdldFVuaWZvcm0oKSAtIDE7XG4gICAgICAgICAgICByID0gdSAqIHUgKyB2ICogdjtcbiAgICAgICAgfSB3aGlsZSAociA+IDEgfHwgciA9PSAwKTtcbiAgICAgICAgbGV0IGdhdXNzID0gdSAqIE1hdGguc3FydCgtMiAqIE1hdGgubG9nKHIpIC8gcik7XG4gICAgICAgIHJldHVybiBtZWFuICsgZ2F1c3MgKiBzdGRkZXY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFBzZXVkb3JhbmRvbSB2YWx1ZSBbMSwxMDBdIGluY2x1c2l2ZSwgdW5pZm9ybWx5IGRpc3RyaWJ1dGVkXG4gICAgICovXG4gICAgZ2V0UGVyY2VudGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIDEgKyBNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpICogMTAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgUmFuZG9tbHkgcGlja2VkIGl0ZW0sIG51bGwgd2hlbiBsZW5ndGg9MFxuICAgICAqL1xuICAgIGdldEl0ZW0oYXJyYXkpIHtcbiAgICAgICAgaWYgKCFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheVtNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpICogYXJyYXkubGVuZ3RoKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIE5ldyBhcnJheSB3aXRoIHJhbmRvbWl6ZWQgaXRlbXNcbiAgICAgKi9cbiAgICBzaHVmZmxlKGFycmF5KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGNsb25lID0gYXJyYXkuc2xpY2UoKTtcbiAgICAgICAgd2hpbGUgKGNsb25lLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gY2xvbmUuaW5kZXhPZih0aGlzLmdldEl0ZW0oY2xvbmUpKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNsb25lLnNwbGljZShpbmRleCwgMSlbMF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIGtleT13aGF0ZXZlciwgdmFsdWU9d2VpZ2h0IChyZWxhdGl2ZSBwcm9iYWJpbGl0eSlcbiAgICAgKiBAcmV0dXJucyB3aGF0ZXZlclxuICAgICAqL1xuICAgIGdldFdlaWdodGVkVmFsdWUoZGF0YSkge1xuICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICB0b3RhbCArPSBkYXRhW2lkXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmFuZG9tID0gdGhpcy5nZXRVbmlmb3JtKCkgKiB0b3RhbDtcbiAgICAgICAgbGV0IGlkLCBwYXJ0ID0gMDtcbiAgICAgICAgZm9yIChpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICBwYXJ0ICs9IGRhdGFbaWRdO1xuICAgICAgICAgICAgaWYgKHJhbmRvbSA8IHBhcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYnkgc29tZSBmbG9hdGluZy1wb2ludCBhbm5veWFuY2Ugd2UgaGF2ZVxuICAgICAgICAvLyByYW5kb20gPj0gdG90YWwsIGp1c3QgcmV0dXJuIHRoZSBsYXN0IGlkLlxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBSTkcgc3RhdGUuIFVzZWZ1bCBmb3Igc3RvcmluZyB0aGUgc3RhdGUgYW5kIHJlLXNldHRpbmcgaXQgdmlhIHNldFN0YXRlLlxuICAgICAqIEByZXR1cm5zIEludGVybmFsIHN0YXRlXG4gICAgICovXG4gICAgZ2V0U3RhdGUoKSB7IHJldHVybiBbdGhpcy5fczAsIHRoaXMuX3MxLCB0aGlzLl9zMiwgdGhpcy5fY107IH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBwcmV2aW91c2x5IHJldHJpZXZlZCBzdGF0ZS5cbiAgICAgKi9cbiAgICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLl9zMCA9IHN0YXRlWzBdO1xuICAgICAgICB0aGlzLl9zMSA9IHN0YXRlWzFdO1xuICAgICAgICB0aGlzLl9zMiA9IHN0YXRlWzJdO1xuICAgICAgICB0aGlzLl9jID0gc3RhdGVbM107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY2xvbmVkIFJOR1xuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgUk5HKCk7XG4gICAgICAgIHJldHVybiBjbG9uZS5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlKCkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBSTkcoKS5zZXRTZWVkKERhdGUubm93KCkpO1xuIiwiLyoqXG4gKiBBbHdheXMgcG9zaXRpdmUgbW9kdWx1c1xuICogQHBhcmFtIHggT3BlcmFuZFxuICogQHBhcmFtIG4gTW9kdWx1c1xuICogQHJldHVybnMgeCBtb2R1bG8gblxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9kKHgsIG4pIHtcbiAgICByZXR1cm4gKHggJSBuICsgbikgJSBuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbCwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgIGlmICh2YWwgPCBtaW4pXG4gICAgICAgIHJldHVybiBtaW47XG4gICAgaWYgKHZhbCA+IG1heClcbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHJpbmcoMSk7XG59XG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBpbiBhIGZsZXhpYmxlIHdheS4gU2NhbnMgZm9yICVzIHN0cmluZ3MgYW5kIHJlcGxhY2VzIHRoZW0gd2l0aCBhcmd1bWVudHMuIExpc3Qgb2YgcGF0dGVybnMgaXMgbW9kaWZpYWJsZSB2aWEgU3RyaW5nLmZvcm1hdC5tYXAuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVcbiAqIEBwYXJhbSB7YW55fSBbYXJndl1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdCh0ZW1wbGF0ZSwgLi4uYXJncykge1xuICAgIGxldCBtYXAgPSBmb3JtYXQubWFwO1xuICAgIGxldCByZXBsYWNlciA9IGZ1bmN0aW9uIChtYXRjaCwgZ3JvdXAxLCBncm91cDIsIGluZGV4KSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZS5jaGFyQXQoaW5kZXggLSAxKSA9PSBcIiVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9iaiA9IGFyZ3NbMF07XG4gICAgICAgIGxldCBncm91cCA9IGdyb3VwMSB8fCBncm91cDI7XG4gICAgICAgIGxldCBwYXJ0cyA9IGdyb3VwLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgbGV0IG5hbWUgPSBwYXJ0cy5zaGlmdCgpIHx8IFwiXCI7XG4gICAgICAgIGxldCBtZXRob2QgPSBtYXBbbmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgaWYgKCFtZXRob2QpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBvYmogPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIGxldCByZXBsYWNlZCA9IG9ialttZXRob2RdLmFwcGx5KG9iaiwgcGFydHMpO1xuICAgICAgICBsZXQgZmlyc3QgPSBuYW1lLmNoYXJBdCgwKTtcbiAgICAgICAgaWYgKGZpcnN0ICE9IGZpcnN0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJlcGxhY2VkID0gY2FwaXRhbGl6ZShyZXBsYWNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuICAgIH07XG4gICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoLyUoPzooW2Etel0rKXwoPzp7KFtefV0rKX0pKS9naSwgcmVwbGFjZXIpO1xufVxuZm9ybWF0Lm1hcCA9IHtcbiAgICBcInNcIjogXCJ0b1N0cmluZ1wiXG59O1xuIiwiaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuL3JuZy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyKSB7XG4gICAgbGV0IGNhY2hlZCwgcjtcbiAgICBpZiAoc3RyIGluIENBQ0hFKSB7XG4gICAgICAgIGNhY2hlZCA9IENBQ0hFW3N0cl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoc3RyLmNoYXJBdCgwKSA9PSBcIiNcIikgeyAvLyBoZXggcmdiXG4gICAgICAgICAgICBsZXQgbWF0Y2hlZCA9IHN0ci5tYXRjaCgvWzAtOWEtZl0vZ2kpIHx8IFtdO1xuICAgICAgICAgICAgbGV0IHZhbHVlcyA9IG1hdGNoZWQubWFwKCh4KSA9PiBwYXJzZUludCh4LCAxNikpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT0gMykge1xuICAgICAgICAgICAgICAgIGNhY2hlZCA9IHZhbHVlcy5tYXAoKHgpID0+IHggKiAxNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaSArIDFdICs9IDE2ICogdmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWNoZWQgPSB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHIgPSBzdHIubWF0Y2goL3JnYlxcKChbMC05LCBdKylcXCkvaSkpKSB7IC8vIGRlY2ltYWwgcmdiXG4gICAgICAgICAgICBjYWNoZWQgPSByWzFdLnNwbGl0KC9cXHMqLFxccyovKS5tYXAoKHgpID0+IHBhcnNlSW50KHgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gaHRtbCBuYW1lXG4gICAgICAgICAgICBjYWNoZWQgPSBbMCwgMCwgMF07XG4gICAgICAgIH1cbiAgICAgICAgQ0FDSEVbc3RyXSA9IGNhY2hlZDtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZC5zbGljZSgpO1xufVxuLyoqXG4gKiBBZGQgdHdvIG9yIG1vcmUgY29sb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29sb3IxLCAuLi5jb2xvcnMpIHtcbiAgICBsZXQgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xvcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXSArPSBjb2xvcnNbal1baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQWRkIHR3byBvciBtb3JlIGNvbG9ycywgTU9ESUZJRVMgRklSU1QgQVJHVU1FTlRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF8oY29sb3IxLCAuLi5jb2xvcnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbG9ycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29sb3IxW2ldICs9IGNvbG9yc1tqXVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3IxO1xufVxuLyoqXG4gKiBNdWx0aXBseSAobWl4KSB0d28gb3IgbW9yZSBjb2xvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KGNvbG9yMSwgLi4uY29sb3JzKSB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sb3JzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gKj0gY29sb3JzW2pdW2ldIC8gMjU1O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlfKGNvbG9yMSwgLi4uY29sb3JzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xvcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbG9yMVtpXSAqPSBjb2xvcnNbal1baV0gLyAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgY29sb3IxW2ldID0gTWF0aC5yb3VuZChjb2xvcjFbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3IxO1xufVxuLyoqXG4gKiBJbnRlcnBvbGF0ZSAoYmxlbmQpIHR3byBjb2xvcnMgd2l0aCBhIGdpdmVuIGZhY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGUoY29sb3IxLCBjb2xvcjIsIGZhY3RvciA9IDAuNSkge1xuICAgIGxldCByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICByZXN1bHRbaV0gPSBNYXRoLnJvdW5kKHJlc3VsdFtpXSArIGZhY3RvciAqIChjb2xvcjJbaV0gLSBjb2xvcjFbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjb25zdCBsZXJwID0gaW50ZXJwb2xhdGU7XG4vKipcbiAqIEludGVycG9sYXRlIChibGVuZCkgdHdvIGNvbG9ycyB3aXRoIGEgZ2l2ZW4gZmFjdG9yIGluIEhTTCBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUhTTChjb2xvcjEsIGNvbG9yMiwgZmFjdG9yID0gMC41KSB7XG4gICAgbGV0IGhzbDEgPSByZ2IyaHNsKGNvbG9yMSk7XG4gICAgbGV0IGhzbDIgPSByZ2IyaHNsKGNvbG9yMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgaHNsMVtpXSArPSBmYWN0b3IgKiAoaHNsMltpXSAtIGhzbDFbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gaHNsMnJnYihoc2wxKTtcbn1cbmV4cG9ydCBjb25zdCBsZXJwSFNMID0gaW50ZXJwb2xhdGVIU0w7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyByYW5kb20gY29sb3IgYmFzZWQgb24gdGhpcyBvbmVcbiAqIEBwYXJhbSBjb2xvclxuICogQHBhcmFtIGRpZmYgU2V0IG9mIHN0YW5kYXJkIGRldmlhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbWl6ZShjb2xvciwgZGlmZikge1xuICAgIGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgZGlmZiA9IE1hdGgucm91bmQoUk5HLmdldE5vcm1hbCgwLCBkaWZmKSk7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBjb2xvci5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSArPSAoZGlmZiBpbnN0YW5jZW9mIEFycmF5ID8gTWF0aC5yb3VuZChSTkcuZ2V0Tm9ybWFsKDAsIGRpZmZbaV0pKSA6IGRpZmYpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNMLiBFeHBlY3RzIDAuLjI1NSBpbnB1dHMsIHByb2R1Y2VzIDAuLjEgb3V0cHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYjJoc2woY29sb3IpIHtcbiAgICBsZXQgciA9IGNvbG9yWzBdIC8gMjU1O1xuICAgIGxldCBnID0gY29sb3JbMV0gLyAyNTU7XG4gICAgbGV0IGIgPSBjb2xvclsyXSAvIDI1NTtcbiAgICBsZXQgbWF4ID0gTWF0aC5tYXgociwgZywgYiksIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgIGxldCBoID0gMCwgcywgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgICBpZiAobWF4ID09IG1pbikge1xuICAgICAgICBzID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGQgPSBtYXggLSBtaW47XG4gICAgICAgIHMgPSAobCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbikpO1xuICAgICAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzpcbiAgICAgICAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cbiAgICByZXR1cm4gW2gsIHMsIGxdO1xufVxuZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKVxuICAgICAgICB0ICs9IDE7XG4gICAgaWYgKHQgPiAxKVxuICAgICAgICB0IC09IDE7XG4gICAgaWYgKHQgPCAxIC8gNilcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgaWYgKHQgPCAxIC8gMilcbiAgICAgICAgcmV0dXJuIHE7XG4gICAgaWYgKHQgPCAyIC8gMylcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICAgIHJldHVybiBwO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLiBFeHBlY3RzIDAuLjEgaW5wdXRzLCBwcm9kdWNlcyAwLi4yNTUgb3V0cHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhzbDJyZ2IoY29sb3IpIHtcbiAgICBsZXQgbCA9IGNvbG9yWzJdO1xuICAgIGlmIChjb2xvclsxXSA9PSAwKSB7XG4gICAgICAgIGwgPSBNYXRoLnJvdW5kKGwgKiAyNTUpO1xuICAgICAgICByZXR1cm4gW2wsIGwsIGxdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHMgPSBjb2xvclsxXTtcbiAgICAgICAgbGV0IHEgPSAobCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcyk7XG4gICAgICAgIGxldCBwID0gMiAqIGwgLSBxO1xuICAgICAgICBsZXQgciA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0gKyAxIC8gMyk7XG4gICAgICAgIGxldCBnID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSk7XG4gICAgICAgIGxldCBiID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSAtIDEgLyAzKTtcbiAgICAgICAgcmV0dXJuIFtNYXRoLnJvdW5kKHIgKiAyNTUpLCBNYXRoLnJvdW5kKGcgKiAyNTUpLCBNYXRoLnJvdW5kKGIgKiAyNTUpXTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdG9SR0IoY29sb3IpIHtcbiAgICBsZXQgY2xhbXBlZCA9IGNvbG9yLm1hcCh4ID0+IGNsYW1wKHgsIDAsIDI1NSkpO1xuICAgIHJldHVybiBgcmdiKCR7Y2xhbXBlZC5qb2luKFwiLFwiKX0pYDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0hleChjb2xvcikge1xuICAgIGxldCBjbGFtcGVkID0gY29sb3IubWFwKHggPT4gY2xhbXAoeCwgMCwgMjU1KS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKTtcbiAgICByZXR1cm4gYCMke2NsYW1wZWQuam9pbihcIlwiKX1gO1xufVxuY29uc3QgQ0FDSEUgPSB7XG4gICAgXCJibGFja1wiOiBbMCwgMCwgMF0sXG4gICAgXCJuYXZ5XCI6IFswLCAwLCAxMjhdLFxuICAgIFwiZGFya2JsdWVcIjogWzAsIDAsIDEzOV0sXG4gICAgXCJtZWRpdW1ibHVlXCI6IFswLCAwLCAyMDVdLFxuICAgIFwiYmx1ZVwiOiBbMCwgMCwgMjU1XSxcbiAgICBcImRhcmtncmVlblwiOiBbMCwgMTAwLCAwXSxcbiAgICBcImdyZWVuXCI6IFswLCAxMjgsIDBdLFxuICAgIFwidGVhbFwiOiBbMCwgMTI4LCAxMjhdLFxuICAgIFwiZGFya2N5YW5cIjogWzAsIDEzOSwgMTM5XSxcbiAgICBcImRlZXBza3libHVlXCI6IFswLCAxOTEsIDI1NV0sXG4gICAgXCJkYXJrdHVycXVvaXNlXCI6IFswLCAyMDYsIDIwOV0sXG4gICAgXCJtZWRpdW1zcHJpbmdncmVlblwiOiBbMCwgMjUwLCAxNTRdLFxuICAgIFwibGltZVwiOiBbMCwgMjU1LCAwXSxcbiAgICBcInNwcmluZ2dyZWVuXCI6IFswLCAyNTUsIDEyN10sXG4gICAgXCJhcXVhXCI6IFswLCAyNTUsIDI1NV0sXG4gICAgXCJjeWFuXCI6IFswLCAyNTUsIDI1NV0sXG4gICAgXCJtaWRuaWdodGJsdWVcIjogWzI1LCAyNSwgMTEyXSxcbiAgICBcImRvZGdlcmJsdWVcIjogWzMwLCAxNDQsIDI1NV0sXG4gICAgXCJmb3Jlc3RncmVlblwiOiBbMzQsIDEzOSwgMzRdLFxuICAgIFwic2VhZ3JlZW5cIjogWzQ2LCAxMzksIDg3XSxcbiAgICBcImRhcmtzbGF0ZWdyYXlcIjogWzQ3LCA3OSwgNzldLFxuICAgIFwiZGFya3NsYXRlZ3JleVwiOiBbNDcsIDc5LCA3OV0sXG4gICAgXCJsaW1lZ3JlZW5cIjogWzUwLCAyMDUsIDUwXSxcbiAgICBcIm1lZGl1bXNlYWdyZWVuXCI6IFs2MCwgMTc5LCAxMTNdLFxuICAgIFwidHVycXVvaXNlXCI6IFs2NCwgMjI0LCAyMDhdLFxuICAgIFwicm95YWxibHVlXCI6IFs2NSwgMTA1LCAyMjVdLFxuICAgIFwic3RlZWxibHVlXCI6IFs3MCwgMTMwLCAxODBdLFxuICAgIFwiZGFya3NsYXRlYmx1ZVwiOiBbNzIsIDYxLCAxMzldLFxuICAgIFwibWVkaXVtdHVycXVvaXNlXCI6IFs3MiwgMjA5LCAyMDRdLFxuICAgIFwiaW5kaWdvXCI6IFs3NSwgMCwgMTMwXSxcbiAgICBcImRhcmtvbGl2ZWdyZWVuXCI6IFs4NSwgMTA3LCA0N10sXG4gICAgXCJjYWRldGJsdWVcIjogWzk1LCAxNTgsIDE2MF0sXG4gICAgXCJjb3JuZmxvd2VyYmx1ZVwiOiBbMTAwLCAxNDksIDIzN10sXG4gICAgXCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsIDIwNSwgMTcwXSxcbiAgICBcImRpbWdyYXlcIjogWzEwNSwgMTA1LCAxMDVdLFxuICAgIFwiZGltZ3JleVwiOiBbMTA1LCAxMDUsIDEwNV0sXG4gICAgXCJzbGF0ZWJsdWVcIjogWzEwNiwgOTAsIDIwNV0sXG4gICAgXCJvbGl2ZWRyYWJcIjogWzEwNywgMTQyLCAzNV0sXG4gICAgXCJzbGF0ZWdyYXlcIjogWzExMiwgMTI4LCAxNDRdLFxuICAgIFwic2xhdGVncmV5XCI6IFsxMTIsIDEyOCwgMTQ0XSxcbiAgICBcImxpZ2h0c2xhdGVncmF5XCI6IFsxMTksIDEzNiwgMTUzXSxcbiAgICBcImxpZ2h0c2xhdGVncmV5XCI6IFsxMTksIDEzNiwgMTUzXSxcbiAgICBcIm1lZGl1bXNsYXRlYmx1ZVwiOiBbMTIzLCAxMDQsIDIzOF0sXG4gICAgXCJsYXduZ3JlZW5cIjogWzEyNCwgMjUyLCAwXSxcbiAgICBcImNoYXJ0cmV1c2VcIjogWzEyNywgMjU1LCAwXSxcbiAgICBcImFxdWFtYXJpbmVcIjogWzEyNywgMjU1LCAyMTJdLFxuICAgIFwibWFyb29uXCI6IFsxMjgsIDAsIDBdLFxuICAgIFwicHVycGxlXCI6IFsxMjgsIDAsIDEyOF0sXG4gICAgXCJvbGl2ZVwiOiBbMTI4LCAxMjgsIDBdLFxuICAgIFwiZ3JheVwiOiBbMTI4LCAxMjgsIDEyOF0sXG4gICAgXCJncmV5XCI6IFsxMjgsIDEyOCwgMTI4XSxcbiAgICBcInNreWJsdWVcIjogWzEzNSwgMjA2LCAyMzVdLFxuICAgIFwibGlnaHRza3libHVlXCI6IFsxMzUsIDIwNiwgMjUwXSxcbiAgICBcImJsdWV2aW9sZXRcIjogWzEzOCwgNDMsIDIyNl0sXG4gICAgXCJkYXJrcmVkXCI6IFsxMzksIDAsIDBdLFxuICAgIFwiZGFya21hZ2VudGFcIjogWzEzOSwgMCwgMTM5XSxcbiAgICBcInNhZGRsZWJyb3duXCI6IFsxMzksIDY5LCAxOV0sXG4gICAgXCJkYXJrc2VhZ3JlZW5cIjogWzE0MywgMTg4LCAxNDNdLFxuICAgIFwibGlnaHRncmVlblwiOiBbMTQ0LCAyMzgsIDE0NF0sXG4gICAgXCJtZWRpdW1wdXJwbGVcIjogWzE0NywgMTEyLCAyMTZdLFxuICAgIFwiZGFya3Zpb2xldFwiOiBbMTQ4LCAwLCAyMTFdLFxuICAgIFwicGFsZWdyZWVuXCI6IFsxNTIsIDI1MSwgMTUyXSxcbiAgICBcImRhcmtvcmNoaWRcIjogWzE1MywgNTAsIDIwNF0sXG4gICAgXCJ5ZWxsb3dncmVlblwiOiBbMTU0LCAyMDUsIDUwXSxcbiAgICBcInNpZW5uYVwiOiBbMTYwLCA4MiwgNDVdLFxuICAgIFwiYnJvd25cIjogWzE2NSwgNDIsIDQyXSxcbiAgICBcImRhcmtncmF5XCI6IFsxNjksIDE2OSwgMTY5XSxcbiAgICBcImRhcmtncmV5XCI6IFsxNjksIDE2OSwgMTY5XSxcbiAgICBcImxpZ2h0Ymx1ZVwiOiBbMTczLCAyMTYsIDIzMF0sXG4gICAgXCJncmVlbnllbGxvd1wiOiBbMTczLCAyNTUsIDQ3XSxcbiAgICBcInBhbGV0dXJxdW9pc2VcIjogWzE3NSwgMjM4LCAyMzhdLFxuICAgIFwibGlnaHRzdGVlbGJsdWVcIjogWzE3NiwgMTk2LCAyMjJdLFxuICAgIFwicG93ZGVyYmx1ZVwiOiBbMTc2LCAyMjQsIDIzMF0sXG4gICAgXCJmaXJlYnJpY2tcIjogWzE3OCwgMzQsIDM0XSxcbiAgICBcImRhcmtnb2xkZW5yb2RcIjogWzE4NCwgMTM0LCAxMV0sXG4gICAgXCJtZWRpdW1vcmNoaWRcIjogWzE4NiwgODUsIDIxMV0sXG4gICAgXCJyb3N5YnJvd25cIjogWzE4OCwgMTQzLCAxNDNdLFxuICAgIFwiZGFya2toYWtpXCI6IFsxODksIDE4MywgMTA3XSxcbiAgICBcInNpbHZlclwiOiBbMTkyLCAxOTIsIDE5Ml0sXG4gICAgXCJtZWRpdW12aW9sZXRyZWRcIjogWzE5OSwgMjEsIDEzM10sXG4gICAgXCJpbmRpYW5yZWRcIjogWzIwNSwgOTIsIDkyXSxcbiAgICBcInBlcnVcIjogWzIwNSwgMTMzLCA2M10sXG4gICAgXCJjaG9jb2xhdGVcIjogWzIxMCwgMTA1LCAzMF0sXG4gICAgXCJ0YW5cIjogWzIxMCwgMTgwLCAxNDBdLFxuICAgIFwibGlnaHRncmF5XCI6IFsyMTEsIDIxMSwgMjExXSxcbiAgICBcImxpZ2h0Z3JleVwiOiBbMjExLCAyMTEsIDIxMV0sXG4gICAgXCJwYWxldmlvbGV0cmVkXCI6IFsyMTYsIDExMiwgMTQ3XSxcbiAgICBcInRoaXN0bGVcIjogWzIxNiwgMTkxLCAyMTZdLFxuICAgIFwib3JjaGlkXCI6IFsyMTgsIDExMiwgMjE0XSxcbiAgICBcImdvbGRlbnJvZFwiOiBbMjE4LCAxNjUsIDMyXSxcbiAgICBcImNyaW1zb25cIjogWzIyMCwgMjAsIDYwXSxcbiAgICBcImdhaW5zYm9yb1wiOiBbMjIwLCAyMjAsIDIyMF0sXG4gICAgXCJwbHVtXCI6IFsyMjEsIDE2MCwgMjIxXSxcbiAgICBcImJ1cmx5d29vZFwiOiBbMjIyLCAxODQsIDEzNV0sXG4gICAgXCJsaWdodGN5YW5cIjogWzIyNCwgMjU1LCAyNTVdLFxuICAgIFwibGF2ZW5kZXJcIjogWzIzMCwgMjMwLCAyNTBdLFxuICAgIFwiZGFya3NhbG1vblwiOiBbMjMzLCAxNTAsIDEyMl0sXG4gICAgXCJ2aW9sZXRcIjogWzIzOCwgMTMwLCAyMzhdLFxuICAgIFwicGFsZWdvbGRlbnJvZFwiOiBbMjM4LCAyMzIsIDE3MF0sXG4gICAgXCJsaWdodGNvcmFsXCI6IFsyNDAsIDEyOCwgMTI4XSxcbiAgICBcImtoYWtpXCI6IFsyNDAsIDIzMCwgMTQwXSxcbiAgICBcImFsaWNlYmx1ZVwiOiBbMjQwLCAyNDgsIDI1NV0sXG4gICAgXCJob25leWRld1wiOiBbMjQwLCAyNTUsIDI0MF0sXG4gICAgXCJhenVyZVwiOiBbMjQwLCAyNTUsIDI1NV0sXG4gICAgXCJzYW5keWJyb3duXCI6IFsyNDQsIDE2NCwgOTZdLFxuICAgIFwid2hlYXRcIjogWzI0NSwgMjIyLCAxNzldLFxuICAgIFwiYmVpZ2VcIjogWzI0NSwgMjQ1LCAyMjBdLFxuICAgIFwid2hpdGVzbW9rZVwiOiBbMjQ1LCAyNDUsIDI0NV0sXG4gICAgXCJtaW50Y3JlYW1cIjogWzI0NSwgMjU1LCAyNTBdLFxuICAgIFwiZ2hvc3R3aGl0ZVwiOiBbMjQ4LCAyNDgsIDI1NV0sXG4gICAgXCJzYWxtb25cIjogWzI1MCwgMTI4LCAxMTRdLFxuICAgIFwiYW50aXF1ZXdoaXRlXCI6IFsyNTAsIDIzNSwgMjE1XSxcbiAgICBcImxpbmVuXCI6IFsyNTAsIDI0MCwgMjMwXSxcbiAgICBcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsIDI1MCwgMjEwXSxcbiAgICBcIm9sZGxhY2VcIjogWzI1MywgMjQ1LCAyMzBdLFxuICAgIFwicmVkXCI6IFsyNTUsIDAsIDBdLFxuICAgIFwiZnVjaHNpYVwiOiBbMjU1LCAwLCAyNTVdLFxuICAgIFwibWFnZW50YVwiOiBbMjU1LCAwLCAyNTVdLFxuICAgIFwiZGVlcHBpbmtcIjogWzI1NSwgMjAsIDE0N10sXG4gICAgXCJvcmFuZ2VyZWRcIjogWzI1NSwgNjksIDBdLFxuICAgIFwidG9tYXRvXCI6IFsyNTUsIDk5LCA3MV0sXG4gICAgXCJob3RwaW5rXCI6IFsyNTUsIDEwNSwgMTgwXSxcbiAgICBcImNvcmFsXCI6IFsyNTUsIDEyNywgODBdLFxuICAgIFwiZGFya29yYW5nZVwiOiBbMjU1LCAxNDAsIDBdLFxuICAgIFwibGlnaHRzYWxtb25cIjogWzI1NSwgMTYwLCAxMjJdLFxuICAgIFwib3JhbmdlXCI6IFsyNTUsIDE2NSwgMF0sXG4gICAgXCJsaWdodHBpbmtcIjogWzI1NSwgMTgyLCAxOTNdLFxuICAgIFwicGlua1wiOiBbMjU1LCAxOTIsIDIwM10sXG4gICAgXCJnb2xkXCI6IFsyNTUsIDIxNSwgMF0sXG4gICAgXCJwZWFjaHB1ZmZcIjogWzI1NSwgMjE4LCAxODVdLFxuICAgIFwibmF2YWpvd2hpdGVcIjogWzI1NSwgMjIyLCAxNzNdLFxuICAgIFwibW9jY2FzaW5cIjogWzI1NSwgMjI4LCAxODFdLFxuICAgIFwiYmlzcXVlXCI6IFsyNTUsIDIyOCwgMTk2XSxcbiAgICBcIm1pc3R5cm9zZVwiOiBbMjU1LCAyMjgsIDIyNV0sXG4gICAgXCJibGFuY2hlZGFsbW9uZFwiOiBbMjU1LCAyMzUsIDIwNV0sXG4gICAgXCJwYXBheWF3aGlwXCI6IFsyNTUsIDIzOSwgMjEzXSxcbiAgICBcImxhdmVuZGVyYmx1c2hcIjogWzI1NSwgMjQwLCAyNDVdLFxuICAgIFwic2Vhc2hlbGxcIjogWzI1NSwgMjQ1LCAyMzhdLFxuICAgIFwiY29ybnNpbGtcIjogWzI1NSwgMjQ4LCAyMjBdLFxuICAgIFwibGVtb25jaGlmZm9uXCI6IFsyNTUsIDI1MCwgMjA1XSxcbiAgICBcImZsb3JhbHdoaXRlXCI6IFsyNTUsIDI1MCwgMjQwXSxcbiAgICBcInNub3dcIjogWzI1NSwgMjUwLCAyNTBdLFxuICAgIFwieWVsbG93XCI6IFsyNTUsIDI1NSwgMF0sXG4gICAgXCJsaWdodHllbGxvd1wiOiBbMjU1LCAyNTUsIDIyNF0sXG4gICAgXCJpdm9yeVwiOiBbMjU1LCAyNTUsIDI0MF0sXG4gICAgXCJ3aGl0ZVwiOiBbMjU1LCAyNTUsIDI1NV1cbn07XG4iLCIvKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBkaXNwbGF5IGJhY2tlbmQgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWNrZW5kIHtcbiAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiBudWxsOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7IHRoaXMuX29wdGlvbnMgPSBvcHRpb25zOyB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlLUVTNSBlbnZpcm9ubWVudHMuICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLiAqL1xuICB2YXIgVkVSU0lPTiA9ICc0LjE3LjIxJztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuICB2YXIgQ09SRV9FUlJPUl9URVhUID0gJ1Vuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLicsXG4gICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbicsXG4gICAgICBJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUID0gJ0ludmFsaWQgYHZhcmlhYmxlYCBvcHRpb24gcGFzc2VkIGludG8gYF8udGVtcGxhdGVgJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG4gIHZhciByZVRyaW1TdGFydCA9IC9eXFxzKy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG4gIHZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cbiAgdmFyIHJlV3JhcENvbW1lbnQgPSAvXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLFxuICAgICAgcmVXcmFwRGV0YWlscyA9IC9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxcbiAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHZhbGlkYXRlIHRoZSBgdmFsaWRhdGVgIG9wdGlvbiBpbiBgXy50ZW1wbGF0ZWAgdmFyaWFibGUuXG4gICAqXG4gICAqIEZvcmJpZHMgY2hhcmFjdGVycyB3aGljaCBjb3VsZCBwb3RlbnRpYWxseSBjaGFuZ2UgdGhlIG1lYW5pbmcgb2YgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50IGRlZmluaXRpb246XG4gICAqIC0gXCIoKSxcIiAobW9kaWZpY2F0aW9uIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCI9XCIgKGRlZmF1bHQgdmFsdWUpXG4gICAqIC0gXCJbXXt9XCIgKGRlc3RydWN0dXJpbmcgb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIi9cIiAoYmVnaW5uaW5nIG9mIGEgY29tbWVudClcbiAgICogLSB3aGl0ZXNwYWNlXG4gICAqL1xuICB2YXIgcmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMgPSAvWygpPSx7fVxcW1xcXVxcL1xcc10vO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2hcbiAgICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xuICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZicsXG4gICAgICByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgPSAnXFxcXHVmZTIwLVxcXFx1ZmUyZicsXG4gICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuICAgICAgcnNDb21ib1JhbmdlID0gcnNDb21ib01hcmtzUmFuZ2UgKyByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlLFxuICAgICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbiAgdmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvUmFuZ2UgKyAnXScsXG4gICAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbiAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNNaXNjVXBwZXIgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc09wdENvbnRyTG93ZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgICByc09yZExvd2VyID0gJ1xcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKScsXG4gICAgICByc09yZFVwcGVyID0gJ1xcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKScsXG4gICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xuICB2YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICAgKi9cbiAgdmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG4gIHZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzTWlzY1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTWlzY0xvd2VyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyICsgJz8nICsgcnNNaXNjTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIsXG4gICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcbiAgICByc09yZFVwcGVyLFxuICAgIHJzT3JkTG93ZXIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcy4gKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJywgJ0ludDhBcnJheScsICdJbnQxNkFycmF5JywgJ0ludDMyQXJyYXknLCAnTWFwJywgJ01hdGgnLCAnT2JqZWN0JyxcbiAgICAnUHJvbWlzZScsICdSZWdFeHAnLCAnU2V0JywgJ1N0cmluZycsICdTeW1ib2wnLCAnVHlwZUVycm9yJywgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcbiAgICAnXycsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5LiAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gLTE7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG4gIHZhciBjbG9uZWFibGVUYWdzID0ge307XG4gIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAncydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xuICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy4gKi9cbiAgdmFyIGh0bWxVbmVzY2FwZXMgPSB7XG4gICAgJyZhbXA7JzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmIzM5Oyc6IFwiJ1wiXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG4gIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgICBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4gIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuICB2YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICAgIGlmICh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZ1xuICAgICAgPyBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJylcbiAgICAgIDogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gICAqIGNoYXJhY3RlciBvZiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgaWYgKGl0ZXJhdGVlcy5sZW5ndGgpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIGlmIChpc0FycmF5KGl0ZXJhdGVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlR2V0KHZhbHVlLCBpdGVyYXRlZS5sZW5ndGggPT09IDEgPyBpdGVyYXRlZVswXSA6IGl0ZXJhdGVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpZGVudGl0eV07XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZU1hcChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBjcml0ZXJpYSA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgJ2NyaXRlcmlhJzogY3JpdGVyaWEsICdpbmRleCc6ICsraW5kZXgsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJhc2VTb3J0QnkocmVzdWx0LCBmdW5jdGlvbihvYmplY3QsIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnBpY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2sob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGhhc0luKG9iamVjdCwgcGF0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiAgYF8ucGlja0J5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYXRoID0gcGF0aHNbaW5kZXhdLFxuICAgICAgICAgICAgdmFsdWUgPSBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG5cbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgcGF0aCkpIHtcbiAgICAgICAgICBiYXNlU2V0KHJlc3VsdCwgY2FzdFBhdGgocGF0aCwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVByb3BlcnR5YCB3aGljaCBzdXBwb3J0cyBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAocGF0aCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQWxsQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICAgKiBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgc2VlbiA9IGFycmF5O1xuXG4gICAgICBpZiAoYXJyYXkgPT09IHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMgPSBjb3B5QXJyYXkodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBzZWVuID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGZyb21JbmRleCA9IDAsXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tSW5kZXggPSBpbmRleE9mKHNlZW4sIGNvbXB1dGVkLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpKSA+IC0xKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IGFycmF5KSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChzZWVuLCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogaW5kZXhlcyBvciBjYXB0dXJpbmcgdGhlIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlcyBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gaW5kZXhlcy5sZW5ndGggOiAwLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGlmIChsZW5ndGggPT0gbGFzdEluZGV4IHx8IGluZGV4ICE9PSBwcmV2aW91cykge1xuICAgICAgICAgIHZhciBwcmV2aW91cyA9IGluZGV4O1xuICAgICAgICAgIGlmIChpc0luZGV4KGluZGV4KSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVVuc2V0KGFycmF5LCBpbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZG9tYCB3aXRob3V0IHN1cHBvcnQgZm9yIHJldHVybmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3dlciBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKSB7XG4gICAgICByZXR1cm4gbG93ZXIgKyBuYXRpdmVGbG9vcihuYXRpdmVSYW5kb20oKSAqICh1cHBlciAtIGxvd2VyICsgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmdlYCBhbmQgYF8ucmFuZ2VSaWdodGAgd2hpY2ggZG9lc24ndFxuICAgICAqIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXAgVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChuYXRpdmVDZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSksIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF0gPSBzdGFydDtcbiAgICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVwZWF0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlcGVhdChzdHJpbmcsIG4pIHtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIGlmICghc3RyaW5nIHx8IG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBMZXZlcmFnZSB0aGUgZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcgYWxnb3JpdGhtIGZvciBhIGZhc3RlciByZXBlYXQuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXhwb25lbnRpYXRpb25fYnlfc3F1YXJpbmcgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKG4gJSAyKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBuID0gbmF0aXZlRmxvb3IobiAvIDIpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKG4pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gYXJyYXlTYW1wbGUodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVTaXplYCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4pIHtcbiAgICAgIHZhciBhcnJheSA9IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihhcnJheSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgICAgIHdoaWxlIChuZXN0ZWQgIT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nIHx8IGtleSA9PT0gJ2NvbnN0cnVjdG9yJyB8fCBrZXkgPT09ICdwcm90b3R5cGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmRleCAhPSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICAgICAgOiAoaXNJbmRleChwYXRoW2luZGV4ICsgMV0pID8gW10gOiB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzc2lnblZhbHVlKG5lc3RlZCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0RGF0YWAgd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0RGF0YSA9ICFtZXRhTWFwID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBkYXRhKSB7XG4gICAgICBtZXRhTWFwLnNldChmdW5jLCBkYXRhKTtcbiAgICAgIHJldHVybiBmdW5jO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNodWZmbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZih2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNsaWNlYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gc3RhcnQgPiBlbmQgPyAwIDogKChlbmQgLSBzdGFydCkgPj4+IDApO1xuICAgICAgc3RhcnQgPj4+PSAwO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29tZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiAhcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhgIHdoaWNoXG4gICAgICogcGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIG9mIGBhcnJheWAgdG8gZGV0ZXJtaW5lIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyBsb3cgOiBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT09IHZhbHVlICYmIGhpZ2ggPD0gSEFMRl9NQVhfQVJSQVlfTEVOR1RIKSB7XG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBhcnJheVttaWRdO1xuXG4gICAgICAgICAgaWYgKGNvbXB1dGVkICE9PSBudWxsICYmICFpc1N5bWJvbChjb21wdXRlZCkgJiZcbiAgICAgICAgICAgICAgKHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpKSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpZGVudGl0eSwgcmV0SGlnaGVzdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhCeWAgYW5kIGBfLnNvcnRlZExhc3RJbmRleEJ5YFxuICAgICAqIHdoaWNoIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZVxuICAgICAqIHRoZWlyIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChoaWdoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgIHZhciB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24gJiYgbmF0aXZlSXNGaW5pdGUobnVtYmVyKSkge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIGFyclN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKGFyclN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gYXJyU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IGFycmF5O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIG9ialN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChvYmpTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIG9ialN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBvYmplY3Q7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiIG9yIFwiY29uc3RydWN0b3JcIi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gICAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIENvbWJpbmluZyBzZXZlcmFsIHByZWRpY2F0ZXMgdXNpbmcgYF8ub3ZlckV2ZXJ5YCBvciBgXy5vdmVyU29tZWAuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8ub3ZlclNvbWUoW3sgJ2FnZSc6IDM2IH0sIFsnYWdlJywgNDBdXSkpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiAzMCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgMzBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgMzBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBiYXNlVHJpbSh2YWx1ZSk7XG4gICAgICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICAgICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgICAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gICAgICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzYWZlIGludGVnZXIuIEEgc2FmZSBpbnRlZ2VyIGNhbiBiZSBjb21wYXJlZCBhbmRcbiAgICAgKiByZXByZXNlbnRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDkwMDcxOTkyNTQ3NDA5OTFcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgOiAodmFsdWUgPT09IDAgPyB2YWx1ZSA6IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gICAgICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1N0cmluZyhudWxsKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZygtMCk7XG4gICAgICogLy8gPT4gJy0wJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+ICcxLDIsMydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgaWYgKGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgc291cmNlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ25Jbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMsICdkJzogNCB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduSW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGBwYXRoc2Agb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8uYXQob2JqZWN0LCBbJ2FbMF0uYi5jJywgJ2FbMV0nXSk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIGF0ID0gZmxhdFJlc3QoYmFzZUF0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBnaXZlbiwgaXRzIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIGFzc2lnbmVkIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gVGhlIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgICogICBTaGFwZS5jYWxsKHRoaXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIENpcmNsZS5wcm90b3R5cGUgPSBfLmNyZWF0ZShTaGFwZS5wcm90b3R5cGUsIHtcbiAgICAgKiAgICdjb25zdHJ1Y3Rvcic6IENpcmNsZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgQ2lyY2xlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIFNoYXBlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPT0gbnVsbCA/IHJlc3VsdCA6IGJhc2VBc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlXG4gICAgICogb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0XG4gICAgICogcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIE9uY2UgYSBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgdmFsdWVzIG9mIHRoZSBzYW1lIHByb3BlcnR5IGFyZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0cyA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgdmFyIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzSW4oc291cmNlKTtcbiAgICAgICAgdmFyIHByb3BzSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK3Byb3BzSW5kZXggPCBwcm9wc0xlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIChlcSh2YWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGVmYXVsdHNgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGFzc2lnbnNcbiAgICAgKiBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHNEZWVwKHsgJ2EnOiB7ICdiJzogMiB9IH0sIHsgJ2EnOiB7ICdiJzogMSwgJ2MnOiAzIH0gfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiAyLCAnYyc6IDMgfSB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzRGVlcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UpO1xuICAgICAgcmV0dXJuIGFwcGx5KG1lcmdlV2l0aCwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUga2V5IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRLZXlgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBhIGNvbGxlY3Rpb24gaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gcmV0dXJucyAncGViYmxlcycgYXNzdW1pbmcgYF8uZmluZEtleWAgcmV0dXJucyAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd25SaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuXG4gICAgICogb2JqZWN0IGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW4obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJywgJ2InLCB0aGVuICdjJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdjJywgJ2InLCB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JJbmAgbG9ncyAnYScsICdiJywgdGhlbiAnYycuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kXG4gICAgICogaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvblxuICAgICAqIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd24obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvck93bmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93blJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYicgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICdhJyB0aGVuICdiJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgKiBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBhbmQgaW5oZXJpdGVkXG4gICAgICogZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICAgICAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG4gICAgICogdmFyIG90aGVyID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob3RoZXIsICdhJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqIElmIGBvYmplY3RgIGNvbnRhaW5zIGR1cGxpY2F0ZSB2YWx1ZXMsIHN1YnNlcXVlbnQgdmFsdWVzIG92ZXJ3cml0ZVxuICAgICAqIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6ICdjJywgJzInOiAnYicgfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnQgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W3ZhbHVlXSA9IGtleTtcbiAgICB9LCBjb25zdGFudChpZGVudGl0eSkpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnZlcnRgIGV4Y2VwdCB0aGF0IHRoZSBpbnZlcnRlZCBvYmplY3QgaXMgZ2VuZXJhdGVkXG4gICAgICogZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGNvcnJlc3BvbmRpbmcgaW52ZXJ0ZWQgdmFsdWUgb2YgZWFjaCBpbnZlcnRlZCBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5c1xuICAgICAqIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBpbnZlcnRlZCB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gJ2dyb3VwJyArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2dyb3VwMSc6IFsnYScsICdjJ10sICdncm91cDInOiBbJ2InXSB9XG4gICAgICovXG4gICAgdmFyIGludmVydEJ5ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0ucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXSA9IFtrZXldO1xuICAgICAgfVxuICAgIH0sIGdldEl0ZXJhdGVlKTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiBbMSwgMiwgMywgNF0gfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5pbnZva2Uob2JqZWN0LCAnYVswXS5iLmMuc2xpY2UnLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlID0gYmFzZVJlc3QoYmFzZUludm9rZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAgICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy5rZXlzKCdoaScpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5c0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tYXBWYWx1ZXNgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAqIHNhbWUgdmFsdWVzIGFzIGBvYmplY3RgIGFuZCBrZXlzIGdlbmVyYXRlZCBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGVcbiAgICAgKiBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBWYWx1ZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBLZXlzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgcmV0dXJuIGtleSArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2ExJzogMSwgJ2IyJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwS2V5cyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkXG4gICAgICogYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwS2V5c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnZnJlZCc6ICAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAgICAgKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICAgICAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICAgICAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBvdGhlciA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lcmdlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuICAgICAqIHByb3BlcnRpZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBtZXJnaW5nIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHNpeCBhcmd1bWVudHM6XG4gICAgICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gb2JqVmFsdWUuY29uY2F0KHNyY1ZhbHVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFsxXSwgJ2InOiBbMl0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZVdpdGgob2JqZWN0LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZVdpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGVcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IHBhdGhzIG9mIGBvYmplY3RgIHRoYXQgYXJlIG5vdCBvbWl0dGVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGNvbnNpZGVyYWJseSBzbG93ZXIgdGhhbiBgXy5waWNrYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIG9taXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXQob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICB2YXIgb21pdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgcGF0aHMgPSBhcnJheU1hcChwYXRocywgZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgICAgaXNEZWVwIHx8IChpc0RlZXAgPSBwYXRoLmxlbmd0aCA+IDEpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0pO1xuICAgICAgY29weU9iamVjdChvYmplY3QsIGdldEFsbEtleXNJbihvYmplY3QpLCByZXN1bHQpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXN1bHQgPSBiYXNlQ2xvbmUocmVzdWx0LCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9GTEFUX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbU9taXRDbG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGJhc2VVbnNldChyZXN1bHQsIHBhdGhzW2xlbmd0aF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrQnlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZlxuICAgICAqIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgIHRoYXRcbiAgICAgKiBgcHJlZGljYXRlYCBkb2Vzbid0IHJldHVybiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0Qnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0Qnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBwaWNrQnkob2JqZWN0LCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgYG9iamVjdGAgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2sob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgcGljayA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHt9IDogYmFzZVBpY2sob2JqZWN0LCBwYXRocyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgYG9iamVjdGAgcHJvcGVydGllcyBgcHJlZGljYXRlYCByZXR1cm5zXG4gICAgICogdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2tCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wcyA9IGFycmF5TWFwKGdldEFsbEtleXNJbihvYmplY3QpLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIHJldHVybiBbcHJvcF07XG4gICAgICB9KTtcbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSk7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlKHZhbHVlLCBwYXRoWzBdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZ2V0YCBleGNlcHQgdGhhdCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgYVxuICAgICAqIGZ1bmN0aW9uIGl0J3MgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBpdHMgcGFyZW50IG9iamVjdCBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MxJzogMywgJ2MyJzogXy5jb25zdGFudCg0KSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzEnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzInKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgXy5jb25zdGFudCgnZGVmYXVsdCcpKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgLy8gRW5zdXJlIHRoZSBsb29wIGlzIGVudGVyZWQgd2hlbiBwYXRoIGlzIGVtcHR5LlxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3RbdG9LZXkocGF0aFtpbmRleF0pXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAgICAgKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAgICAgKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICAgICAqIGBwYXRoYCBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy5zZXRXaXRoKG9iamVjdCwgJ1swXVsxXScsICdhJywgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXaXRoKG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgXG4gICAgICogd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwIG9yIHNldCwgaXRzXG4gICAgICogZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlycyA9IGNyZWF0ZVRvUGFpcnMoa2V5cyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzXG4gICAgICogZm9yIGBvYmplY3RgIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcFxuICAgICAqIG9yIHNldCwgaXRzIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNJblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlyc0luID0gY3JlYXRlVG9QYWlycyhrZXlzSW4pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYDsgdGhpcyBtZXRob2QgdHJhbnNmb3JtcyBgb2JqZWN0YCB0byBhIG5ld1xuICAgICAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAgICAgKiBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIHRocnUgYGl0ZXJhdGVlYCwgd2l0aCBlYWNoIGludm9jYXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIElmIGBhY2N1bXVsYXRvcmAgaXMgbm90XG4gICAgICogcHJvdmlkZWQsIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGBbW1Byb3RvdHlwZV1dYCB3aWxsIGJlIHVzZWQuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czogKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oWzIsIDMsIDRdLCBmdW5jdGlvbihyZXN1bHQsIG4pIHtcbiAgICAgKiAgIHJlc3VsdC5wdXNoKG4gKj0gbik7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDldXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgaXNBcnJMaWtlID0gaXNBcnIgfHwgaXNCdWZmZXIob2JqZWN0KSB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCk7XG4gICAgICBpZiAoYWNjdW11bGF0b3IgPT0gbnVsbCkge1xuICAgICAgICB2YXIgQ3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChpc0Fyckxpa2UpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzQXJyID8gbmV3IEN0b3IgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0Z1bmN0aW9uKEN0b3IpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaXNBcnJMaWtlID8gYXJyYXlFYWNoIDogYmFzZUZvck93bikob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDcgfSB9XSB9O1xuICAgICAqIF8udW5zZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHRydWUgOiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgYWNjZXB0cyBgdXBkYXRlcmAgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiB2YWx1ZSB0byBzZXQuIFVzZSBgXy51cGRhdGVXaXRoYCB0byBjdXN0b21pemUgYHBhdGhgIGNyZWF0aW9uLiBUaGUgYHVwZGF0ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICdhWzBdLmIuYycsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiBuOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ3hbMF0ueS56JywgZnVuY3Rpb24obikgeyByZXR1cm4gbiA/IG4gKyAxIDogMDsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51cGRhdGVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZVdpdGgob2JqZWN0LCAnWzBdWzFdJywgXy5jb25zdGFudCgnYScpLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdpdGgob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcygnaGknKTtcbiAgICAgKiAvLyA9PiBbJ2gnLCAnaSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eVxuICAgICAqIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2xhbXBzIGBudW1iZXJgIHdpdGhpbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jbGFtcCgtMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiAtNVxuICAgICAqXG4gICAgICogXy5jbGFtcCgxMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IHRvTnVtYmVyKHVwcGVyKTtcbiAgICAgICAgdXBwZXIgPSB1cHBlciA9PT0gdXBwZXIgPyB1cHBlciA6IDA7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IHRvTnVtYmVyKGxvd2VyKTtcbiAgICAgICAgbG93ZXIgPSBsb3dlciA9PT0gbG93ZXIgPyBsb3dlciA6IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUNsYW1wKHRvTnVtYmVyKG51bWJlciksIGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBuYCBpcyBiZXR3ZWVuIGBzdGFydGAgYW5kIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmXG4gICAgICogYGVuZGAgaXMgbm90IHNwZWNpZmllZCwgaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqIElmIGBzdGFydGAgaXMgZ3JlYXRlciB0aGFuIGBlbmRgIHRoZSBwYXJhbXMgYXJlIHN3YXBwZWQgdG8gc3VwcG9ydFxuICAgICAqIG5lZ2F0aXZlIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5yYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgzLCAyLCA0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgOCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMiwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgxLjIsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg1LjIsIDQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoLTMsIC0yLCAtNik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgIH1cbiAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICByZXR1cm4gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqIElmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyXG4gICAgICogaXMgcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgYHRydWVgLCBvciBlaXRoZXIgYGxvd2VyYCBvciBgdXBwZXJgIGFyZVxuICAgICAqIGZsb2F0cywgYSBmbG9hdGluZy1wb2ludCBudW1iZXIgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcj0wXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt1cHBlcj0xXSBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZmxvYXRpbmddIFNwZWNpZnkgcmV0dXJuaW5nIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpIHtcbiAgICAgIGlmIChmbG9hdGluZyAmJiB0eXBlb2YgZmxvYXRpbmcgIT0gJ2Jvb2xlYW4nICYmIGlzSXRlcmF0ZWVDYWxsKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpKSB7XG4gICAgICAgIHVwcGVyID0gZmxvYXRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHVwcGVyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gdXBwZXI7XG4gICAgICAgICAgdXBwZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGxvd2VyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA9PT0gdW5kZWZpbmVkICYmIHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB1cHBlciA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG93ZXIgPSB0b0Zpbml0ZShsb3dlcik7XG4gICAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBwZXIgPSB0b0Zpbml0ZSh1cHBlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA+IHVwcGVyKSB7XG4gICAgICAgIHZhciB0ZW1wID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdXBwZXI7XG4gICAgICAgIHVwcGVyID0gdGVtcDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBsb3dlciAlIDEgfHwgdXBwZXIgJSAxKSB7XG4gICAgICAgIHZhciByYW5kID0gbmF0aXZlUmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVNaW4obG93ZXIgKyAocmFuZCAqICh1cHBlciAtIGxvd2VyICsgZnJlZVBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKyAnJykubGVuZ3RoIC0gMSkpKSksIHVwcGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gW2NhbWVsIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbWVsQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqL1xuICAgIHZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gY2FwaXRhbGl6ZSh3b3JkKSA6IHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG4gICAgICogdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gICAgICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gICAgICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICAgICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAgICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAgICAgKiAvLyA9PiAnZGVqYSB2dSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJywgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGxlbmd0aFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBsZW5ndGgpO1xuXG4gICAgICB2YXIgZW5kID0gcG9zaXRpb247XG4gICAgICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID49IDAgJiYgc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBlbmQpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBjaGFyYWN0ZXJzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAgICAgKiBcIj5cIiBhbmQgXCIvXCIgZG9uJ3QgbmVlZCBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZ1xuICAgICAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAgICAgKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gICAgICogKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gICAgICogW3F1b3RlIGF0dHJpYnV0ZSB2YWx1ZXNdKGh0dHA6Ly93b25rby5jb20vcG9zdC9odG1sLWVzY2FwaW5nKSB0byByZWR1Y2VcbiAgICAgKiBYU1MgdmVjdG9ycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlcyB0aGUgYFJlZ0V4cGAgc3BlY2lhbCBjaGFyYWN0ZXJzIFwiXlwiLCBcIiRcIiwgXCJcXFwiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLFxuICAgICAqIFwiP1wiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBhbmQgXCJ8XCIgaW4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZVJlZ0V4cCgnW2xvZGFzaF0oaHR0cHM6Ly9sb2Rhc2guY29tLyknKTtcbiAgICAgKiAvLyA9PiAnXFxbbG9kYXNoXFxdXFwoaHR0cHM6Ly9sb2Rhc2hcXC5jb20vXFwpJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1JlZ0V4cENoYXIudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW2tlYmFiIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1NwZWNpYWxfY2FzZV9zdHlsZXMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICovXG4gICAgdmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICctJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICovXG4gICAgdmFyIGxvd2VyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRnJlZCcpO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ2ZSRUQnXG4gICAgICovXG4gICAgdmFyIGxvd2VyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvTG93ZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBzaWRlcyBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC5cbiAgICAgKiBQYWRkaW5nIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGNhbid0IGJlIGV2ZW5seSBkaXZpZGVkIGJ5IGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4KTtcbiAgICAgKiAvLyA9PiAnICBhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHN0ckxlbmd0aCA+PSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBtaWQgPSAobGVuZ3RoIC0gc3RyTGVuZ3RoKSAvIDI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUZsb29yKG1pZCksIGNoYXJzKSArXG4gICAgICAgIHN0cmluZyArXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlQ2VpbChtaWQpLCBjaGFycylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgcmlnaHQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJ2FiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkRW5kKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoc3RyaW5nICsgY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSlcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICcgICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1fYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykgKyBzdHJpbmcpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC4gSWYgYHJhZGl4YCBpc1xuICAgICAqIGB1bmRlZmluZWRgIG9yIGAwYCwgYSBgcmFkaXhgIG9mIGAxMGAgaXMgdXNlZCB1bmxlc3MgYHZhbHVlYCBpcyBhXG4gICAgICogaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBhbGlnbnMgd2l0aCB0aGVcbiAgICAgKiBbRVM1IGltcGxlbWVudGF0aW9uXShodHRwczovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuMikgb2YgYHBhcnNlSW50YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4PTEwXSBUaGUgcmFkaXggdG8gaW50ZXJwcmV0IGB2YWx1ZWAgYnkuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnMDgnLCAnMTAnXSwgXy5wYXJzZUludCk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZywgcmFkaXgsIGd1YXJkKSB7XG4gICAgICBpZiAoZ3VhcmQgfHwgcmFkaXggPT0gbnVsbCkge1xuICAgICAgICByYWRpeCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJhZGl4KSB7XG4gICAgICAgIHJhZGl4ID0gK3JhZGl4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVBhcnNlSW50KHRvU3RyaW5nKHN0cmluZykucmVwbGFjZShyZVRyaW1TdGFydCwgJycpLCByYWRpeCB8fCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXRzIHRoZSBnaXZlbiBzdHJpbmcgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBlYXQoJyonLCAzKTtcbiAgICAgKiAvLyA9PiAnKioqJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDIpO1xuICAgICAqIC8vID0+ICdhYmNhYmMnXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJlcGVhdCh0b1N0cmluZyhzdHJpbmcpLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBtYXRjaGVzIGZvciBgcGF0dGVybmAgaW4gYHN0cmluZ2Agd2l0aCBgcmVwbGFjZW1lbnRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjcmVwbGFjZWBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9yZXBsYWNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IHJlcGxhY2VtZW50IFRoZSBtYXRjaCByZXBsYWNlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwbGFjZSgnSGkgRnJlZCcsICdGcmVkJywgJ0Jhcm5leScpO1xuICAgICAqIC8vID0+ICdIaSBCYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZSgpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKGFyZ3NbMF0pO1xuXG4gICAgICByZXR1cm4gYXJncy5sZW5ndGggPCAzID8gc3RyaW5nIDogc3RyaW5nLnJlcGxhY2UoYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc25ha2UgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU25ha2VfY2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzbmFrZSBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnLS1GT08tQkFSLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKi9cbiAgICB2YXIgc25ha2VDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJ18nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjc3BsaXRgXShodHRwczovL21kbi5pby9TdHJpbmcvc3BsaXQpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHNwbGl0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gc2VwYXJhdG9yIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byBzcGxpdCBieS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbWl0XSBUaGUgbGVuZ3RoIHRvIHRydW5jYXRlIHJlc3VsdHMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzdHJpbmcgc2VnbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3BsaXQoJ2EtYi1jJywgJy0nLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgJiYgdHlwZW9mIGxpbWl0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gbGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBsaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfQVJSQVlfTEVOR1RIIDogbGltaXQgPj4+IDA7XG4gICAgICBpZiAoIWxpbWl0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChcbiAgICAgICAgICAgIHR5cGVvZiBzZXBhcmF0b3IgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIChzZXBhcmF0b3IgIT0gbnVsbCAmJiAhaXNSZWdFeHAoc2VwYXJhdG9yKSlcbiAgICAgICAgICApKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoIXNlcGFyYXRvciAmJiBoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgICByZXR1cm4gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkoc3RyaW5nKSwgMCwgbGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3N0YXJ0IGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1N0eWxpc3RpY19vcl9zcGVjaWFsaXNlZF91c2FnZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdGFydCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHN0YXJ0Q2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHVwcGVyRmlyc3Qod29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249MF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsXG4gICAgICAgID8gMFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBzdHJpbmcubGVuZ3RoKTtcblxuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG4gICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHRhcmdldC5sZW5ndGgpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24gdGhhdCBjYW4gaW50ZXJwb2xhdGUgZGF0YSBwcm9wZXJ0aWVzXG4gICAgICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAgICAgKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAgICAgKiBwcm9wZXJ0aWVzIG1heSBiZSBhY2Nlc3NlZCBhcyBmcmVlIHZhcmlhYmxlcyBpbiB0aGUgdGVtcGxhdGUuIElmIGEgc2V0dGluZ1xuICAgICAqIG9iamVjdCBpcyBnaXZlbiwgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGBfLnRlbXBsYXRlU2V0dGluZ3NgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG4gICAgICogW3NvdXJjZVVSTHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmwpXG4gICAgICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZVxuICAgICAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZVxuICAgICAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXNjYXBlXVxuICAgICAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmV2YWx1YXRlXVxuICAgICAqICBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAgICAgKiAgQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBmcmVlIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlXVxuICAgICAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc291cmNlVVJMPSdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW25dJ11cbiAgICAgKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZhcmlhYmxlPSdvYmonXVxuICAgICAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPGI+PCUtIHZhbHVlICU+PC9iPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAgICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBpbnRlcm5hbCBgcHJpbnRgIGZ1bmN0aW9uIGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIC8vIERpc2FibGUgc3VwcG9ydCBieSByZXBsYWNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JT0gXCJcXFxcPCUtIHZhbHVlICVcXFxcPlwiICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gICAgICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cbiAgICAgKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUodGV4dCwgeyAnaW1wb3J0cyc6IHsgJ2pxJzogalF1ZXJ5IH0gfSk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAgICAgKiBjb21waWxlZChkYXRhKTtcbiAgICAgKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICAgICAqIGNvbXBpbGVkLnNvdXJjZTtcbiAgICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcbiAgICAgKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAvLyAgIHJldHVybiBfX3A7XG4gICAgICogLy8gfVxuICAgICAqXG4gICAgICogLy8gVXNlIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLlxuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG4gICAgICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gICAgICAvLyBCYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG4gICAgICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBvcHRpb25zID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLCBzZXR0aW5ncywgY3VzdG9tRGVmYXVsdHNBc3NpZ25Jbik7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgICAgIHZhciBpc0VzY2FwaW5nLFxuICAgICAgICAgIGlzRXZhbHVhdGluZyxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cbiAgICAgIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgIC8vIFRoZSBzb3VyY2VVUkwgZ2V0cyBpbmplY3RlZCBpbnRvIHRoZSBzb3VyY2UgdGhhdCdzIGV2YWwtZWQsIHNvIGJlIGNhcmVmdWxcbiAgICAgIC8vIHRvIG5vcm1hbGl6ZSBhbGwga2luZHMgb2Ygd2hpdGVzcGFjZSwgc28gZS5nLiBuZXdsaW5lcyAoYW5kIHVuaWNvZGUgdmVyc2lvbnMgb2YgaXQpIGNhbid0IHNuZWFrIGluXG4gICAgICAvLyBhbmQgZXNjYXBlIHRoZSBjb21tZW50LCB0aHVzIGluamVjdGluZyBjb2RlIHRoYXQgZ2V0cyBldmFsZWQuXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgICAgICAgID8gKG9wdGlvbnMuc291cmNlVVJMICsgJycpLnJlcGxhY2UoL1xccy9nLCAnICcpXG4gICAgICAgICAgOiAoJ2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbJyArICgrK3RlbXBsYXRlQ291bnRlcikgKyAnXScpXG4gICAgICAgICkgKyAnXFxuJztcblxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgICAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzLlxuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG5cbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAgIC8vIElmIGB2YXJpYWJsZWAgaXMgbm90IHNwZWNpZmllZCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgICAgIHZhciB2YXJpYWJsZSA9IGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3ZhcmlhYmxlJykgJiYgb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBhIGZvcmJpZGRlbiBjaGFyYWN0ZXIgd2FzIGZvdW5kIGluIGB2YXJpYWJsZWAsIHRvIHByZXZlbnRcbiAgICAgIC8vIHBvdGVudGlhbCBjb21tYW5kIGluamVjdGlvbiBhdHRhY2tzLlxuICAgICAgZWxzZSBpZiAocmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMudGVzdCh2YXJpYWJsZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VUcmltKHN0cmluZyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICpcbiAgICAgKiAvLyBDaGVja2luZyBmb3Igc2V2ZXJhbCBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm92ZXJTb21lKFtfLm1hdGNoZXMoeyAnYSc6IDEgfSksIF8ubWF0Y2hlcyh7ICdhJzogNCB9KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCAxKSwgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyRXZlcnkoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogZnVuYyhOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIG92ZXJFdmVyeSA9IGNyZWF0ZU92ZXIoYXJyYXlFdmVyeSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbnkqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIG1hdGNoZXNGdW5jID0gXy5vdmVyU29tZShbeyAnYSc6IDEgfSwgeyAnYSc6IDIgfV0pXG4gICAgICogdmFyIG1hdGNoZXNQcm9wZXJ0eUZ1bmMgPSBfLm92ZXJTb21lKFtbJ2EnLCAxXSwgWydhJywgMl1dKVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSBsb2Rhc2hGdW5jLm5hbWUgKyAnJztcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywga2V5KSkge1xuICAgICAgICAgIHJlYWxOYW1lc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmVhbE5hbWVzW2tleV0ucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCJpbXBvcnQgQmFja2VuZCBmcm9tIFwiLi9iYWNrZW5kLmpzXCI7XG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tIFwiLi4vY29sb3IuanNcIjtcbmZ1bmN0aW9uIGNsZWFyVG9BbnNpKGJnKSB7XG4gICAgcmV0dXJuIGBcXHgxYlswOzQ4OzU7JHt0ZXJtY29sb3IoYmcpfW1cXHgxYlsySmA7XG59XG5mdW5jdGlvbiBjb2xvclRvQW5zaShmZywgYmcpIHtcbiAgICByZXR1cm4gYFxceDFiWzA7Mzg7NTske3Rlcm1jb2xvcihmZyl9OzQ4OzU7JHt0ZXJtY29sb3IoYmcpfW1gO1xufVxuZnVuY3Rpb24gcG9zaXRpb25Ub0Fuc2koeCwgeSkge1xuICAgIHJldHVybiBgXFx4MWJbJHt5ICsgMX07JHt4ICsgMX1IYDtcbn1cbmZ1bmN0aW9uIHRlcm1jb2xvcihjb2xvcikge1xuICAgIGNvbnN0IFNSQ19DT0xPUlMgPSAyNTYuMDtcbiAgICBjb25zdCBEU1RfQ09MT1JTID0gNi4wO1xuICAgIGNvbnN0IENPTE9SX1JBVElPID0gRFNUX0NPTE9SUyAvIFNSQ19DT0xPUlM7XG4gICAgbGV0IHJnYiA9IENvbG9yLmZyb21TdHJpbmcoY29sb3IpO1xuICAgIGxldCByID0gTWF0aC5mbG9vcihyZ2JbMF0gKiBDT0xPUl9SQVRJTyk7XG4gICAgbGV0IGcgPSBNYXRoLmZsb29yKHJnYlsxXSAqIENPTE9SX1JBVElPKTtcbiAgICBsZXQgYiA9IE1hdGguZmxvb3IocmdiWzJdICogQ09MT1JfUkFUSU8pO1xuICAgIHJldHVybiByICogMzYgKyBnICogNiArIGIgKiAxICsgMTY7XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXJtIGV4dGVuZHMgQmFja2VuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IFswLCAwXTtcbiAgICAgICAgdGhpcy5fY3Vyc29yID0gWy0xLCAtMV07XG4gICAgICAgIHRoaXMuX2xhc3RDb2xvciA9IFwiXCI7XG4gICAgfVxuICAgIHNjaGVkdWxlKGNiKSB7IHNldFRpbWVvdXQoY2IsIDEwMDAgLyA2MCk7IH1cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgbGV0IHNpemUgPSBbb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHRdO1xuICAgICAgICBsZXQgYXZhaWwgPSB0aGlzLmNvbXB1dGVTaXplKCk7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGF2YWlsLm1hcCgodmFsLCBpbmRleCkgPT4gTWF0aC5mbG9vcigodmFsIC0gc2l6ZVtpbmRleF0pIC8gMikpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoY2xlYXJUb0Fuc2kodGhpcy5fb3B0aW9ucy5iZykpO1xuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIC8vIGRldGVybWluZSB3aGVyZSB0byBkcmF3IHdoYXQgd2l0aCB3aGF0IGNvbG9yc1xuICAgICAgICBsZXQgW3gsIHksIGNoLCBmZywgYmddID0gZGF0YTtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gbW92ZSB0aGUgdGVybWluYWwgY3Vyc29yXG4gICAgICAgIGxldCBkeCA9IHRoaXMuX29mZnNldFswXSArIHg7XG4gICAgICAgIGxldCBkeSA9IHRoaXMuX29mZnNldFsxXSArIHk7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5jb21wdXRlU2l6ZSgpO1xuICAgICAgICBpZiAoZHggPCAwIHx8IGR4ID49IHNpemVbMF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkgPCAwIHx8IGR5ID49IHNpemVbMV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHggIT09IHRoaXMuX2N1cnNvclswXSB8fCBkeSAhPT0gdGhpcy5fY3Vyc29yWzFdKSB7XG4gICAgICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShwb3NpdGlvblRvQW5zaShkeCwgZHkpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclswXSA9IGR4O1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yWzFdID0gZHk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVybWluYWxzIGF1dG9tYXRpY2FsbHkgY2xlYXIsIGJ1dCBpZiB3ZSdyZSBjbGVhcmluZyB3aGVuIHdlJ3JlXG4gICAgICAgIC8vIG5vdCBvdGhlcndpc2UgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwganVzdCB1c2UgYSBzcGFjZSBpbnN0ZWFkXG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgICAgIGNoID0gXCIgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UncmUgbm90IGNsZWFyaW5nIGFuZCBub3QgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwgZG8gbm90aGluZ1xuICAgICAgICBpZiAoIWNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gY2hhbmdlIGNvbG9yc1xuICAgICAgICBsZXQgbmV3Q29sb3IgPSBjb2xvclRvQW5zaShmZywgYmcpO1xuICAgICAgICBpZiAobmV3Q29sb3IgIT09IHRoaXMuX2xhc3RDb2xvcikge1xuICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUobmV3Q29sb3IpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdENvbG9yID0gbmV3Q29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoICE9ICdcXHQnKSB7XG4gICAgICAgICAgICAvLyB3cml0ZSB0aGUgcHJvdmlkZWQgc3ltYm9sIHRvIHRoZSBkaXNwbGF5XG4gICAgICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoY2hhcnNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBvdXIgcG9zaXRpb24sIGdpdmVuIHRoYXQgd2Ugd3JvdGUgYSBjaGFyYWN0ZXJcbiAgICAgICAgdGhpcy5fY3Vyc29yWzBdKys7XG4gICAgICAgIGlmICh0aGlzLl9jdXJzb3JbMF0gPj0gc2l6ZVswXSkge1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yWzBdID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclsxXSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVGb250U2l6ZSgpIHsgdGhyb3cgbmV3IEVycm9yKFwiVGVybWluYWwgYmFja2VuZCBoYXMgbm8gbm90aW9uIG9mIGZvbnQgc2l6ZVwiKTsgfVxuICAgIGV2ZW50VG9Qb3NpdGlvbih4LCB5KSB7IHJldHVybiBbeCwgeV07IH1cbiAgICBjb21wdXRlU2l6ZSgpIHsgcmV0dXJuIFtwcm9jZXNzLnN0ZG91dC5jb2x1bW5zLCBwcm9jZXNzLnN0ZG91dC5yb3dzXTsgfVxufVxuIiwiLyogZ2xvYmFscyBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXyAqL1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJpbXBvcnQgQmFja2VuZCBmcm9tIFwiLi9iYWNrZW5kLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBCYWNrZW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgfVxuICAgIHNjaGVkdWxlKGNiKSB7IHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7IH1cbiAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiB0aGlzLl9jdHguY2FudmFzOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKG9wdHMuZm9udFN0eWxlID8gYCR7b3B0cy5mb250U3R5bGV9IGAgOiBgYCk7XG4gICAgICAgIGNvbnN0IGZvbnQgPSBgJHtzdHlsZX0gJHtvcHRzLmZvbnRTaXplfXB4ICR7b3B0cy5mb250RmFtaWx5fWA7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2l6ZSgpO1xuICAgICAgICB0aGlzLl9jdHguZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX2N0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICB0aGlzLl9jdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9vcHRpb25zLmJnO1xuICAgICAgICB0aGlzLl9jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5fY3R4LmNhbnZhcy53aWR0aCwgdGhpcy5fY3R4LmNhbnZhcy5oZWlnaHQpO1xuICAgIH1cbiAgICBldmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5fY3R4LmNhbnZhcztcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHggLT0gcmVjdC5sZWZ0O1xuICAgICAgICB5IC09IHJlY3QudG9wO1xuICAgICAgICB4ICo9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgICAgIHkgKj0gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSBjYW52YXMud2lkdGggfHwgeSA+PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCAtMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IENhbnZhcyBmcm9tIFwiLi9jYW52YXMuanNcIjtcbmltcG9ydCB7IG1vZCB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBIZXhhZ29uYWwgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGV4IGV4dGVuZHMgQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fc3BhY2luZ1ggPSAwO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IDA7XG4gICAgICAgIHRoaXMuX2hleFNpemUgPSAwO1xuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICBsZXQgcHggPSBbXG4gICAgICAgICAgICAoeCArIDEpICogdGhpcy5fc3BhY2luZ1gsXG4gICAgICAgICAgICB5ICogdGhpcy5fc3BhY2luZ1kgKyB0aGlzLl9oZXhTaXplXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgcHgucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgdGhpcy5fZmlsbChweFswXSwgcHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gZmc7XG4gICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsVGV4dChjaGFyc1tpXSwgcHhbMF0sIE1hdGguY2VpbChweFsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgYXZhaWxXaWR0aCArPSBhdmFpbEhlaWdodDtcbiAgICAgICAgICAgIGF2YWlsSGVpZ2h0ID0gYXZhaWxXaWR0aCAtIGF2YWlsSGVpZ2h0O1xuICAgICAgICAgICAgYXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCkgLSAxO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcigoYXZhaWxIZWlnaHQgLSAyICogdGhpcy5faGV4U2l6ZSkgLyB0aGlzLl9zcGFjaW5nWSArIDEpO1xuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cbiAgICBjb21wdXRlRm9udFNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhdmFpbFdpZHRoICs9IGF2YWlsSGVpZ2h0O1xuICAgICAgICAgICAgYXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG4gICAgICAgICAgICBhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBoZXhTaXplV2lkdGggPSAyICogYXZhaWxXaWR0aCAvICgodGhpcy5fb3B0aW9ucy53aWR0aCArIDEpICogTWF0aC5zcXJ0KDMpKSAtIDE7XG4gICAgICAgIGxldCBoZXhTaXplSGVpZ2h0ID0gYXZhaWxIZWlnaHQgLyAoMiArIDEuNSAqICh0aGlzLl9vcHRpb25zLmhlaWdodCAtIDEpKTtcbiAgICAgICAgbGV0IGhleFNpemUgPSBNYXRoLm1pbihoZXhTaXplV2lkdGgsIGhleFNpemVIZWlnaHQpO1xuICAgICAgICAvLyBjb21wdXRlIGNoYXIgcmF0aW9cbiAgICAgICAgbGV0IG9sZEZvbnQgPSB0aGlzLl9jdHguZm9udDtcbiAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gb2xkRm9udDtcbiAgICAgICAgbGV0IHJhdGlvID0gd2lkdGggLyAxMDA7XG4gICAgICAgIGhleFNpemUgPSBNYXRoLmZsb29yKGhleFNpemUpICsgMTsgLy8gY2xvc2VzdCBsYXJnZXIgaGV4U2l6ZVxuICAgICAgICAvLyBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzXG4gICAgICAgIGxldCBmb250U2l6ZSA9IDIgKiBoZXhTaXplIC8gKHRoaXMuX29wdGlvbnMuc3BhY2luZyAqICgxICsgcmF0aW8gLyBNYXRoLnNxcnQoMykpKTtcbiAgICAgICAgLy8gY2xvc2VzdCBzbWFsbGVyIGZvbnRTaXplXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoZm9udFNpemUpIC0gMTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICBsZXQgbm9kZVNpemU7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgeCArPSB5O1xuICAgICAgICAgICAgeSA9IHggLSB5O1xuICAgICAgICAgICAgeCAtPSB5O1xuICAgICAgICAgICAgbm9kZVNpemUgPSB0aGlzLl9jdHguY2FudmFzLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZVNpemUgPSB0aGlzLl9jdHguY2FudmFzLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2l6ZSA9IG5vZGVTaXplIC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHkgPSBNYXRoLmZsb29yKHkgLyBzaXplKTtcbiAgICAgICAgaWYgKG1vZCh5LCAyKSkgeyAvKiBvZGQgcm93ICovXG4gICAgICAgICAgICB4IC09IHRoaXMuX3NwYWNpbmdYO1xuICAgICAgICAgICAgeCA9IDEgKyAyICogTWF0aC5mbG9vcih4IC8gKDIgKiB0aGlzLl9zcGFjaW5nWCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeCA9IDIgKiBNYXRoLmZsb29yKHggLyAoMiAqIHRoaXMuX3NwYWNpbmdYKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXJndW1lbnRzIGFyZSBwaXhlbCB2YWx1ZXMuIElmIFwidHJhbnNwb3NlZFwiIG1vZGUgaXMgZW5hYmxlZCwgdGhlbiB0aGVzZSB0d28gYXJlIGFscmVhZHkgc3dhcHBlZC5cbiAgICAgKi9cbiAgICBfZmlsbChjeCwgY3kpIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLl9oZXhTaXplO1xuICAgICAgICBsZXQgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGN4IC0gYSArIGIsIGN5KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggLSBhIC8gMiArIGIsIGN5ICsgdGhpcy5fc3BhY2luZ1ggLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyBhIC8gMiAtIGIsIGN5ICsgdGhpcy5fc3BhY2luZ1ggLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyBhIC0gYiwgY3kpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCArIGEgLyAyIC0gYiwgY3kgLSB0aGlzLl9zcGFjaW5nWCArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIGEgLyAyICsgYiwgY3kgLSB0aGlzLl9zcGFjaW5nWCArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIGEgKyBiLCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGN4LCBjeSAtIGEgKyBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyB0aGlzLl9zcGFjaW5nWCAtIGIsIGN5IC0gYSAvIDIgKyBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyB0aGlzLl9zcGFjaW5nWCAtIGIsIGN5ICsgYSAvIDIgLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3gsIGN5ICsgYSAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIHRoaXMuX3NwYWNpbmdYICsgYiwgY3kgKyBhIC8gMiAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIHRoaXMuX3NwYWNpbmdYICsgYiwgY3kgLSBhIC8gMiArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCwgY3kgLSBhICsgYik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG4gICAgX3VwZGF0ZVNpemUoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgIHRoaXMuX2hleFNpemUgPSBNYXRoLmZsb29yKG9wdHMuc3BhY2luZyAqIChvcHRzLmZvbnRTaXplICsgY2hhcldpZHRoIC8gTWF0aC5zcXJ0KDMpKSAvIDIpO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX2hleFNpemUgKiBNYXRoLnNxcnQoMykgLyAyO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IHRoaXMuX2hleFNpemUgKiAxLjU7XG4gICAgICAgIGxldCB4cHJvcDtcbiAgICAgICAgbGV0IHlwcm9wO1xuICAgICAgICBpZiAob3B0cy50cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIHhwcm9wID0gXCJoZWlnaHRcIjtcbiAgICAgICAgICAgIHlwcm9wID0gXCJ3aWR0aFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeHByb3AgPSBcIndpZHRoXCI7XG4gICAgICAgICAgICB5cHJvcCA9IFwiaGVpZ2h0XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhc1t4cHJvcF0gPSBNYXRoLmNlaWwoKG9wdHMud2lkdGggKyAxKSAqIHRoaXMuX3NwYWNpbmdYKTtcbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhc1t5cHJvcF0gPSBNYXRoLmNlaWwoKG9wdHMuaGVpZ2h0IC0gMSkgKiB0aGlzLl9zcGFjaW5nWSArIDIgKiB0aGlzLl9oZXhTaXplKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2FudmFzIGZyb20gXCIuL2NhbnZhcy5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgUmVjdGFuZ3VsYXIgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xubGV0IFJlY3QgPSAvKiogQGNsYXNzICovICgoKSA9PiB7XG4gICAgY2xhc3MgUmVjdCBleHRlbmRzIENhbnZhcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3NwYWNpbmdYID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3NwYWNpbmdZID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhc0NhY2hlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICBzdXBlci5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzQ2FjaGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAoUmVjdC5jYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdXaXRoQ2FjaGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3Tm9DYWNoZShkYXRhLCBjbGVhckJlZm9yZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX2RyYXdXaXRoQ2FjaGUoZGF0YSkge1xuICAgICAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgICAgICBsZXQgaGFzaCA9IFwiXCIgKyBjaCArIGZnICsgYmc7XG4gICAgICAgICAgICBsZXQgY2FudmFzO1xuICAgICAgICAgICAgaWYgKGhhc2ggaW4gdGhpcy5fY2FudmFzQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSB0aGlzLl9jYW52YXNDYWNoZVtoYXNoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG4gICAgICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICAgICAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLl9zcGFjaW5nWDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5fc3BhY2luZ1k7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChiLCBiLCBjYW52YXMud2lkdGggLSBiLCBjYW52YXMuaGVpZ2h0IC0gYik7XG4gICAgICAgICAgICAgICAgaWYgKGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLl9jdHguZm9udDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoY2hhcnNbaV0sIHRoaXMuX3NwYWNpbmdYIC8gMiwgTWF0aC5jZWlsKHRoaXMuX3NwYWNpbmdZIC8gMikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbnZhc0NhY2hlW2hhc2hdID0gY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShjYW52YXMsIHggKiB0aGlzLl9zcGFjaW5nWCwgeSAqIHRoaXMuX3NwYWNpbmdZKTtcbiAgICAgICAgfVxuICAgICAgICBfZHJhd05vQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICAgICAgaWYgKGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxSZWN0KHggKiB0aGlzLl9zcGFjaW5nWCArIGIsIHkgKiB0aGlzLl9zcGFjaW5nWSArIGIsIHRoaXMuX3NwYWNpbmdYIC0gYiwgdGhpcy5fc3BhY2luZ1kgLSBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gZmc7XG4gICAgICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsVGV4dChjaGFyc1tpXSwgKHggKyAwLjUpICogdGhpcy5fc3BhY2luZ1gsIE1hdGguY2VpbCgoeSArIDAuNSkgKiB0aGlzLl9zcGFjaW5nWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCk7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX3NwYWNpbmdZKTtcbiAgICAgICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgICAgIH1cbiAgICAgICAgY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgYm94V2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLndpZHRoKTtcbiAgICAgICAgICAgIGxldCBib3hIZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQpO1xuICAgICAgICAgICAgLyogY29tcHV0ZSBjaGFyIHJhdGlvICovXG4gICAgICAgICAgICBsZXQgb2xkRm9udCA9IHRoaXMuX2N0eC5mb250O1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuICAgICAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2N0eC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBvbGRGb250O1xuICAgICAgICAgICAgbGV0IHJhdGlvID0gd2lkdGggLyAxMDA7XG4gICAgICAgICAgICBsZXQgd2lkdGhGcmFjdGlvbiA9IHJhdGlvICogYm94SGVpZ2h0IC8gYm94V2lkdGg7XG4gICAgICAgICAgICBpZiAod2lkdGhGcmFjdGlvbiA+IDEpIHsgLyogdG9vIHdpZGUgd2l0aCBjdXJyZW50IGFzcGVjdCByYXRpbyAqL1xuICAgICAgICAgICAgICAgIGJveEhlaWdodCA9IE1hdGguZmxvb3IoYm94SGVpZ2h0IC8gd2lkdGhGcmFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihib3hIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnNwYWNpbmcpO1xuICAgICAgICB9XG4gICAgICAgIF9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiBbTWF0aC5mbG9vcih4IC8gdGhpcy5fc3BhY2luZ1gpLCBNYXRoLmZsb29yKHkgLyB0aGlzLl9zcGFjaW5nWSldO1xuICAgICAgICB9XG4gICAgICAgIF91cGRhdGVTaXplKCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IE1hdGguY2VpbChvcHRzLnNwYWNpbmcgKiBjaGFyV2lkdGgpO1xuICAgICAgICAgICAgdGhpcy5fc3BhY2luZ1kgPSBNYXRoLmNlaWwob3B0cy5zcGFjaW5nICogb3B0cy5mb250U2l6ZSk7XG4gICAgICAgICAgICBpZiAob3B0cy5mb3JjZVNxdWFyZVJhdGlvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3BhY2luZ1ggPSB0aGlzLl9zcGFjaW5nWSA9IE1hdGgubWF4KHRoaXMuX3NwYWNpbmdYLCB0aGlzLl9zcGFjaW5nWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdHguY2FudmFzLndpZHRoID0gb3B0cy53aWR0aCAqIHRoaXMuX3NwYWNpbmdYO1xuICAgICAgICAgICAgdGhpcy5fY3R4LmNhbnZhcy5oZWlnaHQgPSBvcHRzLmhlaWdodCAqIHRoaXMuX3NwYWNpbmdZO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlY3QuY2FjaGUgPSBmYWxzZTtcbiAgICByZXR1cm4gUmVjdDtcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBSZWN0O1xuIiwiaW1wb3J0IENhbnZhcyBmcm9tIFwiLi9jYW52YXMuanNcIjtcbi8qKlxuICogQGNsYXNzIFRpbGUgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBleHRlbmRzIENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NvbG9yQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICB9XG4gICAgZHJhdyhkYXRhLCBjbGVhckJlZm9yZSkge1xuICAgICAgICBsZXQgW3gsIHksIGNoLCBmZywgYmddID0gZGF0YTtcbiAgICAgICAgbGV0IHRpbGVXaWR0aCA9IHRoaXMuX29wdGlvbnMudGlsZVdpZHRoO1xuICAgICAgICBsZXQgdGlsZUhlaWdodCA9IHRoaXMuX29wdGlvbnMudGlsZUhlaWdodDtcbiAgICAgICAgaWYgKGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguY2xlYXJSZWN0KHggKiB0aWxlV2lkdGgsIHkgKiB0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsUmVjdCh4ICogdGlsZVdpZHRoLCB5ICogdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoYXJzID0gW10uY29uY2F0KGNoKTtcbiAgICAgICAgbGV0IGZncyA9IFtdLmNvbmNhdChmZyk7XG4gICAgICAgIGxldCBiZ3MgPSBbXS5jb25jYXQoYmcpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGlsZSA9IHRoaXMuX29wdGlvbnMudGlsZU1hcFtjaGFyc1tpXV07XG4gICAgICAgICAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYXIgXCIke2NoYXJzW2ldfVwiIG5vdCBmb3VuZCBpbiB0aWxlTWFwYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHsgLy8gYXBwbHkgY29sb3JpemF0aW9uXG4gICAgICAgICAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuX2NvbG9yQ2FudmFzO1xuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIGxldCBmZyA9IGZnc1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgYmcgPSBiZ3NbaV07XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5fb3B0aW9ucy50aWxlU2V0LCB0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsIDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKGZnICE9IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWF0b3BcIjtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShjYW52YXMsIHggKiB0aWxlV2lkdGgsIHkgKiB0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8vIG5vIGNvbG9yaXppbmcsIGVhc3lcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKHRoaXMuX29wdGlvbnMudGlsZVNldCwgdGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LCB4ICogdGlsZVdpZHRoLCB5ICogdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG4gICAgY29tcHV0ZUZvbnRTaXplKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaWxlIGJhY2tlbmQgZG9lcyBub3QgdW5kZXJzdGFuZCBmb250IHNpemVcIik7XG4gICAgfVxuICAgIF9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKHggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCksIE1hdGguZmxvb3IoeSAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCldO1xuICAgIH1cbiAgICBfdXBkYXRlU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIHRoaXMuX2N0eC5jYW52YXMud2lkdGggPSBvcHRzLndpZHRoICogb3B0cy50aWxlV2lkdGg7XG4gICAgICAgIHRoaXMuX2N0eC5jYW52YXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQgKiBvcHRzLnRpbGVIZWlnaHQ7XG4gICAgICAgIHRoaXMuX2NvbG9yQ2FudmFzLndpZHRoID0gb3B0cy50aWxlV2lkdGg7XG4gICAgICAgIHRoaXMuX2NvbG9yQ2FudmFzLmhlaWdodCA9IG9wdHMudGlsZUhlaWdodDtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFja2VuZCBmcm9tIFwiLi9iYWNrZW5kLmpzXCI7XG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tIFwiLi4vY29sb3IuanNcIjtcbi8qKlxuICogQGNsYXNzIFRpbGUgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUdMIGV4dGVuZHMgQmFja2VuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3VuaWZvcm1zID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9nbCA9IHRoaXMuX2luaXRXZWJHTCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhbGVydChlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwid2ViZ2wyXCIsIHsgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlIH0pO1xuICAgIH1cbiAgICBzY2hlZHVsZShjYikgeyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpOyB9XG4gICAgZ2V0Q29udGFpbmVyKCkgeyByZXR1cm4gdGhpcy5fZ2wuY2FudmFzOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNpemUoKTtcbiAgICAgICAgbGV0IHRpbGVTZXQgPSB0aGlzLl9vcHRpb25zLnRpbGVTZXQ7XG4gICAgICAgIGlmICh0aWxlU2V0ICYmIFwiY29tcGxldGVcIiBpbiB0aWxlU2V0ICYmICF0aWxlU2V0LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aWxlU2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHRoaXMuX3VwZGF0ZVRleHR1cmUodGlsZVNldCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGV4dHVyZSh0aWxlU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5fZ2w7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBsZXQgW3gsIHksIGNoLCBmZywgYmddID0gZGF0YTtcbiAgICAgICAgbGV0IHNjaXNzb3JZID0gZ2wuY2FudmFzLmhlaWdodCAtICh5ICsgMSkgKiBvcHRzLnRpbGVIZWlnaHQ7XG4gICAgICAgIGdsLnNjaXNzb3IoeCAqIG9wdHMudGlsZVdpZHRoLCBzY2lzc29yWSwgb3B0cy50aWxlV2lkdGgsIG9wdHMudGlsZUhlaWdodCk7XG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKG9wdHMudGlsZUNvbG9yaXplKSB7XG4gICAgICAgICAgICAgICAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoLi4ucGFyc2VDb2xvcihiZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgIGxldCBiZ3MgPSBbXS5jb25jYXQoYmcpO1xuICAgICAgICBsZXQgZmdzID0gW10uY29uY2F0KGZnKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdih0aGlzLl91bmlmb3Jtc1tcInRhcmdldFBvc1JlbFwiXSwgW3gsIHldKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl9vcHRpb25zLnRpbGVNYXBbY2hhcnNbaV1dO1xuICAgICAgICAgICAgaWYgKCF0aWxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFyIFwiJHtjaGFyc1tpXX1cIiBub3QgZm91bmQgaW4gdGlsZU1hcGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHRoaXMuX3VuaWZvcm1zW1wiY29sb3JpemVcIl0sIG9wdHMudGlsZUNvbG9yaXplID8gMSA6IDApO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdih0aGlzLl91bmlmb3Jtc1tcInRpbGVzZXRQb3NBYnNcIl0sIHRpbGUpO1xuICAgICAgICAgICAgaWYgKG9wdHMudGlsZUNvbG9yaXplKSB7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih0aGlzLl91bmlmb3Jtc1tcInRpbnRcIl0sIHBhcnNlQ29sb3IoZmdzW2ldKSk7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih0aGlzLl91bmlmb3Jtc1tcImJnXCJdLCBwYXJzZUNvbG9yKGJnc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRpbGVDb2xvcml6ZSkgeyAvLyBhcHBseSBjb2xvcml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLl9jb2xvckNhbnZhcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZnID0gZmdzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJnID0gYmdzW2ldO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMudGlsZVNldCEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWF0b3BcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnICE9IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLW92ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShjYW52YXMsIHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIG5vIGNvbG9yaXppbmcsIGVhc3lcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy50aWxlU2V0ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgKi9cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5fZ2w7XG4gICAgICAgIGdsLmNsZWFyQ29sb3IoLi4ucGFyc2VDb2xvcih0aGlzLl9vcHRpb25zLmJnKSk7XG4gICAgICAgIGdsLnNjaXNzb3IoMCwgMCwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgfVxuICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKTtcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpO1xuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cbiAgICBjb21wdXRlRm9udFNpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRpbGUgYmFja2VuZCBkb2VzIG5vdCB1bmRlcnN0YW5kIGZvbnQgc2l6ZVwiKTtcbiAgICB9XG4gICAgZXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuX2dsLmNhbnZhcztcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHggLT0gcmVjdC5sZWZ0O1xuICAgICAgICB5IC09IHJlY3QudG9wO1xuICAgICAgICB4ICo9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgICAgIHkgKj0gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSBjYW52YXMud2lkdGggfHwgeSA+PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCAtMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSk7XG4gICAgfVxuICAgIF9pbml0V2ViR0woKSB7XG4gICAgICAgIGxldCBnbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIndlYmdsMlwiLCB7IHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSB9KTtcbiAgICAgICAgd2luZG93LmdsID0gZ2w7XG4gICAgICAgIGxldCBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgVlMsIEZTKTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgY3JlYXRlUXVhZChnbCk7XG4gICAgICAgIFVOSUZPUk1TLmZvckVhY2gobmFtZSA9PiB0aGlzLl91bmlmb3Jtc1tuYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKSk7XG4gICAgICAgIHRoaXMuX3Byb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfVxuICAgIF9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKHggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCksIE1hdGguZmxvb3IoeSAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCldO1xuICAgIH1cbiAgICBfdXBkYXRlU2l6ZSgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLl9nbDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhbnZhc1NpemUgPSBbb3B0cy53aWR0aCAqIG9wdHMudGlsZVdpZHRoLCBvcHRzLmhlaWdodCAqIG9wdHMudGlsZUhlaWdodF07XG4gICAgICAgIGdsLmNhbnZhcy53aWR0aCA9IGNhbnZhc1NpemVbMF07XG4gICAgICAgIGdsLmNhbnZhcy5oZWlnaHQgPSBjYW52YXNTaXplWzFdO1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBjYW52YXNTaXplWzBdLCBjYW52YXNTaXplWzFdKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdih0aGlzLl91bmlmb3Jtc1tcInRpbGVTaXplXCJdLCBbb3B0cy50aWxlV2lkdGgsIG9wdHMudGlsZUhlaWdodF0pO1xuICAgICAgICBnbC51bmlmb3JtMmZ2KHRoaXMuX3VuaWZvcm1zW1widGFyZ2V0U2l6ZVwiXSwgY2FudmFzU2l6ZSk7XG4gICAgfVxuICAgIF91cGRhdGVUZXh0dXJlKHRpbGVTZXQpIHtcbiAgICAgICAgY3JlYXRlVGV4dHVyZSh0aGlzLl9nbCwgdGlsZVNldCk7XG4gICAgfVxufVxuY29uc3QgVU5JRk9STVMgPSBbXCJ0YXJnZXRQb3NSZWxcIiwgXCJ0aWxlc2V0UG9zQWJzXCIsIFwidGlsZVNpemVcIiwgXCJ0YXJnZXRTaXplXCIsIFwiY29sb3JpemVcIiwgXCJiZ1wiLCBcInRpbnRcIl07XG5jb25zdCBWUyA9IGBcbiN2ZXJzaW9uIDMwMCBlc1xuXG5pbiB2ZWMyIHRpbGVQb3NSZWw7XG5vdXQgdmVjMiB0aWxlc2V0UG9zUHg7XG5cbnVuaWZvcm0gdmVjMiB0aWxlc2V0UG9zQWJzO1xudW5pZm9ybSB2ZWMyIHRpbGVTaXplO1xudW5pZm9ybSB2ZWMyIHRhcmdldFNpemU7XG51bmlmb3JtIHZlYzIgdGFyZ2V0UG9zUmVsO1xuXG52b2lkIG1haW4oKSB7XG5cdHZlYzIgdGFyZ2V0UG9zUHggPSAodGFyZ2V0UG9zUmVsICsgdGlsZVBvc1JlbCkgKiB0aWxlU2l6ZTtcblx0dmVjMiB0YXJnZXRQb3NOZGMgPSAoKHRhcmdldFBvc1B4IC8gdGFyZ2V0U2l6ZSktMC41KSoyLjA7XG5cdHRhcmdldFBvc05kYy55ICo9IC0xLjA7XG5cblx0Z2xfUG9zaXRpb24gPSB2ZWM0KHRhcmdldFBvc05kYywgMC4wLCAxLjApO1xuXHR0aWxlc2V0UG9zUHggPSB0aWxlc2V0UG9zQWJzICsgdGlsZVBvc1JlbCAqIHRpbGVTaXplO1xufWAudHJpbSgpO1xuY29uc3QgRlMgPSBgXG4jdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuaW4gdmVjMiB0aWxlc2V0UG9zUHg7XG5vdXQgdmVjNCBmcmFnQ29sb3I7XG51bmlmb3JtIHNhbXBsZXIyRCBpbWFnZTtcbnVuaWZvcm0gYm9vbCBjb2xvcml6ZTtcbnVuaWZvcm0gdmVjNCBiZztcbnVuaWZvcm0gdmVjNCB0aW50O1xuXG52b2lkIG1haW4oKSB7XG5cdGZyYWdDb2xvciA9IHZlYzQoMCwgMCwgMCwgMSk7XG5cblx0dmVjNCB0ZXhlbCA9IHRleGVsRmV0Y2goaW1hZ2UsIGl2ZWMyKHRpbGVzZXRQb3NQeCksIDApO1xuXG5cdGlmIChjb2xvcml6ZSkge1xuXHRcdHRleGVsLnJnYiA9IHRpbnQuYSAqIHRpbnQucmdiICsgKDEuMC10aW50LmEpICogdGV4ZWwucmdiO1xuXHRcdGZyYWdDb2xvci5yZ2IgPSB0ZXhlbC5hKnRleGVsLnJnYiArICgxLjAtdGV4ZWwuYSkqYmcucmdiO1xuXHRcdGZyYWdDb2xvci5hID0gdGV4ZWwuYSArICgxLjAtdGV4ZWwuYSkqYmcuYTtcblx0fSBlbHNlIHtcblx0XHRmcmFnQ29sb3IgPSB0ZXhlbDtcblx0fVxufWAudHJpbSgpO1xuZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgdnNzLCBmc3MpIHtcbiAgICBjb25zdCB2cyA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UodnMsIHZzcyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcih2cyk7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodnMsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyh2cykgfHwgXCJcIik7XG4gICAgfVxuICAgIGNvbnN0IGZzID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgZ2wuc2hhZGVyU291cmNlKGZzLCBmc3MpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoZnMpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZzLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coZnMpIHx8IFwiXCIpO1xuICAgIH1cbiAgICBjb25zdCBwID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwLCB2cyk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHAsIGZzKTtcbiAgICBnbC5saW5rUHJvZ3JhbShwKTtcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocCwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnbC5nZXRQcm9ncmFtSW5mb0xvZyhwKSB8fCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5mdW5jdGlvbiBjcmVhdGVRdWFkKGdsKSB7XG4gICAgY29uc3QgcG9zID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMCwgMSwgMSwgMV0pO1xuICAgIGNvbnN0IGJ1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWYpO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBwb3MsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgwKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKDAsIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBkYXRhKSB7XG4gICAgbGV0IHQgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG4gICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgMCk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBkYXRhKTtcbiAgICByZXR1cm4gdDtcbn1cbmxldCBjb2xvckNhY2hlID0ge307XG5mdW5jdGlvbiBwYXJzZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCEoY29sb3IgaW4gY29sb3JDYWNoZSkpIHtcbiAgICAgICAgbGV0IHBhcnNlZDtcbiAgICAgICAgaWYgKGNvbG9yID09IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgcGFyc2VkID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbG9yLmluZGV4T2YoXCJyZ2JhXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHBhcnNlZCA9IChjb2xvci5tYXRjaCgvW1xcZC5dKy9nKSB8fCBbXSkubWFwKE51bWJlcik7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnNlZFtpXSA9IHBhcnNlZFtpXSAvIDI1NTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZCA9IENvbG9yLmZyb21TdHJpbmcoY29sb3IpLm1hcCgkID0+ICQgLyAyNTUpO1xuICAgICAgICAgICAgcGFyc2VkLnB1c2goMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29sb3JDYWNoZVtjb2xvcl0gPSBwYXJzZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb2xvckNhY2hlW2NvbG9yXTtcbn1cbiIsIi8qKlxuICogQG5hbWVzcGFjZVxuICogQ29udGFpbnMgdGV4dCB0b2tlbml6YXRpb24gYW5kIGJyZWFraW5nIHJvdXRpbmVzXG4gKi9cbmNvbnN0IFJFX0NPTE9SUyA9IC8lKFtiY10peyhbXn1dKil9L2c7XG4vLyB0b2tlbiB0eXBlc1xuZXhwb3J0IGNvbnN0IFRZUEVfVEVYVCA9IDA7XG5leHBvcnQgY29uc3QgVFlQRV9ORVdMSU5FID0gMTtcbmV4cG9ydCBjb25zdCBUWVBFX0ZHID0gMjtcbmV4cG9ydCBjb25zdCBUWVBFX0JHID0gMztcbi8qKlxuICogTWVhc3VyZSBzaXplIG9mIGEgcmVzdWx0aW5nIHRleHQgYmxvY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmUoc3RyLCBtYXhXaWR0aCkge1xuICAgIGxldCByZXN1bHQgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDEgfTtcbiAgICBsZXQgdG9rZW5zID0gdG9rZW5pemUoc3RyLCBtYXhXaWR0aCk7XG4gICAgbGV0IGxpbmVXaWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVFlQRV9URVhUOlxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRZUEVfTkVXTElORTpcbiAgICAgICAgICAgICAgICByZXN1bHQuaGVpZ2h0Kys7XG4gICAgICAgICAgICAgICAgcmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENvbnZlcnQgc3RyaW5nIHRvIGEgc2VyaWVzIG9mIGEgZm9ybWF0dGluZyBjb21tYW5kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5pemUoc3RyLCBtYXhXaWR0aCkge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAvKiBmaXJzdCB0b2tlbml6YXRpb24gcGFzcyAtIHNwbGl0IHRleHRzIGFuZCBjb2xvciBmb3JtYXR0aW5nIGNvbW1hbmRzICovXG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgc3RyLnJlcGxhY2UoUkVfQ09MT1JTLCBmdW5jdGlvbiAobWF0Y2gsIHR5cGUsIG5hbWUsIGluZGV4KSB7XG4gICAgICAgIC8qIHN0cmluZyBiZWZvcmUgKi9cbiAgICAgICAgbGV0IHBhcnQgPSBzdHIuc3Vic3RyaW5nKG9mZnNldCwgaW5kZXgpO1xuICAgICAgICBpZiAocGFydC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBUWVBFX1RFWFQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qIGNvbG9yIGNvbW1hbmQgKi9cbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgdHlwZTogKHR5cGUgPT0gXCJjXCIgPyBUWVBFX0ZHIDogVFlQRV9CRyksXG4gICAgICAgICAgICB2YWx1ZTogbmFtZS50cmltKClcbiAgICAgICAgfSk7XG4gICAgICAgIG9mZnNldCA9IGluZGV4ICsgbWF0Y2gubGVuZ3RoO1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9KTtcbiAgICAvKiBsYXN0IHJlbWFpbmluZyBwYXJ0ICovXG4gICAgbGV0IHBhcnQgPSBzdHIuc3Vic3RyaW5nKG9mZnNldCk7XG4gICAgaWYgKHBhcnQubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFRZUEVfVEVYVCxcbiAgICAgICAgICAgIHZhbHVlOiBwYXJ0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYnJlYWtMaW5lcyhyZXN1bHQsIG1heFdpZHRoKTtcbn1cbi8qIGluc2VydCBsaW5lIGJyZWFrcyBpbnRvIGZpcnN0LXBhc3MgdG9rZW5pemVkIGRhdGEgKi9cbmZ1bmN0aW9uIGJyZWFrTGluZXModG9rZW5zLCBtYXhXaWR0aCkge1xuICAgIGlmICghbWF4V2lkdGgpIHtcbiAgICAgICAgbWF4V2lkdGggPSBJbmZpbml0eTtcbiAgICB9XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsaW5lTGVuZ3RoID0gMDtcbiAgICBsZXQgbGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG4gICAgd2hpbGUgKGkgPCB0b2tlbnMubGVuZ3RoKSB7IC8qIHRha2UgYWxsIHRleHQgdG9rZW5zLCByZW1vdmUgc3BhY2UsIGFwcGx5IGxpbmVicmVha3MgKi9cbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBUWVBFX05FV0xJTkUpIHsgLyogcmVzZXQgKi9cbiAgICAgICAgICAgIGxpbmVMZW5ndGggPSAwO1xuICAgICAgICAgICAgbGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gVFlQRV9URVhUKSB7IC8qIHNraXAgbm9uLXRleHQgdG9rZW5zICovXG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvKiByZW1vdmUgc3BhY2VzIGF0IHRoZSBiZWdpbm5pbmcgb2YgbGluZSAqL1xuICAgICAgICB3aGlsZSAobGluZUxlbmd0aCA9PSAwICYmIHRva2VuLnZhbHVlLmNoYXJBdCgwKSA9PSBcIiBcIikge1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSB0b2tlbi52YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZm9yY2VkIG5ld2xpbmU/IGluc2VydCB0d28gbmV3IHRva2VucyBhZnRlciB0aGlzIG9uZSAqL1xuICAgICAgICBsZXQgaW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiXFxuXCIpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgIHRva2VuLnZhbHVlID0gYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIGluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgIC8qIGlmIHRoZXJlIGFyZSBzcGFjZXMgYXQgdGhlIGVuZCwgd2UgbXVzdCByZW1vdmUgdGhlbSAod2UgZG8gbm90IHdhbnQgdGhlIGxpbmUgdG9vIGxvbmcpICovXG4gICAgICAgICAgICBsZXQgYXJyID0gdG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG4gICAgICAgICAgICB3aGlsZSAoYXJyLmxlbmd0aCAmJiBhcnJbYXJyLmxlbmd0aCAtIDFdID09IFwiIFwiKSB7XG4gICAgICAgICAgICAgICAgYXJyLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBhcnIuam9pbihcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKiB0b2tlbiBkZWdlbmVyYXRlZD8gKi9cbiAgICAgICAgaWYgKCF0b2tlbi52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRva2Vucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZUxlbmd0aCArIHRva2VuLnZhbHVlLmxlbmd0aCA+IG1heFdpZHRoKSB7IC8qIGxpbmUgdG9vIGxvbmcsIGZpbmQgYSBzdWl0YWJsZSBicmVha2luZyBzcG90ICovXG4gICAgICAgICAgICAvKiBpcyBpdCBwb3NzaWJsZSB0byBicmVhayB3aXRoaW4gdGhpcyB0b2tlbj8gKi9cbiAgICAgICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dEluZGV4ID0gdG9rZW4udmFsdWUuaW5kZXhPZihcIiBcIiwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGluZUxlbmd0aCArIG5leHRJbmRleCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkgeyAvKiBicmVhayBhdCBzcGFjZSB3aXRoaW4gdGhpcyBvbmUgKi9cbiAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBpbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0VG9rZW5XaXRoU3BhY2UgIT0gLTEpIHsgLyogaXMgdGhlcmUgYSBwcmV2aW91cyB0b2tlbiB3aGVyZSBhIGJyZWFrIGNhbiBvY2N1cj8gKi9cbiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbbGFzdFRva2VuV2l0aFNwYWNlXTtcbiAgICAgICAgICAgICAgICBsZXQgYnJlYWtJbmRleCA9IHRva2VuLnZhbHVlLmxhc3RJbmRleE9mKFwiIFwiKTtcbiAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBsYXN0VG9rZW5XaXRoU3BhY2UsIGJyZWFrSW5kZXgsIHRydWUpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0VG9rZW5XaXRoU3BhY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHsgLyogZm9yY2UgYnJlYWsgaW4gdGhpcyB0b2tlbiAqL1xuICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIG1heFdpZHRoIC0gbGluZUxlbmd0aCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvKiBsaW5lIG5vdCBsb25nLCBjb250aW51ZSAqL1xuICAgICAgICAgICAgbGluZUxlbmd0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodG9rZW4udmFsdWUuaW5kZXhPZihcIiBcIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW5XaXRoU3BhY2UgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkrKzsgLyogYWR2YW5jZSB0byBuZXh0IHRva2VuICovXG4gICAgfVxuICAgIHRva2Vucy5wdXNoKHsgdHlwZTogVFlQRV9ORVdMSU5FIH0pOyAvKiBpbnNlcnQgZmFrZSBuZXdsaW5lIHRvIGZpeCB0aGUgbGFzdCB0ZXh0IGxpbmUgKi9cbiAgICAvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgZnJvbSB0ZXh0IHRva2VucyBiZWZvcmUgbmV3bGluZXMgKi9cbiAgICBsZXQgbGFzdFRleHRUb2tlbiA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVFlQRV9URVhUOlxuICAgICAgICAgICAgICAgIGxhc3RUZXh0VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVFlQRV9ORVdMSU5FOlxuICAgICAgICAgICAgICAgIGlmIChsYXN0VGV4dFRva2VuKSB7IC8qIHJlbW92ZSB0cmFpbGluZyBzcGFjZSAqL1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXJyID0gbGFzdFRleHRUb2tlbi52YWx1ZS5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGggLSAxXSA9PSBcIiBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUZXh0VG9rZW4udmFsdWUgPSBhcnIuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdFRleHRUb2tlbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9rZW5zLnBvcCgpOyAvKiByZW1vdmUgZmFrZSB0b2tlbiAqL1xuICAgIHJldHVybiB0b2tlbnM7XG59XG4vKipcbiAqIENyZWF0ZSBuZXcgdG9rZW5zIGFuZCBpbnNlcnQgdGhlbSBpbnRvIHRoZSBzdHJlYW1cbiAqIEBwYXJhbSB7b2JqZWN0W119IHRva2Vuc1xuICogQHBhcmFtIHtpbnR9IHRva2VuSW5kZXggVG9rZW4gYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge2ludH0gYnJlYWtJbmRleCBJbmRleCB3aXRoaW4gY3VycmVudCB0b2tlbidzIHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2x9IHJlbW92ZUJyZWFrQ2hhciBEbyB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgYnJlYWtpbmcgY2hhcmFjdGVyP1xuICogQHJldHVybnMge3N0cmluZ30gcmVtYWluaW5nIHVuYnJva2VuIHRva2VuIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCB0b2tlbkluZGV4LCBicmVha0luZGV4LCByZW1vdmVCcmVha0NoYXIpIHtcbiAgICBsZXQgbmV3QnJlYWtUb2tlbiA9IHtcbiAgICAgICAgdHlwZTogVFlQRV9ORVdMSU5FXG4gICAgfTtcbiAgICBsZXQgbmV3VGV4dFRva2VuID0ge1xuICAgICAgICB0eXBlOiBUWVBFX1RFWFQsXG4gICAgICAgIHZhbHVlOiB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWUuc3Vic3RyaW5nKGJyZWFrSW5kZXggKyAocmVtb3ZlQnJlYWtDaGFyID8gMSA6IDApKVxuICAgIH07XG4gICAgdG9rZW5zLnNwbGljZSh0b2tlbkluZGV4ICsgMSwgMCwgbmV3QnJlYWtUb2tlbiwgbmV3VGV4dFRva2VuKTtcbiAgICByZXR1cm4gdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZygwLCBicmVha0luZGV4KTtcbn1cbiIsIi8qKiBEZWZhdWx0IHdpdGggZm9yIGRpc3BsYXkgYW5kIG1hcCBnZW5lcmF0b3JzICovXG5leHBvcnQgbGV0IERFRkFVTFRfV0lEVEggPSA4MDtcbi8qKiBEZWZhdWx0IGhlaWdodCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cbmV4cG9ydCBsZXQgREVGQVVMVF9IRUlHSFQgPSAyNTtcbmV4cG9ydCBjb25zdCBESVJTID0ge1xuICAgIDQ6IFtbMCwgLTFdLCBbMSwgMF0sIFswLCAxXSwgWy0xLCAwXV0sXG4gICAgODogW1swLCAtMV0sIFsxLCAtMV0sIFsxLCAwXSwgWzEsIDFdLCBbMCwgMV0sIFstMSwgMV0sIFstMSwgMF0sIFstMSwgLTFdXSxcbiAgICA2OiBbWy0xLCAtMV0sIFsxLCAtMV0sIFsyLCAwXSwgWzEsIDFdLCBbLTEsIDFdLCBbLTIsIDBdXVxufTtcbmV4cG9ydCBjb25zdCBLRVlTID0ge1xuICAgIC8qKiBDYW5jZWwga2V5LiAqL1xuICAgIFZLX0NBTkNFTDogMyxcbiAgICAvKiogSGVscCBrZXkuICovXG4gICAgVktfSEVMUDogNixcbiAgICAvKiogQmFja3NwYWNlIGtleS4gKi9cbiAgICBWS19CQUNLX1NQQUNFOiA4LFxuICAgIC8qKiBUYWIga2V5LiAqL1xuICAgIFZLX1RBQjogOSxcbiAgICAvKiogNSBrZXkgb24gTnVtcGFkIHdoZW4gTnVtTG9jayBpcyB1bmxvY2tlZC4gT3Igb24gTWFjLCBjbGVhciBrZXkgd2hpY2ggaXMgcG9zaXRpb25lZCBhdCBOdW1Mb2NrIGtleS4gKi9cbiAgICBWS19DTEVBUjogMTIsXG4gICAgLyoqIFJldHVybi9lbnRlciBrZXkgb24gdGhlIG1haW4ga2V5Ym9hcmQuICovXG4gICAgVktfUkVUVVJOOiAxMyxcbiAgICAvKiogUmVzZXJ2ZWQsIGJ1dCBub3QgdXNlZC4gKi9cbiAgICBWS19FTlRFUjogMTQsXG4gICAgLyoqIFNoaWZ0IGtleS4gKi9cbiAgICBWS19TSElGVDogMTYsXG4gICAgLyoqIENvbnRyb2wga2V5LiAqL1xuICAgIFZLX0NPTlRST0w6IDE3LFxuICAgIC8qKiBBbHQgKE9wdGlvbiBvbiBNYWMpIGtleS4gKi9cbiAgICBWS19BTFQ6IDE4LFxuICAgIC8qKiBQYXVzZSBrZXkuICovXG4gICAgVktfUEFVU0U6IDE5LFxuICAgIC8qKiBDYXBzIGxvY2suICovXG4gICAgVktfQ0FQU19MT0NLOiAyMCxcbiAgICAvKiogRXNjYXBlIGtleS4gKi9cbiAgICBWS19FU0NBUEU6IDI3LFxuICAgIC8qKiBTcGFjZSBiYXIuICovXG4gICAgVktfU1BBQ0U6IDMyLFxuICAgIC8qKiBQYWdlIFVwIGtleS4gKi9cbiAgICBWS19QQUdFX1VQOiAzMyxcbiAgICAvKiogUGFnZSBEb3duIGtleS4gKi9cbiAgICBWS19QQUdFX0RPV046IDM0LFxuICAgIC8qKiBFbmQga2V5LiAqL1xuICAgIFZLX0VORDogMzUsXG4gICAgLyoqIEhvbWUga2V5LiAqL1xuICAgIFZLX0hPTUU6IDM2LFxuICAgIC8qKiBMZWZ0IGFycm93LiAqL1xuICAgIFZLX0xFRlQ6IDM3LFxuICAgIC8qKiBVcCBhcnJvdy4gKi9cbiAgICBWS19VUDogMzgsXG4gICAgLyoqIFJpZ2h0IGFycm93LiAqL1xuICAgIFZLX1JJR0hUOiAzOSxcbiAgICAvKiogRG93biBhcnJvdy4gKi9cbiAgICBWS19ET1dOOiA0MCxcbiAgICAvKiogUHJpbnQgU2NyZWVuIGtleS4gKi9cbiAgICBWS19QUklOVFNDUkVFTjogNDQsXG4gICAgLyoqIElucyhlcnQpIGtleS4gKi9cbiAgICBWS19JTlNFUlQ6IDQ1LFxuICAgIC8qKiBEZWwoZXRlKSBrZXkuICovXG4gICAgVktfREVMRVRFOiA0NixcbiAgICAvKioqL1xuICAgIFZLXzA6IDQ4LFxuICAgIC8qKiovXG4gICAgVktfMTogNDksXG4gICAgLyoqKi9cbiAgICBWS18yOiA1MCxcbiAgICAvKioqL1xuICAgIFZLXzM6IDUxLFxuICAgIC8qKiovXG4gICAgVktfNDogNTIsXG4gICAgLyoqKi9cbiAgICBWS181OiA1MyxcbiAgICAvKioqL1xuICAgIFZLXzY6IDU0LFxuICAgIC8qKiovXG4gICAgVktfNzogNTUsXG4gICAgLyoqKi9cbiAgICBWS184OiA1NixcbiAgICAvKioqL1xuICAgIFZLXzk6IDU3LFxuICAgIC8qKiBDb2xvbiAoOikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQ09MT046IDU4LFxuICAgIC8qKiBTZW1pY29sb24gKDspIGtleS4gKi9cbiAgICBWS19TRU1JQ09MT046IDU5LFxuICAgIC8qKiBMZXNzLXRoYW4gKDwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0xFU1NfVEhBTjogNjAsXG4gICAgLyoqIEVxdWFscyAoPSkga2V5LiAqL1xuICAgIFZLX0VRVUFMUzogNjEsXG4gICAgLyoqIEdyZWF0ZXItdGhhbiAoPikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfR1JFQVRFUl9USEFOOiA2MixcbiAgICAvKiogUXVlc3Rpb24gbWFyayAoPykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfUVVFU1RJT05fTUFSSzogNjMsXG4gICAgLyoqIEF0bWFyayAoQCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQVQ6IDY0LFxuICAgIC8qKiovXG4gICAgVktfQTogNjUsXG4gICAgLyoqKi9cbiAgICBWS19COiA2NixcbiAgICAvKioqL1xuICAgIFZLX0M6IDY3LFxuICAgIC8qKiovXG4gICAgVktfRDogNjgsXG4gICAgLyoqKi9cbiAgICBWS19FOiA2OSxcbiAgICAvKioqL1xuICAgIFZLX0Y6IDcwLFxuICAgIC8qKiovXG4gICAgVktfRzogNzEsXG4gICAgLyoqKi9cbiAgICBWS19IOiA3MixcbiAgICAvKioqL1xuICAgIFZLX0k6IDczLFxuICAgIC8qKiovXG4gICAgVktfSjogNzQsXG4gICAgLyoqKi9cbiAgICBWS19LOiA3NSxcbiAgICAvKioqL1xuICAgIFZLX0w6IDc2LFxuICAgIC8qKiovXG4gICAgVktfTTogNzcsXG4gICAgLyoqKi9cbiAgICBWS19OOiA3OCxcbiAgICAvKioqL1xuICAgIFZLX086IDc5LFxuICAgIC8qKiovXG4gICAgVktfUDogODAsXG4gICAgLyoqKi9cbiAgICBWS19ROiA4MSxcbiAgICAvKioqL1xuICAgIFZLX1I6IDgyLFxuICAgIC8qKiovXG4gICAgVktfUzogODMsXG4gICAgLyoqKi9cbiAgICBWS19UOiA4NCxcbiAgICAvKioqL1xuICAgIFZLX1U6IDg1LFxuICAgIC8qKiovXG4gICAgVktfVjogODYsXG4gICAgLyoqKi9cbiAgICBWS19XOiA4NyxcbiAgICAvKioqL1xuICAgIFZLX1g6IDg4LFxuICAgIC8qKiovXG4gICAgVktfWTogODksXG4gICAgLyoqKi9cbiAgICBWS19aOiA5MCxcbiAgICAvKioqL1xuICAgIFZLX0NPTlRFWFRfTUVOVTogOTMsXG4gICAgLyoqIDAgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDA6IDk2LFxuICAgIC8qKiAxIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQxOiA5NyxcbiAgICAvKiogMiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEMjogOTgsXG4gICAgLyoqIDMgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDM6IDk5LFxuICAgIC8qKiA0IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ0OiAxMDAsXG4gICAgLyoqIDUgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDU6IDEwMSxcbiAgICAvKiogNiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFENjogMTAyLFxuICAgIC8qKiA3IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ3OiAxMDMsXG4gICAgLyoqIDggb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDg6IDEwNCxcbiAgICAvKiogOSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEOTogMTA1LFxuICAgIC8qKiAqIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19NVUxUSVBMWTogMTA2LFxuICAgIC8qKiArIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19BREQ6IDEwNyxcbiAgICAvKioqL1xuICAgIFZLX1NFUEFSQVRPUjogMTA4LFxuICAgIC8qKiAtIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19TVUJUUkFDVDogMTA5LFxuICAgIC8qKiBEZWNpbWFsIHBvaW50IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19ERUNJTUFMOiAxMTAsXG4gICAgLyoqIC8gb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX0RJVklERTogMTExLFxuICAgIC8qKiBGMSBrZXkuICovXG4gICAgVktfRjE6IDExMixcbiAgICAvKiogRjIga2V5LiAqL1xuICAgIFZLX0YyOiAxMTMsXG4gICAgLyoqIEYzIGtleS4gKi9cbiAgICBWS19GMzogMTE0LFxuICAgIC8qKiBGNCBrZXkuICovXG4gICAgVktfRjQ6IDExNSxcbiAgICAvKiogRjUga2V5LiAqL1xuICAgIFZLX0Y1OiAxMTYsXG4gICAgLyoqIEY2IGtleS4gKi9cbiAgICBWS19GNjogMTE3LFxuICAgIC8qKiBGNyBrZXkuICovXG4gICAgVktfRjc6IDExOCxcbiAgICAvKiogRjgga2V5LiAqL1xuICAgIFZLX0Y4OiAxMTksXG4gICAgLyoqIEY5IGtleS4gKi9cbiAgICBWS19GOTogMTIwLFxuICAgIC8qKiBGMTAga2V5LiAqL1xuICAgIFZLX0YxMDogMTIxLFxuICAgIC8qKiBGMTEga2V5LiAqL1xuICAgIFZLX0YxMTogMTIyLFxuICAgIC8qKiBGMTIga2V5LiAqL1xuICAgIFZLX0YxMjogMTIzLFxuICAgIC8qKiBGMTMga2V5LiAqL1xuICAgIFZLX0YxMzogMTI0LFxuICAgIC8qKiBGMTQga2V5LiAqL1xuICAgIFZLX0YxNDogMTI1LFxuICAgIC8qKiBGMTUga2V5LiAqL1xuICAgIFZLX0YxNTogMTI2LFxuICAgIC8qKiBGMTYga2V5LiAqL1xuICAgIFZLX0YxNjogMTI3LFxuICAgIC8qKiBGMTcga2V5LiAqL1xuICAgIFZLX0YxNzogMTI4LFxuICAgIC8qKiBGMTgga2V5LiAqL1xuICAgIFZLX0YxODogMTI5LFxuICAgIC8qKiBGMTkga2V5LiAqL1xuICAgIFZLX0YxOTogMTMwLFxuICAgIC8qKiBGMjAga2V5LiAqL1xuICAgIFZLX0YyMDogMTMxLFxuICAgIC8qKiBGMjEga2V5LiAqL1xuICAgIFZLX0YyMTogMTMyLFxuICAgIC8qKiBGMjIga2V5LiAqL1xuICAgIFZLX0YyMjogMTMzLFxuICAgIC8qKiBGMjMga2V5LiAqL1xuICAgIFZLX0YyMzogMTM0LFxuICAgIC8qKiBGMjQga2V5LiAqL1xuICAgIFZLX0YyNDogMTM1LFxuICAgIC8qKiBOdW0gTG9jayBrZXkuICovXG4gICAgVktfTlVNX0xPQ0s6IDE0NCxcbiAgICAvKiogU2Nyb2xsIExvY2sga2V5LiAqL1xuICAgIFZLX1NDUk9MTF9MT0NLOiAxNDUsXG4gICAgLyoqIENpcmN1bWZsZXggKF4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0NJUkNVTUZMRVg6IDE2MCxcbiAgICAvKiogRXhjbGFtYXRpb24gKCEpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0VYQ0xBTUFUSU9OOiAxNjEsXG4gICAgLyoqIERvdWJsZSBxdW90ZSAoKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19ET1VCTEVfUVVPVEU6IDE2MixcbiAgICAvKiogSGFzaCAoIykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfSEFTSDogMTYzLFxuICAgIC8qKiBEb2xsYXIgc2lnbiAoJCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfRE9MTEFSOiAxNjQsXG4gICAgLyoqIFBlcmNlbnQgKCUpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1BFUkNFTlQ6IDE2NSxcbiAgICAvKiogQW1wZXJzYW5kICgmKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19BTVBFUlNBTkQ6IDE2NixcbiAgICAvKiogVW5kZXJzY29yZSAoXykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfVU5ERVJTQ09SRTogMTY3LFxuICAgIC8qKiBPcGVuIHBhcmVudGhlc2lzICgoKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19PUEVOX1BBUkVOOiAxNjgsXG4gICAgLyoqIENsb3NlIHBhcmVudGhlc2lzICgpKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19DTE9TRV9QQVJFTjogMTY5LFxuICAgIC8qIEFzdGVyaXNrICgqKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19BU1RFUklTSzogMTcwLFxuICAgIC8qKiBQbHVzICgrKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19QTFVTOiAxNzEsXG4gICAgLyoqIFBpcGUgKHwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1BJUEU6IDE3MixcbiAgICAvKiogSHlwaGVuLVVTL2RvY3MvTWludXMgKC0pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0hZUEhFTl9NSU5VUzogMTczLFxuICAgIC8qKiBPcGVuIGN1cmx5IGJyYWNrZXQgKHspIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX09QRU5fQ1VSTFlfQlJBQ0tFVDogMTc0LFxuICAgIC8qKiBDbG9zZSBjdXJseSBicmFja2V0ICh9KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19DTE9TRV9DVVJMWV9CUkFDS0VUOiAxNzUsXG4gICAgLyoqIFRpbGRlICh+KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19USUxERTogMTc2LFxuICAgIC8qKiBDb21tYSAoLCkga2V5LiAqL1xuICAgIFZLX0NPTU1BOiAxODgsXG4gICAgLyoqIFBlcmlvZCAoLikga2V5LiAqL1xuICAgIFZLX1BFUklPRDogMTkwLFxuICAgIC8qKiBTbGFzaCAoLykga2V5LiAqL1xuICAgIFZLX1NMQVNIOiAxOTEsXG4gICAgLyoqIEJhY2sgdGljayAoYCkga2V5LiAqL1xuICAgIFZLX0JBQ0tfUVVPVEU6IDE5MixcbiAgICAvKiogT3BlbiBzcXVhcmUgYnJhY2tldCAoWykga2V5LiAqL1xuICAgIFZLX09QRU5fQlJBQ0tFVDogMjE5LFxuICAgIC8qKiBCYWNrIHNsYXNoIChcXCkga2V5LiAqL1xuICAgIFZLX0JBQ0tfU0xBU0g6IDIyMCxcbiAgICAvKiogQ2xvc2Ugc3F1YXJlIGJyYWNrZXQgKF0pIGtleS4gKi9cbiAgICBWS19DTE9TRV9CUkFDS0VUOiAyMjEsXG4gICAgLyoqIFF1b3RlICgnJycpIGtleS4gKi9cbiAgICBWS19RVU9URTogMjIyLFxuICAgIC8qKiBNZXRhIGtleSBvbiBMaW51eCwgQ29tbWFuZCBrZXkgb24gTWFjLiAqL1xuICAgIFZLX01FVEE6IDIyNCxcbiAgICAvKiogQWx0R3Iga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQUxUR1I6IDIyNSxcbiAgICAvKiogV2luZG93cyBsb2dvIGtleSBvbiBXaW5kb3dzLiBPciBTdXBlciBvciBIeXBlciBrZXkgb24gTGludXguIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19XSU46IDkxLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19LQU5BOiAyMSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfSEFOR1VMOiAyMSxcbiAgICAvKiog6Iux5pWwIGtleSBvbiBKYXBhbmVzZSBNYWMga2V5Ym9hcmQuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19FSVNVOiAyMixcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfSlVOSkE6IDIzLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19GSU5BTDogMjQsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0hBTkpBOiAyNSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfS0FOSkk6IDI1LFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19DT05WRVJUOiAyOCxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfTk9OQ09OVkVSVDogMjksXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0FDQ0VQVDogMzAsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX01PREVDSEFOR0U6IDMxLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19TRUxFQ1Q6IDQxLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19QUklOVDogNDIsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0VYRUNVVEU6IDQzLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC5cdCAqL1xuICAgIFZLX1NMRUVQOiA5NVxufTtcbiIsImltcG9ydCBIZXggZnJvbSBcIi4vaGV4LmpzXCI7XG5pbXBvcnQgUmVjdCBmcm9tIFwiLi9yZWN0LmpzXCI7XG5pbXBvcnQgVGlsZSBmcm9tIFwiLi90aWxlLmpzXCI7XG5pbXBvcnQgVGlsZUdMIGZyb20gXCIuL3RpbGUtZ2wuanNcIjtcbmltcG9ydCBUZXJtIGZyb20gXCIuL3Rlcm0uanNcIjtcbmltcG9ydCAqIGFzIFRleHQgZnJvbSBcIi4uL3RleHQuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hUIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuY29uc3QgQkFDS0VORFMgPSB7XG4gICAgXCJoZXhcIjogSGV4LFxuICAgIFwicmVjdFwiOiBSZWN0LFxuICAgIFwidGlsZVwiOiBUaWxlLFxuICAgIFwidGlsZS1nbFwiOiBUaWxlR0wsXG4gICAgXCJ0ZXJtXCI6IFRlcm1cbn07XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgd2lkdGg6IERFRkFVTFRfV0lEVEgsXG4gICAgaGVpZ2h0OiBERUZBVUxUX0hFSUdIVCxcbiAgICB0cmFuc3Bvc2U6IGZhbHNlLFxuICAgIGxheW91dDogXCJyZWN0XCIsXG4gICAgZm9udFNpemU6IDE1LFxuICAgIHNwYWNpbmc6IDEsXG4gICAgYm9yZGVyOiAwLFxuICAgIGZvcmNlU3F1YXJlUmF0aW86IGZhbHNlLFxuICAgIGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG4gICAgZm9udFN0eWxlOiBcIlwiLFxuICAgIGZnOiBcIiNjY2NcIixcbiAgICBiZzogXCIjMDAwXCIsXG4gICAgdGlsZVdpZHRoOiAzMixcbiAgICB0aWxlSGVpZ2h0OiAzMixcbiAgICB0aWxlTWFwOiB7fSxcbiAgICB0aWxlU2V0OiBudWxsLFxuICAgIHRpbGVDb2xvcml6ZTogZmFsc2Vcbn07XG4vKipcbiAqIEBjbGFzcyBWaXN1YWwgbWFwIGRpc3BsYXlcbiAqL1xubGV0IERpc3BsYXkgPSAvKiogQGNsYXNzICovICgoKSA9PiB7XG4gICAgY2xhc3MgRGlzcGxheSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTsgLy8gZmFsc2UgPSBub3RoaW5nLCB0cnVlID0gYWxsLCBvYmplY3QgPSBkaXJ0eSBjZWxsc1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLkRFQlVHID0gdGhpcy5ERUJVRy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fdGljayA9IHRoaXMuX3RpY2suYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQuc2NoZWR1bGUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlYnVnIGhlbHBlciwgaWRlYWwgYXMgYSBtYXAgZ2VuZXJhdG9yIGNhbGxiYWNrLiBBbHdheXMgYm91bmQgdG8gdGhpcy5cbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHhcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHlcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHdoYXRcbiAgICAgICAgICovXG4gICAgICAgIERFQlVHKHgsIHksIHdoYXQpIHtcbiAgICAgICAgICAgIGxldCBjb2xvcnMgPSBbdGhpcy5fb3B0aW9ucy5iZywgdGhpcy5fb3B0aW9ucy5mZ107XG4gICAgICAgICAgICB0aGlzLmRyYXcoeCwgeSwgbnVsbCwgbnVsbCwgY29sb3JzW3doYXQgJSBjb2xvcnMubGVuZ3RoXSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsZWFyIHRoZSB3aG9sZSBkaXNwbGF5IChjb3ZlciBpdCB3aXRoIGJhY2tncm91bmQgY29sb3IpXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcigpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSBST1QuRGlzcGxheVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMud2lkdGggfHwgb3B0aW9ucy5oZWlnaHQgfHwgb3B0aW9ucy5mb250U2l6ZSB8fCBvcHRpb25zLmZvbnRGYW1pbHkgfHwgb3B0aW9ucy5zcGFjaW5nIHx8IG9wdGlvbnMubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdG9yID0gQkFDS0VORFNbb3B0aW9ucy5sYXlvdXRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iYWNrZW5kID0gbmV3IGN0b3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja2VuZC5zZXRPcHRpb25zKHRoaXMuX29wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGN1cnJlbnRseSBzZXQgb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0T3B0aW9ucygpIHsgcmV0dXJuIHRoaXMuX29wdGlvbnM7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIERPTSBub2RlIG9mIHRoaXMgZGlzcGxheVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29udGFpbmVyKCkgeyByZXR1cm4gdGhpcy5fYmFja2VuZC5nZXRDb250YWluZXIoKTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcHV0ZSB0aGUgbWF4aW11bSB3aWR0aC9oZWlnaHQgdG8gZml0IGludG8gYSBzZXQgb2YgZ2l2ZW4gY29uc3RyYWludHNcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IGF2YWlsV2lkdGggTWF4aW11bSBhbGxvd2VkIHBpeGVsIHdpZHRoXG4gICAgICAgICAqIEBwYXJhbSB7aW50fSBhdmFpbEhlaWdodCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgaGVpZ2h0XG4gICAgICAgICAqIEByZXR1cm5zIHtpbnRbMl19IGNlbGxXaWR0aCxjZWxsSGVpZ2h0XG4gICAgICAgICAqL1xuICAgICAgICBjb21wdXRlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wdXRlIHRoZSBtYXhpbXVtIGZvbnQgc2l6ZSB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICAgICAgICAgKiBAcGFyYW0ge2ludH0gYXZhaWxXaWR0aCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgd2lkdGhcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IGF2YWlsSGVpZ2h0IE1heGltdW0gYWxsb3dlZCBwaXhlbCBoZWlnaHRcbiAgICAgICAgICogQHJldHVybnMge2ludH0gZm9udFNpemVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXB1dGVGb250U2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBjb21wdXRlVGlsZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0IGEgRE9NIGV2ZW50IChtb3VzZSBvciB0b3VjaCkgdG8gbWFwIGNvb3JkaW5hdGVzLiBVc2VzIGZpcnN0IHRvdWNoIGZvciBtdWx0aS10b3VjaC5cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZSBldmVudFxuICAgICAgICAgKiBAcmV0dXJucyB7aW50WzJdfSAtMSBmb3IgdmFsdWVzIG91dHNpZGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgKi9cbiAgICAgICAgZXZlbnRUb1Bvc2l0aW9uKGUpIHtcbiAgICAgICAgICAgIGxldCB4LCB5O1xuICAgICAgICAgICAgaWYgKFwidG91Y2hlc1wiIGluIGUpIHtcbiAgICAgICAgICAgICAgICB4ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgeSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IGUuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB5ID0gZS5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuZXZlbnRUb1Bvc2l0aW9uKHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geFxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZyB8fCBzdHJpbmdbXX0gY2ggT25lIG9yIG1vcmUgY2hhcnMgKHdpbGwgYmUgb3ZlcmxhcHBpbmcgdGhlbXNlbHZlcylcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtmZ10gZm9yZWdyb3VuZCBjb2xvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JnXSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBkcmF3KHgsIHksIGNoLCBmZywgYmcpIHtcbiAgICAgICAgICAgIGlmICghZmcpIHtcbiAgICAgICAgICAgICAgICBmZyA9IHRoaXMuX29wdGlvbnMuZmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJnKSB7XG4gICAgICAgICAgICAgICAgYmcgPSB0aGlzLl9vcHRpb25zLmJnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGtleSA9IGAke3h9LCR7eX1gO1xuICAgICAgICAgICAgdGhpcy5fZGF0YVtrZXldID0gW3gsIHksIGNoLCBmZywgYmddO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyB3aWxsIGFscmVhZHkgcmVkcmF3IGV2ZXJ5dGhpbmcgXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB7fTtcbiAgICAgICAgICAgIH0gLy8gZmlyc3QhXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eVtrZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRHJhd3MgYSB0ZXh0IGF0IGdpdmVuIHBvc2l0aW9uLiBPcHRpb25hbGx5IHdyYXBzIGF0IGEgbWF4aW11bSBsZW5ndGguIEN1cnJlbnRseSBkb2VzIG5vdCB3b3JrIHdpdGggaGV4IGxheW91dC5cbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHhcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHlcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgTWF5IGNvbnRhaW4gY29sb3IvYmFja2dyb3VuZCBmb3JtYXQgc3BlY2lmaWVycywgJWN7bmFtZX0vJWJ7bmFtZX0sIGJvdGggb3B0aW9uYWwuICVje30vJWJ7fSByZXNldHMgdG8gZGVmYXVsdC5cbiAgICAgICAgICogQHBhcmFtIHtpbnR9IFttYXhXaWR0aF0gd3JhcCBhdCB3aGF0IHdpZHRoP1xuICAgICAgICAgKiBAcmV0dXJucyB7aW50fSBsaW5lcyBkcmF3blxuICAgICAgICAgKi9cbiAgICAgICAgZHJhd1RleHQoeCwgeSwgdGV4dCwgbWF4V2lkdGgpIHtcbiAgICAgICAgICAgIGxldCBmZyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgYmcgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGN4ID0geDtcbiAgICAgICAgICAgIGxldCBjeSA9IHk7XG4gICAgICAgICAgICBsZXQgbGluZXMgPSAxO1xuICAgICAgICAgICAgaWYgKCFtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIG1heFdpZHRoID0gdGhpcy5fb3B0aW9ucy53aWR0aCAtIHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG9rZW5zID0gVGV4dC50b2tlbml6ZSh0ZXh0LCBtYXhXaWR0aCk7XG4gICAgICAgICAgICB3aGlsZSAodG9rZW5zLmxlbmd0aCkgeyAvLyBpbnRlcnByZXQgdG9rZW5pemVkIG9wY29kZSBzdHJlYW1cbiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0LlRZUEVfVEVYVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1NwYWNlID0gZmFsc2UsIGlzUHJldlNwYWNlID0gZmFsc2UsIGlzRnVsbFdpZHRoID0gZmFsc2UsIGlzUHJldkZ1bGxXaWR0aCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbi52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYyA9IHRva2VuLnZhbHVlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGMgPSB0b2tlbi52YWx1ZS5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubGF5b3V0ID09PSBcInRlcm1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2NoID0gY2MgPj4gODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzQ0pLID0gY2NoID09PSAweDExIHx8IChjY2ggPj0gMHgyZSAmJiBjY2ggPD0gMHg5ZikgfHwgKGNjaCA+PSAweGFjICYmIGNjaCA8PSAweGQ3KSB8fCAoY2MgPj0gMHhBOTYwICYmIGNjIDw9IDB4QTk3Rik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NKSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KGN4ICsgMCwgY3ksIGMsIGZnLCBiZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY3ggKyAxLCBjeSwgXCJcXHRcIiwgZmcsIGJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4ICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdG8gYHRydWVgIHdoZW4gdGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVsbFdpZHRoID0gKGNjID4gMHhmZjAwICYmIGNjIDwgMHhmZjYxKSB8fCAoY2MgPiAweGZmZGMgJiYgY2MgPCAweGZmZTgpIHx8IGNjID4gMHhmZmVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgY2hhciBpcyBzcGFjZSwgd2hhdGV2ZXIgZnVsbC13aWR0aCBvciBoYWxmLXdpZHRoIGJvdGggYXJlIE9LLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3BhY2UgPSAoYy5jaGFyQ29kZUF0KDApID09IDB4MjAgfHwgYy5jaGFyQ29kZUF0KDApID09IDB4MzAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHByZXZpb3VzIGNoYXIgaXMgZnVsbC13aWR0aCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGNoYXIgaXMgbmV0aGVyIGhhbGYtd2lkdGggbm9yIGEgc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJldkZ1bGxXaWR0aCAmJiAhaXNGdWxsV2lkdGggJiYgIWlzU3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3grKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IGNoYXIgaXMgZnVsbC13aWR0aCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgY2hhciBpcyBub3QgYSBzcGFjZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdWxsV2lkdGggJiYgIWlzUHJldlNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBhZGQgYW4gZXh0cmEgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY3grKywgY3ksIGMsIGZnLCBiZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmV2U3BhY2UgPSBpc1NwYWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJldkZ1bGxXaWR0aCA9IGlzRnVsbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVGV4dC5UWVBFX0ZHOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVGV4dC5UWVBFX0JHOlxuICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVGV4dC5UWVBFX05FV0xJTkU6XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaW5lcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGltZXIgdGljazogdXBkYXRlIGRpcnR5IHBhcnRzXG4gICAgICAgICAqL1xuICAgICAgICBfdGljaygpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQuc2NoZWR1bGUodGhpcy5fdGljayk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcnR5ID09PSB0cnVlKSB7IC8vIGRyYXcgYWxsXG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja2VuZC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhdyhpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gLy8gcmVkcmF3IGNhY2hlZCBkYXRhIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8vIGRyYXcgb25seSBkaXJ0eSBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhdyhrZXksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgV2hhdCB0byBkcmF3XG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbH0gY2xlYXJCZWZvcmUgSXMgaXQgbmVjZXNzYXJ5IHRvIGNsZWFuIGJlZm9yZT9cbiAgICAgICAgICovXG4gICAgICAgIF9kcmF3KGtleSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuICAgICAgICAgICAgaWYgKGRhdGFbNF0gIT0gdGhpcy5fb3B0aW9ucy5iZykge1xuICAgICAgICAgICAgICAgIGNsZWFyQmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQuZHJhdyhkYXRhLCBjbGVhckJlZm9yZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRGlzcGxheS5SZWN0ID0gUmVjdDtcbiAgICBEaXNwbGF5LkhleCA9IEhleDtcbiAgICBEaXNwbGF5LlRpbGUgPSBUaWxlO1xuICAgIERpc3BsYXkuVGlsZUdMID0gVGlsZUdMO1xuICAgIERpc3BsYXkuVGVybSA9IFRlcm07XG4gICAgcmV0dXJuIERpc3BsYXk7XG59KSgpO1xuZXhwb3J0IGRlZmF1bHQgRGlzcGxheTtcbiIsImltcG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hUIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwIHtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmFzZSBtYXAgZ2VuZXJhdG9yXG4gICAgICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAgICAgKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGggPSBERUZBVUxUX1dJRFRILCBoZWlnaHQgPSBERUZBVUxUX0hFSUdIVCkge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIDtcbiAgICBfZmlsbE1hcCh2YWx1ZSkge1xuICAgICAgICBsZXQgbWFwID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgbWFwLnB1c2goW10pO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIG1hcFtpXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBTaW1wbGUgZW1wdHkgcmVjdGFuZ3VsYXIgcm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJlbmEgZXh0ZW5kcyBNYXAge1xuICAgIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgdyA9IHRoaXMuX3dpZHRoIC0gMTtcbiAgICAgICAgbGV0IGggPSB0aGlzLl9oZWlnaHQgLSAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBlbXB0eSA9IChpICYmIGogJiYgaSA8IHcgJiYgaiA8IGgpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIGVtcHR5ID8gMCA6IDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIG1hcDogaGFzIHJvb21zIGFuZCBjb3JyaWRvcnNcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER1bmdlb24gZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX3Jvb21zID0gW107XG4gICAgICAgIHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGdlbmVyYXRlZCByb29tc1xuICAgICAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuUm9vbVtdfVxuICAgICAqL1xuICAgIGdldFJvb21zKCkgeyByZXR1cm4gdGhpcy5fcm9vbXM7IH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGdlbmVyYXRlZCBjb3JyaWRvcnNcbiAgICAgKiBAcmV0dXJucyB7Uk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yW119XG4gICAgICovXG4gICAgZ2V0Q29ycmlkb3JzKCkgeyByZXR1cm4gdGhpcy5fY29ycmlkb3JzOyB9XG59XG4iLCJpbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbjtcbi8qKlxuICogQGNsYXNzIER1bmdlb24gZmVhdHVyZTsgaGFzIG93biAuY3JlYXRlKCkgbWV0aG9kXG4gKi9cbmNsYXNzIEZlYXR1cmUge1xufVxuLyoqXG4gKiBAY2xhc3MgUm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHgxXG4gKiBAcGFyYW0ge2ludH0geTFcbiAqIEBwYXJhbSB7aW50fSB4MlxuICogQHBhcmFtIHtpbnR9IHkyXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JYXVxuICogQHBhcmFtIHtpbnR9IFtkb29yWV1cbiAqL1xuZXhwb3J0IGNsYXNzIFJvb20gZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3Rvcih4MSwgeTEsIHgyLCB5MiwgZG9vclgsIGRvb3JZKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3gxID0geDE7XG4gICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgIHRoaXMuX3gyID0geDI7XG4gICAgICAgIHRoaXMuX3kyID0geTI7XG4gICAgICAgIHRoaXMuX2Rvb3JzID0ge307XG4gICAgICAgIGlmIChkb29yWCAhPT0gdW5kZWZpbmVkICYmIGRvb3JZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRG9vcihkb29yWCwgZG9vclkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBSb29tIG9mIHJhbmRvbSBzaXplLCB3aXRoIGEgZ2l2ZW4gZG9vcnMgYW5kIGRpcmVjdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSYW5kb21BdCh4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuICAgICAgICBsZXQgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG4gICAgICAgIGxldCB3aWR0aCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuICAgICAgICBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG4gICAgICAgIGxldCBoZWlnaHQgPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIGlmIChkeCA9PSAxKSB7IC8qIHRvIHRoZSByaWdodCAqL1xuICAgICAgICAgICAgbGV0IHkyID0geSAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMoeCArIDEsIHkyLCB4ICsgd2lkdGgsIHkyICsgaGVpZ2h0IC0gMSwgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR4ID09IC0xKSB7IC8qIHRvIHRoZSBsZWZ0ICovXG4gICAgICAgICAgICBsZXQgeTIgPSB5IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyh4IC0gd2lkdGgsIHkyLCB4IC0gMSwgeTIgKyBoZWlnaHQgLSAxLCB4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkgPT0gMSkgeyAvKiB0byB0aGUgYm90dG9tICovXG4gICAgICAgICAgICBsZXQgeDIgPSB4IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgyLCB5ICsgMSwgeDIgKyB3aWR0aCAtIDEsIHkgKyBoZWlnaHQsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeSA9PSAtMSkgeyAvKiB0byB0aGUgdG9wICovXG4gICAgICAgICAgICBsZXQgeDIgPSB4IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgyLCB5IC0gaGVpZ2h0LCB4MiArIHdpZHRoIC0gMSwgeSAtIDEsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImR4IG9yIGR5IG11c3QgYmUgMSBvciAtMVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm9vbSBvZiByYW5kb20gc2l6ZSwgcG9zaXRpb25lZCBhcm91bmQgY2VudGVyIGNvb3Jkc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSYW5kb21DZW50ZXIoY3gsIGN5LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcbiAgICAgICAgbGV0IG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuICAgICAgICBsZXQgd2lkdGggPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcbiAgICAgICAgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBsZXQgeDEgPSBjeCAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcbiAgICAgICAgbGV0IHkxID0gY3kgLSBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiBoZWlnaHQpO1xuICAgICAgICBsZXQgeDIgPSB4MSArIHdpZHRoIC0gMTtcbiAgICAgICAgbGV0IHkyID0geTEgKyBoZWlnaHQgLSAxO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb29tIG9mIHJhbmRvbSBzaXplIHdpdGhpbiBhIGdpdmVuIGRpbWVuc2lvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUmFuZG9tKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcbiAgICAgICAgbGV0IG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuICAgICAgICBsZXQgd2lkdGggPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcbiAgICAgICAgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBsZXQgbGVmdCA9IGF2YWlsV2lkdGggLSB3aWR0aCAtIDE7XG4gICAgICAgIGxldCB0b3AgPSBhdmFpbEhlaWdodCAtIGhlaWdodCAtIDE7XG4gICAgICAgIGxldCB4MSA9IDEgKyBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiBsZWZ0KTtcbiAgICAgICAgbGV0IHkxID0gMSArIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIHRvcCk7XG4gICAgICAgIGxldCB4MiA9IHgxICsgd2lkdGggLSAxO1xuICAgICAgICBsZXQgeTIgPSB5MSArIGhlaWdodCAtIDE7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh4MSwgeTEsIHgyLCB5Mik7XG4gICAgfVxuICAgIGFkZERvb3IoeCwgeSkge1xuICAgICAgICB0aGlzLl9kb29yc1t4ICsgXCIsXCIgKyB5XSA9IDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGdldERvb3JzKGNiKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9kb29ycykge1xuICAgICAgICAgICAgbGV0IHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIGNiKHBhcnNlSW50KHBhcnRzWzBdKSwgcGFyc2VJbnQocGFydHNbMV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xlYXJEb29ycygpIHtcbiAgICAgICAgdGhpcy5fZG9vcnMgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFkZERvb3JzKGlzV2FsbENhbGxiYWNrKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5feDEgLSAxO1xuICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLl94MiArIDE7XG4gICAgICAgIGxldCB0b3AgPSB0aGlzLl95MSAtIDE7XG4gICAgICAgIGxldCBib3R0b20gPSB0aGlzLl95MiArIDE7XG4gICAgICAgIGZvciAobGV0IHggPSBsZWZ0OyB4IDw9IHJpZ2h0OyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSB0b3A7IHkgPD0gYm90dG9tOyB5KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoeCAhPSBsZWZ0ICYmIHggIT0gcmlnaHQgJiYgeSAhPSB0b3AgJiYgeSAhPSBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1dhbGxDYWxsYmFjayh4LCB5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGREb29yKHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWJ1ZygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyb29tXCIsIHRoaXMuX3gxLCB0aGlzLl95MSwgdGhpcy5feDIsIHRoaXMuX3kyKTtcbiAgICB9XG4gICAgaXNWYWxpZChpc1dhbGxDYWxsYmFjaywgY2FuQmVEdWdDYWxsYmFjaykge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuX3gxIC0gMTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5feDIgKyAxO1xuICAgICAgICBsZXQgdG9wID0gdGhpcy5feTEgLSAxO1xuICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5feTIgKyAxO1xuICAgICAgICBmb3IgKGxldCB4ID0gbGVmdDsgeCA8PSByaWdodDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gdG9wOyB5IDw9IGJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNXYWxsQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5CZUR1Z0NhbGxiYWNrKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ0NhbGxiYWNrIERpZyBjYWxsYmFjayB3aXRoIGEgc2lnbmF0dXJlICh4LCB5LCB2YWx1ZSkuIFZhbHVlczogMCA9IGVtcHR5LCAxID0gd2FsbCwgMiA9IGRvb3IuIE11bHRpcGxlIGRvb3JzIGFyZSBhbGxvd2VkLlxuICAgICAqL1xuICAgIGNyZWF0ZShkaWdDYWxsYmFjaykge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuX3gxIC0gMTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5feDIgKyAxO1xuICAgICAgICBsZXQgdG9wID0gdGhpcy5feTEgLSAxO1xuICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5feTIgKyAxO1xuICAgICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgICBmb3IgKGxldCB4ID0gbGVmdDsgeCA8PSByaWdodDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gdG9wOyB5IDw9IGJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggKyBcIixcIiArIHkgaW4gdGhpcy5fZG9vcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh4ID09IGxlZnQgfHwgeCA9PSByaWdodCB8fCB5ID09IHRvcCB8fCB5ID09IGJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpZ0NhbGxiYWNrKHgsIHksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBbTWF0aC5yb3VuZCgodGhpcy5feDEgKyB0aGlzLl94MikgLyAyKSwgTWF0aC5yb3VuZCgodGhpcy5feTEgKyB0aGlzLl95MikgLyAyKV07XG4gICAgfVxuICAgIGdldExlZnQoKSB7IHJldHVybiB0aGlzLl94MTsgfVxuICAgIGdldFJpZ2h0KCkgeyByZXR1cm4gdGhpcy5feDI7IH1cbiAgICBnZXRUb3AoKSB7IHJldHVybiB0aGlzLl95MTsgfVxuICAgIGdldEJvdHRvbSgpIHsgcmV0dXJuIHRoaXMuX3kyOyB9XG59XG4vKipcbiAqIEBjbGFzcyBDb3JyaWRvclxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WFxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WVxuICogQHBhcmFtIHtpbnR9IGVuZFhcbiAqIEBwYXJhbSB7aW50fSBlbmRZXG4gKi9cbmV4cG9ydCBjbGFzcyBDb3JyaWRvciBleHRlbmRzIEZlYXR1cmUge1xuICAgIGNvbnN0cnVjdG9yKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3N0YXJ0WCA9IHN0YXJ0WDtcbiAgICAgICAgdGhpcy5fc3RhcnRZID0gc3RhcnRZO1xuICAgICAgICB0aGlzLl9lbmRYID0gZW5kWDtcbiAgICAgICAgdGhpcy5fZW5kWSA9IGVuZFk7XG4gICAgICAgIHRoaXMuX2VuZHNXaXRoQVdhbGwgPSB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtaW4gPSBvcHRpb25zLmNvcnJpZG9yTGVuZ3RoWzBdO1xuICAgICAgICBsZXQgbWF4ID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFsxXTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgsIHksIHggKyBkeCAqIGxlbmd0aCwgeSArIGR5ICogbGVuZ3RoKTtcbiAgICB9XG4gICAgZGVidWcoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29ycmlkb3JcIiwgdGhpcy5fc3RhcnRYLCB0aGlzLl9zdGFydFksIHRoaXMuX2VuZFgsIHRoaXMuX2VuZFkpO1xuICAgIH1cbiAgICBpc1ZhbGlkKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKSB7XG4gICAgICAgIGxldCBzeCA9IHRoaXMuX3N0YXJ0WDtcbiAgICAgICAgbGV0IHN5ID0gdGhpcy5fc3RhcnRZO1xuICAgICAgICBsZXQgZHggPSB0aGlzLl9lbmRYIC0gc3g7XG4gICAgICAgIGxldCBkeSA9IHRoaXMuX2VuZFkgLSBzeTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDEgKyBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG4gICAgICAgIGlmIChkeCkge1xuICAgICAgICAgICAgZHggPSBkeCAvIE1hdGguYWJzKGR4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkpIHtcbiAgICAgICAgICAgIGR5ID0gZHkgLyBNYXRoLmFicyhkeSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG54ID0gZHk7XG4gICAgICAgIGxldCBueSA9IC1keDtcbiAgICAgICAgbGV0IG9rID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSBzeCArIGkgKiBkeDtcbiAgICAgICAgICAgIGxldCB5ID0gc3kgKyBpICogZHk7XG4gICAgICAgICAgICBpZiAoIWNhbkJlRHVnQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1dhbGxDYWxsYmFjayh4ICsgbngsIHkgKyBueSkpIHtcbiAgICAgICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1dhbGxDYWxsYmFjayh4IC0gbngsIHkgLSBueSkpIHtcbiAgICAgICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kWCA9IHggLSBkeDtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRZID0geSAtIGR5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgbGVuZ3RoIGRlZ2VuZXJhdGVkLCB0aGlzIGNvcnJpZG9yIG1pZ2h0IGJlIGludmFsaWRcbiAgICAgICAgICovXG4gICAgICAgIC8qIG5vdCBzdXBwb3J0ZWQgKi9cbiAgICAgICAgaWYgKGxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogbGVuZ3RoIDEgYWxsb3dlZCBvbmx5IGlmIHRoZSBuZXh0IHNwYWNlIGlzIGVtcHR5ICovXG4gICAgICAgIGlmIChsZW5ndGggPT0gMSAmJiBpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV2UgZG8gbm90IHdhbnQgdGhlIGNvcnJpZG9yIHRvIGNyYXNoIGludG8gYSBjb3JuZXIgb2YgYSByb29tO1xuICAgICAgICAgKiBpZiBhbnkgb2YgdGhlIGVuZGluZyBjb3JuZXJzIGlzIGVtcHR5LCB0aGUgTisxdGggY2VsbCBvZiB0aGlzIGNvcnJpZG9yIG11c3QgYmUgZW1wdHkgdG9vLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTaXR1YXRpb246XG4gICAgICAgICAqICMjIyMjIyMxXG4gICAgICAgICAqIC4uLi4uLi4/XG4gICAgICAgICAqICMjIyMjIyMyXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjb3JyaWRvciB3YXMgZHVnIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgICAgICogMSwgMiAtIHByb2JsZW1hdGljIGNvcm5lcnMsID8gPSBOKzF0aCBjZWxsIChub3QgZHVnKVxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IGZpcnN0Q29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCArIG54LCB0aGlzLl9lbmRZICsgZHkgKyBueSk7XG4gICAgICAgIGxldCBzZWNvbmRDb3JuZXJCYWQgPSAhaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4IC0gbngsIHRoaXMuX2VuZFkgKyBkeSAtIG55KTtcbiAgICAgICAgdGhpcy5fZW5kc1dpdGhBV2FsbCA9IGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcbiAgICAgICAgaWYgKChmaXJzdENvcm5lckJhZCB8fCBzZWNvbmRDb3JuZXJCYWQpICYmIHRoaXMuX2VuZHNXaXRoQVdhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHkuXG4gICAgICovXG4gICAgY3JlYXRlKGRpZ0NhbGxiYWNrKSB7XG4gICAgICAgIGxldCBzeCA9IHRoaXMuX3N0YXJ0WDtcbiAgICAgICAgbGV0IHN5ID0gdGhpcy5fc3RhcnRZO1xuICAgICAgICBsZXQgZHggPSB0aGlzLl9lbmRYIC0gc3g7XG4gICAgICAgIGxldCBkeSA9IHRoaXMuX2VuZFkgLSBzeTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDEgKyBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG4gICAgICAgIGlmIChkeCkge1xuICAgICAgICAgICAgZHggPSBkeCAvIE1hdGguYWJzKGR4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkpIHtcbiAgICAgICAgICAgIGR5ID0gZHkgLyBNYXRoLmFicyhkeSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSBzeCArIGkgKiBkeDtcbiAgICAgICAgICAgIGxldCB5ID0gc3kgKyBpICogZHk7XG4gICAgICAgICAgICBkaWdDYWxsYmFjayh4LCB5LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY3JlYXRlUHJpb3JpdHlXYWxscyhwcmlvcml0eVdhbGxDYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuX2VuZHNXaXRoQVdhbGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3ggPSB0aGlzLl9zdGFydFg7XG4gICAgICAgIGxldCBzeSA9IHRoaXMuX3N0YXJ0WTtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy5fZW5kWCAtIHN4O1xuICAgICAgICBsZXQgZHkgPSB0aGlzLl9lbmRZIC0gc3k7XG4gICAgICAgIGlmIChkeCkge1xuICAgICAgICAgICAgZHggPSBkeCAvIE1hdGguYWJzKGR4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkpIHtcbiAgICAgICAgICAgIGR5ID0gZHkgLyBNYXRoLmFicyhkeSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG54ID0gZHk7XG4gICAgICAgIGxldCBueSA9IC1keDtcbiAgICAgICAgcHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpO1xuICAgICAgICBwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgbngsIHRoaXMuX2VuZFkgKyBueSk7XG4gICAgICAgIHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggLSBueCwgdGhpcy5fZW5kWSAtIG55KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgRHVuZ2VvbiBmcm9tIFwiLi9kdW5nZW9uLmpzXCI7XG5pbXBvcnQgeyBSb29tLCBDb3JyaWRvciB9IGZyb20gXCIuL2ZlYXR1cmVzLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbjtcbi8qKlxuICogQGNsYXNzIER1bmdlb24gZ2VuZXJhdG9yIHdoaWNoIHRyaWVzIHRvIGZpbGwgdGhlIHNwYWNlIGV2ZW5seS4gR2VuZXJhdGVzIGluZGVwZW5kZW50IHJvb21zIGFuZCB0cmllcyB0byBjb25uZWN0IHRoZW0uXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5EdW5nZW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuaWZvcm0gZXh0ZW5kcyBEdW5nZW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgICAgICAgcm9vbVdpZHRoOiBbMywgOV0sXG4gICAgICAgICAgICByb29tSGVpZ2h0OiBbMywgNV0sXG4gICAgICAgICAgICByb29tRHVnUGVyY2VudGFnZTogMC4xLFxuICAgICAgICAgICAgdGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb21BdHRlbXB0cyA9IDIwOyAvKiBuZXcgcm9vbSBpcyBjcmVhdGVkIE4tdGltZXMgdW50aWwgaXMgY29uc2lkZXJlZCBhcyBpbXBvc3NpYmxlIHRvIGdlbmVyYXRlICovXG4gICAgICAgIHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMgPSAyMDsgLyogY29ycmlkb3JzIGFyZSB0cmllZCBOLXRpbWVzIHVudGlsIHRoZSBsZXZlbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gY29ubmVjdCAqL1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSBbXTsgLyogbGlzdCBvZiBhbHJlYWR5IGNvbm5lY3RlZCByb29tcyAqL1xuICAgICAgICB0aGlzLl91bmNvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIHJlbWFpbmluZyB1bmNvbm5lY3RlZCByb29tcyAqL1xuICAgICAgICB0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWFwLiBJZiB0aGUgdGltZSBsaW1pdCBoYXMgYmVlbiBoaXQsIHJldHVybnMgbnVsbC5cbiAgICAgKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gICAgICovXG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB0MSA9IERhdGUubm93KCk7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBsZXQgdDIgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSAvKiB0aW1lIGxpbWl0ISAqL1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgICAgICB0aGlzLl9yb29tcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fdW5jb25uZWN0ZWQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlUm9vbXMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb29tcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VuZXJhdGVDb3JyaWRvcnMoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgc3VpdGFibGUgYW1vdW50IG9mIHJvb21zXG4gICAgICovXG4gICAgX2dlbmVyYXRlUm9vbXMoKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5fd2lkdGggLSAyO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodCAtIDI7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByb29tID0gdGhpcy5fZ2VuZXJhdGVSb29tKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHVnIC8gKHcgKiBoKSA+IHRoaXMuX29wdGlvbnMucm9vbUR1Z1BlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gLyogYWNoaWV2ZWQgcmVxdWVzdGVkIGFtb3VudCBvZiBmcmVlIHNwYWNlICovXG4gICAgICAgIH0gd2hpbGUgKHJvb20pO1xuICAgICAgICAvKiBlaXRoZXIgZW5vdWdoIHJvb21zLCBvciBub3QgYWJsZSB0byBnZW5lcmF0ZSBtb3JlIG9mIHRoZW0gOikgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJ5IHRvIGdlbmVyYXRlIG9uZSByb29tXG4gICAgICovXG4gICAgX2dlbmVyYXRlUm9vbSgpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKGNvdW50IDwgdGhpcy5fcm9vbUF0dGVtcHRzKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgbGV0IHJvb20gPSBSb29tLmNyZWF0ZVJhbmRvbSh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgICAgIGlmICghcm9vbS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fcm9vbXMucHVzaChyb29tKTtcbiAgICAgICAgICAgIHJldHVybiByb29tO1xuICAgICAgICB9XG4gICAgICAgIC8qIG5vIHJvb20gd2FzIGdlbmVyYXRlZCBpbiBhIGdpdmVuIG51bWJlciBvZiBhdHRlbXB0cyAqL1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGNvbm5lY3RvcnMgYmV3ZWVuIHJvb21zXG4gICAgICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3MgV2FzIHRoaXMgYXR0ZW1wdCBzdWNjZXNzZnVsbD9cbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVDb3JyaWRvcnMoKSB7XG4gICAgICAgIGxldCBjbnQgPSAwO1xuICAgICAgICB3aGlsZSAoY250IDwgdGhpcy5fY29ycmlkb3JBdHRlbXB0cykge1xuICAgICAgICAgICAgY250Kys7XG4gICAgICAgICAgICB0aGlzLl9jb3JyaWRvcnMgPSBbXTtcbiAgICAgICAgICAgIC8qIGRpZyByb29tcyBpbnRvIGEgY2xlYXIgbWFwICovXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9yb29tcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCByb29tID0gdGhpcy5fcm9vbXNbaV07XG4gICAgICAgICAgICAgICAgcm9vbS5jbGVhckRvb3JzKCk7XG4gICAgICAgICAgICAgICAgcm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdW5jb25uZWN0ZWQgPSBSTkcuc2h1ZmZsZSh0aGlzLl9yb29tcy5zbGljZSgpKTtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IFtdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHRoaXMuX3VuY29ubmVjdGVkLnBvcCgpKTtcbiAgICAgICAgICAgIH0gLyogZmlyc3Qgb25lIGlzIGFsd2F5cyBjb25uZWN0ZWQgKi9cbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgLyogMS4gcGljayByYW5kb20gY29ubmVjdGVkIHJvb20gKi9cbiAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGVkID0gUk5HLmdldEl0ZW0odGhpcy5fY29ubmVjdGVkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogMi4gZmluZCBjbG9zZXN0IHVuY29ubmVjdGVkICovXG4gICAgICAgICAgICAgICAgbGV0IHJvb20xID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fdW5jb25uZWN0ZWQsIGNvbm5lY3RlZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyb29tMSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogMy4gY29ubmVjdCBpdCB0byBjbG9zZXN0IGNvbm5lY3RlZCAqL1xuICAgICAgICAgICAgICAgIGxldCByb29tMiA9IHRoaXMuX2Nsb3Nlc3RSb29tKHRoaXMuX2Nvbm5lY3RlZCwgcm9vbTEpO1xuICAgICAgICAgICAgICAgIGlmICghcm9vbTIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBvayA9IHRoaXMuX2Nvbm5lY3RSb29tcyhyb29tMSwgcm9vbTIpO1xuICAgICAgICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSAvKiBzdG9wIGNvbm5lY3RpbmcsIHJlLXNodWZmbGUgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IC8qIGRvbmU7IG5vIHJvb21zIHJlbWFpbiAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIEZvciBhIGdpdmVuIHJvb20sIGZpbmQgdGhlIGNsb3Nlc3Qgb25lIGZyb20gdGhlIGxpc3RcbiAgICAgKi9cbiAgICBfY2xvc2VzdFJvb20ocm9vbXMsIHJvb20pIHtcbiAgICAgICAgbGV0IGRpc3QgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IGNlbnRlciA9IHJvb20uZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgciA9IHJvb21zW2ldO1xuICAgICAgICAgICAgbGV0IGMgPSByLmdldENlbnRlcigpO1xuICAgICAgICAgICAgbGV0IGR4ID0gY1swXSAtIGNlbnRlclswXTtcbiAgICAgICAgICAgIGxldCBkeSA9IGNbMV0gLSBjZW50ZXJbMV07XG4gICAgICAgICAgICBsZXQgZCA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICAgICAgaWYgKGQgPCBkaXN0KSB7XG4gICAgICAgICAgICAgICAgZGlzdCA9IGQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfY29ubmVjdFJvb21zKHJvb20xLCByb29tMikge1xuICAgICAgICAvKlxuICAgICAgICAgICAgcm9vbTEuZGVidWcoKTtcbiAgICAgICAgICAgIHJvb20yLmRlYnVnKCk7XG4gICAgICAgICovXG4gICAgICAgIGxldCBjZW50ZXIxID0gcm9vbTEuZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCBjZW50ZXIyID0gcm9vbTIuZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCBkaWZmWCA9IGNlbnRlcjJbMF0gLSBjZW50ZXIxWzBdO1xuICAgICAgICBsZXQgZGlmZlkgPSBjZW50ZXIyWzFdIC0gY2VudGVyMVsxXTtcbiAgICAgICAgbGV0IHN0YXJ0O1xuICAgICAgICBsZXQgZW5kO1xuICAgICAgICBsZXQgZGlySW5kZXgxLCBkaXJJbmRleDIsIG1pbiwgbWF4LCBpbmRleDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpZmZYKSA8IE1hdGguYWJzKGRpZmZZKSkgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBub3J0aC1zb3V0aCB3YWxscyAqL1xuICAgICAgICAgICAgZGlySW5kZXgxID0gKGRpZmZZID4gMCA/IDIgOiAwKTtcbiAgICAgICAgICAgIGRpckluZGV4MiA9IChkaXJJbmRleDEgKyAyKSAlIDQ7XG4gICAgICAgICAgICBtaW4gPSByb29tMi5nZXRMZWZ0KCk7XG4gICAgICAgICAgICBtYXggPSByb29tMi5nZXRSaWdodCgpO1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBlYXN0LXdlc3Qgd2FsbHMgKi9cbiAgICAgICAgICAgIGRpckluZGV4MSA9IChkaWZmWCA+IDAgPyAxIDogMyk7XG4gICAgICAgICAgICBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuICAgICAgICAgICAgbWluID0gcm9vbTIuZ2V0VG9wKCk7XG4gICAgICAgICAgICBtYXggPSByb29tMi5nZXRCb3R0b20oKTtcbiAgICAgICAgICAgIGluZGV4ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20xLCBkaXJJbmRleDEpOyAvKiBjb3JyaWRvciB3aWxsIHN0YXJ0IGhlcmUgKi9cbiAgICAgICAgaWYgKCFzdGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydFtpbmRleF0gPj0gbWluICYmIHN0YXJ0W2luZGV4XSA8PSBtYXgpIHsgLyogcG9zc2libGUgdG8gY29ubmVjdCB3aXRoIHN0cmFpZ2h0IGxpbmUgKEktbGlrZSkgKi9cbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0LnNsaWNlKCk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgICAgICAgc3dpdGNoIChkaXJJbmRleDIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcm9vbTIuZ2V0VG9wKCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcm9vbTIuZ2V0UmlnaHQoKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRCb3R0b20oKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRMZWZ0KCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuZFsoaW5kZXggKyAxKSAlIDJdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9kaWdMaW5lKFtzdGFydCwgZW5kXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnRbaW5kZXhdIDwgbWluIC0gMSB8fCBzdGFydFtpbmRleF0gPiBtYXggKyAxKSB7IC8qIG5lZWQgdG8gc3dpdGNoIHRhcmdldCB3YWxsIChMLWxpa2UpICovXG4gICAgICAgICAgICBsZXQgZGlmZiA9IHN0YXJ0W2luZGV4XSAtIGNlbnRlcjJbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IHJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIHN3aXRjaCAoZGlySW5kZXgyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAzIDogMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gKGRpZmYgPCAwID8gMSA6IDMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpckluZGV4MiA9IChkaXJJbmRleDIgKyByb3RhdGlvbikgJSA0O1xuICAgICAgICAgICAgZW5kID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTIsIGRpckluZGV4Mik7XG4gICAgICAgICAgICBpZiAoIWVuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtaWQgPSBbMCwgMF07XG4gICAgICAgICAgICBtaWRbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IGluZGV4MiA9IChpbmRleCArIDEpICUgMjtcbiAgICAgICAgICAgIG1pZFtpbmRleDJdID0gZW5kW2luZGV4Ml07XG4gICAgICAgICAgICB0aGlzLl9kaWdMaW5lKFtzdGFydCwgbWlkLCBlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLyogdXNlIGN1cnJlbnQgd2FsbCBwYWlyLCBidXQgYWRqdXN0IHRoZSBsaW5lIGluIHRoZSBtaWRkbGUgKFMtbGlrZSkgKi9cbiAgICAgICAgICAgIGxldCBpbmRleDIgPSAoaW5kZXggKyAxKSAlIDI7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLl9wbGFjZUluV2FsbChyb29tMiwgZGlySW5kZXgyKTtcbiAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1pZCA9IE1hdGgucm91bmQoKGVuZFtpbmRleDJdICsgc3RhcnRbaW5kZXgyXSkgLyAyKTtcbiAgICAgICAgICAgIGxldCBtaWQxID0gWzAsIDBdO1xuICAgICAgICAgICAgbGV0IG1pZDIgPSBbMCwgMF07XG4gICAgICAgICAgICBtaWQxW2luZGV4XSA9IHN0YXJ0W2luZGV4XTtcbiAgICAgICAgICAgIG1pZDFbaW5kZXgyXSA9IG1pZDtcbiAgICAgICAgICAgIG1pZDJbaW5kZXhdID0gZW5kW2luZGV4XTtcbiAgICAgICAgICAgIG1pZDJbaW5kZXgyXSA9IG1pZDtcbiAgICAgICAgICAgIHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQxLCBtaWQyLCBlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICByb29tMS5hZGREb29yKHN0YXJ0WzBdLCBzdGFydFsxXSk7XG4gICAgICAgIHJvb20yLmFkZERvb3IoZW5kWzBdLCBlbmRbMV0pO1xuICAgICAgICBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTEpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0ZWQucHVzaChyb29tMSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB0aGlzLl91bmNvbm5lY3RlZC5pbmRleE9mKHJvb20yKTtcbiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkLnB1c2gocm9vbTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfcGxhY2VJbldhbGwocm9vbSwgZGlySW5kZXgpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gWzAsIDBdO1xuICAgICAgICBsZXQgZGlyID0gWzAsIDBdO1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgc3dpdGNoIChkaXJJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRpciA9IFsxLCAwXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRUb3AoKSAtIDFdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKSAtIHJvb20uZ2V0TGVmdCgpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBkaXIgPSBbMCwgMV07XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBbcm9vbS5nZXRSaWdodCgpICsgMSwgcm9vbS5nZXRUb3AoKV07XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcm9vbS5nZXRCb3R0b20oKSAtIHJvb20uZ2V0VG9wKCkgKyAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGRpciA9IFsxLCAwXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRCb3R0b20oKSArIDFdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKSAtIHJvb20uZ2V0TGVmdCgpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBkaXIgPSBbMCwgMV07XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCkgLSAxLCByb29tLmdldFRvcCgpXTtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSByb29tLmdldEJvdHRvbSgpIC0gcm9vbS5nZXRUb3AoKSArIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF2YWlsID0gW107XG4gICAgICAgIGxldCBsYXN0QmFkSW5kZXggPSAtMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSBzdGFydFswXSArIGkgKiBkaXJbMF07XG4gICAgICAgICAgICBsZXQgeSA9IHN0YXJ0WzFdICsgaSAqIGRpclsxXTtcbiAgICAgICAgICAgIGF2YWlsLnB1c2gobnVsbCk7XG4gICAgICAgICAgICBsZXQgaXNXYWxsID0gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbiAgICAgICAgICAgIGlmIChpc1dhbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJhZEluZGV4ICE9IGkgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsW2ldID0gW3gsIHldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhc3RCYWRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxbaSAtIDFdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IGF2YWlsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoIWF2YWlsW2ldKSB7XG4gICAgICAgICAgICAgICAgYXZhaWwuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYXZhaWwubGVuZ3RoID8gUk5HLmdldEl0ZW0oYXZhaWwpIDogbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpZyBhIHBvbHlsaW5lLlxuICAgICAqL1xuICAgIF9kaWdMaW5lKHBvaW50cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcG9pbnRzW2kgLSAxXTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBsZXQgY29ycmlkb3IgPSBuZXcgQ29ycmlkb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdLCBlbmRbMF0sIGVuZFsxXSk7XG4gICAgICAgICAgICBjb3JyaWRvci5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fY29ycmlkb3JzLnB1c2goY29ycmlkb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9kaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2R1ZysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc1dhbGxDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG4gICAgfVxuICAgIF9jYW5CZUR1Z0NhbGxiYWNrKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPCAxIHx8IHkgPCAxIHx8IHggKyAxID49IHRoaXMuX3dpZHRoIHx8IHkgKyAxID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEdW5nZW9uIGZyb20gXCIuL2R1bmdlb24uanNcIjtcbmltcG9ydCB7IFJvb20sIENvcnJpZG9yIH0gZnJvbSBcIi4vZmVhdHVyZXMuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuaW1wb3J0IHsgRElSUyB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmNvbnN0IEZFQVRVUkVTID0ge1xuICAgIFwicm9vbVwiOiBSb29tLFxuICAgIFwiY29ycmlkb3JcIjogQ29ycmlkb3Jcbn07XG4vKipcbiAqIFJhbmRvbSBkdW5nZW9uIGdlbmVyYXRvciB1c2luZyBodW1hbi1saWtlIGRpZ2dpbmcgcGF0dGVybnMuXG4gKiBIZWF2aWx5IGJhc2VkIG9uIE1pa2UgQW5kZXJzb24ncyBpZGVhcyBmcm9tIHRoZSBcIlR5cmFudFwiIGFsZ28sIG1lbnRpb25lZCBhdFxuICogaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9RHVuZ2Vvbi1CdWlsZGluZ19BbGdvcml0aG0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpZ2dlciBleHRlbmRzIER1bmdlb24ge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgcm9vbVdpZHRoOiBbMywgOV0sXG4gICAgICAgICAgICByb29tSGVpZ2h0OiBbMywgNV0sXG4gICAgICAgICAgICBjb3JyaWRvckxlbmd0aDogWzMsIDEwXSxcbiAgICAgICAgICAgIGR1Z1BlcmNlbnRhZ2U6IDAuMixcbiAgICAgICAgICAgIHRpbWVMaW1pdDogMTAwMCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgbXVjaCB0aW1lIGhhcyBwYXNzZWQgKG1zZWMpICovXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9mZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIFwicm9vbVwiOiA0LFxuICAgICAgICAgICAgXCJjb3JyaWRvclwiOiA0XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICB0aGlzLl9mZWF0dXJlQXR0ZW1wdHMgPSAyMDsgLyogaG93IG1hbnkgdGltZXMgZG8gd2UgdHJ5IHRvIGNyZWF0ZSBhIGZlYXR1cmUgb24gYSBzdWl0YWJsZSB3YWxsICovXG4gICAgICAgIHRoaXMuX3dhbGxzID0ge307IC8qIHRoZXNlIGFyZSBhdmFpbGFibGUgZm9yIGRpZ2dpbmcgKi9cbiAgICAgICAgdGhpcy5fZHVnID0gMDtcbiAgICAgICAgdGhpcy5fZGlnQ2FsbGJhY2sgPSB0aGlzLl9kaWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrID0gdGhpcy5fY2FuQmVEdWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9pc1dhbGxDYWxsYmFjayA9IHRoaXMuX2lzV2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrID0gdGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3Jvb21zID0gW107XG4gICAgICAgIHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICB0aGlzLl93YWxscyA9IHt9O1xuICAgICAgICB0aGlzLl9kdWcgPSAwO1xuICAgICAgICBsZXQgYXJlYSA9ICh0aGlzLl93aWR0aCAtIDIpICogKHRoaXMuX2hlaWdodCAtIDIpO1xuICAgICAgICB0aGlzLl9maXJzdFJvb20oKTtcbiAgICAgICAgbGV0IHQxID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IHByaW9yaXR5V2FsbHM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHByaW9yaXR5V2FsbHMgPSAwO1xuICAgICAgICAgICAgbGV0IHQyID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmICh0MiAtIHQxID4gdGhpcy5fb3B0aW9ucy50aW1lTGltaXQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGZpbmQgYSBnb29kIHdhbGwgKi9cbiAgICAgICAgICAgIGxldCB3YWxsID0gdGhpcy5fZmluZFdhbGwoKTtcbiAgICAgICAgICAgIGlmICghd2FsbCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSAvKiBubyBtb3JlIHdhbGxzICovXG4gICAgICAgICAgICBsZXQgcGFydHMgPSB3YWxsLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIGxldCB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuICAgICAgICAgICAgbGV0IHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG4gICAgICAgICAgICBsZXQgZGlyID0gdGhpcy5fZ2V0RGlnZ2luZ0RpcmVjdGlvbih4LCB5KTtcbiAgICAgICAgICAgIGlmICghZGlyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IC8qIHRoaXMgd2FsbCBpcyBub3Qgc3VpdGFibGUgKi9cbiAgICAgICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwid2FsbFwiLCB4LCB5KTtcbiAgICAgICAgICAgIC8qIHRyeSBhZGRpbmcgYSBmZWF0dXJlICovXG4gICAgICAgICAgICBsZXQgZmVhdHVyZUF0dGVtcHRzID0gMDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlQXR0ZW1wdHMrKztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHJ5RmVhdHVyZSh4LCB5LCBkaXJbMF0sIGRpclsxXSkpIHsgLyogZmVhdHVyZSBhZGRlZCAqL1xuICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLl9yb29tcy5sZW5ndGggKyB0aGlzLl9jb3JyaWRvcnMubGVuZ3RoID09IDIpIHsgdGhpcy5fcm9vbXNbMF0uYWRkRG9vcih4LCB5KTsgfSAvKiBmaXJzdCByb29tIG9maWNpYWxseSBoYXMgZG9vcnMgKi9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4IC0gZGlyWzBdLCB5IC0gZGlyWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZmVhdHVyZUF0dGVtcHRzIDwgdGhpcy5fZmVhdHVyZUF0dGVtcHRzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMuX3dhbGxzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3dhbGxzW2lkXSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlXYWxscysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodGhpcy5fZHVnIC8gYXJlYSA8IHRoaXMuX29wdGlvbnMuZHVnUGVyY2VudGFnZSB8fCBwcmlvcml0eVdhbGxzKTsgLyogZml4bWUgbnVtYmVyIG9mIHByaW9yaXR5IHdhbGxzICovXG4gICAgICAgIHRoaXMuX2FkZERvb3JzKCk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93YWxscyA9IHt9O1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9kaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gMCB8fCB2YWx1ZSA9PSAyKSB7IC8qIGVtcHR5ICovXG4gICAgICAgICAgICB0aGlzLl9tYXBbeF1beV0gPSAwO1xuICAgICAgICAgICAgdGhpcy5fZHVnKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8qIHdhbGwgKi9cbiAgICAgICAgICAgIHRoaXMuX3dhbGxzW3ggKyBcIixcIiArIHldID0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNXYWxsQ2FsbGJhY2soeCwgeSkge1xuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5ID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgIH1cbiAgICBfY2FuQmVEdWdDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgIGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4ICsgMSA+PSB0aGlzLl93aWR0aCB8fCB5ICsgMSA+PSB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbiAgICB9XG4gICAgX3ByaW9yaXR5V2FsbENhbGxiYWNrKHgsIHkpIHsgdGhpcy5fd2FsbHNbeCArIFwiLFwiICsgeV0gPSAyOyB9XG4gICAgO1xuICAgIF9maXJzdFJvb20oKSB7XG4gICAgICAgIGxldCBjeCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGggLyAyKTtcbiAgICAgICAgbGV0IGN5ID0gTWF0aC5mbG9vcih0aGlzLl9oZWlnaHQgLyAyKTtcbiAgICAgICAgbGV0IHJvb20gPSBSb29tLmNyZWF0ZVJhbmRvbUNlbnRlcihjeCwgY3ksIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICB0aGlzLl9yb29tcy5wdXNoKHJvb20pO1xuICAgICAgICByb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHN1aXRhYmxlIHdhbGxcbiAgICAgKi9cbiAgICBfZmluZFdhbGwoKSB7XG4gICAgICAgIGxldCBwcmlvMSA9IFtdO1xuICAgICAgICBsZXQgcHJpbzIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5fd2FsbHMpIHtcbiAgICAgICAgICAgIGxldCBwcmlvID0gdGhpcy5fd2FsbHNbaWRdO1xuICAgICAgICAgICAgaWYgKHByaW8gPT0gMikge1xuICAgICAgICAgICAgICAgIHByaW8yLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJpbzEucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFyciA9IChwcmlvMi5sZW5ndGggPyBwcmlvMiA6IHByaW8xKTtcbiAgICAgICAgaWYgKCFhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSAvKiBubyB3YWxscyA6LyAqL1xuICAgICAgICBsZXQgaWQgPSBSTkcuZ2V0SXRlbShhcnIuc29ydCgpKTsgLy8gc29ydCB0byBtYWtlIHRoZSBvcmRlciBkZXRlcm1pbmlzdGljXG4gICAgICAgIGRlbGV0ZSB0aGlzLl93YWxsc1tpZF07XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZXMgYWRkaW5nIGEgZmVhdHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sfSB3YXMgdGhpcyBhIHN1Y2Nlc3NmdWwgdHJ5P1xuICAgICAqL1xuICAgIF90cnlGZWF0dXJlKHgsIHksIGR4LCBkeSkge1xuICAgICAgICBsZXQgZmVhdHVyZU5hbWUgPSBSTkcuZ2V0V2VpZ2h0ZWRWYWx1ZSh0aGlzLl9mZWF0dXJlcyk7XG4gICAgICAgIGxldCBjdG9yID0gRkVBVFVSRVNbZmVhdHVyZU5hbWVdO1xuICAgICAgICBsZXQgZmVhdHVyZSA9IGN0b3IuY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgaWYgKCFmZWF0dXJlLmlzVmFsaWQodGhpcy5faXNXYWxsQ2FsbGJhY2ssIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2spKSB7XG4gICAgICAgICAgICAvL1x0XHRjb25zb2xlLmxvZyhcIm5vdCB2YWxpZFwiKTtcbiAgICAgICAgICAgIC8vXHRcdGZlYXR1cmUuZGVidWcoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmZWF0dXJlLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4gICAgICAgIC8vXHRmZWF0dXJlLmRlYnVnKCk7XG4gICAgICAgIGlmIChmZWF0dXJlIGluc3RhbmNlb2YgUm9vbSkge1xuICAgICAgICAgICAgdGhpcy5fcm9vbXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmVhdHVyZSBpbnN0YW5jZW9mIENvcnJpZG9yKSB7XG4gICAgICAgICAgICBmZWF0dXJlLmNyZWF0ZVByaW9yaXR5V2FsbHModGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fY29ycmlkb3JzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKGN4LCBjeSkge1xuICAgICAgICBsZXQgZGVsdGFzID0gRElSU1s0XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGxldCB4ID0gY3ggKyBkZWx0YVswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkZWx0YVsxXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl93YWxsc1t4ICsgXCIsXCIgKyB5XTtcbiAgICAgICAgICAgIHggPSBjeCArIDIgKiBkZWx0YVswXTtcbiAgICAgICAgICAgIHkgPSBjeSArIDIgKiBkZWx0YVsxXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl93YWxsc1t4ICsgXCIsXCIgKyB5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHZlY3RvciBpbiBcImRpZ2dpbmdcIiBkaXJlY3Rpb24sIG9yIGZhbHNlLCBpZiB0aGlzIGRvZXMgbm90IGV4aXN0IChvciBpcyBub3QgdW5pcXVlKVxuICAgICAqL1xuICAgIF9nZXREaWdnaW5nRGlyZWN0aW9uKGN4LCBjeSkge1xuICAgICAgICBpZiAoY3ggPD0gMCB8fCBjeSA8PSAwIHx8IGN4ID49IHRoaXMuX3dpZHRoIC0gMSB8fCBjeSA+PSB0aGlzLl9oZWlnaHQgLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgbGV0IGRlbHRhcyA9IERJUlNbNF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsdGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSBkZWx0YXNbaV07XG4gICAgICAgICAgICBsZXQgeCA9IGN4ICsgZGVsdGFbMF07XG4gICAgICAgICAgICBsZXQgeSA9IGN5ICsgZGVsdGFbMV07XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21hcFt4XVt5XSkgeyAvKiB0aGVyZSBhbHJlYWR5IGlzIGFub3RoZXIgZW1wdHkgbmVpZ2hib3IhICovXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVsdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogbm8gZW1wdHkgbmVpZ2hib3IgKi9cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLXJlc3VsdFswXSwgLXJlc3VsdFsxXV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgZW1wdHkgc3BhY2VzIHN1cnJvdW5kaW5nIHJvb21zLCBhbmQgYXBwbHkgZG9vcnMuXG4gICAgICovXG4gICAgX2FkZERvb3JzKCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuX21hcDtcbiAgICAgICAgZnVuY3Rpb24gaXNXYWxsQ2FsbGJhY2soeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIChkYXRhW3hdW3ldID09IDEpO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9yb29tcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJvb20gPSB0aGlzLl9yb29tc1tpXTtcbiAgICAgICAgICAgIHJvb20uY2xlYXJEb29ycygpO1xuICAgICAgICAgICAgcm9vbS5hZGREb29ycyhpc1dhbGxDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG4vKipcbiAqIEpvaW4gbGlzdHMgd2l0aCBcImlcIiBhbmQgXCJpKzFcIlxuICovXG5mdW5jdGlvbiBhZGRUb0xpc3QoaSwgTCwgUikge1xuICAgIFJbTFtpICsgMV1dID0gUltpXTtcbiAgICBMW1JbaV1dID0gTFtpICsgMV07XG4gICAgUltpXSA9IGkgKyAxO1xuICAgIExbaSArIDFdID0gaTtcbn1cbi8qKlxuICogUmVtb3ZlIFwiaVwiIGZyb20gaXRzIGxpc3RcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRnJvbUxpc3QoaSwgTCwgUikge1xuICAgIFJbTFtpXV0gPSBSW2ldO1xuICAgIExbUltpXV0gPSBMW2ldO1xuICAgIFJbaV0gPSBpO1xuICAgIExbaV0gPSBpO1xufVxuLyoqXG4gKiBNYXplIGdlbmVyYXRvciAtIEVsbGVyJ3MgYWxnb3JpdGhtXG4gKiBTZWUgaHR0cDovL2hvbWVwYWdlcy5jd2kubmwvfnRyb21wL21hemUuaHRtbCBmb3IgZXhwbGFuYXRpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxsZXJNYXplIGV4dGVuZHMgTWFwIHtcbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG1hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG4gICAgICAgIGxldCB3ID0gTWF0aC5jZWlsKCh0aGlzLl93aWR0aCAtIDIpIC8gMik7XG4gICAgICAgIGxldCByYW5kID0gOSAvIDI0O1xuICAgICAgICBsZXQgTCA9IFtdO1xuICAgICAgICBsZXQgUiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgTC5wdXNoKGkpO1xuICAgICAgICAgICAgUi5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIEwucHVzaCh3IC0gMSk7IC8qIGZha2Ugc3RvcC1ibG9jayBhdCB0aGUgcmlnaHQgc2lkZSAqL1xuICAgICAgICBsZXQgajtcbiAgICAgICAgZm9yIChqID0gMTsgaiArIDMgPCB0aGlzLl9oZWlnaHQ7IGogKz0gMikge1xuICAgICAgICAgICAgLyogb25lIHJvdyAqL1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyBpKyspIHtcbiAgICAgICAgICAgICAgICAvKiBjZWxsIGNvb3JkcyAod2lsbCBiZSBhbHdheXMgZW1wdHkpICovXG4gICAgICAgICAgICAgICAgbGV0IHggPSAyICogaSArIDE7XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBqO1xuICAgICAgICAgICAgICAgIG1hcFt4XVt5XSA9IDA7XG4gICAgICAgICAgICAgICAgLyogcmlnaHQgY29ubmVjdGlvbiAqL1xuICAgICAgICAgICAgICAgIGlmIChpICE9IExbaSArIDFdICYmIFJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTGlzdChpLCBMLCBSKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwW3ggKyAxXVt5XSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIGJvdHRvbSBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gTFtpXSAmJiBSTkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkge1xuICAgICAgICAgICAgICAgICAgICAvKiByZW1vdmUgY29ubmVjdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGNyZWF0ZSBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIG1hcFt4XVt5ICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBsYXN0IHJvdyAqL1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgLyogY2VsbCBjb29yZHMgKHdpbGwgYmUgYWx3YXlzIGVtcHR5KSAqL1xuICAgICAgICAgICAgbGV0IHggPSAyICogaSArIDE7XG4gICAgICAgICAgICBsZXQgeSA9IGo7XG4gICAgICAgICAgICBtYXBbeF1beV0gPSAwO1xuICAgICAgICAgICAgLyogcmlnaHQgY29ubmVjdGlvbiAqL1xuICAgICAgICAgICAgaWYgKGkgIT0gTFtpICsgMV0gJiYgKGkgPT0gTFtpXSB8fCBSTkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkpIHtcbiAgICAgICAgICAgICAgICAvKiBkaWcgcmlnaHQgYWxzbyBpZiB0aGUgY2VsbCBpcyBzZXBhcmF0ZWQsIHNvIGl0IGdldHMgY29ubmVjdGVkIHRvIHRoZSByZXN0IG9mIG1hemUgKi9cbiAgICAgICAgICAgICAgICBhZGRUb0xpc3QoaSwgTCwgUik7XG4gICAgICAgICAgICAgICAgbWFwW3ggKyAxXVt5XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCBBcmVuYSBmcm9tIFwiLi9hcmVuYS5qc1wiO1xuaW1wb3J0IFVuaWZvcm0gZnJvbSBcIi4vdW5pZm9ybS5qc1wiO1xuaW1wb3J0IENlbGx1bGFyIGZyb20gXCIuL2NlbGx1bGFyLmpzXCI7XG5pbXBvcnQgRGlnZ2VyIGZyb20gXCIuL2RpZ2dlci5qc1wiO1xuaW1wb3J0IEVsbGVyTWF6ZSBmcm9tIFwiLi9lbGxlcm1hemUuanNcIjtcbmltcG9ydCBEaXZpZGVkTWF6ZSBmcm9tIFwiLi9kaXZpZGVkbWF6ZS5qc1wiO1xuaW1wb3J0IEljZXlNYXplIGZyb20gXCIuL2ljZXltYXplLmpzXCI7XG5pbXBvcnQgUm9ndWUgZnJvbSBcIi4vcm9ndWUuanNcIjtcbmV4cG9ydCBkZWZhdWx0IHsgQXJlbmEsIFVuaWZvcm0sIENlbGx1bGFyLCBEaWdnZXIsIEVsbGVyTWF6ZSwgRGl2aWRlZE1hemUsIEljZXlNYXplLCBSb2d1ZSB9O1xuIiwiaW1wb3J0IE1hcCBmcm9tIFwiLi9tYXAuanNcIjtcbmltcG9ydCB7IERJUlMgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbjtcbi8qKlxuICogQGNsYXNzIENlbGx1bGFyIGF1dG9tYXRvbiBtYXAgZ2VuZXJhdG9yXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uc1xuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuYm9ybl0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGEgbmV3IGNlbGwgdG8gYmUgYm9ybiBpbiBlbXB0eSBzcGFjZVxuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuc3Vydml2ZV0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGFuIGV4aXN0aW5nICBjZWxsIHRvIHN1cnZpdmVcbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neV0gVG9wb2xvZ3kgNCBvciA2IG9yIDhcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2VsbHVsYXIgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGJvcm46IFs1LCA2LCA3LCA4XSxcbiAgICAgICAgICAgIHN1cnZpdmU6IFs0LCA1LCA2LCA3LCA4XSxcbiAgICAgICAgICAgIHRvcG9sb2d5OiA4XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fZGlycyA9IERJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG4gICAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbGwgdGhlIG1hcCB3aXRoIHJhbmRvbSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge2Zsb2F0fSBwcm9iYWJpbGl0eSBQcm9iYWJpbGl0eSBmb3IgYSBjZWxsIHRvIGJlY29tZSBhbGl2ZTsgMCA9IGFsbCBlbXB0eSwgMSA9IGFsbCBmdWxsXG4gICAgICovXG4gICAgcmFuZG9taXplKHByb2JhYmlsaXR5KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcFtpXVtqXSA9IChSTkcuZ2V0VW5pZm9ybSgpIDwgcHJvYmFiaWxpdHkgPyAxIDogMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSBvcHRpb25zLlxuICAgICAqIEBzZWUgUk9ULk1hcC5DZWxsdWxhclxuICAgICAqL1xuICAgIHNldE9wdGlvbnMob3B0aW9ucykgeyBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpOyB9XG4gICAgc2V0KHgsIHksIHZhbHVlKSB7IHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlOyB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBuZXdNYXAgPSB0aGlzLl9maWxsTWFwKDApO1xuICAgICAgICBsZXQgYm9ybiA9IHRoaXMuX29wdGlvbnMuYm9ybjtcbiAgICAgICAgbGV0IHN1cnZpdmUgPSB0aGlzLl9vcHRpb25zLnN1cnZpdmU7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgIGxldCB3aWR0aFN0ZXAgPSAxO1xuICAgICAgICAgICAgbGV0IHdpZHRoU3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikge1xuICAgICAgICAgICAgICAgIHdpZHRoU3RlcCA9IDI7XG4gICAgICAgICAgICAgICAgd2lkdGhTdGFydCA9IGogJSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHdpZHRoU3RhcnQ7IGkgPCB0aGlzLl93aWR0aDsgaSArPSB3aWR0aFN0ZXApIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VyID0gdGhpcy5fbWFwW2ldW2pdO1xuICAgICAgICAgICAgICAgIGxldCBuY291bnQgPSB0aGlzLl9nZXROZWlnaGJvcnMoaSwgaik7XG4gICAgICAgICAgICAgICAgaWYgKGN1ciAmJiBzdXJ2aXZlLmluZGV4T2YobmNvdW50KSAhPSAtMSkgeyAvKiBzdXJ2aXZlICovXG4gICAgICAgICAgICAgICAgICAgIG5ld01hcFtpXVtqXSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjdXIgJiYgYm9ybi5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogYm9ybiAqL1xuICAgICAgICAgICAgICAgICAgICBuZXdNYXBbaV1bal0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIGNhbGxiYWNrICYmIHRoaXMuX3NlcnZpY2VDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgfVxuICAgIF9zZXJ2aWNlQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgbGV0IHdpZHRoU3RlcCA9IDE7XG4gICAgICAgICAgICBsZXQgd2lkdGhTdGFydCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7XG4gICAgICAgICAgICAgICAgd2lkdGhTdGVwID0gMjtcbiAgICAgICAgICAgICAgICB3aWR0aFN0YXJ0ID0gaiAlIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gd2lkdGhTdGFydDsgaSA8IHRoaXMuX3dpZHRoOyBpICs9IHdpZHRoU3RlcCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG5laWdoYm9yIGNvdW50IGF0IFtpLGpdIGluIHRoaXMuX21hcFxuICAgICAqL1xuICAgIF9nZXROZWlnaGJvcnMoY3gsIGN5KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkaXIgPSB0aGlzLl9kaXJzW2ldO1xuICAgICAgICAgICAgbGV0IHggPSBjeCArIGRpclswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkaXJbMV07XG4gICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9ICh0aGlzLl9tYXBbeF1beV0gPT0gMSA/IDEgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgZXZlcnkgbm9uLXdhbGwgc3BhY2UgaXMgYWNjZXNzaWJsZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayB0byBjYWxsIHRvIGRpc3BsYXkgbWFwIHdoZW4gZG9cbiAgICAgKiBAcGFyYW0ge2ludH0gdmFsdWUgdG8gY29uc2lkZXIgZW1wdHkgc3BhY2UgLSBkZWZhdWx0cyB0byAwXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgdG8gY2FsbCB3aGVuIGEgbmV3IGNvbm5lY3Rpb24gaXMgbWFkZVxuICAgICAqL1xuICAgIGNvbm5lY3QoY2FsbGJhY2ssIHZhbHVlLCBjb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgbGV0IGFsbEZyZWVTcGFjZSA9IFtdO1xuICAgICAgICBsZXQgbm90Q29ubmVjdGVkID0ge307XG4gICAgICAgIC8vIGZpbmQgYWxsIGZyZWUgc3BhY2VcbiAgICAgICAgbGV0IHdpZHRoU3RlcCA9IDE7XG4gICAgICAgIGxldCB3aWR0aFN0YXJ0cyA9IFswLCAwXTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikge1xuICAgICAgICAgICAgd2lkdGhTdGVwID0gMjtcbiAgICAgICAgICAgIHdpZHRoU3RhcnRzID0gWzAsIDFdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5faGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSB3aWR0aFN0YXJ0c1t5ICUgMl07IHggPCB0aGlzLl93aWR0aDsgeCArPSB3aWR0aFN0ZXApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZnJlZVNwYWNlKHgsIHksIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IFt4LCB5XTtcbiAgICAgICAgICAgICAgICAgICAgbm90Q29ubmVjdGVkW3RoaXMuX3BvaW50S2V5KHApXSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIGFsbEZyZWVTcGFjZS5wdXNoKFt4LCB5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IGFsbEZyZWVTcGFjZVtSTkcuZ2V0VW5pZm9ybUludCgwLCBhbGxGcmVlU3BhY2UubGVuZ3RoIC0gMSldO1xuICAgICAgICBsZXQga2V5ID0gdGhpcy5fcG9pbnRLZXkoc3RhcnQpO1xuICAgICAgICBsZXQgY29ubmVjdGVkID0ge307XG4gICAgICAgIGNvbm5lY3RlZFtrZXldID0gc3RhcnQ7XG4gICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XTtcbiAgICAgICAgLy8gZmluZCB3aGF0J3MgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuICAgICAgICB0aGlzLl9maW5kQ29ubmVjdGVkKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBbc3RhcnRdLCBmYWxzZSwgdmFsdWUpO1xuICAgICAgICB3aGlsZSAoT2JqZWN0LmtleXMobm90Q29ubmVjdGVkKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBmaW5kIHR3byBwb2ludHMgZnJvbSBub3RDb25uZWN0ZWQgdG8gY29ubmVjdGVkXG4gICAgICAgICAgICBsZXQgcCA9IHRoaXMuX2dldEZyb21Ubyhjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCk7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHBbMF07IC8vIG5vdENvbm5lY3RlZFxuICAgICAgICAgICAgbGV0IHRvID0gcFsxXTsgLy8gY29ubmVjdGVkXG4gICAgICAgICAgICAvLyBmaW5kIGV2ZXJ5dGhpbmcgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuICAgICAgICAgICAgbGV0IGxvY2FsID0ge307XG4gICAgICAgICAgICBsb2NhbFt0aGlzLl9wb2ludEtleShmcm9tKV0gPSBmcm9tO1xuICAgICAgICAgICAgdGhpcy5fZmluZENvbm5lY3RlZChsb2NhbCwgbm90Q29ubmVjdGVkLCBbZnJvbV0sIHRydWUsIHZhbHVlKTtcbiAgICAgICAgICAgIC8vIGNvbm5lY3QgdG8gYSBjb25uZWN0ZWQgY2VsbFxuICAgICAgICAgICAgbGV0IHR1bm5lbEZuID0gKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNiA/IHRoaXMuX3R1bm5lbFRvQ29ubmVjdGVkNiA6IHRoaXMuX3R1bm5lbFRvQ29ubmVjdGVkKTtcbiAgICAgICAgICAgIHR1bm5lbEZuLmNhbGwodGhpcywgdG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCB2YWx1ZSwgY29ubmVjdGlvbkNhbGxiYWNrKTtcbiAgICAgICAgICAgIC8vIG5vdyBhbGwgb2YgbG9jYWwgaXMgY29ubmVjdGVkXG4gICAgICAgICAgICBmb3IgKGxldCBrIGluIGxvY2FsKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBwID0gbG9jYWxba107XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwW3BwWzBdXVtwcFsxXV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25uZWN0ZWRba10gPSBwcDtcbiAgICAgICAgICAgICAgICBkZWxldGUgbm90Q29ubmVjdGVkW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrICYmIHRoaXMuX3NlcnZpY2VDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgcmFuZG9tIHBvaW50cyB0byBjb25uZWN0LiBTZWFyY2ggZm9yIHRoZSBjbG9zZXN0IHBvaW50IGluIHRoZSBsYXJnZXIgc3BhY2UuXG4gICAgICogVGhpcyBpcyB0byBtaW5pbWl6ZSB0aGUgbGVuZ3RoIG9mIHRoZSBwYXNzYWdlIHdoaWxlIG1haW50YWluaW5nIGdvb2QgcGVyZm9ybWFuY2UuXG4gICAgICovXG4gICAgX2dldEZyb21Ubyhjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCkge1xuICAgICAgICBsZXQgZnJvbSA9IFswLCAwXSwgdG8gPSBbMCwgMF0sIGQ7XG4gICAgICAgIGxldCBjb25uZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoY29ubmVjdGVkKTtcbiAgICAgICAgbGV0IG5vdENvbm5lY3RlZEtleXMgPSBPYmplY3Qua2V5cyhub3RDb25uZWN0ZWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3RlZEtleXMubGVuZ3RoIDwgbm90Q29ubmVjdGVkS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5cyA9IGNvbm5lY3RlZEtleXM7XG4gICAgICAgICAgICAgICAgdG8gPSBjb25uZWN0ZWRba2V5c1tSTkcuZ2V0VW5pZm9ybUludCgwLCBrZXlzLmxlbmd0aCAtIDEpXV07XG4gICAgICAgICAgICAgICAgZnJvbSA9IHRoaXMuX2dldENsb3Nlc3QodG8sIG5vdENvbm5lY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5cyA9IG5vdENvbm5lY3RlZEtleXM7XG4gICAgICAgICAgICAgICAgZnJvbSA9IG5vdENvbm5lY3RlZFtrZXlzW1JORy5nZXRVbmlmb3JtSW50KDAsIGtleXMubGVuZ3RoIC0gMSldXTtcbiAgICAgICAgICAgICAgICB0byA9IHRoaXMuX2dldENsb3Nlc3QoZnJvbSwgY29ubmVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQgPSAoZnJvbVswXSAtIHRvWzBdKSAqIChmcm9tWzBdIC0gdG9bMF0pICsgKGZyb21bMV0gLSB0b1sxXSkgKiAoZnJvbVsxXSAtIHRvWzFdKTtcbiAgICAgICAgICAgIGlmIChkIDwgNjQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+PiBjb25uZWN0ZWQ9XCIgKyB0byArIFwiIG5vdENvbm5lY3RlZD1cIiArIGZyb20gKyBcIiBkaXN0PVwiICsgZCk7XG4gICAgICAgIHJldHVybiBbZnJvbSwgdG9dO1xuICAgIH1cbiAgICBfZ2V0Q2xvc2VzdChwb2ludCwgc3BhY2UpIHtcbiAgICAgICAgbGV0IG1pblBvaW50ID0gbnVsbDtcbiAgICAgICAgbGV0IG1pbkRpc3QgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBrIGluIHNwYWNlKSB7XG4gICAgICAgICAgICBsZXQgcCA9IHNwYWNlW2tdO1xuICAgICAgICAgICAgbGV0IGQgPSAocFswXSAtIHBvaW50WzBdKSAqIChwWzBdIC0gcG9pbnRbMF0pICsgKHBbMV0gLSBwb2ludFsxXSkgKiAocFsxXSAtIHBvaW50WzFdKTtcbiAgICAgICAgICAgIGlmIChtaW5EaXN0ID09IG51bGwgfHwgZCA8IG1pbkRpc3QpIHtcbiAgICAgICAgICAgICAgICBtaW5EaXN0ID0gZDtcbiAgICAgICAgICAgICAgICBtaW5Qb2ludCA9IHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pblBvaW50O1xuICAgIH1cbiAgICBfZmluZENvbm5lY3RlZChjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgc3RhY2ssIGtlZXBOb3RDb25uZWN0ZWQsIHZhbHVlKSB7XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgcCA9IHN0YWNrLnNwbGljZSgwLCAxKVswXTtcbiAgICAgICAgICAgIGxldCB0ZXN0cztcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHtcbiAgICAgICAgICAgICAgICB0ZXN0cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gKyAyLCBwWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gKyAxLCBwWzFdIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdIC0gMSwgcFsxXSAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSAtIDIsIHBbMV1dLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSAtIDEsIHBbMV0gKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gKyAxLCBwWzFdICsgMV0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlc3RzID0gW1xuICAgICAgICAgICAgICAgICAgICBbcFswXSArIDEsIHBbMV1dLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSAtIDEsIHBbMV1dLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSwgcFsxXSArIDFdLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSwgcFsxXSAtIDFdXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gdGhpcy5fcG9pbnRLZXkodGVzdHNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0ZWRba2V5XSA9PSBudWxsICYmIHRoaXMuX2ZyZWVTcGFjZSh0ZXN0c1tpXVswXSwgdGVzdHNbaV1bMV0sIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0ZWRba2V5XSA9IHRlc3RzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWtlZXBOb3RDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHRlc3RzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3R1bm5lbFRvQ29ubmVjdGVkKHRvLCBmcm9tLCBjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgdmFsdWUsIGNvbm5lY3Rpb25DYWxsYmFjaykge1xuICAgICAgICBsZXQgYSwgYjtcbiAgICAgICAgaWYgKGZyb21bMF0gPCB0b1swXSkge1xuICAgICAgICAgICAgYSA9IGZyb207XG4gICAgICAgICAgICBiID0gdG87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhID0gdG87XG4gICAgICAgICAgICBiID0gZnJvbTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB4eCA9IGFbMF07IHh4IDw9IGJbMF07IHh4KyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt4eF1bYVsxXV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGxldCBwID0gW3h4LCBhWzFdXTtcbiAgICAgICAgICAgIGxldCBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG4gICAgICAgICAgICBjb25uZWN0ZWRbcGtleV0gPSBwO1xuICAgICAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtwa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdGlvbkNhbGxiYWNrICYmIGFbMF0gPCBiWzBdKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uQ2FsbGJhY2soYSwgW2JbMF0sIGFbMV1dKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB4IGlzIG5vdyBmaXhlZFxuICAgICAgICBsZXQgeCA9IGJbMF07XG4gICAgICAgIGlmIChmcm9tWzFdIDwgdG9bMV0pIHtcbiAgICAgICAgICAgIGEgPSBmcm9tO1xuICAgICAgICAgICAgYiA9IHRvO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYSA9IHRvO1xuICAgICAgICAgICAgYiA9IGZyb207XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgeXkgPSBhWzFdOyB5eSA8IGJbMV07IHl5KyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt4XVt5eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGxldCBwID0gW3gsIHl5XTtcbiAgICAgICAgICAgIGxldCBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG4gICAgICAgICAgICBjb25uZWN0ZWRbcGtleV0gPSBwO1xuICAgICAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtwa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdGlvbkNhbGxiYWNrICYmIGFbMV0gPCBiWzFdKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uQ2FsbGJhY2soW2JbMF0sIGFbMV1dLCBbYlswXSwgYlsxXV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF90dW5uZWxUb0Nvbm5lY3RlZDYodG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCB2YWx1ZSwgY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBhLCBiO1xuICAgICAgICBpZiAoZnJvbVswXSA8IHRvWzBdKSB7XG4gICAgICAgICAgICBhID0gZnJvbTtcbiAgICAgICAgICAgIGIgPSB0bztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGEgPSB0bztcbiAgICAgICAgICAgIGIgPSBmcm9tO1xuICAgICAgICB9XG4gICAgICAgIC8vIHR1bm5lbCBkaWFnb25hbGx5IHVudGlsIGhvcml6b250YWxseSBsZXZlbFxuICAgICAgICBsZXQgeHggPSBhWzBdO1xuICAgICAgICBsZXQgeXkgPSBhWzFdO1xuICAgICAgICB3aGlsZSAoISh4eCA9PSBiWzBdICYmIHl5ID09IGJbMV0pKSB7XG4gICAgICAgICAgICBsZXQgc3RlcFdpZHRoID0gMjtcbiAgICAgICAgICAgIGlmICh5eSA8IGJbMV0pIHtcbiAgICAgICAgICAgICAgICB5eSsrO1xuICAgICAgICAgICAgICAgIHN0ZXBXaWR0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh5eSA+IGJbMV0pIHtcbiAgICAgICAgICAgICAgICB5eS0tO1xuICAgICAgICAgICAgICAgIHN0ZXBXaWR0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeHggPCBiWzBdKSB7XG4gICAgICAgICAgICAgICAgeHggKz0gc3RlcFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeHggPiBiWzBdKSB7XG4gICAgICAgICAgICAgICAgeHggLT0gc3RlcFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYlsxXSAlIDIpIHtcbiAgICAgICAgICAgICAgICAvLyBXb24ndCBzdGVwIG91dHNpZGUgbWFwIGlmIGRlc3RpbmF0aW9uIG9uIGlzIG1hcCdzIHJpZ2h0IGVkZ2VcbiAgICAgICAgICAgICAgICB4eCAtPSBzdGVwV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkaXR0byBmb3IgbGVmdCBlZGdlXG4gICAgICAgICAgICAgICAgeHggKz0gc3RlcFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFwW3h4XVt5eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGxldCBwID0gW3h4LCB5eV07XG4gICAgICAgICAgICBsZXQgcGtleSA9IHRoaXMuX3BvaW50S2V5KHApO1xuICAgICAgICAgICAgY29ubmVjdGVkW3BrZXldID0gcDtcbiAgICAgICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rpb25DYWxsYmFjaykge1xuICAgICAgICAgICAgY29ubmVjdGlvbkNhbGxiYWNrKGZyb20sIHRvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZnJlZVNwYWNlKHgsIHksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMuX3dpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5faGVpZ2h0ICYmIHRoaXMuX21hcFt4XVt5XSA9PSB2YWx1ZTtcbiAgICB9XG4gICAgX3BvaW50S2V5KHApIHsgcmV0dXJuIHBbMF0gKyBcIi5cIiArIHBbMV07IH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbi8qKlxuICogQGNsYXNzIFJlY3Vyc2l2ZWx5IGRpdmlkZWQgbWF6ZSwgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NYXplX2dlbmVyYXRpb25fYWxnb3JpdGhtI1JlY3Vyc2l2ZV9kaXZpc2lvbl9tZXRob2RcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpdmlkZWRNYXplIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgfVxuICAgIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgdyA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBib3JkZXIgPSAoaSA9PSAwIHx8IGogPT0gMCB8fCBpICsgMSA9PSB3IHx8IGogKyAxID09IGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcFtpXS5wdXNoKGJvcmRlciA/IDEgOiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFjayA9IFtcbiAgICAgICAgICAgIFsxLCAxLCB3IC0gMiwgaCAtIDJdXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9wcm9jZXNzKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5fc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcm9vbSA9IHRoaXMuX3N0YWNrLnNoaWZ0KCk7IC8qIFtsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21dICovXG4gICAgICAgICAgICB0aGlzLl9wYXJ0aXRpb25Sb29tKHJvb20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wYXJ0aXRpb25Sb29tKHJvb20pIHtcbiAgICAgICAgbGV0IGF2YWlsWCA9IFtdO1xuICAgICAgICBsZXQgYXZhaWxZID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSByb29tWzBdICsgMTsgaSA8IHJvb21bMl07IGkrKykge1xuICAgICAgICAgICAgbGV0IHRvcCA9IHRoaXMuX21hcFtpXVtyb29tWzFdIC0gMV07XG4gICAgICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5fbWFwW2ldW3Jvb21bM10gKyAxXTtcbiAgICAgICAgICAgIGlmICh0b3AgJiYgYm90dG9tICYmICEoaSAlIDIpKSB7XG4gICAgICAgICAgICAgICAgYXZhaWxYLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IHJvb21bMV0gKyAxOyBqIDwgcm9vbVszXTsgaisrKSB7XG4gICAgICAgICAgICBsZXQgbGVmdCA9IHRoaXMuX21hcFtyb29tWzBdIC0gMV1bal07XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLl9tYXBbcm9vbVsyXSArIDFdW2pdO1xuICAgICAgICAgICAgaWYgKGxlZnQgJiYgcmlnaHQgJiYgIShqICUgMikpIHtcbiAgICAgICAgICAgICAgICBhdmFpbFkucHVzaChqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWF2YWlsWC5sZW5ndGggfHwgIWF2YWlsWS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeCA9IFJORy5nZXRJdGVtKGF2YWlsWCk7XG4gICAgICAgIGxldCB5ID0gUk5HLmdldEl0ZW0oYXZhaWxZKTtcbiAgICAgICAgdGhpcy5fbWFwW3hdW3ldID0gMTtcbiAgICAgICAgbGV0IHdhbGxzID0gW107XG4gICAgICAgIGxldCB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIGxlZnQgcGFydCAqL1xuICAgICAgICBmb3IgKGxldCBpID0gcm9vbVswXTsgaSA8IHg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW2ldW3ldID0gMTtcbiAgICAgICAgICAgIGlmIChpICUgMilcbiAgICAgICAgICAgICAgICB3LnB1c2goW2ksIHldKTtcbiAgICAgICAgfVxuICAgICAgICB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIHJpZ2h0IHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IHggKyAxOyBpIDw9IHJvb21bMl07IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW2ldW3ldID0gMTtcbiAgICAgICAgICAgIGlmIChpICUgMilcbiAgICAgICAgICAgICAgICB3LnB1c2goW2ksIHldKTtcbiAgICAgICAgfVxuICAgICAgICB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIHRvcCBwYXJ0ICovXG4gICAgICAgIGZvciAobGV0IGogPSByb29tWzFdOyBqIDwgeTsgaisrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeF1bal0gPSAxO1xuICAgICAgICAgICAgaWYgKGogJSAyKVxuICAgICAgICAgICAgICAgIHcucHVzaChbeCwgal0pO1xuICAgICAgICB9XG4gICAgICAgIHcgPSBbXTtcbiAgICAgICAgd2FsbHMucHVzaCh3KTsgLyogYm90dG9tIHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaiA9IHkgKyAxOyBqIDw9IHJvb21bM107IGorKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW3hdW2pdID0gMTtcbiAgICAgICAgICAgIGlmIChqICUgMilcbiAgICAgICAgICAgICAgICB3LnB1c2goW3gsIGpdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc29saWQgPSBSTkcuZ2V0SXRlbSh3YWxscyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB3ID0gd2FsbHNbaV07XG4gICAgICAgICAgICBpZiAodyA9PSBzb2xpZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGhvbGUgPSBSTkcuZ2V0SXRlbSh3KTtcbiAgICAgICAgICAgIHRoaXMuX21hcFtob2xlWzBdXVtob2xlWzFdXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgcm9vbVsxXSwgeCAtIDEsIHkgLSAxXSk7IC8qIGxlZnQgdG9wICovXG4gICAgICAgIHRoaXMuX3N0YWNrLnB1c2goW3ggKyAxLCByb29tWzFdLCByb29tWzJdLCB5IC0gMV0pOyAvKiByaWdodCB0b3AgKi9cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgeSArIDEsIHggLSAxLCByb29tWzNdXSk7IC8qIGxlZnQgYm90dG9tICovXG4gICAgICAgIHRoaXMuX3N0YWNrLnB1c2goW3ggKyAxLCB5ICsgMSwgcm9vbVsyXSwgcm9vbVszXV0pOyAvKiByaWdodCBib3R0b20gKi9cbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG4vKipcbiAqIEljZXkncyBNYXplIGdlbmVyYXRvclxuICogU2VlIGh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPVNpbXBsZV9tYXplIGZvciBleHBsYW5hdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY2V5TWF6ZSBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgcmVndWxhcml0eSA9IDApIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX3JlZ3VsYXJpdHkgPSByZWd1bGFyaXR5O1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgd2lkdGggLT0gKHdpZHRoICUgMiA/IDEgOiAyKTtcbiAgICAgICAgaGVpZ2h0IC09IChoZWlnaHQgJSAyID8gMSA6IDIpO1xuICAgICAgICBsZXQgY3ggPSAwO1xuICAgICAgICBsZXQgY3kgPSAwO1xuICAgICAgICBsZXQgbnggPSAwO1xuICAgICAgICBsZXQgbnkgPSAwO1xuICAgICAgICBsZXQgZG9uZSA9IDA7XG4gICAgICAgIGxldCBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBkaXJzID0gW1xuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdXG4gICAgICAgIF07XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN4ID0gMSArIDIgKiBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiAod2lkdGggLSAxKSAvIDIpO1xuICAgICAgICAgICAgY3kgPSAxICsgMiAqIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIChoZWlnaHQgLSAxKSAvIDIpO1xuICAgICAgICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgICAgICAgICAgbWFwW2N4XVtjeV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXBbY3hdW2N5XSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JhbmRvbWl6ZShkaXJzKTtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiAodGhpcy5fcmVndWxhcml0eSArIDEpKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5kb21pemUoZGlycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBueCA9IGN4ICsgZGlyc1tpXVswXSAqIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBueSA9IGN5ICsgZGlyc1tpXVsxXSAqIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNGcmVlKG1hcCwgbngsIG55LCB3aWR0aCwgaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtueF1bbnldID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBbY3ggKyBkaXJzW2ldWzBdXVtjeSArIGRpcnNbaV1bMV1dID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCA9IG54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5ID0gbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFibG9ja2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZG9uZSArIDEgPCB3aWR0aCAqIGhlaWdodCAvIDQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3JhbmRvbWl6ZShkaXJzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICBkaXJzW2ldWzBdID0gMDtcbiAgICAgICAgICAgIGRpcnNbaV1bMV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogNCkpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkaXJzWzBdWzBdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1sxXVswXSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyc1syXVsxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbM11bMV0gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGRpcnNbM11bMF0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzJdWzBdID0gMTtcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzFdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1swXVsxXSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGlyc1syXVswXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbM11bMF0gPSAxO1xuICAgICAgICAgICAgICAgIGRpcnNbMF1bMV0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzFdID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzBdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1swXVswXSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyc1szXVsxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbMl1bMV0gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc0ZyZWUobWFwLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4ID49IHdpZHRoIHx8IHkgPj0gaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcFt4XVt5XTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG5pbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuLyoqXG4gKiBEdW5nZW9uIGdlbmVyYXRvciB3aGljaCB1c2VzIHRoZSBcIm9yZ2luYWxcIiBSb2d1ZSBkdW5nZW9uIGdlbmVyYXRpb24gYWxnb3JpdGhtLiBTZWUgaHR0cDovL2t1b2kuY29tL35rYW1pa2F6ZS9HYW1lRGVzaWduL2FydDA3X3JvZ3VlX2R1bmdlb24ucGhwXG4gKiBAYXV0aG9yIGh5YWt1Z2VpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvZ3VlIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLm1hcCA9IFtdO1xuICAgICAgICB0aGlzLnJvb21zID0gW107XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ2VsbHMgPSBbXTtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2VsbFdpZHRoOiAzLFxuICAgICAgICAgICAgY2VsbEhlaWdodDogMyAvLyAgICAgaWUuIGFzIGFuIGFycmF5IHdpdGggbWluLW1heCB2YWx1ZXMgZm9yIGVhY2ggZGlyZWN0aW9uLi4uLlxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgLypcbiAgICAgICAgU2V0IHRoZSByb29tIHNpemVzIGFjY29yZGluZyB0byB0aGUgb3Zlci1hbGwgd2lkdGggb2YgdGhlIG1hcCxcbiAgICAgICAgYW5kIHRoZSBjZWxsIHNpemVzLlxuICAgICAgICAqL1xuICAgICAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tV2lkdGhcIikpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbXCJyb29tV2lkdGhcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl93aWR0aCwgb3B0aW9uc1tcImNlbGxXaWR0aFwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KFwicm9vbUhlaWdodFwiKSkge1xuICAgICAgICAgICAgb3B0aW9uc1tcInJvb21IZWlnaHRcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl9oZWlnaHQsIG9wdGlvbnNbXCJjZWxsSGVpZ2h0XCJdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgdGhpcy5yb29tcyA9IFtdO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENlbGxzID0gW107XG4gICAgICAgIHRoaXMuX2luaXRSb29tcygpO1xuICAgICAgICB0aGlzLl9jb25uZWN0Um9vbXMoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdFVuY29ubmVjdGVkUm9vbXMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVJvb21zKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvcnJpZG9ycygpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaSwgaiwgdGhpcy5tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2NhbGN1bGF0ZVJvb21TaXplKHNpemUsIGNlbGwpIHtcbiAgICAgICAgbGV0IG1heCA9IE1hdGguZmxvb3IoKHNpemUgLyBjZWxsKSAqIDAuOCk7XG4gICAgICAgIGxldCBtaW4gPSBNYXRoLmZsb29yKChzaXplIC8gY2VsbCkgKiAwLjI1KTtcbiAgICAgICAgaWYgKG1pbiA8IDIpIHtcbiAgICAgICAgICAgIG1pbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heCA8IDIpIHtcbiAgICAgICAgICAgIG1heCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFttaW4sIG1heF07XG4gICAgfVxuICAgIF9pbml0Um9vbXMoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSByb29tcyBhcnJheS4gVGhpcyBpcyB0aGUgXCJncmlkXCIgbGlzdCBmcm9tIHRoZSBhbGdvLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm9vbXMucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXS5wdXNoKHsgXCJ4XCI6IDAsIFwieVwiOiAwLCBcIndpZHRoXCI6IDAsIFwiaGVpZ2h0XCI6IDAsIFwiY29ubmVjdGlvbnNcIjogW10sIFwiY2VsbHhcIjogaSwgXCJjZWxseVwiOiBqIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jb25uZWN0Um9vbXMoKSB7XG4gICAgICAgIC8vcGljayByYW5kb20gc3RhcnRpbmcgZ3JpZFxuICAgICAgICBsZXQgY2d4ID0gUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGggLSAxKTtcbiAgICAgICAgbGV0IGNneSA9IFJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodCAtIDEpO1xuICAgICAgICBsZXQgaWR4O1xuICAgICAgICBsZXQgbmNneDtcbiAgICAgICAgbGV0IG5jZ3k7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcm9vbTtcbiAgICAgICAgbGV0IG90aGVyUm9vbTtcbiAgICAgICAgbGV0IGRpclRvQ2hlY2s7XG4gICAgICAgIC8vIGZpbmQgIHVuY29ubmVjdGVkIG5laWdoYm91ciBjZWxsc1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvL2RpclRvQ2hlY2sgPSBbMCwgMSwgMiwgMywgNCwgNSwgNiwgN107XG4gICAgICAgICAgICBkaXJUb0NoZWNrID0gWzAsIDIsIDQsIDZdO1xuICAgICAgICAgICAgZGlyVG9DaGVjayA9IFJORy5zaHVmZmxlKGRpclRvQ2hlY2spO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWR4ID0gZGlyVG9DaGVjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBuY2d4ID0gY2d4ICsgRElSU1s4XVtpZHhdWzBdO1xuICAgICAgICAgICAgICAgIG5jZ3kgPSBjZ3kgKyBESVJTWzhdW2lkeF1bMV07XG4gICAgICAgICAgICAgICAgaWYgKG5jZ3ggPCAwIHx8IG5jZ3ggPj0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuY2d5IDwgMCB8fCBuY2d5ID49IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm9vbSA9IHRoaXMucm9vbXNbY2d4XVtjZ3ldO1xuICAgICAgICAgICAgICAgIGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBsb25nIGFzIHRoaXMgcm9vbSBkb2Vzbid0IGFscmVhZHkgY29vbmVjdCB0byBtZSwgd2UgYXJlIG9rIHdpdGggaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMF0gPT0gbmNneCAmJiByb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMV0gPT0gbmNneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tuY2d4XVtuY2d5XTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaChbY2d4LCBjZ3ldKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRDZWxscy5wdXNoKFtuY2d4LCBuY2d5XSk7XG4gICAgICAgICAgICAgICAgICAgIGNneCA9IG5jZ3g7XG4gICAgICAgICAgICAgICAgICAgIGNneSA9IG5jZ3k7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDAgJiYgZm91bmQgPT0gZmFsc2UpO1xuICAgICAgICB9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDApO1xuICAgIH1cbiAgICBfY29ubmVjdFVuY29ubmVjdGVkUm9vbXMoKSB7XG4gICAgICAgIC8vV2hpbGUgdGhlcmUgYXJlIHVuY29ubmVjdGVkIHJvb21zLCB0cnkgdG8gY29ubmVjdCB0aGVtIHRvIGEgcmFuZG9tIGNvbm5lY3RlZCBuZWlnaGJvclxuICAgICAgICAvLyhpZiBhIHJvb20gaGFzIG5vIGNvbm5lY3RlZCBuZWlnaGJvcnMgeWV0LCBqdXN0IGtlZXAgY3ljbGluZywgeW91J2xsIGZpbGwgb3V0IHRvIGl0IGV2ZW50dWFsbHkpLlxuICAgICAgICBsZXQgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENlbGxzID0gUk5HLnNodWZmbGUodGhpcy5jb25uZWN0ZWRDZWxscyk7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBsZXQgb3RoZXJSb29tO1xuICAgICAgICBsZXQgdmFsaWRSb29tO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICByb29tID0gdGhpcy5yb29tc1tpXVtqXTtcbiAgICAgICAgICAgICAgICBpZiAocm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXJlY3Rpb25zID0gWzAsIDIsIDQsIDZdO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25zID0gUk5HLnNodWZmbGUoZGlyZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkUm9vbSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlySWR4ID0gZGlyZWN0aW9ucy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJID0gaSArIERJUlNbOF1bZGlySWR4XVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdKID0gaiArIERJUlNbOF1bZGlySWR4XVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJIDwgMCB8fCBuZXdJID49IGN3IHx8IG5ld0ogPCAwIHx8IG5ld0ogPj0gY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmV3SV1bbmV3Sl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFJvb20gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdWzBdID09IGkgJiYgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMV0gPT0gaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFJvb20gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUm9vbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChkaXJlY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFJvb20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21bXCJjb25uZWN0aW9uc1wiXS5wdXNoKFtvdGhlclJvb21bXCJjZWxseFwiXSwgb3RoZXJSb29tW1wiY2VsbHlcIl1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0gVW5hYmxlIHRvIGNvbm5lY3Qgcm9vbS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucygpIHtcbiAgICAgICAgLy8gRW1wdHkgZm9yIG5vdy5cbiAgICB9XG4gICAgX2NyZWF0ZVJvb21zKCkge1xuICAgICAgICBsZXQgdyA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgbGV0IGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG4gICAgICAgIGxldCBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcbiAgICAgICAgbGV0IGN3cCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGggLyBjdyk7XG4gICAgICAgIGxldCBjaHAgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodCAvIGNoKTtcbiAgICAgICAgbGV0IHJvb213O1xuICAgICAgICBsZXQgcm9vbWg7XG4gICAgICAgIGxldCByb29tV2lkdGggPSB0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdO1xuICAgICAgICBsZXQgcm9vbUhlaWdodCA9IHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdO1xuICAgICAgICBsZXQgc3g7XG4gICAgICAgIGxldCBzeTtcbiAgICAgICAgbGV0IG90aGVyUm9vbTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdzsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzeCA9IGN3cCAqIGk7XG4gICAgICAgICAgICAgICAgc3kgPSBjaHAgKiBqO1xuICAgICAgICAgICAgICAgIGlmIChzeCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN4ID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN5ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb29tdyA9IFJORy5nZXRVbmlmb3JtSW50KHJvb21XaWR0aFswXSwgcm9vbVdpZHRoWzFdKTtcbiAgICAgICAgICAgICAgICByb29taCA9IFJORy5nZXRVbmlmb3JtSW50KHJvb21IZWlnaHRbMF0sIHJvb21IZWlnaHRbMV0pO1xuICAgICAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdGhlclJvb20gPSB0aGlzLnJvb21zW2ldW2ogLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN5IC0gKG90aGVyUm9vbVtcInlcIl0gKyBvdGhlclJvb21bXCJoZWlnaHRcIl0pIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3krKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tpIC0gMV1bal07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzeCAtIChvdGhlclJvb21bXCJ4XCJdICsgb3RoZXJSb29tW1wid2lkdGhcIl0pIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3grKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc3hPZmZzZXQgPSBNYXRoLnJvdW5kKFJORy5nZXRVbmlmb3JtSW50KDAsIGN3cCAtIHJvb213KSAvIDIpO1xuICAgICAgICAgICAgICAgIGxldCBzeU9mZnNldCA9IE1hdGgucm91bmQoUk5HLmdldFVuaWZvcm1JbnQoMCwgY2hwIC0gcm9vbWgpIC8gMik7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN4ICsgc3hPZmZzZXQgKyByb29tdyA+PSB3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzeE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3hPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb213LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN5ICsgc3lPZmZzZXQgKyByb29taCA+PSBoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzeU9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3lPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21oLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ggPSBzeCArIHN4T2Zmc2V0O1xuICAgICAgICAgICAgICAgIHN5ID0gc3kgKyBzeU9mZnNldDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb21zW2ldW2pdW1wieFwiXSA9IHN4O1xuICAgICAgICAgICAgICAgIHRoaXMucm9vbXNbaV1bal1bXCJ5XCJdID0gc3k7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXVtqXVtcIndpZHRoXCJdID0gcm9vbXc7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXVtqXVtcImhlaWdodFwiXSA9IHJvb21oO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gc3g7IGlpIDwgc3ggKyByb29tdzsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqaiA9IHN5OyBqaiA8IHN5ICsgcm9vbWg7IGpqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwW2lpXVtqal0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRXYWxsUG9zaXRpb24oYVJvb20sIGFEaXJlY3Rpb24pIHtcbiAgICAgICAgbGV0IHJ4O1xuICAgICAgICBsZXQgcnk7XG4gICAgICAgIGxldCBkb29yO1xuICAgICAgICBpZiAoYURpcmVjdGlvbiA9PSAxIHx8IGFEaXJlY3Rpb24gPT0gMykge1xuICAgICAgICAgICAgcnggPSBSTkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInhcIl0gKyAxLCBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdIC0gMik7XG4gICAgICAgICAgICBpZiAoYURpcmVjdGlvbiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcnkgPSBhUm9vbVtcInlcIl0gLSAyO1xuICAgICAgICAgICAgICAgIGRvb3IgPSByeSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByeSA9IGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdICsgMTtcbiAgICAgICAgICAgICAgICBkb29yID0gcnkgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXBbcnhdW2Rvb3JdID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLlxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcnkgPSBSTkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInlcIl0gKyAxLCBhUm9vbVtcInlcIl0gKyBhUm9vbVtcImhlaWdodFwiXSAtIDIpO1xuICAgICAgICAgICAgaWYgKGFEaXJlY3Rpb24gPT0gMikge1xuICAgICAgICAgICAgICAgIHJ4ID0gYVJvb21bXCJ4XCJdICsgYVJvb21bXCJ3aWR0aFwiXSArIDE7XG4gICAgICAgICAgICAgICAgZG9vciA9IHJ4IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJ4ID0gYVJvb21bXCJ4XCJdIC0gMjtcbiAgICAgICAgICAgICAgICBkb29yID0gcnggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXBbZG9vcl1bcnldID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcngsIHJ5XTtcbiAgICB9XG4gICAgX2RyYXdDb3JyaWRvcihzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xuICAgICAgICBsZXQgeE9mZnNldCA9IGVuZFBvc2l0aW9uWzBdIC0gc3RhcnRQb3NpdGlvblswXTtcbiAgICAgICAgbGV0IHlPZmZzZXQgPSBlbmRQb3NpdGlvblsxXSAtIHN0YXJ0UG9zaXRpb25bMV07XG4gICAgICAgIGxldCB4cG9zID0gc3RhcnRQb3NpdGlvblswXTtcbiAgICAgICAgbGV0IHlwb3MgPSBzdGFydFBvc2l0aW9uWzFdO1xuICAgICAgICBsZXQgdGVtcERpc3Q7XG4gICAgICAgIGxldCB4RGlyO1xuICAgICAgICBsZXQgeURpcjtcbiAgICAgICAgbGV0IG1vdmU7IC8vIDIgZWxlbWVudCBhcnJheSwgZWxlbWVudCAwIGlzIHRoZSBkaXJlY3Rpb24sIGVsZW1lbnQgMSBpcyB0aGUgdG90YWwgdmFsdWUgdG8gbW92ZS5cbiAgICAgICAgbGV0IG1vdmVzID0gW107IC8vIGEgbGlzdCBvZiAyIGVsZW1lbnQgYXJyYXlzXG4gICAgICAgIGxldCB4QWJzID0gTWF0aC5hYnMoeE9mZnNldCk7XG4gICAgICAgIGxldCB5QWJzID0gTWF0aC5hYnMoeU9mZnNldCk7XG4gICAgICAgIGxldCBwZXJjZW50ID0gUk5HLmdldFVuaWZvcm0oKTsgLy8gdXNlZCB0byBzcGxpdCB0aGUgbW92ZSBhdCBkaWZmZXJlbnQgcGxhY2VzIGFsb25nIHRoZSBsb25nIGF4aXNcbiAgICAgICAgbGV0IGZpcnN0SGFsZiA9IHBlcmNlbnQ7XG4gICAgICAgIGxldCBzZWNvbmRIYWxmID0gMSAtIHBlcmNlbnQ7XG4gICAgICAgIHhEaXIgPSB4T2Zmc2V0ID4gMCA/IDIgOiA2O1xuICAgICAgICB5RGlyID0geU9mZnNldCA+IDAgPyA0IDogMDtcbiAgICAgICAgaWYgKHhBYnMgPCB5QWJzKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeSBvZmZzZXRcbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5jZWlsKHlBYnMgKiBmaXJzdEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgYWxsIHRoZSB4IG9mZnNldFxuICAgICAgICAgICAgbW92ZXMucHVzaChbeERpciwgeEFic10pO1xuICAgICAgICAgICAgLy8gbW92ZSBzZW5kSGFsZiBvZiB0aGUgIHkgb2Zmc2V0XG4gICAgICAgICAgICB0ZW1wRGlzdCA9IE1hdGguZmxvb3IoeUFicyAqIHNlY29uZEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vICBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeCBvZmZzZXRcbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5jZWlsKHhBYnMgKiBmaXJzdEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgYWxsIHRoZSB5IG9mZnNldFxuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgeUFic10pO1xuICAgICAgICAgICAgLy8gbW92ZSBzZWNvbmRIYWxmIG9mIHRoZSB4IG9mZnNldC5cbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5mbG9vcih4QWJzICogc2Vjb25kSGFsZik7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt4RGlyLCB0ZW1wRGlzdF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwW3hwb3NdW3lwb3NdID0gMDtcbiAgICAgICAgd2hpbGUgKG1vdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1vdmUgPSBtb3Zlcy5wb3AoKTtcbiAgICAgICAgICAgIHdoaWxlIChtb3ZlWzFdID4gMCkge1xuICAgICAgICAgICAgICAgIHhwb3MgKz0gRElSU1s4XVttb3ZlWzBdXVswXTtcbiAgICAgICAgICAgICAgICB5cG9zICs9IERJUlNbOF1bbW92ZVswXV1bMV07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuICAgICAgICAgICAgICAgIG1vdmVbMV0gPSBtb3ZlWzFdIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY3JlYXRlQ29ycmlkb3JzKCkge1xuICAgICAgICAvLyBEcmF3IENvcnJpZG9ycyBiZXR3ZWVuIGNvbm5lY3RlZCByb29tc1xuICAgICAgICBsZXQgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuICAgICAgICBsZXQgcm9vbTtcbiAgICAgICAgbGV0IGNvbm5lY3Rpb247XG4gICAgICAgIGxldCBvdGhlclJvb207XG4gICAgICAgIGxldCB3YWxsO1xuICAgICAgICBsZXQgb3RoZXJXYWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2g7IGorKykge1xuICAgICAgICAgICAgICAgIHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSByb29tW1wiY29ubmVjdGlvbnNcIl1ba107XG4gICAgICAgICAgICAgICAgICAgIG90aGVyUm9vbSA9IHRoaXMucm9vbXNbY29ubmVjdGlvblswXV1bY29ubmVjdGlvblsxXV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIHN0YXJ0IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmlndXJlIG91dCB3aGF0IHdhbGwgb3VyIGNvcnJpZG9yIHdpbGwgZW5kIG9uLlxuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY2VsbHhcIl0gPiByb29tW1wiY2VsbHhcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGwgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJXYWxsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA8IHJvb21bXCJjZWxseFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FsbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlcldhbGwgPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG90aGVyUm9vbVtcImNlbGx5XCJdID4gcm9vbVtcImNlbGx5XCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyV2FsbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyV2FsbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd0NvcnJpZG9yKHRoaXMuX2dldFdhbGxQb3NpdGlvbihyb29tLCB3YWxsKSwgdGhpcy5fZ2V0V2FsbFBvc2l0aW9uKG90aGVyUm9vbSwgb3RoZXJXYWxsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IE5vaXNlIGZyb20gXCIuL25vaXNlLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbmltcG9ydCB7IG1vZCB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5jb25zdCBGMiA9IDAuNSAqIChNYXRoLnNxcnQoMykgLSAxKTtcbmNvbnN0IEcyID0gKDMgLSBNYXRoLnNxcnQoMykpIC8gNjtcbi8qKlxuICogQSBzaW1wbGUgMmQgaW1wbGVtZW50YXRpb24gb2Ygc2ltcGxleCBub2lzZSBieSBPbmRyZWogWmFyYVxuICpcbiAqIEJhc2VkIG9uIGEgc3BlZWQtaW1wcm92ZWQgc2ltcGxleCBub2lzZSBhbGdvcml0aG0gZm9yIDJELCAzRCBhbmQgNEQgaW4gSmF2YS5cbiAqIFdoaWNoIGlzIGJhc2VkIG9uIGV4YW1wbGUgY29kZSBieSBTdGVmYW4gR3VzdGF2c29uIChzdGVndUBpdG4ubGl1LnNlKS5cbiAqIFdpdGggT3B0aW1pc2F0aW9ucyBieSBQZXRlciBFYXN0bWFuIChwZWFzdG1hbkBkcml6emxlLnN0YW5mb3JkLmVkdSkuXG4gKiBCZXR0ZXIgcmFuayBvcmRlcmluZyBtZXRob2QgYnkgU3RlZmFuIEd1c3RhdnNvbiBpbiAyMDEyLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGV4IGV4dGVuZHMgTm9pc2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBncmFkaWVudHMgUmFuZG9tIGdyYWRpZW50c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdyYWRpZW50cyA9IDI1Nikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9ncmFkaWVudHMgPSBbXG4gICAgICAgICAgICBbMCwgLTFdLFxuICAgICAgICAgICAgWzEsIC0xXSxcbiAgICAgICAgICAgIFsxLCAwXSxcbiAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgIFstMSwgMV0sXG4gICAgICAgICAgICBbLTEsIDBdLFxuICAgICAgICAgICAgWy0xLCAtMV1cbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHBlcm11dGF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyYWRpZW50czsgaSsrKSB7XG4gICAgICAgICAgICBwZXJtdXRhdGlvbnMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICBwZXJtdXRhdGlvbnMgPSBSTkcuc2h1ZmZsZShwZXJtdXRhdGlvbnMpO1xuICAgICAgICB0aGlzLl9wZXJtcyA9IFtdO1xuICAgICAgICB0aGlzLl9pbmRleGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMiAqIGdyYWRpZW50czsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9wZXJtcy5wdXNoKHBlcm11dGF0aW9uc1tpICUgZ3JhZGllbnRzXSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleGVzLnB1c2godGhpcy5fcGVybXNbaV0gJSB0aGlzLl9ncmFkaWVudHMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoeGluLCB5aW4pIHtcbiAgICAgICAgbGV0IHBlcm1zID0gdGhpcy5fcGVybXM7XG4gICAgICAgIGxldCBpbmRleGVzID0gdGhpcy5faW5kZXhlcztcbiAgICAgICAgbGV0IGNvdW50ID0gcGVybXMubGVuZ3RoIC8gMjtcbiAgICAgICAgbGV0IG4wID0gMCwgbjEgPSAwLCBuMiA9IDAsIGdpOyAvLyBOb2lzZSBjb250cmlidXRpb25zIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcbiAgICAgICAgLy8gU2tldyB0aGUgaW5wdXQgc3BhY2UgdG8gZGV0ZXJtaW5lIHdoaWNoIHNpbXBsZXggY2VsbCB3ZSdyZSBpblxuICAgICAgICBsZXQgcyA9ICh4aW4gKyB5aW4pICogRjI7IC8vIEhhaXJ5IGZhY3RvciBmb3IgMkRcbiAgICAgICAgbGV0IGkgPSBNYXRoLmZsb29yKHhpbiArIHMpO1xuICAgICAgICBsZXQgaiA9IE1hdGguZmxvb3IoeWluICsgcyk7XG4gICAgICAgIGxldCB0ID0gKGkgKyBqKSAqIEcyO1xuICAgICAgICBsZXQgWDAgPSBpIC0gdDsgLy8gVW5za2V3IHRoZSBjZWxsIG9yaWdpbiBiYWNrIHRvICh4LHkpIHNwYWNlXG4gICAgICAgIGxldCBZMCA9IGogLSB0O1xuICAgICAgICBsZXQgeDAgPSB4aW4gLSBYMDsgLy8gVGhlIHgseSBkaXN0YW5jZXMgZnJvbSB0aGUgY2VsbCBvcmlnaW5cbiAgICAgICAgbGV0IHkwID0geWluIC0gWTA7XG4gICAgICAgIC8vIEZvciB0aGUgMkQgY2FzZSwgdGhlIHNpbXBsZXggc2hhcGUgaXMgYW4gZXF1aWxhdGVyYWwgdHJpYW5nbGUuXG4gICAgICAgIC8vIERldGVybWluZSB3aGljaCBzaW1wbGV4IHdlIGFyZSBpbi5cbiAgICAgICAgbGV0IGkxLCBqMTsgLy8gT2Zmc2V0cyBmb3Igc2Vjb25kIChtaWRkbGUpIGNvcm5lciBvZiBzaW1wbGV4IGluIChpLGopIGNvb3Jkc1xuICAgICAgICBpZiAoeDAgPiB5MCkge1xuICAgICAgICAgICAgaTEgPSAxO1xuICAgICAgICAgICAgajEgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBsb3dlciB0cmlhbmdsZSwgWFkgb3JkZXI6ICgwLDApLT4oMSwwKS0+KDEsMSlcbiAgICAgICAgICAgIGkxID0gMDtcbiAgICAgICAgICAgIGoxID0gMTtcbiAgICAgICAgfSAvLyB1cHBlciB0cmlhbmdsZSwgWVggb3JkZXI6ICgwLDApLT4oMCwxKS0+KDEsMSlcbiAgICAgICAgLy8gQSBzdGVwIG9mICgxLDApIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoMS1jLC1jKSBpbiAoeCx5KSwgYW5kXG4gICAgICAgIC8vIGEgc3RlcCBvZiAoMCwxKSBpbiAoaSxqKSBtZWFucyBhIHN0ZXAgb2YgKC1jLDEtYykgaW4gKHgseSksIHdoZXJlXG4gICAgICAgIC8vIGMgPSAoMy1zcXJ0KDMpKS82XG4gICAgICAgIGxldCB4MSA9IHgwIC0gaTEgKyBHMjsgLy8gT2Zmc2V0cyBmb3IgbWlkZGxlIGNvcm5lciBpbiAoeCx5KSB1bnNrZXdlZCBjb29yZHNcbiAgICAgICAgbGV0IHkxID0geTAgLSBqMSArIEcyO1xuICAgICAgICBsZXQgeDIgPSB4MCAtIDEgKyAyICogRzI7IC8vIE9mZnNldHMgZm9yIGxhc3QgY29ybmVyIGluICh4LHkpIHVuc2tld2VkIGNvb3Jkc1xuICAgICAgICBsZXQgeTIgPSB5MCAtIDEgKyAyICogRzI7XG4gICAgICAgIC8vIFdvcmsgb3V0IHRoZSBoYXNoZWQgZ3JhZGllbnQgaW5kaWNlcyBvZiB0aGUgdGhyZWUgc2ltcGxleCBjb3JuZXJzXG4gICAgICAgIGxldCBpaSA9IG1vZChpLCBjb3VudCk7XG4gICAgICAgIGxldCBqaiA9IG1vZChqLCBjb3VudCk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29udHJpYnV0aW9uIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcbiAgICAgICAgbGV0IHQwID0gMC41IC0geDAgKiB4MCAtIHkwICogeTA7XG4gICAgICAgIGlmICh0MCA+PSAwKSB7XG4gICAgICAgICAgICB0MCAqPSB0MDtcbiAgICAgICAgICAgIGdpID0gaW5kZXhlc1tpaSArIHBlcm1zW2pqXV07XG4gICAgICAgICAgICBsZXQgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG4gICAgICAgICAgICBuMCA9IHQwICogdDAgKiAoZ3JhZFswXSAqIHgwICsgZ3JhZFsxXSAqIHkwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdDEgPSAwLjUgLSB4MSAqIHgxIC0geTEgKiB5MTtcbiAgICAgICAgaWYgKHQxID49IDApIHtcbiAgICAgICAgICAgIHQxICo9IHQxO1xuICAgICAgICAgICAgZ2kgPSBpbmRleGVzW2lpICsgaTEgKyBwZXJtc1tqaiArIGoxXV07XG4gICAgICAgICAgICBsZXQgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG4gICAgICAgICAgICBuMSA9IHQxICogdDEgKiAoZ3JhZFswXSAqIHgxICsgZ3JhZFsxXSAqIHkxKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdDIgPSAwLjUgLSB4MiAqIHgyIC0geTIgKiB5MjtcbiAgICAgICAgaWYgKHQyID49IDApIHtcbiAgICAgICAgICAgIHQyICo9IHQyO1xuICAgICAgICAgICAgZ2kgPSBpbmRleGVzW2lpICsgMSArIHBlcm1zW2pqICsgMV1dO1xuICAgICAgICAgICAgbGV0IGdyYWQgPSB0aGlzLl9ncmFkaWVudHNbZ2ldO1xuICAgICAgICAgICAgbjIgPSB0MiAqIHQyICogKGdyYWRbMF0gKiB4MiArIGdyYWRbMV0gKiB5Mik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGNvbnRyaWJ1dGlvbnMgZnJvbSBlYWNoIGNvcm5lciB0byBnZXQgdGhlIGZpbmFsIG5vaXNlIHZhbHVlLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIHNjYWxlZCB0byByZXR1cm4gdmFsdWVzIGluIHRoZSBpbnRlcnZhbCBbLTEsMV0uXG4gICAgICAgIHJldHVybiA3MCAqIChuMCArIG4xICsgbjIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERJUlMgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBwYXRoZmluZGVyXG4gKiBAcGFyYW0ge2ludH0gdG9YIFRhcmdldCBYIGNvb3JkXG4gKiBAcGFyYW0ge2ludH0gdG9ZIFRhcmdldCBZIGNvb3JkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXNzYWJsZUNhbGxiYWNrIENhbGxiYWNrIHRvIGRldGVybWluZSBtYXAgcGFzc2FiaWxpdHlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXRoIHtcbiAgICBjb25zdHJ1Y3Rvcih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX3RvWCA9IHRvWDtcbiAgICAgICAgdGhpcy5fdG9ZID0gdG9ZO1xuICAgICAgICB0aGlzLl9wYXNzYWJsZUNhbGxiYWNrID0gcGFzc2FibGVDYWxsYmFjaztcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdG9wb2xvZ3k6IDhcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2RpcnMgPSBESVJTW3RoaXMuX29wdGlvbnMudG9wb2xvZ3ldO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA4KSB7IC8qIHJlb3JkZXIgZGlycyBmb3IgbW9yZSBhZXN0aGV0aWMgcmVzdWx0ICh2ZXJ0aWNhbC9ob3Jpem9udGFsIGZpcnN0KSAqL1xuICAgICAgICAgICAgdGhpcy5fZGlycyA9IFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzBdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbMl0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1s0XSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzZdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbMV0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1szXSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzVdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbN11cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldE5laWdoYm9ycyhjeCwgY3kpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkaXIgPSB0aGlzLl9kaXJzW2ldO1xuICAgICAgICAgICAgbGV0IHggPSBjeCArIGRpclswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkaXJbMV07XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Bhc3NhYmxlQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt4LCB5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLCJpbXBvcnQgRGlqa3N0cmEgZnJvbSBcIi4vZGlqa3N0cmEuanNcIjtcbmltcG9ydCBBU3RhciBmcm9tIFwiLi9hc3Rhci5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgeyBEaWprc3RyYSwgQVN0YXIgfTtcbiIsImltcG9ydCBQYXRoIGZyb20gXCIuL3BhdGguanNcIjtcbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgRGlqa3N0cmEncyBhbGdvcml0aG06IGFsbCBlZGdlcyBoYXZlIGEgdmFsdWUgb2YgMVxuICogQGF1Z21lbnRzIFJPVC5QYXRoXG4gKiBAc2VlIFJPVC5QYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpamtzdHJhIGV4dGVuZHMgUGF0aCB7XG4gICAgY29uc3RydWN0b3IodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9jb21wdXRlZCA9IHt9O1xuICAgICAgICB0aGlzLl90b2RvID0gW107XG4gICAgICAgIHRoaXMuX2FkZCh0b1gsIHRvWSwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICAgICAqIEBzZWUgUk9ULlBhdGgjY29tcHV0ZVxuICAgICAqL1xuICAgIGNvbXB1dGUoZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQga2V5ID0gZnJvbVggKyBcIixcIiArIGZyb21ZO1xuICAgICAgICBpZiAoIShrZXkgaW4gdGhpcy5fY29tcHV0ZWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21wdXRlKGZyb21YLCBmcm9tWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5fY29tcHV0ZWRba2V5XTtcbiAgICAgICAgd2hpbGUgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnByZXY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIG5vbi1jYWNoZWQgdmFsdWVcbiAgICAgKi9cbiAgICBfY29tcHV0ZShmcm9tWCwgZnJvbVkpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3RvZG8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChpdGVtLnggPT0gZnJvbVggJiYgaXRlbS55ID09IGZyb21ZKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5laWdoYm9ycyA9IHRoaXMuX2dldE5laWdoYm9ycyhpdGVtLngsIGl0ZW0ueSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IG5laWdoYm9yWzBdO1xuICAgICAgICAgICAgICAgIGxldCB5ID0gbmVpZ2hib3JbMV07XG4gICAgICAgICAgICAgICAgbGV0IGlkID0geCArIFwiLFwiICsgeTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgaW4gdGhpcy5fY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSAvKiBhbHJlYWR5IGRvbmUgKi9cbiAgICAgICAgICAgICAgICB0aGlzLl9hZGQoeCwgeSwgaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZCh4LCB5LCBwcmV2KSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHByZXY6IHByZXZcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY29tcHV0ZWRbeCArIFwiLFwiICsgeV0gPSBvYmo7XG4gICAgICAgIHRoaXMuX3RvZG8ucHVzaChvYmopO1xuICAgIH1cbn1cbiIsImltcG9ydCBQYXRoIGZyb20gXCIuL3BhdGguanNcIjtcbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgQSogYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBU3RhciBleHRlbmRzIFBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90b2RvID0gW107XG4gICAgICAgIHRoaXMuX2RvbmUgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gICAgICogQHNlZSBST1QuUGF0aCNjb21wdXRlXG4gICAgICovXG4gICAgY29tcHV0ZShmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3RvZG8gPSBbXTtcbiAgICAgICAgdGhpcy5fZG9uZSA9IHt9O1xuICAgICAgICB0aGlzLl9mcm9tWCA9IGZyb21YO1xuICAgICAgICB0aGlzLl9mcm9tWSA9IGZyb21ZO1xuICAgICAgICB0aGlzLl9hZGQodGhpcy5fdG9YLCB0aGlzLl90b1ksIG51bGwpO1xuICAgICAgICB3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5fdG9kby5zaGlmdCgpO1xuICAgICAgICAgICAgbGV0IGlkID0gaXRlbS54ICsgXCIsXCIgKyBpdGVtLnk7XG4gICAgICAgICAgICBpZiAoaWQgaW4gdGhpcy5fZG9uZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZG9uZVtpZF0gPSBpdGVtO1xuICAgICAgICAgICAgaWYgKGl0ZW0ueCA9PSBmcm9tWCAmJiBpdGVtLnkgPT0gZnJvbVkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07XG4gICAgICAgICAgICAgICAgbGV0IHggPSBuZWlnaGJvclswXTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IG5laWdoYm9yWzFdO1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IHggKyBcIixcIiArIHk7XG4gICAgICAgICAgICAgICAgaWYgKGlkIGluIHRoaXMuX2RvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZCh4LCB5LCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX2RvbmVbZnJvbVggKyBcIixcIiArIGZyb21ZXTtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnByZXY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZCh4LCB5LCBwcmV2KSB7XG4gICAgICAgIGxldCBoID0gdGhpcy5fZGlzdGFuY2UoeCwgeSk7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHByZXY6IHByZXYsXG4gICAgICAgICAgICBnOiAocHJldiA/IHByZXYuZyArIDEgOiAwKSxcbiAgICAgICAgICAgIGg6IGhcbiAgICAgICAgfTtcbiAgICAgICAgLyogaW5zZXJ0IGludG8gcHJpb3JpdHkgcXVldWUgKi9cbiAgICAgICAgbGV0IGYgPSBvYmouZyArIG9iai5oO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RvZG8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5fdG9kb1tpXTtcbiAgICAgICAgICAgIGxldCBpdGVtRiA9IGl0ZW0uZyArIGl0ZW0uaDtcbiAgICAgICAgICAgIGlmIChmIDwgaXRlbUYgfHwgKGYgPT0gaXRlbUYgJiYgaCA8IGl0ZW0uaCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b2RvLnNwbGljZShpLCAwLCBvYmopO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90b2RvLnB1c2gob2JqKTtcbiAgICB9XG4gICAgX2Rpc3RhbmNlKHgsIHkpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5KSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLmFicyh4IC0gdGhpcy5fZnJvbVgpICsgTWF0aC5hYnMoeSAtIHRoaXMuX2Zyb21ZKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgbGV0IGR4ID0gTWF0aC5hYnMoeCAtIHRoaXMuX2Zyb21YKTtcbiAgICAgICAgICAgICAgICBsZXQgZHkgPSBNYXRoLmFicyh5IC0gdGhpcy5fZnJvbVkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkeSArIE1hdGgubWF4KDAsIChkeCAtIGR5KSAvIDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLmFicyh4IC0gdGhpcy5fZnJvbVgpLCBNYXRoLmFicyh5IC0gdGhpcy5fZnJvbVkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNvbnN0IHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbWVcIik7XHJcbmltcG9ydCAqIGFzIFJPVCBmcm9tIFwicm90LWpzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZ3JpZCA9IHtcclxuICAgIHdpZHRoOiA1MCxcclxuICAgIGhlaWdodDogMzQsXHJcbiAgXHJcbiAgICBtYXA6IHtcclxuICAgICAgd2lkdGg6IDIwLFxyXG4gICAgICBoZWlnaHQ6IDEwLFxyXG4gICAgICB4OiAxMCxcclxuICAgICAgeTogMyxcclxuICAgIH0sXHJcblxyXG4gICAgZW5lbWllczoge1xyXG4gICAgICB3aWR0aDoxMCxcclxuICAgICAgaGVpZ2h0OjEwLFxyXG4gICAgICB4OiAzMSxcclxuICAgICAgeTogM1xyXG4gICAgfSxcclxuXHJcbiAgICBhY3RpdmVQbGF5ZXI6IHtcclxuICAgICAgd2lkdGg6IDEwLFxyXG4gICAgICBoZWlnaHQ6IDIsXHJcbiAgICAgIHg6MSxcclxuICAgICAgeTozXHJcbiAgICB9LFxyXG5cclxuICAgIGRpZU1lbnU6IHtcclxuICAgICAgd2lkdGg6NTAsXHJcbiAgICAgIGhlaWdodDoyLFxyXG4gICAgICB4OiAxMCxcclxuICAgICAgeTogMTRcclxuICAgIH0sXHJcblxyXG4gICAgYWJpbGl0eU1lbnU6IHtcclxuICAgICAgd2lkdGg6MzAsXHJcbiAgICAgIGhlaWdodDoxLFxyXG4gICAgICB4OjEwLFxyXG4gICAgICB5OjE2XHJcbiAgICB9LFxyXG5cclxuICAgIHBoYXNlTWVudToge1xyXG4gICAgICB3aWR0aDogMjAsXHJcbiAgICAgIGhlaWdodDoxLFxyXG4gICAgICB4OiAxMixcclxuICAgICAgeTogMlxyXG4gICAgfSxcclxuXHJcbiAgICBoZWxwTWVudToge1xyXG4gICAgICB3aWR0aDo0MCxcclxuICAgICAgaGVpZ2h0OjMwXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRpc3BsYXlPcHRpb25zID0ge1xyXG4gICAgLy8gQ29uZmlndXJlIHRoZSBkaXNwbGF5XHJcbiAgICBiZzogXCJibGFja1wiLCAvLyBiYWNrZ3JvdW5kXHJcbiAgICBmZzogXCJHcmV5XCIsIC8vIGZvcmVncm91bmRcclxuICAgIGZvbnRGYW1pbHk6IFwiRmlyYSBNb25vXCIsIC8vIGZvbnQgKHVzZSBhIG1vbm9zcGFjZSBmb3IgZXN0aGV0aWNzKVxyXG4gICAgd2lkdGg6IGdyaWQud2lkdGgsXHJcbiAgICBoZWlnaHQ6IGdyaWQuaGVpZ2h0LCAvLyBjYW52YXMgaGVpZ2h0IGFuZCB3aWR0aFxyXG4gICAgZm9udFNpemU6IDE4LCAvLyBjYW52YXMgZm9udHNpemVcclxuICAgIGZvcmNlU3F1YXJlUmF0aW86IHRydWUgLy8gbWFrZSB0aGUgY2FudmFzIHNxdWFyZWQgcmF0aW9cclxuICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc3BsYXkgPSBuZXcgUk9ULkRpc3BsYXkoZGlzcGxheU9wdGlvbnMpO1xyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpc3BsYXkuZ2V0Q29udGFpbmVyKCkpO1xyXG5cclxuY29uc3QgZGlzcGxheU9wdGlvbnNIZWxwID0ge1xyXG4gIC8vIENvbmZpZ3VyZSB0aGUgZGlzcGxheVxyXG4gIGJnOiBcImJsYWNrXCIsIC8vIGJhY2tncm91bmRcclxuICBmZzogXCJHcmV5XCIsIC8vIGZvcmVncm91bmRcclxuICBmb250RmFtaWx5OiBcIkZpcmEgTW9ub1wiLCAvLyBmb250ICh1c2UgYSBtb25vc3BhY2UgZm9yIGVzdGhldGljcylcclxuICB3aWR0aDogZ3JpZC5oZWxwTWVudS53aWR0aCxcclxuICBoZWlnaHQ6IGdyaWQuaGVscE1lbnUuaGVpZ2h0LCAvLyBjYW52YXMgaGVpZ2h0IGFuZCB3aWR0aFxyXG4gIGZvbnRTaXplOiAxOCwgLy8gY2FudmFzIGZvbnRzaXplXHJcbiAgZm9yY2VTcXVhcmVSYXRpbzogdHJ1ZSAvLyBtYWtlIHRoZSBjYW52YXMgc3F1YXJlZCByYXRpb1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgIGRpdkhlbHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuZGl2SGVscC5pZCA9ICdoZWxwTWVudSc7XHJcblxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkhlbHApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc3BsYXlIZWxwID0gbmV3IFJPVC5EaXNwbGF5KGRpc3BsYXlPcHRpb25zSGVscCk7XHJcbmRpdkhlbHAuYXBwZW5kQ2hpbGQoZGlzcGxheUhlbHAuZ2V0Q29udGFpbmVyKCkpXHJcbmRpc3BsYXlIZWxwLmRyYXdUZXh0KDAsMCxcIkhFTExPIENBTiBZT1UgU0VFIFRISVNcIilcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcmVzZXJ2ZUNhbWVsQ2FzZSA9IHN0cmluZyA9PiB7XG5cdGxldCBpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0bGV0IGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXG5cdFx0aWYgKGlzTGFzdENoYXJMb3dlciAmJiAvW1xccHtMdX1dL3UudGVzdChjaGFyYWN0ZXIpKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0aSsrO1xuXHRcdH0gZWxzZSBpZiAoaXNMYXN0Q2hhclVwcGVyICYmIGlzTGFzdExhc3RDaGFyVXBwZXIgJiYgL1tcXHB7TGx9XS91LnRlc3QoY2hhcmFjdGVyKSkge1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBjaGFyYWN0ZXIudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gY2hhcmFjdGVyICYmIGNoYXJhY3Rlci50b0xvY2FsZVVwcGVyQ2FzZSgpICE9PSBjaGFyYWN0ZXI7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gY2hhcmFjdGVyLnRvTG9jYWxlVXBwZXJDYXNlKCkgPT09IGNoYXJhY3RlciAmJiBjaGFyYWN0ZXIudG9Mb2NhbGVMb3dlckNhc2UoKSAhPT0gY2hhcmFjdGVyO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHJpbmc7XG59O1xuXG5jb25zdCBjYW1lbENhc2UgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgaW5wdXQgdG8gYmUgYHN0cmluZyB8IHN0cmluZ1tdYCcpO1xuXHR9XG5cblx0b3B0aW9ucyA9IHtcblx0XHQuLi57cGFzY2FsQ2FzZTogZmFsc2V9LFxuXHRcdC4uLm9wdGlvbnNcblx0fTtcblxuXHRjb25zdCBwb3N0UHJvY2VzcyA9IHggPT4gb3B0aW9ucy5wYXNjYWxDYXNlID8geC5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKSArIHguc2xpY2UoMSkgOiB4O1xuXG5cdGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHRcdGlucHV0ID0gaW5wdXQubWFwKHggPT4geC50cmltKCkpXG5cdFx0XHQuZmlsdGVyKHggPT4geC5sZW5ndGgpXG5cdFx0XHQuam9pbignLScpO1xuXHR9IGVsc2Uge1xuXHRcdGlucHV0ID0gaW5wdXQudHJpbSgpO1xuXHR9XG5cblx0aWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdGlmIChpbnB1dC5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5wYXNjYWxDYXNlID8gaW5wdXQudG9Mb2NhbGVVcHBlckNhc2UoKSA6IGlucHV0LnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdH1cblxuXHRjb25zdCBoYXNVcHBlckNhc2UgPSBpbnB1dCAhPT0gaW5wdXQudG9Mb2NhbGVMb3dlckNhc2UoKTtcblxuXHRpZiAoaGFzVXBwZXJDYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNhbWVsQ2FzZShpbnB1dCk7XG5cdH1cblxuXHRpbnB1dCA9IGlucHV0XG5cdFx0LnJlcGxhY2UoL15bXy5cXC0gXSsvLCAnJylcblx0XHQudG9Mb2NhbGVMb3dlckNhc2UoKVxuXHRcdC5yZXBsYWNlKC9bXy5cXC0gXSsoW1xccHtBbHBoYX1cXHB7Tn1fXXwkKS9ndSwgKF8sIHAxKSA9PiBwMS50b0xvY2FsZVVwcGVyQ2FzZSgpKVxuXHRcdC5yZXBsYWNlKC9cXGQrKFtcXHB7QWxwaGF9XFxwe059X118JCkvZ3UsIG0gPT4gbS50b0xvY2FsZVVwcGVyQ2FzZSgpKTtcblxuXHRyZXR1cm4gcG9zdFByb2Nlc3MoaW5wdXQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbENhc2U7XG4vLyBUT0RPOiBSZW1vdmUgdGhpcyBmb3IgdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGNhbWVsQ2FzZTtcbiIsImltcG9ydCBjYW1lbGNhc2VTbG93IGZyb20gJ2NhbWVsY2FzZSc7XHJcblxyXG5jb25zdCBjYW1lbENhY2hlID0ge307XHJcblxyXG5leHBvcnQgY29uc3QgY2FtZWxTdHJpbmcgPSAodmFsdWUpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGNhbWVsQ2FjaGVbdmFsdWVdO1xyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgY2FtZWxDYWNoZVt2YWx1ZV0gPSBjYW1lbGNhc2VTbG93KHZhbHVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbWVsQ2FjaGVbdmFsdWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbiIsImltcG9ydCB7IGNhbWVsU3RyaW5nIH0gZnJvbSAnLi91dGlsL3N0cmluZy11dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21wb25lbnRSZWdpc3RyeSB7XHJcbiAgICBfY2JpdCA9IDA7XHJcbiAgICBfbWFwID0ge307XHJcblxyXG4gICAgcmVnaXN0ZXIoY2xhenopIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBjYW1lbFN0cmluZyhjbGF6ei5uYW1lKTtcclxuXHJcbiAgICAgICAgY2xhenoucHJvdG90eXBlLl9ja2V5ID0ga2V5O1xyXG4gICAgICAgIGNsYXp6LnByb3RvdHlwZS5fY2JpdCA9IEJpZ0ludCgrK3RoaXMuX2NiaXQpO1xyXG5cclxuICAgICAgICB0aGlzLl9tYXBba2V5XSA9IGNsYXp6O1xyXG4gICAgfVxyXG5cclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWFwW2tleV07XHJcbiAgICB9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNNZXJnZWFibGVPYmplY3QgPSBmdW5jdGlvbiBpc01lcmdlYWJsZU9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gaXNOb25OdWxsT2JqZWN0KHZhbHVlKVxuXHRcdCYmICFpc1NwZWNpYWwodmFsdWUpXG59O1xuXG5mdW5jdGlvbiBpc05vbk51bGxPYmplY3QodmFsdWUpIHtcblx0cmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xufVxuXG5mdW5jdGlvbiBpc1NwZWNpYWwodmFsdWUpIHtcblx0dmFyIHN0cmluZ1ZhbHVlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuXHRyZXR1cm4gc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IFJlZ0V4cF0nXG5cdFx0fHwgc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IERhdGVdJ1xuXHRcdHx8IGlzUmVhY3RFbGVtZW50KHZhbHVlKVxufVxuXG4vLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYjVhYzk2M2ZiNzkxZDEyOThlN2YzOTYyMzYzODNiYzk1NWY5MTZjMS9zcmMvaXNvbW9ycGhpYy9jbGFzc2ljL2VsZW1lbnQvUmVhY3RFbGVtZW50LmpzI0wyMS1MMjVcbnZhciBjYW5Vc2VTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gY2FuVXNlU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xuXG5mdW5jdGlvbiBpc1JlYWN0RWxlbWVudCh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxufVxuXG5mdW5jdGlvbiBlbXB0eVRhcmdldCh2YWwpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSA/IFtdIDoge31cbn1cblxuZnVuY3Rpb24gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQodmFsdWUsIG9wdGlvbnMpIHtcblx0cmV0dXJuIChvcHRpb25zLmNsb25lICE9PSBmYWxzZSAmJiBvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSlcblx0XHQ/IGRlZXBtZXJnZShlbXB0eVRhcmdldCh2YWx1ZSksIHZhbHVlLCBvcHRpb25zKVxuXHRcdDogdmFsdWVcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEFycmF5TWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcblx0cmV0dXJuIHRhcmdldC5jb25jYXQoc291cmNlKS5tYXAoZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdHJldHVybiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChlbGVtZW50LCBvcHRpb25zKVxuXHR9KVxufVxuXG5mdW5jdGlvbiBnZXRNZXJnZUZ1bmN0aW9uKGtleSwgb3B0aW9ucykge1xuXHRpZiAoIW9wdGlvbnMuY3VzdG9tTWVyZ2UpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlXG5cdH1cblx0dmFyIGN1c3RvbU1lcmdlID0gb3B0aW9ucy5jdXN0b21NZXJnZShrZXkpO1xuXHRyZXR1cm4gdHlwZW9mIGN1c3RvbU1lcmdlID09PSAnZnVuY3Rpb24nID8gY3VzdG9tTWVyZ2UgOiBkZWVwbWVyZ2Vcbn1cblxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZU93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNcblx0XHQ/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KS5maWx0ZXIoZnVuY3Rpb24oc3ltYm9sKSB7XG5cdFx0XHRyZXR1cm4gdGFyZ2V0LnByb3BlcnR5SXNFbnVtZXJhYmxlKHN5bWJvbClcblx0XHR9KVxuXHRcdDogW11cbn1cblxuZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuY29uY2F0KGdldEVudW1lcmFibGVPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSlcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJc09uT2JqZWN0KG9iamVjdCwgcHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcHJvcGVydHkgaW4gb2JqZWN0XG5cdH0gY2F0Y2goXykge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbi8vIFByb3RlY3RzIGZyb20gcHJvdG90eXBlIHBvaXNvbmluZyBhbmQgdW5leHBlY3RlZCBtZXJnaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5mdW5jdGlvbiBwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSB7XG5cdHJldHVybiBwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpIC8vIFByb3BlcnRpZXMgYXJlIHNhZmUgdG8gbWVyZ2UgaWYgdGhleSBkb24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IHlldCxcblx0XHQmJiAhKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAvLyB1bnNhZmUgaWYgdGhleSBleGlzdCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLFxuXHRcdFx0JiYgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGFyZ2V0LCBrZXkpKSAvLyBhbmQgYWxzbyB1bnNhZmUgaWYgdGhleSdyZSBub25lbnVtZXJhYmxlLlxufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHR2YXIgZGVzdGluYXRpb24gPSB7fTtcblx0aWYgKG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodGFyZ2V0KSkge1xuXHRcdGdldEtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHRhcmdldFtrZXldLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fVxuXHRnZXRLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRpZiAocHJvcGVydHlJc1Vuc2FmZSh0YXJnZXQsIGtleSkpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGlmIChwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZ2V0TWVyZ2VGdW5jdGlvbihrZXksIG9wdGlvbnMpKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGRlc3RpbmF0aW9uXG59XG5cbmZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy5hcnJheU1lcmdlID0gb3B0aW9ucy5hcnJheU1lcmdlIHx8IGRlZmF1bHRBcnJheU1lcmdlO1xuXHRvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0ID0gb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCB8fCBpc01lcmdlYWJsZU9iamVjdDtcblx0Ly8gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgaXMgYWRkZWQgdG8gYG9wdGlvbnNgIHNvIHRoYXQgY3VzdG9tIGFycmF5TWVyZ2UoKVxuXHQvLyBpbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSBpdC4gVGhlIGNhbGxlciBtYXkgbm90IHJlcGxhY2UgaXQuXG5cdG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZDtcblxuXHR2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcblx0dmFyIHRhcmdldElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRhcmdldCk7XG5cdHZhciBzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoID0gc291cmNlSXNBcnJheSA9PT0gdGFyZ2V0SXNBcnJheTtcblxuXHRpZiAoIXNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2gpIHtcblx0XHRyZXR1cm4gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2UgaWYgKHNvdXJjZUlzQXJyYXkpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5hcnJheU1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucylcblx0fVxufVxuXG5kZWVwbWVyZ2UuYWxsID0gZnVuY3Rpb24gZGVlcG1lcmdlQWxsKGFycmF5LCBvcHRpb25zKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheScpXG5cdH1cblxuXHRyZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnMpXG5cdH0sIHt9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBtZXJnZV8xO1xuIiwiaW1wb3J0IG1lcmdlIGZyb20gJ2RlZXBtZXJnZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVmYWJDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoY2xhenosIHByb3BlcnRpZXMgPSB7fSwgb3ZlcndyaXRlID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuY2xhenogPSBjbGF6ejtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xyXG4gICAgICAgIHRoaXMub3ZlcndyaXRlID0gb3ZlcndyaXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5VG9FbnRpdHkoZW50aXR5LCBpbml0aWFsUHJvcHMgPSB7fSkge1xyXG4gICAgICAgIGlmICghdGhpcy5jbGF6ei5hbGxvd011bHRpcGxlICYmIGVudGl0eS5oYXModGhpcy5jbGF6eikpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm92ZXJ3cml0ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb21wID0gZW50aXR5W3RoaXMuY2xhenoucHJvdG90eXBlLl9ja2V5XTtcclxuXHJcbiAgICAgICAgICAgIGVudGl0eS5yZW1vdmUoY29tcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcm9wcyA9IG1lcmdlKHRoaXMucHJvcGVydGllcywgaW5pdGlhbFByb3BzKTtcclxuXHJcbiAgICAgICAgZW50aXR5LmFkZCh0aGlzLmNsYXp6LCBwcm9wcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlZmFiIHtcclxuICAgIG5hbWUgPSAnJztcclxuICAgIGluaGVyaXQgPSBbXTtcclxuICAgIGNvbXBvbmVudHMgPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb21wb25lbnQocHJlZmFiQ29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2gocHJlZmFiQ29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRvRW50aXR5KGVudGl0eSwgcHJlZmFiUHJvcHMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuaW5oZXJpdC5mb3JFYWNoKChwYXJlbnQpID0+IHtcclxuICAgICAgICAgICAgcGFyZW50LmFwcGx5VG9FbnRpdHkoZW50aXR5LCBwcmVmYWJQcm9wcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFyckNvbXBzID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2xhenogPSBjb21wb25lbnQuY2xheno7XHJcbiAgICAgICAgICAgIGNvbnN0IGNrZXkgPSBjbGF6ei5wcm90b3R5cGUuX2NrZXk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5pdGlhbENvbXBQcm9wcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgaWYgKGNsYXp6LmFsbG93TXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGF6ei5rZXlQcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGNvbXBvbmVudC5wcm9wZXJ0aWVzW2NsYXp6LmtleVByb3BlcnR5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWZhYlByb3BzW2NrZXldICYmIHByZWZhYlByb3BzW2NrZXldW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbENvbXBQcm9wcyA9IHByZWZhYlByb3BzW2NrZXldW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFyckNvbXBzW2NrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyckNvbXBzW2NrZXldID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmFiUHJvcHNbY2tleV0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmFiUHJvcHNbY2tleV1bYXJyQ29tcHNbY2tleV1dXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxDb21wUHJvcHMgPSBwcmVmYWJQcm9wc1tja2V5XVthcnJDb21wc1tja2V5XV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBhcnJDb21wc1tja2V5XSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbENvbXBQcm9wcyA9IHByZWZhYlByb3BzW2NrZXldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb21wb25lbnQuYXBwbHlUb0VudGl0eShlbnRpdHksIGluaXRpYWxDb21wUHJvcHMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQcmVmYWJDb21wb25lbnQgZnJvbSAnLi9QcmVmYWJDb21wb25lbnQnO1xyXG5pbXBvcnQgUHJlZmFiIGZyb20gJy4vUHJlZmFiJztcclxuaW1wb3J0IHsgY2FtZWxTdHJpbmcgfSBmcm9tICcuL3V0aWwvc3RyaW5nLXV0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByZWZhYlJlZ2lzdHJ5IHtcclxuICAgIF9wcmVmYWJzID0ge307XHJcbiAgICBfZW5naW5lID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzZXJpYWxpemUoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyZWQgPSB0aGlzLmdldChkYXRhLm5hbWUpO1xyXG5cclxuICAgICAgICBpZiAocmVnaXN0ZXJlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByZWZhYiA9IG5ldyBQcmVmYWIoZGF0YS5uYW1lKTtcclxuXHJcbiAgICAgICAgbGV0IGluaGVyaXQ7XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuaW5oZXJpdCkpIHtcclxuICAgICAgICAgICAgaW5oZXJpdCA9IGRhdGEuaW5oZXJpdDtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLmluaGVyaXQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGluaGVyaXQgPSBbZGF0YS5pbmhlcml0XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbmhlcml0ID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmVmYWIuaW5oZXJpdCA9IGluaGVyaXQubWFwKChwYXJlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVmID0gdGhpcy5nZXQocGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcmVmKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZhYiBcIiR7ZGF0YS5uYW1lfVwiIGNhbm5vdCBpbmhlcml0IGZyb20gUHJlZmFiIFwiJHtwYXJlbnR9XCIgYmVjYXVzZSBpcyBub3QgcmVnaXN0ZXJlZCB5ZXQhIFByZWZhYnMgbXVzdCBiZSByZWdpc3RlcmVkIGluIHRoZSByaWdodCBvcmRlci5gXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlZjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29tcHMgPSBkYXRhLmNvbXBvbmVudHMgfHwgW107XHJcblxyXG4gICAgICAgIGNvbXBzLmZvckVhY2goKGNvbXBvbmVudERhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnREYXRhID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2tleSA9IGNhbWVsU3RyaW5nKGNvbXBvbmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xhenogPSB0aGlzLl9lbmdpbmUuX2NvbXBvbmVudHMuZ2V0KGNrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGF6eikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWZhYi5hZGRDb21wb25lbnQobmV3IFByZWZhYkNvbXBvbmVudChjbGF6eikpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50RGF0YSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNrZXkgPSBjYW1lbFN0cmluZyhjb21wb25lbnREYXRhLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xhenogPSB0aGlzLl9lbmdpbmUuX2NvbXBvbmVudHMuZ2V0KGNrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGF6eikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWZhYi5hZGRDb21wb25lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmVmYWJDb21wb25lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGF6eixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudERhdGEucHJvcGVydGllcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudERhdGEub3ZlcndyaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgIGBVbnJlY29nbml6ZWQgY29tcG9uZW50IHJlZmVyZW5jZSBcIiR7Y29tcG9uZW50RGF0YX1cIiBpbiBwcmVmYWIgXCIke2RhdGEubmFtZX1cIi4gRW5zdXJlIHRoZSBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIHByZWZhYi5gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcmVmYWI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXIoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHByZWZhYiA9IHRoaXMuZGVzZXJpYWxpemUoZGF0YSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZWZhYnNbcHJlZmFiLm5hbWVdID0gcHJlZmFiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWZhYnNbbmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKHdvcmxkLCBuYW1lLCBwcm9wZXJ0aWVzID0ge30pIHtcclxuICAgICAgICBjb25zdCBwcmVmYWIgPSB0aGlzLmdldChuYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcmVmYWIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgYENvdWxkIG5vdCBpbnN0YW50aWF0ZSBwcmVmYWIgXCIke25hbWV9XCIgc2luY2UgaXQgaXMgbm90IHJlZ2lzdGVyZWRgXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlbnRpdHkgPSB3b3JsZC5jcmVhdGVFbnRpdHkoKTtcclxuXHJcbiAgICAgICAgZW50aXR5Ll9xZWxpZ2libGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcHJlZmFiLmFwcGx5VG9FbnRpdHkoZW50aXR5LCBwcm9wZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgZW50aXR5Ll9xZWxpZ2libGUgPSB0cnVlO1xyXG4gICAgICAgIGVudGl0eS5fY2FuZGlkYWN5KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgYWxsb3dNdWx0aXBsZSA9IGZhbHNlO1xyXG4gICAgc3RhdGljIGtleVByb3BlcnR5ID0gbnVsbDtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge307XHJcblxyXG4gICAgZ2V0IHdvcmxkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVudGl0eS53b3JsZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWxsb3dNdWx0aXBsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5hbGxvd011bHRpcGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBrZXlQcm9wZXJ0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5rZXlQcm9wZXJ0eTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzID0ge30pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHRoaXMuY29uc3RydWN0b3IucHJvcGVydGllcywgcHJvcGVydGllcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmVudGl0eS5yZW1vdmUodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX29uRGVzdHJveWVkKCkge1xyXG4gICAgICAgIHRoaXMub25EZXN0cm95ZWQoKTtcclxuICAgICAgICBkZWxldGUgdGhpcy5lbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgX29uRXZlbnQoZXZ0KSB7XHJcbiAgICAgICAgdGhpcy5vbkV2ZW50KGV2dCk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpc1tldnQuaGFuZGxlck5hbWVdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXNbZXZ0LmhhbmRsZXJOYW1lXShldnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfb25BdHRhY2hlZChlbnRpdHkpIHtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLm9uQXR0YWNoZWQoZW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgY29uc3Qgb2IgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIG9iW2tleV0gPSB0aGlzW2tleV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2I7XHJcbiAgICB9XHJcblxyXG4gICAgb25BdHRhY2hlZChlbnRpdHkpIHt9XHJcbiAgICBvbkRlc3Ryb3llZCgpIHt9XHJcbiAgICBvbkV2ZW50KGV2dCkge31cclxufVxyXG4iLCJpbXBvcnQgeyBjYW1lbFN0cmluZyB9IGZyb20gJy4vdXRpbC9zdHJpbmctdXRpbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW50aXR5RXZlbnQge1xyXG4gICAgZGF0YSA9IHt9O1xyXG4gICAgcHJldmVudGVkID0gZmFsc2U7XHJcbiAgICBoYW5kbGVkID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IobmFtZSwgZGF0YSA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlck5hbWUgPSBjYW1lbFN0cmluZyhgb24gJHt0aGlzLm5hbWV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXMobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgPT09IG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlKCkge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImNvbnN0IE9ORSA9IDFuO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN1YnRyYWN0Qml0ID0gKG51bSwgYml0KSA9PiB7XHJcbiAgICByZXR1cm4gbnVtICYgfigxbiA8PCBiaXQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZEJpdCA9IChudW0sIGJpdCkgPT4ge1xyXG4gICAgcmV0dXJuIG51bSB8IChPTkUgPDwgYml0KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYXNCaXQgPSAobnVtLCBiaXQpID0+IHtcclxuICAgIHJldHVybiAobnVtID4+IGJpdCkgJSAybiAhPT0gMG47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYml0SW50ZXJzZWN0aW9uID0gKG4xLCBuMikgPT4ge1xyXG4gICAgcmV0dXJuIG4xICYgbjI7XHJcbn07XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vQ29tcG9uZW50JztcclxuaW1wb3J0IHsgRW50aXR5RXZlbnQgfSBmcm9tICcuL0VudGl0eUV2ZW50JztcclxuaW1wb3J0IHsgYWRkQml0LCBoYXNCaXQsIHN1YnRyYWN0Qml0IH0gZnJvbSAnLi91dGlsL2JpdC11dGlsJztcclxuXHJcbmNvbnN0IGF0dGFjaENvbXBvbmVudCA9IChlbnRpdHksIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gY29tcG9uZW50Ll9ja2V5O1xyXG5cclxuICAgIGVudGl0eVtrZXldID0gY29tcG9uZW50O1xyXG4gICAgZW50aXR5LmNvbXBvbmVudHNba2V5XSA9IGNvbXBvbmVudDtcclxufTtcclxuXHJcbmNvbnN0IGF0dGFjaENvbXBvbmVudEtleWVkID0gKGVudGl0eSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjb21wb25lbnQuX2NrZXk7XHJcblxyXG4gICAgaWYgKCFlbnRpdHkuY29tcG9uZW50c1trZXldKSB7XHJcbiAgICAgICAgZW50aXR5W2tleV0gPSB7fTtcclxuICAgICAgICBlbnRpdHkuY29tcG9uZW50c1trZXldID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgZW50aXR5W2tleV1bY29tcG9uZW50W2NvbXBvbmVudC5rZXlQcm9wZXJ0eV1dID0gY29tcG9uZW50O1xyXG4gICAgZW50aXR5LmNvbXBvbmVudHNba2V5XVtjb21wb25lbnRbY29tcG9uZW50LmtleVByb3BlcnR5XV0gPSBjb21wb25lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBhdHRhY2hDb21wb25lbnRBcnJheSA9IChlbnRpdHksIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gY29tcG9uZW50Ll9ja2V5O1xyXG5cclxuICAgIGlmICghZW50aXR5LmNvbXBvbmVudHNba2V5XSkge1xyXG4gICAgICAgIGVudGl0eVtrZXldID0gW107XHJcbiAgICAgICAgZW50aXR5LmNvbXBvbmVudHNba2V5XSA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGVudGl0eVtrZXldLnB1c2goY29tcG9uZW50KTtcclxuICAgIGVudGl0eS5jb21wb25lbnRzW2tleV0ucHVzaChjb21wb25lbnQpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQ29tcG9uZW50ID0gKGVudGl0eSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjb21wb25lbnQuX2NrZXk7XHJcblxyXG4gICAgZGVsZXRlIGVudGl0eVtrZXldO1xyXG4gICAgZGVsZXRlIGVudGl0eS5jb21wb25lbnRzW2tleV07XHJcblxyXG4gICAgZW50aXR5Ll9jYml0cyA9IHN1YnRyYWN0Qml0KGVudGl0eS5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICBlbnRpdHkuX2NhbmRpZGFjeSgpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQ29tcG9uZW50S2V5ZWQgPSAoZW50aXR5LCBjb21wb25lbnQpID0+IHtcclxuICAgIGNvbnN0IGtleSA9IGNvbXBvbmVudC5fY2tleTtcclxuICAgIGNvbnN0IGtleVByb3AgPSBjb21wb25lbnRbY29tcG9uZW50LmtleVByb3BlcnR5XTtcclxuXHJcbiAgICBkZWxldGUgZW50aXR5W2tleV1ba2V5UHJvcF07XHJcbiAgICBkZWxldGUgZW50aXR5LmNvbXBvbmVudHNba2V5XVtrZXlQcm9wXTtcclxuXHJcbiAgICBpZiAoT2JqZWN0LmtleXMoZW50aXR5W2tleV0pLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgZGVsZXRlIGVudGl0eVtrZXldO1xyXG4gICAgICAgIGRlbGV0ZSBlbnRpdHkuY29tcG9uZW50c1trZXldO1xyXG4gICAgICAgIGVudGl0eS5fY2JpdHMgPSBzdWJ0cmFjdEJpdChlbnRpdHkuX2NiaXRzLCBjb21wb25lbnQuX2NiaXQpO1xyXG4gICAgICAgIGVudGl0eS5fY2FuZGlkYWN5KCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVDb21wb25lbnRBcnJheSA9IChlbnRpdHksIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gY29tcG9uZW50Ll9ja2V5O1xyXG4gICAgY29uc3QgaWR4ID0gZW50aXR5W2tleV0uaW5kZXhPZihjb21wb25lbnQpO1xyXG5cclxuICAgIGVudGl0eVtrZXldLnNwbGljZShpZHgsIDEpO1xyXG4gICAgZW50aXR5LmNvbXBvbmVudHNba2V5XS5zcGxpY2UoaWR4LCAxKTtcclxuXHJcbiAgICBpZiAoZW50aXR5W2tleV0ubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICBkZWxldGUgZW50aXR5W2tleV07XHJcbiAgICAgICAgZGVsZXRlIGVudGl0eS5jb21wb25lbnRzW2tleV07XHJcbiAgICAgICAgZW50aXR5Ll9jYml0cyA9IHN1YnRyYWN0Qml0KGVudGl0eS5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICAgICAgZW50aXR5Ll9jYW5kaWRhY3koKVxyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3Qgc2VyaWFsaXplQ29tcG9uZW50ID0gKGNvbXBvbmVudCkgPT4ge1xyXG4gICAgcmV0dXJuIGNvbXBvbmVudC5zZXJpYWxpemUoKTtcclxufTtcclxuXHJcbmNvbnN0IHNlcmlhbGl6ZUNvbXBvbmVudEFycmF5ID0gKGFycikgPT4ge1xyXG4gICAgcmV0dXJuIGFyci5tYXAoc2VyaWFsaXplQ29tcG9uZW50KTtcclxufTtcclxuXHJcbmNvbnN0IHNlcmlhbGl6ZUNvbXBvbmVudEtleWVkID0gKG9iKSA9PiB7XHJcbiAgICBjb25zdCBzZXIgPSB7fTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGsgaW4gb2IpIHtcclxuICAgICAgICBzZXJba10gPSBzZXJpYWxpemVDb21wb25lbnQob2Jba10pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRW50aXR5IHtcclxuICAgIF9jYml0cyA9IDBuO1xyXG4gICAgX3FlbGlnaWJsZSA9IHRydWU7XHJcblxyXG4gICAgY29uc3RydWN0b3Iod29ybGQsIGlkKSB7XHJcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB7fTtcclxuICAgICAgICB0aGlzLmlzRGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgX2NhbmRpZGFjeSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fcWVsaWdpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMud29ybGQuX2NhbmRpZGF0ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKGNsYXp6LCBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gbmV3IGNsYXp6KHByb3BlcnRpZXMpO1xyXG5cclxuICAgICAgICBpZiAoY29tcG9uZW50LmtleVByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGF0dGFjaENvbXBvbmVudEtleWVkKHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQuYWxsb3dNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICBhdHRhY2hDb21wb25lbnRBcnJheSh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF0dGFjaENvbXBvbmVudCh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY2JpdHMgPSBhZGRCaXQodGhpcy5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICAgICAgY29tcG9uZW50Ll9vbkF0dGFjaGVkKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYW5kaWRhY3koKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXMoY2xhenopIHtcclxuICAgICAgICByZXR1cm4gaGFzQml0KHRoaXMuX2NiaXRzLCBjbGF6ei5wcm90b3R5cGUuX2NiaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZShjb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoY29tcG9uZW50LmtleVByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNvbXBvbmVudEtleWVkKHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQuYWxsb3dNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICByZW1vdmVDb21wb25lbnRBcnJheSh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNvbXBvbmVudCh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29tcG9uZW50Ll9vbkRlc3Ryb3llZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5jb21wb25lbnRzW2tdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NiaXRzID0gc3VidHJhY3RCaXQodGhpcy5fY2JpdHMsIHYuX2NiaXQpO1xyXG4gICAgICAgICAgICAgICAgdi5fb25EZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYml0cyA9IHN1YnRyYWN0Qml0KHRoaXMuX2NiaXRzLCBjb21wb25lbnQuX2NiaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5fb25EZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIE9iamVjdC52YWx1ZXModikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYml0cyA9IHN1YnRyYWN0Qml0KHRoaXMuX2NiaXRzLCBjb21wb25lbnQuX2NiaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5fb25EZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXNba107XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbXBvbmVudHNba107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jYW5kaWRhY3koKTtcclxuICAgICAgICB0aGlzLndvcmxkLl9kZXN0cm95ZWQodGhpcy5pZCk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0ge307XHJcbiAgICAgICAgdGhpcy5pc0Rlc3Ryb3llZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5jb21wb25lbnRzW2tdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHNba10gPSBzZXJpYWxpemVDb21wb25lbnQodik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodiBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzW2tdID0gc2VyaWFsaXplQ29tcG9uZW50QXJyYXkodik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzW2tdID0gc2VyaWFsaXplQ29tcG9uZW50S2V5ZWQodik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAuLi5jb21wb25lbnRzLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZmlyZUV2ZW50KG5hbWUsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBldnQgPSBuZXcgRW50aXR5RXZlbnQobmFtZSwgZGF0YSk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5jb21wb25lbnRzW2tleV07XHJcblxyXG4gICAgICAgICAgICBpZiAodiBpbnN0YW5jZW9mIENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgdi5fb25FdmVudChldnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldnQucHJldmVudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZbaV0uX29uRXZlbnQoZXZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2dC5wcmV2ZW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBPYmplY3QudmFsdWVzKHYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Ll9vbkV2ZW50KGV2dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldnQucHJldmVudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXZ0O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGFkZEJpdCwgYml0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi91dGlsL2JpdC11dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBRdWVyeSB7XHJcbiAgICBfY2FjaGUgPSBbXTtcclxuICAgIF9vbkFkZExpc3RlbmVycyA9IFtdO1xyXG4gICAgX29uUmVtb3ZlTGlzdGVuZXJzID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3Iod29ybGQsIGZpbHRlcnMpIHtcclxuICAgICAgICB0aGlzLl93b3JsZCA9IHdvcmxkO1xyXG5cclxuICAgICAgICBjb25zdCBhbnkgPSBmaWx0ZXJzLmFueSB8fCBbXTtcclxuICAgICAgICBjb25zdCBhbGwgPSBmaWx0ZXJzLmFsbCB8fCBbXTtcclxuICAgICAgICBjb25zdCBub25lID0gZmlsdGVycy5ub25lIHx8IFtdO1xyXG5cclxuICAgICAgICB0aGlzLl9hbnkgPSBhbnkucmVkdWNlKChzLCBjKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRCaXQocywgYy5wcm90b3R5cGUuX2NiaXQpO1xyXG4gICAgICAgIH0sIDBuKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYWxsID0gYWxsLnJlZHVjZSgocywgYykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYWRkQml0KHMsIGMucHJvdG90eXBlLl9jYml0KTtcclxuICAgICAgICB9LCAwbik7XHJcblxyXG4gICAgICAgIHRoaXMuX25vbmUgPSBub25lLnJlZHVjZSgocywgYykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYWRkQml0KHMsIGMucHJvdG90eXBlLl9jYml0KTtcclxuICAgICAgICB9LCAwbik7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW50aXR5QWRkZWQoZm4pIHtcclxuICAgICAgICB0aGlzLl9vbkFkZExpc3RlbmVycy5wdXNoKGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVudGl0eVJlbW92ZWQoZm4pIHtcclxuICAgICAgICB0aGlzLl9vblJlbW92ZUxpc3RlbmVycy5wdXNoKGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXMoZW50aXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWR4KGVudGl0eSkgPj0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZHgoZW50aXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmluZGV4T2YoZW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBtYXRjaGVzKGVudGl0eSkge1xyXG4gICAgICAgIGNvbnN0IGJpdHMgPSBlbnRpdHkuX2NiaXRzO1xyXG5cclxuICAgICAgICBjb25zdCBhbnkgPSB0aGlzLl9hbnkgPT09IDBuIHx8IGJpdEludGVyc2VjdGlvbihiaXRzLCB0aGlzLl9hbnkpID4gMDtcclxuICAgICAgICBjb25zdCBhbGwgPSBiaXRJbnRlcnNlY3Rpb24oYml0cywgdGhpcy5fYWxsKSA9PT0gdGhpcy5fYWxsO1xyXG4gICAgICAgIGNvbnN0IG5vbmUgPSBiaXRJbnRlcnNlY3Rpb24oYml0cywgdGhpcy5fbm9uZSkgPT09IDBuO1xyXG5cclxuICAgICAgICByZXR1cm4gYW55ICYmIGFsbCAmJiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbmRpZGF0ZShlbnRpdHkpIHtcclxuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmlkeChlbnRpdHkpO1xyXG4gICAgICAgIGNvbnN0IGlzVHJhY2tpbmcgPSBpZHggPj0gMDtcclxuXHJcbiAgICAgICAgaWYgKCFlbnRpdHkuaXNEZXN0cm95ZWQgJiYgdGhpcy5tYXRjaGVzKGVudGl0eSkpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1RyYWNraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZS5wdXNoKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkFkZExpc3RlbmVycy5mb3JFYWNoKChjYikgPT4gY2IoZW50aXR5KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzVHJhY2tpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FjaGUuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiBjYihlbnRpdHkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoKCkge1xyXG4gICAgICAgIHRoaXMuX2NhY2hlID0gW107XHJcbiAgICAgICAgdGhpcy5fd29ybGQuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmRpZGF0ZShlbnRpdHkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi9FbnRpdHknO1xyXG5pbXBvcnQgeyBRdWVyeSB9IGZyb20gJy4vUXVlcnknO1xyXG5pbXBvcnQgeyBjYW1lbFN0cmluZyB9IGZyb20gJy4vdXRpbC9zdHJpbmctdXRpbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgV29ybGQge1xyXG4gICAgX2lkID0gMDtcclxuICAgIF9xdWVyaWVzID0gW107XHJcbiAgICBfZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICsrdGhpcy5faWQgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXR5KGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmdldChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXRpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLnZhbHVlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUVudGl0eShpZCA9IHRoaXMuY3JlYXRlSWQoKSkge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkodGhpcywgaWQpO1xyXG5cclxuICAgICAgICB0aGlzLl9lbnRpdGllcy5zZXQoaWQsIGVudGl0eSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveUVudGl0eShpZCkge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZ2V0RW50aXR5KGlkKTtcclxuXHJcbiAgICAgICAgaWYgKGVudGl0eSkge1xyXG4gICAgICAgICAgICBlbnRpdHkuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95RW50aXRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgIGVudGl0eS5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmRlc3Ryb3lFbnRpdGllcygpO1xyXG4gICAgICAgIHRoaXMuX2lkID0gMDtcclxuICAgICAgICB0aGlzLl9xdWVyaWVzID0gW107XHJcbiAgICAgICAgdGhpcy5fZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUXVlcnkoZmlsdGVycykge1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHRoaXMsIGZpbHRlcnMpO1xyXG5cclxuICAgICAgICB0aGlzLl9xdWVyaWVzLnB1c2gocXVlcnkpO1xyXG5cclxuICAgICAgICByZXR1cm4gcXVlcnk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHJlZmFiKG5hbWUsIHByb3BlcnRpZXMgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVuZ2luZS5fcHJlZmFicy5jcmVhdGUodGhpcywgbmFtZSwgcHJvcGVydGllcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKGVudGl0aWVzKSB7XHJcbiAgICAgICAgY29uc3QganNvbiA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBlbnRpdGllcyB8fCB0aGlzLl9lbnRpdGllcztcclxuXHJcbiAgICAgICAgbGlzdC5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgIGpzb24ucHVzaChlLnNlcmlhbGl6ZSgpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXRpZXM6IGpzb24sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBkZXNlcmlhbGl6ZShkYXRhKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHlEYXRhIG9mIGRhdGEuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlT3JHZXRFbnRpdHlCeUlkKGVudGl0eURhdGEuaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHlEYXRhIG9mIGRhdGEuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVzZXJpYWxpemVFbnRpdHkoZW50aXR5RGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVPckdldEVudGl0eUJ5SWQoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbnRpdHkoaWQpIHx8IHRoaXMuY3JlYXRlRW50aXR5KGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBfZGVzZXJpYWxpemVFbnRpdHkoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHsgaWQsIC4uLmNvbXBvbmVudHMgfSA9IGRhdGE7XHJcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5fY3JlYXRlT3JHZXRFbnRpdHlCeUlkKGlkKTtcclxuICAgICAgICBlbnRpdHkuX3FlbGlnaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhjb21wb25lbnRzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGNhbWVsU3RyaW5nKGtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuZW5naW5lLl9jb21wb25lbnRzLmdldCh0eXBlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWYuYWxsb3dNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh2YWx1ZSkuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5hZGQoZGVmLCBkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZW50aXR5LmFkZChkZWYsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlbnRpdHkuX3FlbGlnaWJsZSA9IHRydWU7XHJcbiAgICAgICAgZW50aXR5Ll9jYW5kaWRhY3koKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2FuZGlkYXRlKGVudGl0eSkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJpZXMuZm9yRWFjaCgocSkgPT4gcS5jYW5kaWRhdGUoZW50aXR5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2Rlc3Ryb3llZChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcy5kZWxldGUoaWQpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudFJlZ2lzdHJ5IH0gZnJvbSAnLi9Db21wb25lbnRSZWdpc3RyeSc7XHJcbmltcG9ydCB7IFByZWZhYlJlZ2lzdHJ5IH0gZnJvbSAnLi9QcmVmYWJSZWdpc3RyeSc7XHJcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSAnLi9Xb3JsZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcclxuICAgIF9jb21wb25lbnRzID0gbmV3IENvbXBvbmVudFJlZ2lzdHJ5KCk7XHJcbiAgICBfcHJlZmFicyA9IG5ldyBQcmVmYWJSZWdpc3RyeSh0aGlzKTtcclxuXHJcbiAgICByZWdpc3RlckNvbXBvbmVudChjbGF6eikge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMucmVnaXN0ZXIoY2xhenopO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyUHJlZmFiKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9wcmVmYWJzLnJlZ2lzdGVyKGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVdvcmxkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgV29ybGQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveVdvcmxkKHdvcmxkKSB7XHJcbiAgICAgICAgd29ybGQuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBjYWNoZSA9IHtcclxuICAgIGVudGl0aWVzQXRMb2NhdGlvbjoge30sXHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgY29uc3QgYWRkQ2FjaGVTZXQgPSAobmFtZSwga2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgaWYgKGNhY2hlW25hbWVdW2tleV0pIHtcclxuICAgICAgY2FjaGVbbmFtZV1ba2V5XS5hZGQodmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FjaGVbbmFtZV1ba2V5XSA9IG5ldyBTZXQoKTtcclxuICAgICAgY2FjaGVbbmFtZV1ba2V5XS5hZGQodmFsdWUpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgZXhwb3J0IGNvbnN0IGRlbGV0ZUNhY2hlU2V0ID0gKG5hbWUsIGtleSwgdmFsdWUpID0+IHtcclxuICAgIGlmIChjYWNoZVtuYW1lXVtrZXldICYmIGNhY2hlW25hbWVdW2tleV0uaGFzKHZhbHVlKSkge1xyXG4gICAgICBjYWNoZVtuYW1lXVtrZXldLmRlbGV0ZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgY29uc3QgcmVhZENhY2hlU2V0ID0gKG5hbWUsIGtleSwgdmFsdWUpID0+IHtcclxuICAgIGlmIChjYWNoZVtuYW1lXVtrZXldKSB7XHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZVtuYW1lXVtrZXldLmdldCh2YWx1ZSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmV0dXJuIGNhY2hlW25hbWVdW2tleV07XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgZGVmYXVsdCBjYWNoZTsgIiwiZXhwb3J0IGNvbnN0IENoZWNrU2luZ2xlcyA9IChjb3VudHMsIEFsbG93ZWQgPSBbMSwyLDMsNCw1LDZdKSA9PiB7XHJcbiAgICByZXR1cm4gKENoZWNrU2FtZXMoY291bnRzLDEsIEFsbG93ZWQpKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ2hlY2tEb3VibGVzID0gKGNvdW50cywgQWxsb3dlZCA9IFsxLDIsMyw0LDUsNl0pID0+IHtcclxuICAgIHJldHVybiAoQ2hlY2tTYW1lcyhjb3VudHMsMiwgQWxsb3dlZCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja1RyaXBsZXMgPSAoY291bnRzLCBBbGxvd2VkID0gWzEsMiwzLDQsNSw2XSkgPT4ge1xyXG4gICAgcmV0dXJuIChDaGVja1NhbWVzKGNvdW50cywzLCBBbGxvd2VkKSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrUXVhZHMgPSAoY291bnRzLCAgQWxsb3dlZCA9IFsxLDIsMyw0LDUsNl0pID0+IHtcclxuICAgIHJldHVybiAoQ2hlY2tTYW1lcyhjb3VudHMsNCwgQWxsb3dlZCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja1NhbWVzID0gKGNvdW50cywgbWF0Y2gsIEFsbG93ZWQgPSBbMSwyLDMsNCw1LDZdKSA9PiB7XHJcbiAgICB2YXIgZm91bmQgPSBbXTtcclxuICAgIGZvciAobGV0IHggPSAxOyB4IDwgNzsgeCsrKSB7XHJcbiAgICAgICAgaWYoY291bnRzW3hdICYmIGNvdW50c1t4XSA9PSBtYXRjaCAmJiBBbGxvd2VkLmluY2x1ZGVzKHgpKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZm91bmQgbWF0Y2hcIilcclxuICAgICAgICAgICAgZm91bmQucHVzaCh4KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2lmIHdlIHdlbnQgb3ZlciBhbGxvd2VkIGxpbWl0XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGNvdW50cylcclxuICAgIGNvbnNvbGUubG9nKGZvdW5kKVxyXG4gICAgY29uc29sZS5sb2coXCJtYXRjaDpcIiArIG1hdGNoKVxyXG4gICAgcmV0dXJuIGZvdW5kXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja1N0cmFpZ2h0ID0gKGNvdW50cywgbWF0Y2gpID0+IHtcclxuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgdmFyIG1hdGNoZWQgPSAxO1xyXG4gICAgZm9yKHZhciB4ID0gMTsgeCA8IDc7IHgrKyl7XHJcbiAgICAgICAgaWYoY291bnRzW3hdIHx8IDApIHsgLy9tYWtlIHN1cmUgdGhpcyBkaWUgZXhpc3RzXHJcbiAgICAgICAgICAgIGlmKGNvdW50c1t4LTFdIHx8IDApeyAvL21ha2Ugc3VyZSBwcmV2aW91cyBkaWUgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBpZihjb3VudHNbeF0gPT0gY291bnRzW3gtMV0peyAvL2lmIGN1cnJlbnQgZGllIGVxdWFscyBwcmV2aW91cyBkaWVcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkKys7IC8vd2UgZm91bmQgYSBtYXRjaCBzbyB1cCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG1hdGNoZWQgPT0gbWF0Y2gpeyAvLyBpZiBvdXIgbWF0Y2hlZCBjb3VudCBlcXVhbHMgb3VyIHN0cmFpZ2h0IHRhcmdldCBmb3VuZCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSAxOyAvL2N1cnJlbnQgZG9lc24ndCBtYXRjaCBwcmV2aW91cyBzZXQgbWF0Y2hlZCBiYWNrIHRvIGNvdW50IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhjb3VudHMpXHJcblxyXG4gICAgcmV0dXJuIGZvdW5kXHJcbn0iLCJleHBvcnQgY29uc3QgdG9DZWxsID0gKGNlbGxPcklkKSA9PiB7XHJcbiAgICBsZXQgY2VsbCA9IGNlbGxPcklkO1xyXG4gICAgaWYgKHR5cGVvZiBjZWxsID09PSBcInN0cmluZ1wiKSBjZWxsID0gaWRUb0NlbGwoY2VsbCk7XHJcbiAgXHJcbiAgICByZXR1cm4gY2VsbDtcclxuICB9O1xyXG4gIFxyXG4gIGV4cG9ydCBjb25zdCB0b0xvY0lkID0gKGNlbGxPcklkKSA9PiB7XHJcbiAgICBsZXQgbG9jSWQgPSBjZWxsT3JJZDtcclxuICAgIGlmICh0eXBlb2YgbG9jSWQgIT09IFwic3RyaW5nXCIpIGxvY0lkID0gY2VsbFRvSWQobG9jSWQpO1xyXG4gIFxyXG4gICAgcmV0dXJuIGxvY0lkO1xyXG4gIH07XHJcblxyXG5cclxuICBjb25zdCBpZFRvQ2VsbCA9IChpZCkgPT4ge1xyXG4gICAgY29uc3QgY29vcmRzID0gaWQuc3BsaXQoXCIsXCIpO1xyXG4gICAgcmV0dXJuIHsgeDogcGFyc2VJbnQoY29vcmRzWzBdLCAxMCksIHk6IHBhcnNlSW50KGNvb3Jkc1sxXSwgMTApIH07XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBjZWxsVG9JZCA9ICh7IHgsIHkgfSkgPT4gYCR7eH0sJHt5fWA7IiwiaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIjtcclxuaW1wb3J0ICogYXMgeWFodHplZSBmcm9tIFwiLi95YWh0emVlXCJcclxuaW1wb3J0IHtnYW1lU3RhdGUsIHRhcmdldEVudGl0eSwgU2V0UXVldWVkQWJpbGl0eSwgRXhhbWluZVRhcmdldEVuYWJsZSwgU2V0UXVldWVkRW50aXR5fSBmcm9tIFwiLi4vaW5kZXhcIlxyXG5pbXBvcnQgeyByZWFkQ2FjaGVTZXQgfSBmcm9tIFwiLi4vc3RhdGUvY2FjaGVcIjtcclxuaW1wb3J0IHt0b0xvY0lkfSBmcm9tIFwiLi4vbGliL2dyaWRcIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5ID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnY2FuVXNlJylcclxuICAgICAgICByZXR1cm4geWFodHplZS5DaGVja1NpbmdsZXMoZGljZSlcclxuICAgIH0sXHJcbiAgICBvblVzZTogKGFiaWxpdHksIGVudGl0eSwgdGFyZ2V0PSBudWxsKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3VzZWQnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFiaWxpdHkpXHJcbiAgICAgICAgY29uc29sZS5sb2coYWJpbGl0eS5hYmlsaXR5UGhhc2UucGhhc2UpXHJcbiAgICAgICAgR2V0U2VsZWN0ZWREaWUoZW50aXR5KVxyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJnYWluLW1vdmVtZW50XCIsIDMpXHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlNb3ZlID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tTaW5nbGVzKGRpY2UpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6IChhYmlsaXR5LCBlbnRpdHksdGFyZ2V0ID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIC8vZ2V0IHNlbGVjdGVkIGRpZVxyXG4gICAgICAgIHZhciBzZWxlY3RlZCA9IEdldFNlbGVjdGVkRGllKGVudGl0eSlcclxuICAgICAgICB2YXIgdG9HYWluID0gMFxyXG4gICAgICAgIGZvcih2YXIgeCA9IDE7IHg8IDc7eCsrKXtcclxuICAgICAgICAgICAgaWYoc2VsZWN0ZWRbeF0gJiYgc2VsZWN0ZWRbeF0gPT0gMSl7XHJcbiAgICAgICAgICAgICAgICB0b0dhaW4gPSB4XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImdhaW4tbW92ZW1lbnRcIiwgdG9HYWluKTtcclxuICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG4gICAgfSxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlEb2RnZSA9IHtcclxuICAgIGNhblVzZTogKGFiaWxpdHksZW50aXR5LCBkaWNlID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrRG91YmxlcyhkaWNlKVxyXG4gICAgfSxcclxuICAgIG9uVXNlOiAoYWJpbGl0eSwgZW50aXR5LHRhcmdldD0gbnVsbCkgPT4ge1xyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJnYWluLWRvZGdlXCIsIDEpO1xyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJleGhhdXN0LXNlbGVjdGVkXCIpXHJcbiAgICB9LFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVN3b3JkSmFiID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzVHVybkVuZCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tTaW5nbGVzKGRpY2UsIGFiaWxpdHkuYWJpbGl0eUFsbG93ZWREaWUuYWxsb3dlZClcclxuICAgIH0sXHJcbiAgICBvblVzZTooYWJpbGl0eSxlbnRpdHksIHRhcmdldCA9IG51bGwpID0+IHtcclxuICAgICAgICAvL2dldCB0YXJnZXQhXHJcbiAgICAgICAgLy8gdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDp0YXJnZXRFbnRpdHkucG9zaXRpb24ueCx5OnRhcmdldEVudGl0eS5wb3NpdGlvbi55fSkpXHJcbiAgICAgICAgLy8gLy9hcHBseSBhdGsgdG8gZWFjaCB0aWxlIHdpdGhpbiB0aGlzIGF0dGFja3MgY29vcmRzXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZ2V0RW50aXRpZXNBdExvYylcclxuICAgICAgICAvLyBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goZWlkID0+IHtcclxuICAgICAgICAvLyAgICAgdmFyIGZldGNoZWRFbnQgPSB3b3JsZC5nZXRFbnRpdHkoZWlkKVxyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhmZXRjaGVkRW50KVxyXG4gICAgICAgIC8vICAgICBpZihmZXRjaGVkRW50Lmhhcyhjb21wb25lbnRzLkxheWVyTWFwKSl7XHJcbiAgICAgICAgLy8gICAgICAgICAvL3RoaXMgaXMgb3VyIG1hcCB0aWxlID9cclxuICAgICAgICAvLyAgICAgfSAgICAgICAgICAgICBcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgLy9kbyBhYmlsaXR5XHJcbiAgICAgICAgLy9mb3IgZWFjaCB0YXJnZXQgY3JlYXRlIGRtZyB0aWxlXHJcbiAgICAgICAgY29uc29sZS5sb2coYWJpbGl0eSlcclxuICAgICAgICBjb25zb2xlLmxvZyhhYmlsaXR5LmFiaWxpdHlUYXJnZXQuY29vcmRzKVxyXG5cclxuICAgICAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSwgdGFyZ2V0KVxyXG5cclxuICAgICAgICBcclxuICAgICAgICAvL2NyZWF0ZSBkbWcgdGlsZXNcclxuICAgICAgICBjb29yZHMuZm9yRWFjaChjb29yZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvb3JkKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQueCArIFwiLFwiK3RhcmdldC55KVxyXG4gICAgICAgICAgICB2YXIgbmV3RG1nVGlsZSA9ICB3b3JsZC5jcmVhdGVFbnRpdHkoKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDp0YXJnZXQueCArIGNvb3JkWzBdLHk6dGFyZ2V0LnkgKyBjb29yZFsxXX0gKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkZhc3RBdHRhY2spXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuRG1nVGlsZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJleGhhdXN0LXNlbGVjdGVkXCIpXHJcbiAgICAgICAgaWYoYWJpbGl0eS5oYXMoY29tcG9uZW50cy5BYmlsaXR5RW5kc1R1cm4pKXtcclxuICAgICAgICAgICAgZW50aXR5LmFkZChjb21wb25lbnRzLklzVHVybkVuZClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9zZXQgZ2FtZXN0YXRlIGJhY2tcclxuICAgIH0sIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIC8vc2V0IGdhbWVTdGF0ZSB0byB0YXJnZXRpbmdcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHF1ZXVlZEFiaWxpdHkpXHJcbiAgICAgICAgU2V0UXVldWVkQWJpbGl0eShhYmlsaXR5KVxyXG4gICAgICAgIFNldFF1ZXVlZEVudGl0eShlbnRpdHkpXHJcbiAgICAgICAgLy9xdWV1ZWRBYmlsaXR5ID0gYWJpbGl0eVxyXG4gICAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJ0YXJnZXRpbmdcIilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlTd29yZFN3aW5nID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzVHVybkVuZCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tTaW5nbGVzKGRpY2UsIGFiaWxpdHkuYWJpbGl0eUFsbG93ZWREaWUuYWxsb3dlZClcclxuICAgIH0sXHJcbiAgICBvblVzZTooYWJpbGl0eSxlbnRpdHksdGFyZ2V0PSBudWxsKSA9PiB7XHJcbiAgICAgICAgdmFyIGNvb3JkcyA9IFJvdGF0ZUNvb3JkcyhhYmlsaXR5LCBlbnRpdHksdGFyZ2V0KVxyXG4gICAgICAgIC8vZG8gYWJpbGl0eVxyXG4gICAgICAgIC8vZm9yIGVhY2ggdGFyZ2V0IGNyZWF0ZSBkbWcgdGlsZVxyXG4gICAgICAgIGNvb3Jkcy5mb3JFYWNoKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29vcmQpXHJcbiAgICAgICAgICAgIHZhciBuZXdEbWdUaWxlID0gIHdvcmxkLmNyZWF0ZUVudGl0eSgpXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OnRhcmdldC54ICsgY29vcmRbMF0seTp0YXJnZXQueSArIGNvb3JkWzFdfSApXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuU2xvd0F0dGFjaylcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5EbWdUaWxlKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgICAgICBpZihhYmlsaXR5Lmhhcyhjb21wb25lbnRzLkFiaWxpdHlFbmRzVHVybikpe1xyXG4gICAgICAgICAgICBlbnRpdHkuYWRkKGNvbXBvbmVudHMuSXNUdXJuRW5kKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIFNldFF1ZXVlZEFiaWxpdHkoYWJpbGl0eSlcclxuICAgICAgICBTZXRRdWV1ZWRFbnRpdHkoZW50aXR5KVxyXG4gICAgICAgIC8vcXVldWVkQWJpbGl0eSA9IGFiaWxpdHlcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwidGFyZ2V0aW5nXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5U3BlYXJUaHJ1c3QgPSB7XHJcbiAgICBjYW5Vc2U6IChhYmlsaXR5LGVudGl0eSwgZGljZSA9IEdldFNlbGVjdGVkRGllKGVudGl0eSkpID0+IHtcclxuICAgICAgICBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuSXNUdXJuRW5kKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geWFodHplZS5DaGVja1NpbmdsZXMoZGljZSwgYWJpbGl0eS5hYmlsaXR5QWxsb3dlZERpZS5hbGxvd2VkKVxyXG4gICAgfSxcclxuICAgIG9uVXNlOihhYmlsaXR5LGVudGl0eSx0YXJnZXQ9IG51bGwpID0+IHtcclxuICAgICAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSx0YXJnZXQpXHJcbiAgICAgICAgLy9kbyBhYmlsaXR5XHJcbiAgICAgICAgLy9mb3IgZWFjaCB0YXJnZXQgY3JlYXRlIGRtZyB0aWxlXHJcbiAgICAgICAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb29yZClcclxuICAgICAgICAgICAgdmFyIG5ld0RtZ1RpbGUgPSAgd29ybGQuY3JlYXRlRW50aXR5KClcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6dGFyZ2V0LnggKyBjb29yZFswXSx5OnRhcmdldC55ICsgY29vcmRbMV19IClcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5TbG93QXR0YWNrKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkRtZ1RpbGUpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG4gICAgICAgIGlmKGFiaWxpdHkuaGFzKGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKSl7XHJcbiAgICAgICAgICAgIGVudGl0eS5hZGQoY29tcG9uZW50cy5Jc1R1cm5FbmQpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgXHJcbiAgICBvblRhcmdldDogKGFiaWxpdHksZW50aXR5KSA9PiB7XHJcbiAgICAgICAgU2V0UXVldWVkQWJpbGl0eShhYmlsaXR5KVxyXG4gICAgICAgIFNldFF1ZXVlZEVudGl0eShlbnRpdHkpXHJcbiAgICAgICAgLy9xdWV1ZWRBYmlsaXR5ID0gYWJpbGl0eVxyXG4gICAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJ0YXJnZXRpbmdcIilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlEb3VibGVBeGVTd2luZyA9IHtcclxuICAgIGNhblVzZTogKGFiaWxpdHksZW50aXR5LCBkaWNlID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KSkgPT4ge1xyXG4gICAgICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5Jc1R1cm5FbmQpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrRG91YmxlcyhkaWNlLCBhYmlsaXR5LmFiaWxpdHlBbGxvd2VkRGllLmFsbG93ZWQpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6R2VuZXJpY1Nsb3dBdHRhY2ssIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIFNldFF1ZXVlZEFiaWxpdHkoYWJpbGl0eSlcclxuICAgICAgICBTZXRRdWV1ZWRFbnRpdHkoZW50aXR5KVxyXG4gICAgICAgIC8vcXVldWVkQWJpbGl0eSA9IGFiaWxpdHlcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwidGFyZ2V0aW5nXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5QXhlRGVjYXBpdGF0ZSA9IHtcclxuICAgIGNhblVzZTogKGFiaWxpdHksZW50aXR5LCBkaWNlID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KSkgPT4ge1xyXG4gICAgICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5Jc1R1cm5FbmQpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrRG91YmxlcyhkaWNlLCBhYmlsaXR5LmFiaWxpdHlBbGxvd2VkRGllLmFsbG93ZWQpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6R2VuZXJpY0Zhc3RBdHRhY2ssIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIFNldFF1ZXVlZEFiaWxpdHkoYWJpbGl0eSlcclxuICAgICAgICBTZXRRdWV1ZWRFbnRpdHkoZW50aXR5KVxyXG4gICAgICAgIC8vcXVldWVkQWJpbGl0eSA9IGFiaWxpdHlcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwidGFyZ2V0aW5nXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdlbmVyaWNTbG93QXR0YWNrKGFiaWxpdHksZW50aXR5LHRhcmdldD0gbnVsbCkge1xyXG4gICAgdmFyIGNvb3JkcyA9IFJvdGF0ZUNvb3JkcyhhYmlsaXR5LCBlbnRpdHksdGFyZ2V0KVxyXG4gICAgLy9kbyBhYmlsaXR5XHJcbiAgICAvL2ZvciBlYWNoIHRhcmdldCBjcmVhdGUgZG1nIHRpbGVcclxuICAgIGNvb3Jkcy5mb3JFYWNoKGNvb3JkID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhjb29yZClcclxuICAgICAgICB2YXIgbmV3RG1nVGlsZSA9ICB3b3JsZC5jcmVhdGVFbnRpdHkoKVxyXG4gICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OnRhcmdldC54ICsgY29vcmRbMF0seTp0YXJnZXQueSArIGNvb3JkWzFdfSApXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5TbG93QXR0YWNrKVxyXG4gICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuRG1nVGlsZSwge2RtZzogYWJpbGl0eS5hYmlsaXR5RGFtYWdlLmRtZ30pXHJcbiAgICB9KVxyXG4gICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgIGlmKGFiaWxpdHkuaGFzKGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKSl7XHJcbiAgICAgICAgZW50aXR5LmFkZChjb21wb25lbnRzLklzVHVybkVuZClcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gR2VuZXJpY0Zhc3RBdHRhY2soYWJpbGl0eSxlbnRpdHksdGFyZ2V0PSBudWxsKSB7XHJcbiAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSx0YXJnZXQpXHJcbiAgICAvL2RvIGFiaWxpdHlcclxuICAgIC8vZm9yIGVhY2ggdGFyZ2V0IGNyZWF0ZSBkbWcgdGlsZVxyXG4gICAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNvb3JkKVxyXG4gICAgICAgIHZhciBuZXdEbWdUaWxlID0gIHdvcmxkLmNyZWF0ZUVudGl0eSgpXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6dGFyZ2V0LnggKyBjb29yZFswXSx5OnRhcmdldC55ICsgY29vcmRbMV19IClcclxuICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkZhc3RBdHRhY2spXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5EbWdUaWxlLCB7ZG1nOiBhYmlsaXR5LmFiaWxpdHlEYW1hZ2UuZG1nfSlcclxuICAgIH0pXHJcbiAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG5cclxuICAgIGlmKGFiaWxpdHkuaGFzKGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKSl7XHJcbiAgICAgICAgZW50aXR5LmFkZChjb21wb25lbnRzLklzVHVybkVuZClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEdldFNlbGVjdGVkRGllID0gKGVudGl0eSkgPT4ge1xyXG4gICAgbGV0IGRpZUxpc3QgPSBbXVxyXG4gICAgZm9yKHZhciB4ID0gMDt4IDwgZW50aXR5LmRpZS5sZW5ndGg7IHgrKyl7XHJcbiAgICAgICAgaWYoZW50aXR5LmRpZVt4XS5zZWxlY3RlZCAmJiAhZW50aXR5LmRpZVt4XS5leGhhdXN0ZWQpe1xyXG4gICAgICAgICAgICBkaWVMaXN0LnB1c2goZW50aXR5LmRpZVt4XS5udW1iZXIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpZUxpc3Quc29ydCgpXHJcbiAgICB2YXIgY291bnRzID0ge307XHJcbiAgICBkaWVMaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgeyBjb3VudHNbeF0gPSAoY291bnRzW3hdIHx8IDApKzE7IH0pO1xyXG4gICAgLy9jb25zb2xlLmxvZyhjb3VudHMpXHJcbiAgICByZXR1cm4gY291bnRzO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgR2V0QWxsRGllID0gKGVudGl0eSkgPT4ge1xyXG4gICAgbGV0IGRpZUxpc3QgPSBbXVxyXG4gICAgY29uc29sZS5sb2coXCJBSSBESUNFXCIpXHJcbiAgICBmb3IodmFyIHggPSAwO3ggPCBlbnRpdHkuZGllLmxlbmd0aDsgeCsrKXtcclxuICAgICAgICBpZighZW50aXR5LmRpZVt4XS5leGhhdXN0ZWQpe1xyXG4gICAgICAgICAgICBkaWVMaXN0LnB1c2goZW50aXR5LmRpZVt4XS5udW1iZXIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpZUxpc3Quc29ydCgpXHJcbiAgICBjb25zb2xlLmxvZyhkaWVMaXN0LnRvU3RyaW5nKCkpXHJcbiAgICB2YXIgY291bnRzID0ge307XHJcbiAgICBkaWVMaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgeyBjb3VudHNbeF0gPSAoY291bnRzW3hdIHx8IDApKzE7IH0pO1xyXG4gICAgY29uc29sZS5sb2coY291bnRzKVxyXG4gICAgcmV0dXJuIGNvdW50cztcclxufVxyXG5cclxuY29uc3QgUm90YXRlQ29vcmRzID0gKGFiaWxpdHksIGVudGl0eSwgdGFyZ2V0KSA9PiB7XHJcbiAgICAvL2RvIHdlIG5lZWQgdG8gcm90YXRlIGNvb3Jkcz9cclxuICAgIHZhciBkaWZmWCA9IHRhcmdldC54IC0gZW50aXR5LnBvc2l0aW9uLnggIFxyXG4gICAgdmFyIGRpZmZZID0gdGFyZ2V0LnkgLSBlbnRpdHkucG9zaXRpb24ueTtcclxuICAgIHZhciBjb29yZHMgPSBhYmlsaXR5LmFiaWxpdHlUYXJnZXQuY29vcmRzO1xyXG4gICAgY29uc29sZS5sb2coXCJiZWZvcmUgcm90YXRlXCIpXHJcbiAgICBjb25zb2xlLmxvZyhjb29yZHMpXHJcbiAgICBjb25zb2xlLmxvZyhcImRpcmVjdGlvblwiKVxyXG4gICAgaWYoZGlmZlkgPD0gLTEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidXBcIilcclxuICAgIH1lbHNlIGlmKGRpZmZZID49IDEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZG93blwiKVxyXG4gICAgICAgIGNvb3JkcyA9IENvbnZlcnRDb29yZHNEb3duKGNvb3JkcylcclxuICAgIH1lbHNlIGlmKGRpZmZYIDw9IC0xKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxlZnRcIilcclxuICAgICAgICBjb29yZHMgPSBDb252ZXJ0Q29vcmRzTGVmdChjb29yZHMpXHJcbiAgICB9ZWxzZSBpZihkaWZmWCA+PSAxKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJpZ2h0XCIpXHJcbiAgICAgICAgY29vcmRzID0gQ29udmVydENvb3Jkc1JpZ2h0KGNvb3JkcylcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiYWZ0ZXIgcm90YXRlXCIpXHJcbiAgICBjb25zb2xlLmxvZyhjb29yZHMpXHJcbiAgICByZXR1cm4gY29vcmRzXHJcbn1cclxuXHJcbmNvbnN0IENvbnZlcnRDb29yZHNSaWdodCA9IChjb29yZHMpID0+IHtcclxuICAgIHZhciBuZXdSaWdodCA9IFtdXHJcbiAgICBjb29yZHMuZm9yRWFjaCggKGNvKSA9PiB7XHJcbiAgICAgICAgdmFyIGhvbGRlciA9IFtdXHJcbiAgICAgICAgaG9sZGVyLnB1c2goY29bMV0pXHJcbiAgICAgICAgaG9sZGVyLnB1c2goY29bMF0pXHJcbiAgICAgICAgaG9sZGVyWzBdID0gaG9sZGVyWzBdICogLTFcclxuICAgICAgICBob2xkZXJbMV0gPSBob2xkZXJbMV0gKiAxXHJcbiAgICAgICAgbmV3UmlnaHQucHVzaChob2xkZXIpXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIG5ld1JpZ2h0XHJcbn1cclxuXHJcbmNvbnN0IENvbnZlcnRDb29yZHNMZWZ0ID0gKGNvb3JkcykgPT4ge1xyXG4gICAgdmFyIG5ld1JpZ2h0ID0gW11cclxuICAgIGNvb3Jkcy5mb3JFYWNoKCAoY28pID0+IHtcclxuICAgICAgICB2YXIgaG9sZGVyID0gW11cclxuICAgICAgICBob2xkZXIucHVzaChjb1sxXSlcclxuICAgICAgICBob2xkZXIucHVzaChjb1swXSlcclxuICAgICAgICAvL2hvbGRlclswXSA9IGhvbGRlclswXSAqIC0xXHJcbiAgICAgICAgaG9sZGVyWzFdID0gaG9sZGVyWzFdICogLTFcclxuICAgICAgICBuZXdSaWdodC5wdXNoKGhvbGRlcilcclxuICAgIH0pXHJcbiAgICByZXR1cm4gbmV3UmlnaHRcclxufVxyXG5cclxuY29uc3QgQ29udmVydENvb3Jkc0Rvd24gPSAoY29vcmRzKSA9PiB7XHJcbiAgICB2YXIgbmV3UmlnaHQgPSBbXVxyXG4gICAgY29vcmRzLmZvckVhY2goIChjbykgPT4ge1xyXG4gICAgICAgIHZhciBob2xkZXIgPSBbXVxyXG4gICAgICAgIGhvbGRlciA9IFsuLi5jb11cclxuICAgICAgICBob2xkZXJbMF0gPSBob2xkZXJbMF0gKiAtMVxyXG4gICAgICAgIGhvbGRlclsxXSA9IGhvbGRlclsxXSAqIC0xXHJcbiAgICAgICAgbmV3UmlnaHQucHVzaChob2xkZXIpXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIG5ld1JpZ2h0XHJcbn0iLCJpbXBvcnQgd29ybGQgZnJvbSBcIi4vZWNzXCJcclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCJnZW90aWNcIjtcclxuaW1wb3J0IHsgcmFuZG9tLCBjb21wYWN0IH0gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQge2FkZENhY2hlU2V0LCBkZWxldGVDYWNoZVNldH0gZnJvbSBcIi4vY2FjaGVcIlxyXG5pbXBvcnQgKiBhcyBBYmlsaXRpZXMgZnJvbSBcIi4uL3N5c3RlbXMvYWJpbGl0aWVzXCJcclxuaW1wb3J0ICogYXMgTW92ZW1lbnRzIGZyb20gXCIuLi9zeXN0ZW1zL21vdmVtZW50XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBlYXJhbmNlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge1xyXG4gICAgICBjb2xvcjogXCIjZmYwMDc3XCIsXHJcbiAgICAgIGNoYXI6IFwiP1wiLFxyXG4gICAgICBiYWNrZ3JvdW5kOiBcIiMwMDBcIixcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEZXNjcmlwdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHsgXHJcbiAgICAgICAgbmFtZTogXCJObyBOYW1lXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFwibm90aGluZ1wiXHJcbiAgICAgfTtcclxuICB9XHJcbmV4cG9ydCBjbGFzcyBJc0Jsb2NraW5nIGV4dGVuZHMgQ29tcG9uZW50IHt9XHJcblxyXG5leHBvcnQgY2xhc3MgUG9zaXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7IHg6IDAsIHk6IDAgfTtcclxuICBcclxuICAgIG9uQXR0YWNoZWQoKSB7XHJcbiAgICAgIGNvbnN0IGxvY0lkID0gYCR7dGhpcy5lbnRpdHkucG9zaXRpb24ueH0sJHt0aGlzLmVudGl0eS5wb3NpdGlvbi55fWA7XHJcbiAgICAgIGFkZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIGxvY0lkLCB0aGlzLmVudGl0eS5pZCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBvbkRlc3Ryb3llZCgpIHsgICAgICBcclxuICAgICAgICBjb25zdCBsb2NJZCA9IGAke3RoaXMueH0sJHt0aGlzLnl9YDtcclxuICAgICAgICBkZWxldGVDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCBsb2NJZCwgdGhpcy5lbnRpdHkuaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbmV4cG9ydCBjbGFzcyBIZWFsdGggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7IG1heDogNCwgY3VycmVudDogNCB9O1xyXG4gIFxyXG4gICAgb25UYWtlRGFtYWdlKGV2dCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaSd2ZSBiZWVuIGhpdCFcIilcclxuICAgICAgICB0aGlzLmN1cnJlbnQgLT0gZXZ0LmRhdGEuYW1vdW50O1xyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcylcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm93XCIpXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LnJlbW92ZSh0aGlzLmVudGl0eS5wb3NpdGlvbilcclxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuYWRkKElzRGVhZClcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuYXBwZWFyYW5jZS5jaGFyID0gXCIlXCI7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LnJlbW92ZSh0aGlzLmVudGl0eS5haSlcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkucmVtb3ZlKHRoaXMuZW50aXR5LmlzQmxvY2tpbmcpXHJcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LnJlbW92ZSh0aGlzLmVudGl0eS5sYXllcjQwMClcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuYWRkKElzRGVhZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmFkZChMYXllcjMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICBldnQuaGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHBvcnQgY2xhc3MgTW92ZW1lbnQgZXh0ZW5kcyBDb21wb25lbnR7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHttb3ZlbWVudDogMCwgZG9kZ2U6IDAsIHg6IDAsIHk6IDB9XHJcblxyXG4gICAgb25HYWluTW92ZW1lbnQoZXZ0KSB7XHJcbiAgICAgIHRoaXMubW92ZW1lbnQgKz0gZXZ0LmRhdGE7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3IG1vdmVtZW50OiBcIiArIHRoaXMubW92ZW1lbnQpXHJcbiAgICAgIGV2dC5oYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkdhaW5Eb2RnZShldnQpe1xyXG4gICAgICB0aGlzLmRvZGdlICs9IGV2dC5kYXRhO1xyXG4gICAgICBldnQuaGFuZGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25UdXJuRW5kKGV2dCl7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdlbmRlZCBpbiBtb3ZlJylcclxuICAgICAgdGhpcy5tb3ZlbWVudCA9IDBcclxuICAgICAgdGhpcy5kb2RnZSA9IDBcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZVBvc2l0aW9uKGV2dCl7XHJcbiAgICAgIHRoaXMueCA9IGV2dC5kYXRhLnhcclxuICAgICAgdGhpcy55ID0gZXZ0LmRhdGEueVxyXG4gICAgICBldnQuaGFuZGxlKClcclxuICAgIH1cclxuICBcclxuICAgIG9uQXR0ZW1wdE1vdmUoZXZ0KXtcclxuICAgICAgaWYodGhpcy5tb3ZlbWVudCA8PSAwICYmIHRoaXMuZG9kZ2UgPD0gMCl7XHJcbiAgICAgICAgZXZ0LmhhbmRsZSgpXHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICB2YXIgc3VjY2VzcyA9IE1vdmVtZW50cy5BdHRlbXB0TW92ZSh0aGlzLCB0aGlzLmVudGl0eSlcclxuICAgICAgICBpZihzdWNjZXNzKXtcclxuICAgICAgICAgIC8vY2hlY2sgaWYgd2UgdXNlZCBtb3ZlbWVudCBvciBkb2RnZVxyXG4gICAgICAgICAgaWYodGhpcy5kb2RnZSA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLmRvZGdlID0gTWF0aC5tYXgoMCx0aGlzLmRvZGdlIC0gMSlcclxuICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudCAtPSAxXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMueCA9IDBcclxuICAgICAgdGhpcy55ID0gMFxyXG4gICAgICBldnQuaGFuZGxlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBHYWluTW92ZW1lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7YW1vdW50OjN9XHJcblxyXG4gICAgb25UdXJuU3RhcnQoZXZ0KXtcclxuICAgICAgdGhpcy5lbnRpdHkuZmlyZUV2ZW50KFwiZ2Fpbi1tb3ZlbWVudFwiLCB0aGlzLmFtb3VudClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBBcm1vdXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7IG1heDogMCwgY3VycmVudDogMH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBTdGFtaW5hIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0geyBtYXg6IDUsIGN1cnJlbnQ6IDUsIHVzZWQ6IDAsIHJlZ2VuOiA0fVxyXG4gICAgb25BdHRhY2hlZCgpe1xyXG4gICAgICAvL2NvbnNvbGUubG9nKFwiZmlyZWQgc3RhbWluYVwiKVxyXG4gICAgICAvL2FkZCBkaWUgdG8gdGhpcyBlbnRpdHlcclxuICAgICAgZm9yKHZhciB4ID0gMDsgeCA8IHRoaXMubWF4O3grKyl7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkuYWRkKERpZSlcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm9uUm9sbERpY2UoKVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHVybkVuZChldnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2RvaW5nIHR1cm4gZW5kJylcclxuICAgICAgLy9nYWluIHN0YW1pbmEgYmFjayA0LXVzZWQgc3RhbWluYSB0aGlzIHR1cm5cclxuICAgICAgLy90aGlzLm9uVXBkYXRlU3RhbWluYSgpXHJcbiAgICAgIHRoaXMuY3VycmVudCA9IE1hdGgubWluKHRoaXMubWF4LCB0aGlzLmN1cnJlbnQgKyBNYXRoLm1heCgwLHRoaXMucmVnZW4tdGhpcy51c2VkKSlcclxuICAgICAgdGhpcy51c2VkID0gMDtcclxuICAgICAgdGhpcy5vblJvbGxEaWNlKClcclxuICAgICAgLy9ldnQuaGFuZGxlKClcclxuICAgIH1cclxuXHJcbiAgICBvblJvbGxEaWNlKCl7XHJcbiAgICAgIC8vbG9vcCBvdmVyIGFsbCBkaWUgYW5kIHNodWZmbGUgdGhlbSBhbmQgZXhoYXVzdCBvbmVzIHRoYXQgYXJlIHBhc3QgbWF4XHJcbiAgICAgIGZvcih2YXIgeCA9IDA7IHggPCB0aGlzLm1heDsgeCsrKXtcclxuICAgICAgICB0aGlzLmVudGl0eS5kaWVbeF0uc2VsZWN0ZWQgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuZW50aXR5LmRpZVt4XS5leGhhdXN0ZWQgPSAoeD49dGhpcy5jdXJyZW50KVxyXG4gICAgICAgIHRoaXMuZW50aXR5LmRpZVt4XS5udW1iZXIgPSByYW5kb20oMSwgNik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVzZVN0YW1pbmEoZXZ0KXtcclxuICAgICAgdGhpcy5jdXJyZW50ID0gTWF0aC5tYXgodGhpcy5jdXJyZW50IC0gZXZ0LmRhdGEsIDApXHJcbiAgICB9XHJcblxyXG4gICAgb25BaVVzZVN0YW1pbmEoZXZ0KXtcclxuICAgICAgdGhpcy51c2VkICs9IGV2dC5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlU3RhbWluYSgpe1xyXG4gICAgICAvL3RoaXMuY3VycmVudCA9IE1hdGgubWluKDAsIHRoaXMuY3VycmVudCs9IE1hdGgubWF4KDQtdGhpcy51c2VkLHRoaXMubWF4KSlcclxuICAgICAgLy90aGlzLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnQgLSB0aGlzLnVzZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHBvcnQgY2xhc3MgRGllIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBhbGxvd011bHRpcGxlID0gdHJ1ZTtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge251bWJlcjogMCwgc2VsZWN0ZWQ6IGZhbHNlLCBleGhhdXN0ZWQ6IGZhbHNlfVxyXG5cclxuICAgIFxyXG4gICAgb25FeGhhdXN0U2VsZWN0ZWQoZXZ0KXtcclxuICAgICAgaWYodGhpcy5zZWxlY3RlZCl7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkuc3RhbWluYS51c2VkKys7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkuc3RhbWluYS5jdXJyZW50LS07XHJcbiAgICAgICAgdGhpcy5leGhhdXN0ZWQgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlXHJcblxyXG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmVFdmVudChcInVwZGF0ZS1zdGFtaW5hXCIpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBJc1R1cm5FbmQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgb25UdXJuRW5kKGV2dCkge1xyXG4gICAgICB0aGlzLmRlc3Ryb3koKVxyXG4gICAgfVxyXG4gIH1cclxuICBleHBvcnQgY2xhc3MgSXNQbGF5ZXJDb250cm9sbGVkIGV4dGVuZHMgQ29tcG9uZW50e31cclxuICBleHBvcnQgY2xhc3MgSXNFbmVteSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHtlbmVteTogdHJ1ZX1cclxuICB9XHJcbiAgZXhwb3J0IGNsYXNzIEFpIGV4dGVuZHMgQ29tcG9uZW50IHt9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBMYXllck1hcCBleHRlbmRzIENvbXBvbmVudCB7fVxyXG4gIGV4cG9ydCBjbGFzcyBMYXllclVuaXQgZXh0ZW5kcyBDb21wb25lbnQge31cclxuXHJcbiAgZXhwb3J0IGNsYXNzIFNsb3dBdHRhY2sgZXh0ZW5kcyBDb21wb25lbnQge31cclxuICBleHBvcnQgY2xhc3MgRmFzdEF0dGFjayBleHRlbmRzIENvbXBvbmVudCB7fVxyXG4gIGV4cG9ydCBjbGFzcyBJc0RlYWQgZXh0ZW5kcyBDb21wb25lbnQge30gLy9uZWVkcyB0byByZW1vdmUgaXMgYmxvY2sgYW5kIGNoYW5nZSBhcHBlYXJhbmNlIHRvIGNvcnBzZSBhbmQgc3VjaD9cclxuICBleHBvcnQgY2xhc3MgRG1nVGlsZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHtkbWc6IDF9XHJcbiAgfVxyXG5cclxuICAvL2FiaWxpdGllc1xyXG5leHBvcnQgY2xhc3MgQWJpbGl0eUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2FiaWxpdGllczogW119XHJcblxyXG4gIG9uQXR0YWNoZWQoKXtcclxuICAgIC8vdXBvbiBjcmVhdGlvbiBnZW5lcmF0ZSB0aGUgcHJlZmFicyBhbmQgZmlsbCB0aGlzIGxpc3RcclxuICAgIHZhciBhYmlsaXRpZXMgPSBbXVxyXG5cclxuICAgIHRoaXMuYWJpbGl0aWVzLmZvckVhY2goIChhYmlsKSA9PiB7XHJcbiAgICAgIGFiaWxpdGllcy5wdXNoKHdvcmxkLmNyZWF0ZVByZWZhYihhYmlsKSlcclxuICAgIH0pXHJcbiAgICB0aGlzLmFiaWxpdGllcz1hYmlsaXRpZXNcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5VGFyZ2V0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcGVydGllcyA9IHtjb29yZHM6IFtbMCwwXV19XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5QWxsb3dlZERpZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7YWxsb3dlZDogWzEsMiwzLDQsNSw2XX1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlGdW5jdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHl9IFxyXG59XHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5UGhhc2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge3BoYXNlOiBcIkFueVwifVxyXG59XHJcbiAgXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5U3BlZWQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge3NwZWVkOiBcIkluc3RhbnRcIn1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlTdGFtaW5hQ29zdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7YW1vdW50OiAxfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eVNtYWxsTmFtZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7c21hbGxOYW1lOiBcImFibFwifVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eVJhbmdlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcGVydGllcyA9IHtyYW5nZTogMX1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlEYW1hZ2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2RtZzogMX1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlFbmRzVHVybiBleHRlbmRzIENvbXBvbmVudCB7fSIsImltcG9ydCB3b3JsZCBmcm9tIFwiLi4vc3RhdGUvZWNzXCI7XHJcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSBcIi4uL3N0YXRlL2NvbXBvbmVudFwiXHJcbmltcG9ydCB7IGdyaWQgfSBmcm9tIFwiLi4vbGliL2NhbnZhc1wiO1xyXG5pbXBvcnQgeyBhZGRDYWNoZVNldCwgZGVsZXRlQ2FjaGVTZXQsIHJlYWRDYWNoZVNldCB9IGZyb20gXCIuLi9zdGF0ZS9jYWNoZVwiO1xyXG5pbXBvcnQge3RvQ2VsbCwgdG9Mb2NJZH0gZnJvbSBcIi4uL2xpYi9ncmlkXCJcclxuXHJcbmV4cG9ydCBjb25zdCBBdHRlbXB0TW92ZSA9IChtb3ZlQ29tcCwgZW50aXR5KSA9PiB7XHJcbiAgICAvL21vdmUgY29tcCB3aWxsIGNvbnRhaW4gYW4geC95IGNoYW5nZVxyXG5cclxuICAgIC8vZW50aXR5IGlzIHRoZSBtb3ZpbmcgZW50aXR5XHJcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrIGhlcmVcIilcclxuICAgIGNvbnNvbGUubG9nKG1vdmVDb21wKVxyXG4gICAgY29uc29sZS5sb2coZW50aXR5KVxyXG5cclxuICAgIGxldCBteCA9IG1vdmVDb21wLng7XHJcbiAgICBsZXQgbXkgPSBtb3ZlQ29tcC55O1xyXG5cclxuICAgIG14ID0gZW50aXR5LnBvc2l0aW9uLnggKyBteDtcclxuICAgIG15ID0gZW50aXR5LnBvc2l0aW9uLnkgKyBteTtcclxuXHJcbiAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHdpbGwgcnVuIGFueSBjaGVja3MgdG8gc2VlIGlmIGVudGl0eSBjYW4gbW92ZSB0byBuZXcgbG9jYXRpb25cclxuICAgIC8vIG9ic2VydmUgbWFwIGJvdW5kYXJpZXNcclxuICAgIC8vbXggPSBNYXRoLm1pbigwLCBNYXRoLm1heChncmlkLm1hcC53aWR0aC0xLCBteCkpXHJcbiAgICAvL215ID0gTWF0aC5taW4oMCwgTWF0aC5tYXgoZ3JpZC5tYXAuaGVpZ2h0LTEsIG15KSlcclxuICAgIFxyXG4gICAgLy8gbXggPSBNYXRoLm1pbihncmlkLm1hcC53aWR0aCArIGdyaWQubWFwLnggLSAxLCBNYXRoLm1heChncmlkLm1hcC53aWR0aCwgbXgpKTtcclxuICAgIC8vIG15ID0gTWF0aC5taW4oZ3JpZC5tYXAuaGVpZ2h0ICsgZ3JpZC5tYXAueSAtIDEsIE1hdGgubWF4KGdyaWQubWFwLmhlaWdodCwgbXkpKTtcclxuXHJcbiAgICAvLyBjaGVjayBmb3IgYmxvY2tlcnNcclxuICAgIGNvbnN0IGJsb2NrZXJzID0gW107XHJcbiAgICBjb25zdCBmYXN0QXR0YWNrcyA9IFtdO1xyXG4gICAgLy8gcmVhZCBmcm9tIGNhY2hlXHJcbiAgICBjb25zb2xlLmxvZyhgJHtteH0sJHtteX1gKVxyXG4gICAgY29uc3QgZW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCBgJHtteH0sJHtteX1gKTtcclxuICAgIGNvbnNvbGUubG9nKGVudGl0aWVzQXRMb2MpXHJcbiAgICBmb3IgKGNvbnN0IGVJZCBvZiBlbnRpdGllc0F0TG9jKSB7XHJcbiAgICAgICAgaWYgKHdvcmxkLmdldEVudGl0eShlSWQpLmlzQmxvY2tpbmcpIHtcclxuICAgICAgICAgIGJsb2NrZXJzLnB1c2goZUlkKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGlmKGJsb2NrZXJzLmxlbmd0aCA+PSAxKXtcclxuICAgICAgICAvL3dlIGNhbid0IG1vdmUgaGVyZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdibG9ja2VkJylcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy9jaGVjayBjdXJyZW50IHRpbGUgZm9yIGZhc3QgYXR0YWNrc1xyXG4gICAgY29uc3QgZW50aXRpZXNBdEN1cnJlbnRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDplbnRpdHkucG9zaXRpb24ueCx5OmVudGl0eS5wb3NpdGlvbi55fSkpXHJcbiAgICBmb3IgKGNvbnN0IGVJZCBvZiBlbnRpdGllc0F0Q3VycmVudExvYykge1xyXG4gICAgICBjb25zb2xlLmxvZyh3b3JsZC5nZXRFbnRpdHkoZUlkKSlcclxuICAgICAgaWYod29ybGQuZ2V0RW50aXR5KGVJZCkuZmFzdEF0dGFjaykge1xyXG4gICAgICAgIGZhc3RBdHRhY2tzLnB1c2goZW50aXR5KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2NoZWNrIGlmIHdlIGZvdW5kIGFueVxyXG4gICAgaWYoZmFzdEF0dGFja3MubGVuZ3RoID49IDEpe1xyXG4gICAgICAvL3dlIG5lZWQgZG9kZ2UgdG8gbW92ZS5cclxuICAgICAgaWYoZW50aXR5Lm1vdmVtZW50LmRvZGdlIDwgMSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJubyBkb2RnZVwiKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vcmVtb3ZlIDEgZG9kZ2UgZm9yIGdldHRpbmcgb3V0IG9mIHRpbGVcclxuICAgICAgICAvL2VudGl0eS5tb3ZlbWVudC5kb2RnZSA9IE1hdGgubWF4KDAsZW50aXR5Lm1vdmVtZW50LmRvZGdlIC0gMSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vd2UgY2FuIG1vdmUgdG8gdGhpcyBwb3NpdGlvblxyXG4gICAgZGVsZXRlQ2FjaGVTZXQoXHJcbiAgICAgICAgXCJlbnRpdGllc0F0TG9jYXRpb25cIixcclxuICAgICAgICBgJHtlbnRpdHkucG9zaXRpb24ueH0sJHtlbnRpdHkucG9zaXRpb24ueX1gLFxyXG4gICAgICAgIGVudGl0eS5pZFxyXG4gICAgICApO1xyXG4gICAgICBhZGRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCBgJHtteH0sJHtteX1gLCBlbnRpdHkuaWQpO1xyXG4gIFxyXG4gICAgICBlbnRpdHkucG9zaXRpb24ueCA9IG14O1xyXG4gICAgICBlbnRpdHkucG9zaXRpb24ueSA9IG15O1xyXG4gIFxyXG4gICAgcmV0dXJuIHRydWVcclxufVxyXG4iLCJcclxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tIFwiLi9jb21wb25lbnRcIlxyXG5pbXBvcnQgKiBhcyBBYmlsaXRpZXMgZnJvbSBcIi4uL3N5c3RlbXMvYWJpbGl0aWVzXCJcclxuXHJcbi8vIEJhc2VcclxuZXhwb3J0IGNvbnN0IFRpbGUgPSB7XHJcbiAgICBuYW1lOiBcIlRpbGVcIixcclxuICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgeyB0eXBlOiBcIkFwcGVhcmFuY2VcIiB9LFxyXG4gICAgICB7IHR5cGU6IFwiRGVzY3JpcHRpb25cIiB9LFxyXG4gICAgICB7IHR5cGU6IFwiTGF5ZXJNYXBcIiB9LFxyXG4gICAgXSxcclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgQmVpbmcgPSB7XHJcbiAgICBuYW1lOiBcIkJlaW5nXCIsXHJcbiAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgIHsgdHlwZTogXCJBcHBlYXJhbmNlXCIgfSxcclxuICAgICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIgfSxcclxuICAgICAgeyB0eXBlOiBcIkhlYWx0aFwiIH0sXHJcbiAgICAgIHsgdHlwZTogXCJJc0Jsb2NraW5nXCIgfSxcclxuICAgICAgeyB0eXBlOiBcIkxheWVyVW5pdFwiIH0sXHJcbiAgICAgIHsgdHlwZTogXCJNb3ZlbWVudFwifSxcclxuICAgICAgeyB0eXBlOiBcIkFybW91clwifSxcclxuICAgICAgeyB0eXBlOiBcIlN0YW1pbmFcIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5TGlzdFwifVxyXG4gICAgXSxcclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgQWJpbGl0eSA9IHtcclxuICAgIG5hbWU6IFwiQWJpbGl0eVwiLFxyXG4gICAgY29tcG9uZW50czpbXHJcbiAgICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkdlbmVyaWMgQWJpbGl0eVwiLCBkZXNjcmlwdGlvbjogXCJ1c2VkIGZvciB0ZXN0aW5nIGFzIGJhc2UgdGVtcGxhdGVcIn19LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVBoYXNlXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVNwZWVkXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVN0YW1pbmFDb3N0XCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlUYXJnZXRcIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5QWxsb3dlZERpZVwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlSYW5nZVwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlEYW1hZ2VcIn1cclxuICAgIF1cclxuICB9XHJcblxyXG5cclxuICAgICAgLy8gZGVzY3JpcHRpb25cclxuXHRcdC8vIG5hbWVcclxuXHRcdC8vIHBoYXNlIFtERUZFTlNFLCBBVFRBQ0ssIEFOWV1cclxuXHRcdC8vIHNwZWVkIFtpbnN0YW50LCBmYXN0LHNsb3ddXHJcblx0XHQvLyBjYW5Vc2UoKSA9e30gIC0+IGRvIHJlcXVpcmVtZW50cyBjaGVja1xyXG5cdFx0Ly8gb25Vc2UoKSA9e30gLT4gZ2l2ZSBpbnN0YW50IHBsYXllciBidWZmIGxpa2UgbW92ZSBwb2ludHNcclxuXHRcdC8vIFx0XHRcdFx0c3RhcnQgdGFyZ2V0aW5nIHN5c3RlbVxyXG5cdFx0Ly8gb25UYXJnZXRVc2UoKSA9e30gLT4gd2hlbiB0YXJnZXQgaXMgZ2l2ZW4sIGlmIHZhbGlkIHRhcmdldCBleGhhdXN0IHN0YW1pbmEgZGllIGFuZCBhZGQgdG8gc3RhbWluYVJlZ2VuLnVzZWRcclxuXHJcbi8vYWR2YW5jZWRcclxuZXhwb3J0IGNvbnN0IFdhbGwgPSB7XHJcbiAgICBuYW1lOiBcIldhbGxcIixcclxuICAgIGluaGVyaXQ6IFtcIlRpbGVcIl0sXHJcbiAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgIHsgdHlwZTogXCJJc0Jsb2NraW5nXCIgfSxcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFwiQXBwZWFyYW5jZVwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHsgY2hhcjogXCIjXCIsIGNvbG9yOiBcIiNBQUFcIiB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHsgbmFtZTogXCJ3YWxsXCIgfSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBGbG9vciA9IHtcclxuICAgIG5hbWU6IFwiRmxvb3JcIixcclxuICAgIGluaGVyaXQ6IFtcIlRpbGVcIl0sXHJcbiAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0eXBlOiBcIkFwcGVhcmFuY2VcIixcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7IGNoYXI6IFwiLlwiLCBjb2xvcjogXCIjQUFBXCIgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7IG5hbWU6IFwid2FsbFwiIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gIH07XHJcblxyXG4gZXhwb3J0IGNvbnN0IFBsYXllckJlaW5nID0ge1xyXG4gICBuYW1lOiBcIlBsYXllckJlaW5nXCIsXHJcbiAgIGluaGVyaXQ6IFtcIkJlaW5nXCJdLFxyXG4gICBjb21wb25lbnRzOiBbXHJcbiAgICAge1xyXG4gICAgICAgdHlwZTogXCJJc1BsYXllckNvbnRyb2xsZWRcIlxyXG4gICAgIH0sXHJcbiAgICAgeyB0eXBlOiBcIkFwcGVyYW5jZVwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7Y2hhcjogXCJAXCJ9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFiaWxpdHlMaXN0XCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHthYmlsaXRpZXM6IFtcIkFiaWxpdHlNb3ZlXCIsIFwiQWJpbGl0eURvZGdlXCIsIFwiQWJpbGl0eVN3b3JkSmFiXCIsIFwiQWJpbGl0eVN3b3JkU3dpbmdcIl0gfVxyXG4gICAgfVxyXG4gICBdXHJcbiB9O1xyXG5cclxuIGV4cG9ydCBjb25zdCBNb2IgPSB7XHJcbiAgbmFtZTogXCJNb2JcIixcclxuICBpbmhlcml0OiBbXCJCZWluZ1wiXSxcclxuICBjb21wb25lbnRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWlcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJJc0VuZW15XCIsXHJcbiAgICB9LFxyXG4gICAge3R5cGU6IFwiR2Fpbk1vdmVtZW50XCJ9XHJcbiAgXVxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBHb2JsaW4gPSB7XHJcbiAgbmFtZTogXCJHb2JsaW5cIixcclxuICBpbmhlcml0OltcIk1vYlwiXSxcclxuICBjb21wb25lbnRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQXBwZWFyYW5jZVwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7Y2hhcjogXCJnXCIsIGNvbG9yOiBcImdyZWVuXCJ9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkdvYmxpblwiLCBkZXNjcmlwdGlvbjogXCJBIGxvd2x5IEdvYmxpblwifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5TGlzdFwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7YWJpbGl0aWVzOiBbXCJBYmlsaXR5U3BlYXJUaHJ1c3RcIl0gfVxyXG4gICAgfSxcclxuICAgIHt0eXBlOiBcIkhlYWx0aFwiLCBwcm9wZXJ0aWVzOiB7bWF4OjIsY3VycmVudDoyfX0sXHJcbiAgICB7IHR5cGU6IFwiU3RhbWluYVwiLCBwcm9wZXJ0aWVzOiB7IG1heDogMiwgY3VycmVudDogMiwgdXNlZDogMCwgcmVnZW46IDJ9fVxyXG4gIF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE9yY1dhcnJpb3IgPSB7XHJcbiAgbmFtZTogXCJPcmMgV2FycmlvclwiLFxyXG4gIGluaGVyaXQ6W1wiTW9iXCJdLFxyXG4gIGNvbXBvbmVudHM6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBcHBlYXJhbmNlXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtjaGFyOiBcIm9cIiwgY29sb3I6IFwiZ3JlZW5cIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgcHJvcGVydGllczoge25hbWU6IFwiT3JjIFdhcnJpb3JcIiwgZGVzY3JpcHRpb246IFwiQSBmZWFyc29tZSBPcmMgd2llbGRpbmcgYXhlZXNcIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eUxpc3RcIixcclxuICAgICAgcHJvcGVydGllczoge2FiaWxpdGllczogW1wiQWJpbGl0eURvdWJsZUF4ZVN3aW5nXCIsIFwiQWJpbGl0eUF4ZURlY2FwaXRhdGVcIl0gfVxyXG4gICAgfSxcclxuICAgIHt0eXBlOiBcIkhlYWx0aFwiLCBwcm9wZXJ0aWVzOiB7bWF4OjgsY3VycmVudDo4fX0sXHJcbiAgICB7IHR5cGU6IFwiU3RhbWluYVwiLCBwcm9wZXJ0aWVzOiB7IG1heDogNCwgY3VycmVudDogNCwgdXNlZDogMCwgcmVnZW46IDR9fVxyXG4gIF1cclxufVxyXG5cclxuXHJcbi8vYWJpbGl0aWVzXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5TW92ZSA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlNb3ZlXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIk1vdmVcIiwgZGVzY3JpcHRpb246IFwiZXhoYXVzdHMgMSBkaWUgdG8gZ2l2ZSBpdCdzIGZhY2UgdmFsdWUgZm9yIG1vdmVtZW50IHBvaW50c1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlNb3ZlfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5U21hbGxOYW1lXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtzbWFsbE5hbWU6IFwiTU9WXCJ9XHJcbiAgICB9XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eURvZGdlID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eURvZGdlXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkRvZGdlXCIsIGRlc2NyaXB0aW9uOiBcImV4aGF1c3RzIGEgcGFpciB0byBnaXZlIDEgZG9kZ2UgcG9pbnRcIn19LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlGdW5jdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7ZnVuY3Rpb246IEFiaWxpdGllcy5BYmlsaXR5RG9kZ2V9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFiaWxpdHlTbWFsbE5hbWVcIixcclxuICAgICAgcHJvcGVydGllczoge3NtYWxsTmFtZTogXCJEREdcIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eVN0YW1pbmFDb3N0XCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHthbW91bnQ6IDJ9XHJcbiAgICB9XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVNwZWFyVGhydXN0ID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eVNwZWFyVGhydXN0XCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIlNwZWFyIFRocnVzdFwiLCBkZXNjcmlwdGlvbjogXCJleGhhdXN0cyA1LDYgdG8gZG8gYSBzbG93IGF0dGFjayBvbiBhIDJ4MSAxIGRtZ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlTcGVhclRocnVzdH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eVBoYXNlXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtwaGFzZTogXCJBdHRhY2tcIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIlNUSFwifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5VGFyZ2V0XCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtjb29yZHM6IFtbMCwwXSxbMCwtMV1dfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTpcIkFiaWxpdHlBbGxvd2VkRGllXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHthbGxvd2VkOls1LDZdfVxyXG4gICAgfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5UmFuZ2VcIiwgcHJvcGVydGllczoge3JhbmdlOjJ9fVxyXG4gIF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlTd29yZEphYiA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlTd29yZEphYlwiLFxyXG4gIGluaGVyaXQ6W1wiQWJpbGl0eVwiXSxcclxuICBjb21wb25lbnRzOltcclxuICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7bmFtZTogXCJTd29yZCBKYWJcIiwgZGVzY3JpcHRpb246IFwiZXhoYXVzdHMgYSA0LDUsNiB0byBkbyBhIHNsb3cgYXR0YWNrIG9uIGEgc2luZ2xlIHRpbGUgZm9yIDEgZG1nXCJ9fSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RnVuY3Rpb25cIiwgcHJvcGVydGllczoge2Z1bmN0aW9uOiBBYmlsaXRpZXMuQWJpbGl0eVN3b3JkSmFifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlQaGFzZVwiLCBwcm9wZXJ0aWVzOiB7cGhhc2U6IFwiQXR0YWNrXCJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLCBwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIlNKQlwifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlUYXJnZXRcIiwgcHJvcGVydGllczoge2Nvb3JkczogW1swLDBdXX0gfSxcclxuICAgIHsgdHlwZTpcIkFiaWxpdHlBbGxvd2VkRGllXCIsIHByb3BlcnRpZXM6IHthbGxvd2VkOls0LDUsNl19IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUVuZHNUdXJuXCJ9XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVN3b3JkU3dpbmcgPSB7XHJcbiAgbmFtZTogXCJBYmlsaXR5U3dvcmRTd2luZ1wiLFxyXG4gIGluaGVyaXQ6W1wiQWJpbGl0eVwiXSxcclxuICBjb21wb25lbnRzOltcclxuICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7bmFtZTogXCJTd29yZCBTd2luZ1wiLCBkZXNjcmlwdGlvbjogXCJleGhhdXN0cyA2IHRvIGRvIGEgc2xvdyBhdHRhY2sgb24gYSBUIHNoYXBlIGZvciAxIGRtZ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlTd29yZFN3aW5nfSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlQaGFzZVwiLCBwcm9wZXJ0aWVzOiB7cGhhc2U6IFwiQXR0YWNrXCJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLCBwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIlNTV1wifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlUYXJnZXRcIiwgcHJvcGVydGllczoge2Nvb3JkczogWyBbLTEsMF0sWzAsMF0sWzEsMF0sWzAsLTFdIF19IH0sXHJcbiAgICB7IHR5cGU6XCJBYmlsaXR5QWxsb3dlZERpZVwiLCBwcm9wZXJ0aWVzOiB7YWxsb3dlZDpbNl19IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUVuZHNUdXJuXCJ9XHJcbiAgXVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlEb3VibGVBeGVTd2luZyA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlEb3VibGVBeGVTd2luZ1wiLFxyXG4gIGluaGVyaXQ6W1wiQWJpbGl0eVwiXSxcclxuICBjb21wb25lbnRzOltcclxuICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7bmFtZTogXCJEb3VibGUgQXhlIFN3aW5nXCIsIGRlc2NyaXB0aW9uOiBcInN3aW5ncyBib3RoIHlvdXIgYXhlcyBpbiB0d28gbWFzc2l2ZSBhcmNzIGRlYWxpbmcgMiBkbWdcIn19LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlGdW5jdGlvblwiLCBwcm9wZXJ0aWVzOiB7ZnVuY3Rpb246IEFiaWxpdGllcy5BYmlsaXR5RG91YmxlQXhlU3dpbmd9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVBoYXNlXCIsIHByb3BlcnRpZXM6IHtwaGFzZTogXCJBdHRhY2tcIn0gfSxcclxuICAgIHt0eXBlOiBcIkFiaWxpdHlTbWFsbE5hbWVcIixwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIkRBU1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVRhcmdldFwiLCBwcm9wZXJ0aWVzOiB7Y29vcmRzOiBbWy0xLDBdLFswLDBdLFsxLDBdLFstMSwxXSxbMSwxXV19fSxcclxuICAgIHsgdHlwZTpcIkFiaWxpdHlBbGxvd2VkRGllXCIsIHByb3BlcnRpZXM6IHthbGxvd2VkOls1LDZdfSAgfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5U3RhbWluYUNvc3RcIiwgcHJvcGVydGllczoge2Ftb3VudDogM30gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RGFtYWdlXCIsIHByb3BlcnRpZXM6IHtkbWc6Mn0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RW5kc1R1cm5cIn1cclxuICBdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5QXhlRGVjYXBpdGF0ZSA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlBeGVEZWNhcGl0YXRlXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkF4ZSBEZWNhcGl0YXRlXCIsIGRlc2NyaXB0aW9uOiBcIlN3aW5ncyBhbiBheGUgZGlyZWN0bHkgYXQgdGhlIHRhcmdldHMgaGVhZCBmb3IgMyBkbWdcIn19LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlGdW5jdGlvblwiLCBwcm9wZXJ0aWVzOiB7ZnVuY3Rpb246IEFiaWxpdGllcy5BYmlsaXR5QXhlRGVjYXBpdGF0ZX0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5UGhhc2VcIiwgcHJvcGVydGllczoge3BoYXNlOiBcIkF0dGFja1wifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlTbWFsbE5hbWVcIixwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIkRBQ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVRhcmdldFwiLCBwcm9wZXJ0aWVzOiB7Y29vcmRzOiBbWzAsMF1dfSB9LFxyXG4gICAgeyB0eXBlOlwiQWJpbGl0eUFsbG93ZWREaWVcIiwgcHJvcGVydGllczoge2FsbG93ZWQ6WzZdfSAgfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5U3RhbWluYUNvc3RcIiwgcHJvcGVydGllczoge2Ftb3VudDogNH0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RGFtYWdlXCIsIHByb3BlcnRpZXM6IHtkbWc6M30gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RW5kc1R1cm5cIn1cclxuICBdXHJcbn0iLCJpbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiZ2VvdGljXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuL2NvbXBvbmVudFwiXHJcblxyXG5pbXBvcnQgKiBhcyBwcmVmYWJzIGZyb20gXCIuL3ByZWZhYlwiXHJcbmltcG9ydCB7U3RhcnRHYW1lfSBmcm9tIFwiLi4vaW5kZXhcIlxyXG5cclxuY29uc3QgZWNzID0gbmV3IEVuZ2luZSgpO1xyXG5cclxuY29uc3Qgd29ybGQgPSBlY3MuY3JlYXRlV29ybGQoKTtcclxuXHJcbmNvbnN0IHJlZ2lzdGVyQ29tcHMgPSAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJnb3QgaGVyZSBmaXJzdFwiKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFwcGVhcmFuY2UpO1xyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFybW91cilcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5EZXNjcmlwdGlvbik7XHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuSGVhbHRoKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLklzQmxvY2tpbmcpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuSXNEZWFkKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLklzUGxheWVyQ29udHJvbGxlZClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Jc0VuZW15KVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkxheWVyTWFwKTtcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5MYXllclVuaXQpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuTW92ZW1lbnQpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuUG9zaXRpb24pXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuU3RhbWluYSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5EaWUpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuU2xvd0F0dGFjaylcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5GYXN0QXR0YWNrKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkRtZ1RpbGUpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuSXNUdXJuRW5kKVxyXG5cclxuICAvL2FiaWxpdHlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5TGlzdClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5RnVuY3Rpb24pXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eVBoYXNlKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlTcGVlZClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5U3RhbWluYUNvc3QpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eVNtYWxsTmFtZSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5VGFyZ2V0KVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlBbGxvd2VkRGllKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkdhaW5Nb3ZlbWVudClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5UmFuZ2UpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eURhbWFnZSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5RW5kc1R1cm4pXHJcblxyXG59XHJcblxyXG5cclxuY29uc3QgcmVnaXN0ZXJQcmVmYWJzID0gKCkgPT4ge1xyXG4gIC8vcHJlZmFic1xyXG5cclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5UaWxlKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkJlaW5nKVxyXG5cclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5XYWxsKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkZsb29yKVxyXG5cclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5QbGF5ZXJCZWluZylcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5Nb2IpXHJcblxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkdvYmxpbilcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5PcmNXYXJyaW9yKVxyXG5cclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5KVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHlNb3ZlKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHlEb2RnZSlcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5U3BlYXJUaHJ1c3QpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eVN3b3JkSmFiKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHlTd29yZFN3aW5nKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHlEb3VibGVBeGVTd2luZylcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5QXhlRGVjYXBpdGF0ZSlcclxufVxyXG5cclxucmVnaXN0ZXJDb21wcygpXHJcbnJlZ2lzdGVyUHJlZmFicygpXHJcblxyXG5TdGFydEdhbWUoKVxyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgbWVzc2FnZUxvZyA9IFtcIlwiLCBcIldlbGNvbWUgdG8gR29icyAnTyBHb2JsaW5zIVwiLCBcIlwiXTtcclxuZXhwb3J0IGNvbnN0IGFkZExvZyA9ICh0ZXh0KSA9PiB7XHJcbiAgbWVzc2FnZUxvZy51bnNoaWZ0KHRleHQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd29ybGQ7IiwiLy91c2VkIGZvciBkcmF3aW5nIHRoZSBoZWxwIG1lbnVcclxuXHJcbmltcG9ydCB7ZGlzcGxheSwgZGlzcGxheUhlbHAsZGl2SGVscCwgZ3JpZCB9IGZyb20gXCIuLi9saWIvY2FudmFzXCJcclxuXHJcbmV4cG9ydCBjb25zdCBEcmF3SGVscE1lbnUgPSAoKSA9PiB7XHJcbiAgICBNYWtlVmlzaWJsZSgpXHJcblxyXG4gICAgdmFyIGhlbHBUZXh0ID0gXCJXZWxjb21lIHRvIG15IGJhZCBnYW1lLCB0aGlzIGlzIGp1c3QgcGxhY2Vob2xkZXIgaGVscCB0ZXh0IGZvciBub3dcIlxyXG5cclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuXFxuRW5lbXkgYXR0YWNrcyBhdCBlbmQgb2YgcGxheWVyIGRlZmVuZCB0dXJuXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxueW91IG5lZWQgdG8gdXNlIGRvZGdlIHRvIGdldCBvdXQgb2YgcmVkIGF0dGFja3NcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5Zb3UgcmVnZW4gNCBzdGFtaW5hIC0gdGhlIGFtb3VudCB1c2VkIHRoaXMgdHVyblwiXHJcblxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5wbGF5ZXIgYXR0YWNrcyByZXNvbHZlIGF0IGVuZCBvZiBwbGF5ZXIgYXR0YWNrIHR1cm5cIlxyXG5cclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuXFxuSE9US0VZUzpcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5BcnJvdyBLZXlzIHRvIG1vdmVcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5FbnRlciB0byBlbmQgdHVybiAvIGNvbmZpcm0gdGFyZ2V0XCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxubjogc2VsZWN0IG5leHQgY2hhcmFjdGVyXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuMS02IGFyZSB0byBzZWxlY3Qgc3RhbWluYSBkaWVcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5xd2VydHkgc2VsZWN0cyBhYmlsaXRlc1wiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbnNoaWZ0K3F3ZXJ0eSBmb3IgaW5mb1wiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbno6IHNob3dzIGVuZW15IG51bWJlcnNcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5jOiBzaG93cyBkbWcgdGhhdCB3aWxsIGhpdCB0aWxlXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuRXNjYXBlIHRvIGV4aXQgdGhpcyBhbmQgbW9zdCBtZW51c1wiXHJcblxyXG4gICAgZGlzcGxheUhlbHAuZHJhd1RleHQoMiw1LGhlbHBUZXh0KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSGlkZUhlbHBNZW51ID0gKCkgPT4ge1xyXG4gICAgZGlzcGxheUhlbHAuY2xlYXIoKVxyXG4gICAgZGl2SGVscC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxufVxyXG5cclxuY29uc3QgTWFrZVZpc2libGUgPSAoKSA9PiB7XHJcbiAgICAvL21ha2UgaXQgdmlzaWJsZVxyXG4gICAgZGl2SGVscC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcblxyXG4gICAgdmFyIGJhbm5lciA9IFwiI1wiLnJlcGVhdChncmlkLmhlbHBNZW51LndpZHRoKTtcclxuICAgIGRpc3BsYXlIZWxwLmRyYXdUZXh0KDAsMCxiYW5uZXIpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTaG93QWJpbGl0eUluZm8gPSAoYWJpbCkgPT4ge1xyXG4gICAgTWFrZVZpc2libGUoKVxyXG4gICAgdmFyIHRvV3JpdGUgPSBXcml0ZUFiaWxpdHkoYWJpbClcclxuICAgIGRpc3BsYXlIZWxwLmRyYXdUZXh0KDIsNSx0b1dyaXRlKVxyXG4gICAgLy9BYmlsaXR5IG5hbWVcclxuICAgIC8vQWJpbGl0eSBzaG9ydCBuYW1lXHJcbiAgICAvL2Rlc2NyaXB0aW9uXHJcbiAgICAvL3BoYXNlXHJcbn1cclxuXHJcbmNvbnN0IFdyaXRlQWJpbGl0eSA9IChhYmlsKSA9PiB7XHJcbiAgICB2YXIgdG9Xcml0ZSA9IFwiXCJcclxuXHJcbiAgICB0b1dyaXRlICs9IFwiXFxuXCIrYWJpbC5kZXNjcmlwdGlvbi5uYW1lXHJcbiAgICB0b1dyaXRlICs9IFwiXFxuXCIrYWJpbC5kZXNjcmlwdGlvbi5kZXNjcmlwdGlvblxyXG4gICAgdG9Xcml0ZSArPSBcIlxcblwiK2FiaWwuYWJpbGl0eVBoYXNlLnBoYXNlXHJcbiAgICB0b1dyaXRlICs9IFwiXFxuXCIrYWJpbC5hYmlsaXR5UGhhc2Uuc3BlZWRcclxuXHJcbiAgICByZXR1cm4gdG9Xcml0ZVxyXG59IiwiaW1wb3J0IHtcclxuICAgIGRpc3BsYXksXHJcbiAgICBncmlkXHJcbiAgfSBmcm9tIFwiLi4vbGliL2NhbnZhc1wiO1xyXG5cclxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tIFwiLi4vc3RhdGUvY29tcG9uZW50XCJcclxuXHJcbmltcG9ydCB3b3JsZCBmcm9tIFwiLi4vc3RhdGUvZWNzXCI7XHJcbmltcG9ydCB7IHJlYWRDYWNoZVNldCB9IGZyb20gXCIuLi9zdGF0ZS9jYWNoZVwiO1xyXG5pbXBvcnQge3RvQ2VsbCwgdG9Mb2NJZH0gZnJvbSBcIi4uL2xpYi9ncmlkXCJcclxuaW1wb3J0IHtDdXJycmVudEFjdGl2ZVBsYXllciwgZ2FtZVN0YXRlLCB0YXJnZXRFbnRpdHl9IGZyb20gXCIuLi9pbmRleFwiXHJcbmltcG9ydCB7RHJhd0hlbHBNZW51LFNob3dBYmlsaXR5SW5mb30gZnJvbSBcIi4uL3N0YXRlL2hlbHBNZW51XCJcclxuXHJcbmNvbnN0IGxheWVyTWFwRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJNYXBdXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGxheWVyVW5pdEVudGl0aWVzID0gd29ybGQuY3JlYXRlUXVlcnkoe1xyXG4gICAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdF1cclxuICB9KTtcclxuXHJcbiAgY29uc3Qgc2xvd0RtZ0VudGl0aWVzID0gd29ybGQuY3JlYXRlUXVlcnkoe1xyXG4gICAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5TbG93QXR0YWNrXVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBmYXN0RG1nRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkZhc3RBdHRhY2tdXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVuZW15RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0LGNvbXBvbmVudHMuSXNFbmVteV0sXHJcbiAgICBub25lOiBbY29tcG9uZW50cy5Jc0RlYWRdXHJcbiAgfSlcclxuXHJcblxyXG5jb25zdCBjbGVhckRpc3BsYXkgPSAoKSA9PiB7XHJcbiAgICBkaXNwbGF5LmNsZWFyKClcclxuICAgIC8vY2xlYXJDYW52YXMoZ3JpZC5tYXAueCAtIDEsIGdyaWQubWFwLnksIGdyaWQubWFwLndpZHRoICsgMSwgZ3JpZC5tYXAuaGVpZ2h0KTtcclxuICAgIFxyXG59O1xyXG5sZXQgRW50aXR5VG9SZW5kZXIgPVwiXCJcclxuXHJcbmV4cG9ydCBjb25zdCBTZXRFbnRpdHlUb1JlbmRlciA9IChlbnRpdHkpID0+IHtcclxuICAgIEVudGl0eVRvUmVuZGVyID0gZW50aXR5XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlck1hcCA9ICgpID0+IHtcclxuICAgIGxheWVyTWFwRW50aXRpZXMuZ2V0KCkuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgRHJhd0NoYXIoZW50aXR5LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueCtncmlkLm1hcC54LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueStncmlkLm1hcC55KVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlckVuZW15UXVpY2tCYXIgPSAoKSA9PiB7XHJcbiAgICB2YXIgY291bnQgPSAxXHJcbiAgICBlbmVteUVudGl0aWVzLmdldCgpLmZvckVhY2goIGVudGl0eSA9PiB7XHJcbiAgICAgICAgdmFyIHRleHQgPSBcIlwiICsgY291bnRcclxuICAgICAgICB0ZXh0ICs9IFwiJWN7XCIrZW50aXR5LmFwcGVhcmFuY2UuY29sb3IrXCJ9IFwiK2VudGl0eS5kZXNjcmlwdGlvbi5uYW1lICsgXCIgXCIgKyBlbnRpdHkuaGVhbHRoLmN1cnJlbnRcclxuICAgICAgICBEcmF3VGV4dCh0ZXh0LCBncmlkLmVuZW1pZXMueCwgZ3JpZC5lbmVtaWVzLnkgKyBjb3VudCAtIDEpXHJcbiAgICAgICAgY291bnQrKztcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IFJlbmRlckRhbWFnZU51bWJlcnMgPSAoKSA9PiB7XHJcbiAgICB2YXIgZG1nVGlsZXMgPSBbXVxyXG4gICAgZG1nVGlsZXMucHVzaC5hcHBseShkbWdUaWxlcywgc2xvd0RtZ0VudGl0aWVzLmdldCgpKTtcclxuICAgIGRtZ1RpbGVzLnB1c2guYXBwbHkoZG1nVGlsZXMsIGZhc3REbWdFbnRpdGllcy5nZXQoKSk7XHJcbiAgICBjb25zb2xlLmxvZyhkbWdUaWxlcylcclxuICAgIHZhciBkbWdDb3VudCA9IFtdXHJcbiAgICBkbWdUaWxlcy5mb3JFYWNoKCBkbWcgPT4ge1xyXG4gICAgICAgIHZhciB0b0xvYyA9IHRvTG9jSWQoe3g6ZG1nLnBvc2l0aW9uLngseTpkbWcucG9zaXRpb24ueX0pXHJcbiAgICAgICAgaWYoIWRtZ0NvdW50W3RvTG9jXSkge1xyXG4gICAgICAgICAgICBkbWdDb3VudFt0b0xvY10gPSAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgICBkbWdDb3VudFt0b0xvY10gKz0gZG1nLmRtZ1RpbGUuZG1nXHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coZG1nQ291bnQpXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkbWdDb3VudCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHtrZXl9OiAke3ZhbHVlfWApO1xyXG4gICAgICAgIHZhciBwb3MgPSB0b0NlbGwoa2V5KVxyXG4gICAgICAgIGRpc3BsYXkuZHJhdyhncmlkLm1hcC54K3Bvcy54LCBncmlkLm1hcC55ICsgcG9zLnksIHZhbHVlKVxyXG4gICAgICB9XHJcbn1cclxuXHJcbmNvbnN0IFJlbmRlckVuZW15TnVtYmVycyA9ICgpID0+IHtcclxuICAgIHZhciBjb3VudCA9IDFcclxuICAgIGVuZW15RW50aXRpZXMuZ2V0KCkuZm9yRWFjaCggZW50aXR5ICA9PiB7XHJcbiAgICAgICAgZGlzcGxheS5kcmF3KGdyaWQubWFwLngrZW50aXR5LnBvc2l0aW9uLngsIGdyaWQubWFwLnkrZW50aXR5LnBvc2l0aW9uLnksIGNvdW50LnRvU3RyaW5nKCkpXHJcbiAgICAgICAgY291bnQrK1xyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgcmVuZGVyT2JqZWN0cyA9ICgpID0+IHtcclxuXHJcbn1cclxuXHJcblxyXG5jb25zdCByZW5kZXJVbml0cyA9ICgpID0+IHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGxheWVyVW5pdEVudGl0aWVzLmdldCgpKVxyXG4gICAgbGF5ZXJVbml0RW50aXRpZXMuZ2V0KCkuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgRHJhd0NoYXIoZW50aXR5LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueCtncmlkLm1hcC54LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueStncmlkLm1hcC55KVxyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgcmVuZGVyQWN0aXZlUGxheWVyID0gKCkgPT4ge1xyXG4gICAgaWYoQ3VycnJlbnRBY3RpdmVQbGF5ZXIpe1xyXG4gICAgICAgIHZhciB0ZXh0ID0gXCJBY3RpdmU6XCJcclxuICAgICAgICBEcmF3VGV4dCh0ZXh0LGdyaWQuYWN0aXZlUGxheWVyLngsZ3JpZC5hY3RpdmVQbGF5ZXIueSApXHJcbiAgICAgICAgRHJhd0NoYXIoQ3VycnJlbnRBY3RpdmVQbGF5ZXIsXHJcbiAgICAgICAgICAgIGdyaWQuYWN0aXZlUGxheWVyLngrIHRleHQubGVuZ3RoLFxyXG4gICAgICAgICAgICBncmlkLmFjdGl2ZVBsYXllci55KVxyXG5cclxuICAgICAgICBEcmF3VGV4dChcIkhwOlwiK0N1cnJyZW50QWN0aXZlUGxheWVyLmhlYWx0aC5jdXJyZW50LnRvU3RyaW5nKCksZ3JpZC5hY3RpdmVQbGF5ZXIueCxncmlkLmFjdGl2ZVBsYXllci55KzEpXHJcbiAgICAgICAgRHJhd1RleHQoXCJTdGFtOlwiK0N1cnJyZW50QWN0aXZlUGxheWVyLnN0YW1pbmEuY3VycmVudC50b1N0cmluZygpK1wiL1wiK0N1cnJyZW50QWN0aXZlUGxheWVyLnN0YW1pbmEubWF4LnRvU3RyaW5nKCksZ3JpZC5hY3RpdmVQbGF5ZXIueCxncmlkLmFjdGl2ZVBsYXllci55KzIpXHJcbiAgICAgICAgRHJhd1RleHQoXCJTdGFtUmduOlwiKyhNYXRoLm1heCgwLDQgLSBDdXJycmVudEFjdGl2ZVBsYXllci5zdGFtaW5hLnVzZWQpKS50b1N0cmluZygpLGdyaWQuYWN0aXZlUGxheWVyLngsZ3JpZC5hY3RpdmVQbGF5ZXIueSszKVxyXG4gICAgICAgIERyYXdUZXh0KFwiTW92ZTpcIitDdXJycmVudEFjdGl2ZVBsYXllci5tb3ZlbWVudC5tb3ZlbWVudC50b1N0cmluZygpLGdyaWQuYWN0aXZlUGxheWVyLngsZ3JpZC5hY3RpdmVQbGF5ZXIueSs0KVxyXG4gICAgICAgIERyYXdUZXh0KFwiRG9kZ2U6XCIrQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQuZG9kZ2UudG9TdHJpbmcoKSxncmlkLmFjdGl2ZVBsYXllci54LGdyaWQuYWN0aXZlUGxheWVyLnkrNSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgcmVuZGVyUGhhc2UgPSAoKSA9PiB7XHJcbiAgICBEcmF3VGV4dChnYW1lU3RhdGUsIGdyaWQucGhhc2VNZW51LngsZ3JpZC5waGFzZU1lbnUueSlcclxufVxyXG5cclxuY29uc3QgcmVuZGVyRGllTWVudSA9ICgpID0+IHtcclxuICAgIGlmKEN1cnJyZW50QWN0aXZlUGxheWVyKXtcclxuICAgICAgICBmb3IodmFyIHggPSAwOyB4IDwgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllLmxlbmd0aDsgeCsrKXtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbeF0pXHJcbiAgICAgICAgICAgIC8vICAxfDN8XHJcbiAgICAgICAgICAgIC8vZ2V0IGNvbG9yXHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9IFwid2hpdGVcIlxyXG4gICAgICAgICAgICBpZihDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbeF0uc2VsZWN0ZWQpe1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBcImdyZWVuXCJcclxuICAgICAgICAgICAgfWVsc2UgaWYoQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3hdLmV4aGF1c3RlZCl7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiZ3JleVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9kaXNwbGF5LmRyYXcoMitncmlkLmRpZU1lbnUueCArICh4KjUpLCBncmlkLmRpZU1lbnUueS0xLCdfJykgICAgXHJcbiAgICAgICAgICAgIERyYXdUZXh0KCh4KzEpLnRvU3RyaW5nKCkrXCJ8XCIrXCIgXCIrXCJ8XCIsIGdyaWQuZGllTWVudS54KyAoeCo1KSwgZ3JpZC5kaWVNZW51LnkpXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3hdLm51bWJlcilcclxuICAgICAgICAgICAgZGlzcGxheS5kcmF3KDIrZ3JpZC5kaWVNZW51LnggKyAoeCo1KSwgZ3JpZC5kaWVNZW51LnksIEN1cnJyZW50QWN0aXZlUGxheWVyLmRpZVt4XS5udW1iZXIudG9TdHJpbmcoKSwgXCJibGFja1wiLCBjb2xvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGFiaWxpdHlIb3RrZXlzID0gWydxJywndycsJ2UnLCdyJywndCcsJ3knXVxyXG5cclxuY29uc3QgcmVuZGVyQWJpbGl0eU1lbnUgPSAoKSA9PiB7XHJcbiAgICAvL2ZvciBlYWNoIGFiaWxpdHkgbWFrZSBhIGJ1dHRvbiBtYXggb2YgMyBjaGFyIG5hbWUgXHJcbiAgICAvLyBxW212XSB3W2F0a10gZVtkZ11cclxuICAgIFxyXG4gICAgLy9pZiBjYW4gdXNlIHNldCB0byBncmVlbj9cclxuICAgIC8vaWYgYWxyZWFkeSB1c2VkIHNldCB0byBncmV5XHJcbiAgICBcclxuICAgIGZvcih2YXIgeCA9IDA7IHggPCBDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXMubGVuZ3RoO3grKyl7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gXCJncmF5XCJcclxuICAgICAgICB2YXIgY3VycmVudFBoYXNlID0gKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5EZWZlbmRcIikgPyBcIkRlZmVuZFwiIDogXCJBdHRhY2tcIlxyXG4gICAgICAgIGlmKCAoQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW3hdLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkFueVwiIHx8IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllc1t4XS5hYmlsaXR5UGhhc2UucGhhc2UgPT0gY3VycmVudFBoYXNlKVxyXG4gICAgICAgICAmJiBDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbeF0uYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLmNhblVzZShcclxuICAgICAgICAgICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW3hdLFxyXG4gICAgICAgICAgICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIpLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICBjb2xvciA9IFwid2hpdGVcIlxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBsZXQgc21sTmFtZSA9IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllc1t4XS5hYmlsaXR5U21hbGxOYW1lLnNtYWxsTmFtZVxyXG4gICAgICAgIERyYXdUZXh0KGFiaWxpdHlIb3RrZXlzW3hdK1wiWyVje1wiK2NvbG9yK1wifVwiK3NtbE5hbWUrXCIlY3t9XVwiLGdyaWQuYWJpbGl0eU1lbnUueCArICh4KjcpLCBncmlkLmFiaWxpdHlNZW51LnkpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlclRhcmdldCA9ICgpID0+IHtcclxuICAgIC8vZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdGFyZ2V0RW50aXR5XHJcbiAgICAvL2dldCBlbnRpdGllcyBhdCBwb3NpdGlvblxyXG4gICAgLy9mb3Igbm93IGp1c3QgZHJhdyB4IGF0IHBvc2l0aW9uXHJcbiAgICBjb25zb2xlLmxvZyh0YXJnZXRFbnRpdHkpXHJcbiAgICBEcmF3Q2hhcih0YXJnZXRFbnRpdHksIFxyXG4gICAgICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi54K2dyaWQubWFwLngsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkrZ3JpZC5tYXAueSlcclxuXHJcbiAgICAvLyBkcmF3IHRoZSBhY3R1YWwgdGFyZ2V0IGNvb3Jkc1xyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlclNsb3dBdHRhY2tzID0gKCkgPT4ge1xyXG4gICAgc2xvd0RtZ0VudGl0aWVzLmdldCgpLmZvckVhY2goc2xvdyA9PiB7XHJcbiAgICAvL2NoZWNrIGlmIHVuaXQgZXhpc3RzIG9uIHRoaXMgdGlsZS5cclxuICAgICAgICB2YXIgZ2V0RW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OnNsb3cucG9zaXRpb24ueCx5OnNsb3cucG9zaXRpb24ueX0pKVxyXG4gICAgICAgIHZhciBnb3RVbml0ID0gZmFsc2VcclxuICAgICAgICB2YXIgZmxvb3JcclxuICAgICAgICBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goZWlkID0+IHtcclxuICAgICAgICAgICAgdmFyIGVudHMgPSB3b3JsZC5nZXRFbnRpdHkoZWlkKVxyXG4gICAgICAgICAgICBpZihlbnRzLmhhcyhjb21wb25lbnRzLkxheWVyVW5pdCkpe1xyXG4gICAgICAgICAgICAgICAgZ290VW5pdCA9IHRydWVcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkuZHJhdyhzbG93LnBvc2l0aW9uLnggKyBncmlkLm1hcC54LFxyXG4gICAgICAgICAgICAgICAgICAgIHNsb3cucG9zaXRpb24ueSArIGdyaWQubWFwLnksXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cy5hcHBlYXJhbmNlLmNoYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cy5hcHBlYXJhbmNlLmNvbG9yLCBcInllbGxvd1wiKVxyXG4gICAgICAgICAgICB9ZWxzZSBpZihlbnRzLmhhcyhjb21wb25lbnRzLkxheWVyTWFwKSl7XHJcbiAgICAgICAgICAgICAgICBmbG9vciA9IGVudHNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIWdvdFVuaXQgJiYgZmxvb3Ipe1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5kcmF3KHNsb3cucG9zaXRpb24ueCArIGdyaWQubWFwLngsIFxyXG4gICAgICAgICAgICAgICAgICAgIHNsb3cucG9zaXRpb24ueSArIGdyaWQubWFwLnksIFxyXG4gICAgICAgICAgICAgICAgICAgIGZsb29yLmFwcGVhcmFuY2UuY2hhciwgXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvb3IuYXBwZWFyYW5jZS5jb2xvciwgXCJ5ZWxsb3dcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAvL2lmIHllcyBkcmF3IHRoYXQgdGlsZSB3aXRoIHllbGxvdyBiYWNrZ3JvdW5kXHJcblxyXG4gICAgLy9qdXN0IGRyYXcgdGhlIHRpbGUgd2l0aCB5ZWxsb3cgYmFja2dyb3VuZCAgICBcclxuICAgIH0pXHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgcmVuZGVyRmFzdEF0dGFja3MgPSAoKSA9PiB7XHJcbiAgICBmYXN0RG1nRW50aXRpZXMuZ2V0KCkuZm9yRWFjaChmYXN0ID0+IHtcclxuICAgIC8vY2hlY2sgaWYgdW5pdCBleGlzdHMgb24gdGhpcyB0aWxlLlxyXG4gICAgICAgIHZhciBnZXRFbnRpdGllc0F0TG9jID0gcmVhZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIHRvTG9jSWQoe3g6ZmFzdC5wb3NpdGlvbi54LHk6ZmFzdC5wb3NpdGlvbi55fSkpXHJcbiAgICAgICAgdmFyIGdvdFVuaXQgPSBmYWxzZVxyXG4gICAgICAgIHZhciBmbG9vclxyXG4gICAgICAgIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaChlaWQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZW50cyA9IHdvcmxkLmdldEVudGl0eShlaWQpXHJcbiAgICAgICAgICAgIGlmKGVudHMuaGFzKGNvbXBvbmVudHMuTGF5ZXJVbml0KSl7XHJcbiAgICAgICAgICAgICAgICBnb3RVbml0ID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5kcmF3KGZhc3QucG9zaXRpb24ueCArIGdyaWQubWFwLngsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFzdC5wb3NpdGlvbi55ICsgZ3JpZC5tYXAueSxcclxuICAgICAgICAgICAgICAgICAgICBlbnRzLmFwcGVhcmFuY2UuY2hhcixcclxuICAgICAgICAgICAgICAgICAgICBlbnRzLmFwcGVhcmFuY2UuY29sb3IsIFwicmVkXCIpXHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGVudHMuaGFzKGNvbXBvbmVudHMuTGF5ZXJNYXApKXtcclxuICAgICAgICAgICAgICAgIGZsb29yID0gZW50c1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighZ290VW5pdCAmJiBmbG9vcil7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmRyYXcoZmFzdC5wb3NpdGlvbi54ICsgZ3JpZC5tYXAueCwgXHJcbiAgICAgICAgICAgICAgICAgICAgZmFzdC5wb3NpdGlvbi55ICsgZ3JpZC5tYXAueSwgXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvb3IuYXBwZWFyYW5jZS5jaGFyLCBcclxuICAgICAgICAgICAgICAgICAgICBmbG9vci5hcHBlYXJhbmNlLmNvbG9yLCBcInJlZFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIC8vaWYgeWVzIGRyYXcgdGhhdCB0aWxlIHdpdGggeWVsbG93IGJhY2tncm91bmRcclxuXHJcbiAgICAvL2p1c3QgZHJhdyB0aGUgdGlsZSB3aXRoIHllbGxvdyBiYWNrZ3JvdW5kICAgIFxyXG4gICAgfSlcclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRHJhd1RleHQgPSAodGV4dCwgeCwgeSkgPT4ge1xyXG4gICAgZGlzcGxheS5kcmF3VGV4dCh4LHksdGV4dClcclxufVxyXG5cclxuLy94LHkgYXJlIG9mZnNldHMgZmV0Y2hlZCBmcm9tIGdyaWRcclxuZXhwb3J0IGNvbnN0IERyYXdDaGFyID0gKGVudGl0eSwgeCwgeSkgPT4ge1xyXG4gICAgLy8gZGlzcGxheS5kcmF3KGdyaWQubWFwLnggKyA1LCAgZ3JpZC5tYXAueSArIDQsIFwiQFwiKTtcclxuICAgIGRpc3BsYXkuZHJhdyh4LCB5LGVudGl0eS5hcHBlYXJhbmNlLmNoYXIsIGVudGl0eS5hcHBlYXJhbmNlLmNvbG9yLCBlbnRpdHkuYXBwZWFyYW5jZS5iYWNrZ3JvdW5kIHx8IFwiYmxhY2tcIilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlckJvcmRlciA9ICgpID0+IHtcclxuICAgIGRpc3BsYXkuZHJhdygwLDAsJ08nKVxyXG4gICAgZGlzcGxheS5kcmF3KDAsZ3JpZC5oZWlnaHQtMSwnTycpXHJcbiAgICBkaXNwbGF5LmRyYXcoZ3JpZC53aWR0aC0xLDAsJ08nKVxyXG4gICAgZGlzcGxheS5kcmF3KGdyaWQud2lkdGgtMSxncmlkLmhlaWdodC0xLCdPJylcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlciA9ICgpID0+IHtcclxuICAgIGlmKGdhbWVTdGF0ZSA9PSBcIkhlbHBcIil7XHJcbiAgICAgICAgRHJhd0hlbHBNZW51KClcclxuICAgIH1lbHNlIGlmIChnYW1lU3RhdGUgPT0gXCJBYmlsaXR5SW5mb1wiKXtcclxuICAgICAgICBTaG93QWJpbGl0eUluZm8oRW50aXR5VG9SZW5kZXIpXHJcbiAgICB9ZWxzZSBpZiAoZ2FtZVN0YXRlID09IFwiRW5lbXlOdW1iZXJzXCIpe1xyXG4gICAgICAgIFJlbmRlckVuZW15TnVtYmVycygpXHJcbiAgICB9ZWxzZSBpZiAoIGdhbWVTdGF0ZSA9PSBcIkRhbWFnZVNob3dcIil7XHJcbiAgICAgICAgUmVuZGVyRGFtYWdlTnVtYmVycygpXHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgY2xlYXJEaXNwbGF5KClcclxuICAgICAgICByZW5kZXJNYXAoKVxyXG4gICAgICAgIHJlbmRlck9iamVjdHMoKVxyXG4gICAgICAgIHJlbmRlclVuaXRzKClcclxuICAgICAgICByZW5kZXJBY3RpdmVQbGF5ZXIoKVxyXG4gICAgICAgIHJlbmRlckRpZU1lbnUoKVxyXG4gICAgICAgIHJlbmRlckFiaWxpdHlNZW51KClcclxuICAgICAgICByZW5kZXJQaGFzZSgpXHJcbiAgICAgICAgcmVuZGVyQm9yZGVyKClcclxuICAgICAgICByZW5kZXJFbmVteVF1aWNrQmFyKClcclxuXHJcbiAgICAgICAgcmVuZGVyU2xvd0F0dGFja3MoKVxyXG4gICAgICAgIHJlbmRlckZhc3RBdHRhY2tzKClcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coZ2FtZVN0YXRlKVxyXG4gICAgICAgIGlmKGdhbWVTdGF0ZSA9PT0gXCJleGFtaW5lXCIgfHwgZ2FtZVN0YXRlID09PSBcInRhcmdldGluZ1wiICkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5lZWQgdG8gc2hvdyB0YXJnZXRcIilcclxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgd29ybGQgZnJvbSBcIi4uL3N0YXRlL2Vjc1wiO1xyXG5pbXBvcnQgeyByYW5kb20sIHNhbXBsZSwgdGltZXMgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCB7Z3JpZH0gZnJvbSBcIi4uL2xpYi9jYW52YXNcIlxyXG5pbXBvcnQgKiBhcyBST1QgZnJvbSBcInJvdC1qc1wiO1xyXG5pbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4vY2FjaGVcIlxyXG5pbXBvcnQge0FwcGVhcmFuY2UsIEhlYWx0aCwgTGF5ZXJNYXAsIFBvc2l0aW9ufSBmcm9tIFwiLi9jb21wb25lbnRcIlxyXG5pbXBvcnQge3RvQ2VsbCwgdG9Mb2NJZH0gZnJvbSBcIi4uL2xpYi9ncmlkXCJcclxuXHJcbmNvbnN0IGxheWVyTWFwRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtQb3NpdGlvbiwgQXBwZWFyYW5jZSwgTGF5ZXJNYXBdXHJcbiAgfSk7XHJcblxyXG5jb25zdCBkdW5nZW9uTWFwR2VuID0gbmV3IFJPVC5NYXAuQXJlbmEoZ3JpZC5tYXAud2lkdGgsIGdyaWQubWFwLmhlaWdodCk7XHJcblxyXG5leHBvcnQgY29uc3QgZHVuZ2Vvbk1hcCA9IFtdXHJcblxyXG5leHBvcnQgY29uc3QgbWFrZU1hcCA9ICgpID0+IHtcclxuICAgIGR1bmdlb25NYXBHZW4uY3JlYXRlKGZ1bmN0aW9uKHgsIHksIHdhbGwpIHtcclxuICAgICAgICAvL2Rpc3BsYXkxLmRyYXcoeCwgeSwgd2FsbCA/IFwiI1wiIDogXCIuXCIpO1xyXG4gICAgICAgIGlmKHdhbGwpe1xyXG4gICAgICAgICAgICB3b3JsZC5jcmVhdGVQcmVmYWIoXCJXYWxsXCIpLmFkZChQb3NpdGlvbiwge3gseX0pXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHdvcmxkLmNyZWF0ZVByZWZhYihcIkZsb29yXCIpLmFkZChQb3NpdGlvbiwge3gseX0pXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGZXRjaEZyZWVUaWxlID0gKCkgPT4ge1xyXG4gICAgdmFyIGFueUZyZWUgPSBDcmVhdGVGcmVlU3BhY2VMaXN0KCk7XHJcbiAgICByZXR1cm4gc2FtcGxlKGFueUZyZWUpXHJcbn0gICBcclxuXHJcbmNvbnN0IENyZWF0ZUZyZWVTcGFjZUxpc3QgPSAoKSA9PiB7XHJcbiAgICB2YXIgZW1wdHlUaWxlcyA9IFtdXHJcblxyXG4gICAgbGF5ZXJNYXBFbnRpdGllcy5nZXQoKS5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICBpZihlbnRpdHkuaXNCbG9ja2luZyl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDplbnRpdHkucG9zaXRpb24ueCx5OmVudGl0eS5wb3NpdGlvbi55fSkpXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoZ2V0RW50aXRpZXNBdExvYy5zaXplID09IDEpe1xyXG4gICAgICAgICAgICAvL25vdGhpbmcgYnV0IHRoZSB0aWxlIGhlcmUgc28gY2FuIGFkZCB0byBmcmVlXHJcbiAgICAgICAgICAgIGVtcHR5VGlsZXMucHVzaChlbnRpdHkpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZW1wdHlUaWxlc1xyXG59XHJcblxyXG4iLCJpbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4uL3N0YXRlL2NhY2hlXCJcclxuaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5pbXBvcnQgKiBhcyBST1QgZnJvbSBcInJvdC1qc1wiO1xyXG5pbXBvcnQge3RvTG9jSWR9IGZyb20gXCIuLi9saWIvZ3JpZFwiXHJcblxyXG5jb25zdCBhbGx5RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0XSxcclxuICAgIG5vbmU6IFtjb21wb25lbnRzLklzRW5lbXldXHJcbn0pXHJcblxyXG5jb25zdCBNYWtlRGlqa3N0cmEgPSAoeCx5KSA9PntcclxuICAgIC8qIHByZXBhcmUgcGF0aCB0byBnaXZlbiBjb29yZHMgKi9cclxuICAgIHZhciBkaWprc3RyYSA9IG5ldyBST1QuUGF0aC5EaWprc3RyYSh4LCB5LCBwYXNzYWJsZUNhbGxiYWNrLCB7dG9wb2xvZ3kgOjR9KTtcclxuICAgIHJldHVybiBkaWprc3RyYVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWlQYXRoZmluZCA9IChlbnRpdHkpID0+IHtcclxuICAgIHZhciBkaWprc3RyYSA9IE1ha2VEaWprc3RyYShlbnRpdHkucG9zaXRpb24ueCxlbnRpdHkucG9zaXRpb24ueSlcclxuICAgIGNvbnNvbGUubG9nKFwicGF0aCBmaW5kZXJcIilcclxuICAgIGNvbnNvbGUubG9nKGRpamtzdHJhKVxyXG4gICAgdmFyIHRhcmdldCA9IEZpbmRDbG9zZXN0VGFyZ2V0KGRpamtzdHJhLCBlbnRpdHkpXHJcbiAgICBjb25zb2xlLmxvZyh0YXJnZXQpXHJcbiAgICAvL3RhcmdldC5yZXZlcnNlKClcclxuICAgIHRhcmdldC5wb3AoKVxyXG4gICAgcmV0dXJuIHRhcmdldFxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFpUGF0aEVtcHR5VGlsZSA9IChlbnRpdHkpID0+IHtcclxuICAgIHZhciBkaWprc3RyYSA9IE1ha2VEaWprc3RyYShlbnRpdHkucG9zaXRpb24ueCxlbnRpdHkucG9zaXRpb24ueSlcclxuICAgIHZhciB0YXJnZXQgPSBGaW5kQ2xvc2VzdEVtcHR5VGlsZShkaWprc3RyYSwgZW50aXR5KVxyXG4gICAgdGFyZ2V0LnBvcCgpXHJcbiAgICByZXR1cm4gdGFyZ2V0XHJcbn1cclxuXHJcbmNvbnN0IEZpbmRDbG9zZXN0RW1wdHlUaWxlID0gKGRpamtzdHJhLCBlbnRpdHkpID0+IHtcclxuXHJcbn1cclxuXHJcbmNvbnN0IEZpbmRDbG9zZXN0VGFyZ2V0ID0gKGRpamtzdHJhLCBlbnRpdHkpID0+IHtcclxuICAgIHZhciB3aW5uZXJcclxuXHJcbiAgICAvL2lmIGVudGl0eSBoYXMgaXNFbmVteSxcclxuICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5Jc0VuZW15KSkge1xyXG4gICAgICAgIC8vbG9vcCB0aHJvdWdoIGFsbCBhbGxpZXMgYW5kIGdldCB0aGVpciBjb29yZHMgYW5kIGNhbGMgcGF0aFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZW5lbWllcyB0byBjaGVjazogXCIgKyBhbGx5RW50aXRpZXMuZ2V0KCkubGVuZ3RoKVxyXG4gICAgICAgIGFsbHlFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCBlbnRpdHkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgY2xvc2VzdCA9IFtdXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVudGl0eSlcclxuICAgICAgICAgICAgZGlqa3N0cmEuY29tcHV0ZShlbnRpdHkucG9zaXRpb24ueCwgZW50aXR5LnBvc2l0aW9uLnksIGZ1bmN0aW9uICh4LHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0ZXN0IHBhdGg/JylcclxuXHJcbiAgICAgICAgICAgICAgICBjbG9zZXN0LnB1c2goW3gseV0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmKCF3aW5uZXIgfHwgY2xvc2VzdC5sZW5ndGggPCB3aW5uZXIubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIHdpbm5lciA9IGNsb3Nlc3RcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyAgXHJcbiAgICAgICAgLy9sb29wIHRocm91Z2ggYWxsIGVuZW1pZXMgYW5kIGdldCB0aGVpciBjb29yZHMgYW5kIGNhbGMgcGF0aFxyXG4gICAgcmV0dXJuIHdpbm5lclxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrU3RyYWlnaHRMaW5lID0gKFsuLi5wYXRoXSwgY3VycmVudFhZKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcImluIHJhbmdlIGNoZWNrXCIpXHJcbiAgICAvL2NoZWNrIGlmIGxlbmd0aCA9IDEgdGhlbiB3ZSBhcmUgcmlnaHQgbmV4dCB0byB0YXJnZXRcclxuICAgIGlmKHBhdGgubGVuZ3RoID09IDEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGF0aCBzaG9ydFwiKVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhciBYcyA9IFtdXHJcbiAgICB2YXIgWXMgPSBbXVxyXG4gICAgcGF0aC5mb3JFYWNoKGNvb3JkcyA9PiB7XHJcbiAgICAgICAgWHMucHVzaChjb29yZHNbMF0pXHJcbiAgICAgICAgWXMucHVzaChjb29yZHNbMV0pXHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coWHMudG9TdHJpbmcoKSlcclxuICAgIGNvbnNvbGUubG9nKFlzLnRvU3RyaW5nKCkpXHJcbiAgICAvL2lmKChhbGxFcXVhbChYcykgfHwgYWxsRXF1YWwoWXMpICkgJiYgKGN1cnJlbnRYWS54ID09IHBhdGhbMF1bMF0gfHwgY3VycmVudFhZLnkgPT0gcGF0aFswXVsxXSkgKXtcclxuICAgIGlmKChjdXJyZW50WFkueCA9PSBwYXRoWzBdWzBdIHx8IGN1cnJlbnRYWS55ID09IHBhdGhbMF1bMV0pICl7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1lbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWxsRXF1YWwgPSBhcnIgPT4gYXJyLmV2ZXJ5KCB2ID0+IHYgPT09IGFyclswXSApXHJcblxyXG5cclxuY29uc3QgdGVzdGluZ0NCID0gKCkgPT4ge1xyXG5cclxufVxyXG5cclxuY29uc3QgcGFzc2FibGVDYWxsYmFjayA9ICh4LHkpID0+IHtcclxuICAgIC8vY29uc29sZS5sb2coXCJjaGVja2luZyBjb29yZHM6IFwiICsgeCArIFwiOlwiICsgeSlcclxuICAgIC8vZ2V0IGVudGl0aWVzIGF0IHgseVxyXG4gICAgdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDp4LHk6eX0pKVxyXG5cclxuICAgIGlmKCFnZXRFbnRpdGllc0F0TG9jKXtcclxuICAgICAgICByZXR1cm4gMFxyXG4gICAgfVxyXG5cclxuICAgIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaCggZWlkID0+IHtcclxuICAgICAgICB2YXIgZW50aXR5ID0gd29ybGQuZ2V0RW50aXR5KGVpZClcclxuXHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzQmxvY2tpbmcpKXtcclxuICAgICAgICAgICAgcmV0dXJuIDBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy9pZiBsZW5ndGggMCwgcmV0dXJuIDFcclxuICAgIC8vaWYgYW55IGlzQmxvY2sgcmV0dXJuIDFcclxuXHJcbiAgICAvL3JldHVybiAwXHJcbiAgICByZXR1cm4gMVxyXG59IiwiaW1wb3J0IHtHZXRTZWxlY3RlZERpZSwgR2V0QWxsRGllfSBmcm9tIFwiLi9hYmlsaXRpZXNcIlxyXG5pbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4uL3N0YXRlL2NhY2hlXCJcclxuaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5pbXBvcnQge0FpUGF0aGZpbmQsQ2hlY2tTdHJhaWdodExpbmV9IGZyb20gXCIuL3BhdGhmaW5kaW5nXCJcclxuaW1wb3J0IHt0b0xvY0lkfSBmcm9tIFwiLi4vbGliL2dyaWRcIlxyXG5cclxuZXhwb3J0IGNvbnN0IERvQWlUdXJuRGVmZW5kID0gKGVudGl0eSkgPT4ge1xyXG4gICAgdmFyIGFiaWxpdGllc0NhblVzZSA9IFtdXHJcbiAgICAvL2ZvciBlYWNoIGRlZmVuc2UgYWJpbGl0eSBjaGVjayBpZiB3ZSBjYW4gdXNlXHJcbiAgICB2YXIgc3RhbWluYSA9IGVudGl0eS5zdGFtaW5hLmN1cnJlbnQ7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKFwiQUkgdXNhYmxlIHN0YW1pbmFcIilcclxuICAgIGNvbnNvbGUubG9nKGVudGl0eSlcclxuICAgIGNvbnNvbGUubG9nKHN0YW1pbmEpXHJcblxyXG4gICAgZW50aXR5LmFiaWxpdHlMaXN0LmFiaWxpdGllcy5mb3JFYWNoKCBhYmlsID0+IHtcclxuICAgICAgICAvL3NwbGl0IHRoZSBkaWNlIGNvdW50cywgaWYgYW55IHJldHVybiB0cnVlIGFkZCB0byBjYW4gdXNlIGFuZCBjb250aW51ZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFiaWwuYWJpbGl0eVN0YW1pbmFDb3N0KVxyXG4gICAgICAgIGlmKCAoYWJpbC5hYmlsaXR5UGhhc2UucGhhc2UgPT0gXCJBbnlcIiB8fCBhYmlsLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkRlZmVuZFwiKSAmJiBzdGFtaW5hID49IGFiaWwuYWJpbGl0eVN0YW1pbmFDb3N0LmFtb3VudCl7XHJcbiAgICAgICAgICAgIC8vd2UgaGF2ZSBlbm91Z2ggdG8gdXNlIHRoaXNcclxuICAgICAgICAgICAgYWJpbGl0aWVzQ2FuVXNlLnB1c2goYWJpbClcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coXCJhaSB1c2FibGUgYWJpbGl0aWVzXCIpXHJcbiAgICBjb25zb2xlLmxvZyhhYmlsaXRpZXNDYW5Vc2UpXHJcbiAgICBDaG9vc2VBaURlZmVuZChlbnRpdHksIGFiaWxpdGllc0NhblVzZSlcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEb0FpVHVybkF0dGFjayA9IChlbnRpdHkpID0+IHtcclxuXHJcbiAgICB2YXIgYWJpbGl0aWVzQ2FuVXNlID0gW11cclxuICAgIC8vZm9yIGVhY2ggZGVmZW5zZSBhYmlsaXR5IGNoZWNrIGlmIHdlIGNhbiB1c2VcclxuICAgIHZhciBzdGFtaW5hID0gZW50aXR5LnN0YW1pbmEuY3VycmVudDtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coXCJBSSB1c2FibGUgc3RhbWluYVwiKVxyXG4gICAgY29uc29sZS5sb2coZW50aXR5KVxyXG4gICAgY29uc29sZS5sb2coc3RhbWluYSlcclxuXHJcbiAgICBlbnRpdHkuYWJpbGl0eUxpc3QuYWJpbGl0aWVzLmZvckVhY2goIGFiaWwgPT4ge1xyXG4gICAgICAgIC8vc3BsaXQgdGhlIGRpY2UgY291bnRzLCBpZiBhbnkgcmV0dXJuIHRydWUgYWRkIHRvIGNhbiB1c2UgYW5kIGNvbnRpbnVlXHJcbiAgICAgICAgaWYoIChhYmlsLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkFueVwiIHx8IGFiaWwuYWJpbGl0eVBoYXNlLnBoYXNlID09IFwiQXR0YWNrXCIpICYmIGFiaWwuYWJpbGl0eVN0YW1pbmFDb3N0LmFtb3VudCA8PSBlbnRpdHkuc3RhbWluYS5jdXJyZW50KXtcclxuICAgICAgICAgICAgLy93ZSBoYXZlIGVub3VnaCB0byB1c2UgdGhpc1xyXG4gICAgICAgICAgICBhYmlsaXRpZXNDYW5Vc2UucHVzaChhYmlsKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyhcImFpIHVzYWJsZSBhYmlsaXRpZXNcIilcclxuICAgIGNvbnNvbGUubG9nKGFiaWxpdGllc0NhblVzZSlcclxuICAgIENob29zZUFpQXR0YWNrKGVudGl0eSwgYWJpbGl0aWVzQ2FuVXNlKVxyXG4gICAgY29uc29sZS5sb2coXCJwYXRoZmluZGluZ1wiKVxyXG4gICAgLy9BaVBhdGhmaW5kKGVudGl0eSlcclxuICAgIC8vIHZhciBhdHRhY2tVc2VkID0gMFxyXG4gICAgLy9mb3IgZWFjaCBhdHRhY2sgYWJpbGl0eSwgY2hlY2sgaWYgd2UgY2FuIHVzZVxyXG5cclxuICAgIC8vY2hlY2sgaWYgd2UgYXJlIGluIHJhbmdlIHRvIHVzZT9cclxuICAgICAgICAvL2lmIG5vdCBpbiByYW5nZVxyXG4gICAgICAgICAgICAvL2F0dGVtcHQgbW92ZT9cclxuICAgICAgICAvL2lmIGluIHJhbmdlICYmIGF0dGFja1VzZWQgPT0gMFxyXG4gICAgICAgICAgICAvL3VzZSBhdHRhY2sgb24gdGFyZ2V0XHJcbiAgICAgICAgICAgIC8vYXR0YWNrVXNlZCA9IDFcclxufVxyXG5cclxudmFyIGJsb2NrZXJzID0gW11cclxuXHJcbmNvbnN0IENob29zZUFpRGVmZW5kID0gKGVudGl0eSwgYWJpbGl0eUxpc3QpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVudGl0eSlcclxuICAgIHZhciBnZXRFbnRpdGllc0F0TG9jID0gcmVhZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIHRvTG9jSWQoe3g6ZW50aXR5LnBvc2l0aW9uLngseTplbnRpdHkucG9zaXRpb24ueX0pKVxyXG4gICAgdmFyIGZhc3RIZXJlID0gZmFsc2VcclxuICAgIHZhciBzbG93SGVyZSA9IGZhbHNlXHJcbiAgICBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goIGVpZCA9PiB7XHJcbiAgICAgICAgdmFyIGVudGl0eSA9IHdvcmxkLmdldEVudGl0eShlaWQpO1xyXG4gICAgLy9jaGVjayBpZiB3ZSBhcmUgb24gYSBmYXN0IHRpbGVcclxuICAgICAgICBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuRmFzdEF0dGFjaykpe1xyXG4gICAgICAgICAgICBmYXN0SGVyZSA9IHRydWVcclxuICAgIC8vY2hlY2sgaWYgd2UgYXJlIG9uIGEgdGlsZSB3aXRoIHNsb3cgYXR0YWNrXHJcbiAgICAgICAgfWVsc2UgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLlNsb3dBdHRhY2spKSB7XHJcbiAgICAgICAgICAgIHNsb3dIZXJlID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICB2YXIgbW92ZWQgPSBmYWxzZVxyXG4gICAgaWYoZmFzdEhlcmUpe1xyXG4gICAgICAgIC8vY2hlY2sgaWYgZG9kZ2UgaW4gdXNhYmxlXHJcbiAgICAgICAgdmFyIGRvZGdlXHJcbiAgICAgICAgYWJpbGl0eUxpc3QuZm9yRWFjaCggYWJpbCA9PiB7XHJcbiAgICAgICAgICAgIGlmKGFiaWwuZGVzY3JpcHRpb24ubmFtZSA9PSBcImRvZGdlXCIpIHtcclxuICAgICAgICAgICAgICAgIGRvZGdlID0gYWJpbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZihkb2RnZSl7XHJcbiAgICAgICAgICAgIC8vd2UgaGF2ZSBkb2RnZSBzbyB3ZSBzaG91bGQgdXNlIGl0IVxyXG4gICAgICAgICAgICBTdGFtaW5hQ29zdChlbnRpdHksIGRvZGdlLmFiaWxpdHlTdGFtaW5hQ29zdC5hbW91bnQpXHJcbiAgICAgICAgICAgIGRvZGdlLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5vblVzZShkb2RnZSwgZW50aXR5KVxyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZSBpZihzbG93SGVyZSl7XHJcbiAgICAgICAgLy9jaGVjayBpZiB3ZSBjYW4gbW92ZVxyXG4gICAgICAgIHZhciBtb3ZlIFxyXG4gICAgICAgIGFiaWxpdHlMaXN0LmZvckVhY2goYWJpbCA9PiB7XHJcbiAgICAgICAgICAgIGlmKGFiaWwuZGVzY3JpcHRpb24ubmFtZSA9PSBcIm1vdmVcIil7XHJcbiAgICAgICAgICAgICAgICBtb3ZlID0gYWJpbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL2lmIG1vdmVcclxuICAgICAgICBpZihtb3ZlKXtcclxuICAgICAgICAgICAgLy91c2UgaXQhXHJcbiAgICAgICAgICAgIFN0YW1pbmFDb3N0KGVudGl0eSwgZG9kZ2UuYWJpbGl0eVN0YW1pbmFDb3N0LmFtb3VudClcclxuICAgICAgICAgICAgbW92ZS5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25Vc2UobW92ZSwgZW50aXR5KVxyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGhlbiBtb3ZlXHJcbiAgICAgICAgICAgIC8vbW92ZWQgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYoIChmYXN0SGVyZSB8fCBzbG93SGVyZSkgJiYgIW1vdmVkKSB7XHJcbiAgICAgICAgLy9jaGVjayBpZiB3ZSBoYXZlIGFueSBibG9jayBza2lsbHNcclxuICAgIH1cclxuIFxyXG59XHJcblxyXG5jb25zdCBDaG9vc2VBaUF0dGFjayA9IChlbnRpdHksYWJpbGl0eUxpc3QpID0+IHtcclxuICAgIC8vZ2V0IGNsb3Nlc3QgdGFyZ2V0IGZvciBub3dcclxuICAgIC8vIHZhciB0YXJnZXQgPSBBaVBhdGhmaW5kKGVudGl0eSlcclxuICAgIHZhciBhdHRhY2tlZCA9IGZhbHNlXHJcbiAgICBhYmlsaXR5TGlzdC5zaHVmZmxlKClcclxuICAgIC8vYWJpbGl0eUxpc3Quc2h1ZmZsZSgpXHJcbiAgICBjb25zb2xlLmxvZyhcIkRvaW5nIG1vYiBhdHRhY2s6IFwiKVxyXG4gICAgZm9yKHZhciB4ID0gMDsgeCA8IDI7eCArKyl7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IEFpUGF0aGZpbmQoZW50aXR5KVxyXG4gICAgICAgIGFiaWxpdHlMaXN0LmZvckVhY2goIGFiaWwgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGFyZ2V0Lmxlbmd0aClcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYodGFyZ2V0Lmxlbmd0aCA+PSAxICYmIHRhcmdldC5sZW5ndGggPD0gYWJpbC5hYmlsaXR5UmFuZ2UucmFuZ2UgJiYgIWF0dGFja2VkICYmIENoZWNrU3RyYWlnaHRMaW5lKHRhcmdldCwge3g6ZW50aXR5LnBvc2l0aW9uLngseTplbnRpdHkucG9zaXRpb24ueX0pKXtcclxuICAgICAgICAgICAgICAgIC8vd2UgYXJlIGluIHJhbmdlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluIFJhbmdlXCIpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnID0gdGFyZ2V0LnBvcCgpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnLnRvU3RyaW5nKCkpXHJcblxyXG4gICAgICAgICAgICAgICAgYWJpbC5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25Vc2UoYWJpbCwgZW50aXR5LCB7eDp0YXJnWzBdLHk6dGFyZ1sxXX0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy91c2Ugc3RhbWluYSB1cFxyXG4gICAgICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcInVzZS1zdGFtaW5hXCIsYWJpbC5hYmlsaXR5U3RhbWluYUNvc3QuYW1vdW50KVxyXG4gICAgICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImFpLXVzZS1zdGFtaW5hXCIsYWJpbC5hYmlsaXR5U3RhbWluYUNvc3QuYW1vdW50KVxyXG4gICAgICAgICAgICAgICAgYXR0YWNrZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmKHRhcmdldC5sZW5ndGggPiAxICYmICFhdHRhY2tlZCl7XHJcbiAgICAgICAgICAgIC8vbW92ZSB0b3dhcmRzIGVuZW15XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90IEluIFJhbmdlIHNvIHdlIG1vdmVcIilcclxuICAgICAgICAgICAgaWYodGFyZ2V0Lmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgICAgICAgTW92ZUZvcndhcmQoZW50aXR5LCB0YXJnZXQpXHJcblxyXG4gICAgICAgICAgICAgICAgLy91c2UgMSBzdGFtaW5hXHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwidXNlLXN0YW1pbmFcIiwxKVxyXG4gICAgICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImFpLXVzZS1zdGFtaW5hXCIsMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcbn1cclxuXHJcbmNvbnN0IE1vdmVGb3J3YXJkID0gKGVudGl0eSwgdGFyZ2V0KSA9PiB7XHJcbiAgICAvL0RFQlVHOiBnaXZlICsxIG1vdmVtZW50XHJcbiAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZ2Fpbi1tb3ZlbWVudFwiLCAyKVxyXG5cclxuICAgIC8vZmluZCBuZWFyZXN0IHBsYXllclxyXG5cclxuICAgIHZhciB5ID0gZW50aXR5Lm1vdmVtZW50Lm1vdmVtZW50XHJcbiAgICBmb3IodmFyIHggPSAwOyB4IDwgeTt4Kyspe1xyXG4gICAgICAgIGlmKHRhcmdldCAmJiB0YXJnZXQubGVuZ3RoID4gMSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtYWluaW5nIHRhcmdldFwiKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgLy9kaWQgd2UgZmluZCBhIHRhcmdldD8gd2FsayB0b3dhcmRzIHRoZSBsYXN0XHJcbiAgICAgICAgICAgIHZhciBuZXh0U3RlcCA9IHRhcmdldC5wb3AoKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5leHQgU3RlcFwiICsgbmV4dFN0ZXAudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vY29udmVydCB0byBhIHN0ZXAgZnJvbSBwb3NpdGlvblxyXG4gICAgICAgICAgICBlbnRpdHkubW92ZW1lbnQueCA9IG5leHRTdGVwWzBdIC0gZW50aXR5LnBvc2l0aW9uLnhcclxuICAgICAgICAgICAgZW50aXR5Lm1vdmVtZW50LnkgPSAgbmV4dFN0ZXBbMV0gLSBlbnRpdHkucG9zaXRpb24ueSBcclxuICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImF0dGVtcHQtbW92ZVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgU3RhbWluYUNvc3QgPSAoZW50aXR5LCBhbW91bnQpID0+IHtcclxuICAgIGVudGl0eS5maXJlRXZlbnQoXCJ1c2Utc3RhbWluYVwiLCBhbW91bnQpXHJcbn1cclxuXHJcbmNvbnN0IFNlbGVjdERpZSA9IChlbnRpdHksIGFtb3VudCkgPT4ge1xyXG5cclxufVxyXG5cclxuY29uc3QgR2V0RGllID0gKGVudGl0eSkgPT4ge1xyXG4gICAgbGV0IGRpZUxpc3QgPSBbXVxyXG4gICAgZm9yKHZhciB4ID0gMDt4IDwgZW50aXR5LmRpZS5sZW5ndGg7IHgrKyl7XHJcbiAgICAgICAgaWYoIWVudGl0eS5kaWVbeF0uZXhoYXVzdGVkKXtcclxuICAgICAgICAgICAgZGllTGlzdC5wdXNoKGVudGl0eS5kaWVbeF0ubnVtYmVyKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaWVMaXN0LnNvcnQoKVxyXG4gICAgdmFyIGNvdW50cyA9IHt9O1xyXG4gICAgZGllTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHgpIHsgY291bnRzW3hdID0gKGNvdW50c1t4XSB8fCAwKSsxOyB9KTtcclxuICAgIC8vY29uc29sZS5sb2coY291bnRzKVxyXG4gICAgcmV0dXJuIGNvdW50cztcclxufVxyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NodWZmbGUnLCB7XHJcbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIFt0aGlzW2ldLCB0aGlzW2pdXSA9IFt0aGlzW2pdLCB0aGlzW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pOyIsImltcG9ydCBcIi4vbGliL2NhbnZhcy5qc1wiO1xyXG5pbXBvcnQgd29ybGQgZnJvbSBcIi4vc3RhdGUvZWNzXCI7XHJcbmltcG9ydCAqIGFzIFJPVCBmcm9tIFwicm90LWpzXCI7XHJcbmltcG9ydCB7cmVuZGVyLFNldEVudGl0eVRvUmVuZGVyfSBmcm9tIFwiLi9zeXN0ZW1zL3JlbmRlclwiXHJcbmltcG9ydCB7bWFrZU1hcCxGZXRjaEZyZWVUaWxlfSBmcm9tIFwiLi9zdGF0ZS9kdW5nZW9uXCJcclxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tIFwiLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5pbXBvcnQgeyB0aW1lcyB9IGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL3N0YXRlL3ByZWZhYi5qc1wiO1xyXG5pbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4vc3RhdGUvY2FjaGVcIlxyXG5pbXBvcnQge3RvTG9jSWR9IGZyb20gXCIuL2xpYi9ncmlkXCJcclxuaW1wb3J0ICogYXMgQWJpbGl0aWVzIGZyb20gXCIuL3N5c3RlbXMvYWJpbGl0aWVzXCJcclxuaW1wb3J0ICogYXMgQUkgZnJvbSBcIi4vc3lzdGVtcy9haVwiXHJcbmltcG9ydCB7SGlkZUhlbHBNZW51fSBmcm9tIFwiLi9zdGF0ZS9oZWxwTWVudVwiXHJcblxyXG5leHBvcnQgdmFyIGdhbWVTdGF0ZSA9IFwic2V0dXBcIlxyXG5leHBvcnQgdmFyIHByZXZpb3VzR2FtZVN0YXRlID0gXCJcIlxyXG5cclxudmFyIHF1ZXVlZEFiaWxpdHkgPSBcImhpXCJcclxudmFyIHF1ZXVlZEVudGl0eSA9IFwiaGlcIlxyXG5leHBvcnQgY29uc3QgU2V0UXVldWVkQWJpbGl0eSA9IChhYmlsKSA9PiB7XHJcbiAgcXVldWVkQWJpbGl0eSA9IGFiaWxcclxufVxyXG5leHBvcnQgY29uc3QgU2V0UXVldWVkRW50aXR5ID0gKGVudCkgPT4ge1xyXG4gIHF1ZXVlZEVudGl0eSA9IGVudFxyXG59XHJcblxyXG5leHBvcnQgdmFyIHRhcmdldEVudGl0eSA9IHdvcmxkLmNyZWF0ZUVudGl0eShcInRhcmdldEVudGl0eVwiKVxyXG50YXJnZXRFbnRpdHkuYWRkKGNvbXBvbmVudHMuQXBwZWFyYW5jZSwge2NoYXI6ICdYJywgY29sb3I6IFwiYmxhY2tcIiwgYmFja2dyb3VuZDogXCJncmVlblwifSlcclxuXHJcbnZhciBDdXJycmVudEFjdGl2ZVBsYXllckluZGV4ID0gMFxyXG5leHBvcnQgdmFyIEN1cnJyZW50QWN0aXZlUGxheWVyXHJcbmxldCB1c2VySW5wdXQgPSBudWxsO1xyXG5cclxuY29uc3QgcGxheWVyRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdCwgY29tcG9uZW50cy5Jc1BsYXllckNvbnRyb2xsZWRdLFxyXG4gIG5vbmU6IFtjb21wb25lbnRzLklzRGVhZF1cclxufSk7XHJcblxyXG5jb25zdCBhbGx5RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdF0sXHJcbiAgbm9uZTogW2NvbXBvbmVudHMuSXNFbmVteV1cclxufSlcclxuXHJcbmNvbnN0IGVuZW15RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdCxjb21wb25lbnRzLklzRW5lbXldLFxyXG4gIG5vbmU6IFtjb21wb25lbnRzLklzRGVhZF1cclxufSlcclxuXHJcbmNvbnN0IGRtZ1RpbGVFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICBhbGw6IFtjb21wb25lbnRzLkRtZ1RpbGVdXHJcbn0pXHJcblxyXG5jb25zdCB1cGRhdGUgPSAoKSA9PiB7XHJcbiAgICBpZihnYW1lU3RhdGUgPT0gXCJzZXR1cFwiKXtcclxuICAgICAgZ2FtZVN0YXRlID0gXCJFbmVteVR1cm5EZWZlbmRcIlxyXG4gICAgfWVsc2UgaWYoZ2FtZVN0YXRlID09IFwiRW5lbXlUdXJuRGVmZW5kXCIpIHtcclxuXHJcbiAgICAgIFxyXG4gICAgICAvL0VuZW15RGVmZW5kVHVybigpXHJcblxyXG4gICAgICBnYW1lU3RhdGUgPSBcIkVuZW15VHVybkF0dGFja1wiXHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICAgIC8vc2V0IHRvIHBsYXllcnR1cm5kZWZlbmRcclxuICAgICAgLy9jaGVjayB3aW4vbG9zZSAgXHJcbiAgICB9ZWxzZSBpZihnYW1lU3RhdGUgPT0gXCJFbmVteVR1cm5BdHRhY2tcIil7XHJcbiAgICAgIEVuZW15QXR0YWNrVHVybigpXHJcbiAgICAgIC8vZmlyZSBlbmQgdHVybiBmb3IgYWxsIGVuZW15IHVuaXRzXHJcbiAgICAgIEVuZFR1cm5Qcm9jZXNzKGVuZW15RW50aXRpZXMuZ2V0KCkpXHJcblxyXG4gICAgICBnYW1lU3RhdGUgPSBcIlBsYXllclR1cm5EZWZlbmRcIlxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYoZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkRlZmVuZFwiKSB7XHJcbiAgICAgIHByb2Nlc3NVc2VySW5wdXQoKVxyXG4gICAgICAvL3NldCB0byBwbGF5ZXJ0dXJuYXR0YWNrXHJcbiAgICAgIC8vY2hlY2sgd2luL2xvc2VcclxuICAgIH1lbHNlIGlmKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5BdHRhY2tcIikge1xyXG4gICAgICBwcm9jZXNzVXNlcklucHV0KClcclxuICAgICAgLy9zZXQgdG8gZW5lbXkgdHVyblxyXG4gICAgICAvL2NoZWNrIHdpbi9sb3NlXHJcblxyXG4gICAgICAvL2ZpcmUgZW5kVHVybiBmb3IgYWxsIHBsYXllciB1bml0c1xyXG4gICAgICBcclxuICAgIH1lbHNlIGlmKGdhbWVTdGF0ZT09XCJleGFtaW5lXCIgfHwgZ2FtZVN0YXRlID09XCJ0YXJnZXRpbmdcIiB8fCBnYW1lU3RhdGUgPT0gXCJIZWxwXCIgfHwgZ2FtZVN0YXRlID09IFwiQWJpbGl0eUluZm9cIiB8fCBnYW1lU3RhdGUgPT0gXCJEYW1hZ2VTaG93XCIgfHwgZ2FtZVN0YXRlID09IFwiRW5lbXlOdW1iZXJzXCIpe1xyXG4gICAgICBwcm9jZXNzVXNlcklucHV0KClcclxuICAgICAgLy9yZW5kZXIgZW50aXRpZXMgdW5kZXIgY3VycmVudCByZXRpY2xlXHJcblxyXG4gICAgICBcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5cclxuY29uc3QgcHJvY2Vzc1VzZXJJbnB1dCA9ICgpID0+IHtcclxuLy9zaG93IGhlbHAgc2NyZWVuXHJcbiAgaWYoZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkRlZmVuZFwiIHx8IGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5BdHRhY2tcIil7XHJcbiAgICBpZih1c2VySW5wdXQgPT09IFwiP1wiKSB7XHJcbiAgICAgIFNldFByZXZpb3VzU3RhdGUoXCJIZWxwXCIpXHJcbiAgICAgIHJlbmRlcigpXHJcbi8vc2VsZWN0IG5leHQgcGxheWVyXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIm5cIikge1xyXG4gICAgICAvL2NoYW5nZSBhY3RpdmUgcGxheWVyIHRvIG5leHRcclxuICAgICAgY29uc29sZS5sb2coJ2lucHV0OiAnICsgdXNlcklucHV0KVxyXG4gICAgICBDdXJycmVudEFjdGl2ZVBsYXllciA9IEdldE5leHRBY3RpdmVQbGF5ZXIoKVxyXG5cclxuICAgICAgcmVuZGVyKClcclxuXHJcbi8vZGllIHNlbGVjdFxyXG4gICAgfWVsc2UgaWYodXNlcklucHV0ID09PSBcIjFcIiB8fCB1c2VySW5wdXQgPT09IFwiMlwiIHx8IHVzZXJJbnB1dCA9PT0gXCIzXCIgfHwgdXNlcklucHV0ID09PSBcIjRcIiB8fCB1c2VySW5wdXQgPT09IFwiNVwiIHx8IHVzZXJJbnB1dCA9PT0gXCI2XCIgfHwgdXNlcklucHV0ID09PSBcIjdcIiB8fCB1c2VySW5wdXQgPT09IFwiOFwiIHx8IHVzZXJJbnB1dCA9PT0gXCI5XCIpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJkaWNlIHN3YXBcIilcclxuICAgICAgLy9zZWxlY3QgZGllXHJcbiAgICAgIGlmKHVzZXJJbnB1dCAtIDEgPCBDdXJycmVudEFjdGl2ZVBsYXllci5kaWUubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3VzZXJJbnB1dC0xXSlcclxuICAgICAgICBpZighQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3VzZXJJbnB1dC0xXS5leGhhdXN0ZWQpe1xyXG4gICAgICAgICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3VzZXJJbnB1dC0xXS5zZWxlY3RlZCA9ICFDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbdXNlcklucHV0LTFdLnNlbGVjdGVkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuICAgICAgXHJcblxyXG4vL21vdmVtZW50XHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93VXBcIikge1xyXG4gICAgICBQbGF5ZXJBdHRlbXB0TW92ZSgpXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgICBQbGF5ZXJBdHRlbXB0TW92ZSgpXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93RG93blwiKSB7XHJcbiAgICAgIFBsYXllckF0dGVtcHRNb3ZlKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dMZWZ0XCIpIHtcclxuICAgICAgUGxheWVyQXR0ZW1wdE1vdmUoKVxyXG4gICAgXHJcbi8vYWJpbGl0eSB1c2VcclxuICAgIH1lbHNlIGlmKHVzZXJJbnB1dCA9PT0gXCJxXCIgfHwgdXNlcklucHV0ID09PSBcIndcIiB8fCB1c2VySW5wdXQgPT09IFwiZVwiIHx8IHVzZXJJbnB1dCA9PT0gXCJyXCIgfHwgdXNlcklucHV0ID09PSBcInRcIiB8fCB1c2VySW5wdXQgPT09IFwieVwiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiYWJpbGl0eSB1c2VcIilcclxuICAgICAgdmFyIGFiaWxpdHlJbmRleCA9IENvbnZlcnRTa2lsbEhvdGtleSh1c2VySW5wdXQpXHJcblxyXG4gICAgICAvL2NoZWNrIGlmIGFiaWxpdHkgZXhpc3RzXHJcbiAgICAgIGlmKGFiaWxpdHlJbmRleCA8IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllcy5sZW5ndGgpe1xyXG4gICAgICAgIC8vaGl0IGV4aXN0aW5nIGFiaWxpdHkga2V5XHJcbiAgICAgICAgbGV0IGFiaWwgPSBDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbYWJpbGl0eUluZGV4XVxyXG4gICAgICAgIGxldCBjYW5Vc2UgPSBhYmlsLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5jYW5Vc2UoYWJpbCxDdXJycmVudEFjdGl2ZVBsYXllcilcclxuICAgICAgICB2YXIgY3VycmVudFBoYXNlID0gKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5EZWZlbmRcIikgPyBcIkRlZmVuZFwiIDogXCJBdHRhY2tcIlxyXG4gICAgICAgIGlmKGNhblVzZS5sZW5ndGggPiAwICYmIChhYmlsLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkFueVwiIHx8IGFiaWwuYWJpbGl0eVBoYXNlLnBoYXNlID09IGN1cnJlbnRQaGFzZSkpe1xyXG4gICAgICAgICAgLy9jaGVjayBpZiBhYmlsaXR5IGlzIGluc3RhbnQgb3IgdGFyZ2V0ZWRcclxuICAgICAgICAgIGlmKGFiaWwuYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLm9uVGFyZ2V0KXtcclxuICAgICAgICAgICAgYWJpbC5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25UYXJnZXQoYWJpbCwgQ3VycnJlbnRBY3RpdmVQbGF5ZXIpXHJcblxyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBhYmlsLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5vblVzZShhYmlsLCBDdXJycmVudEFjdGl2ZVBsYXllciwgR2V0VGFyZ2V0RW50aXR5UG9zKCkpXHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgXHJcbiAgICB9ZWxzZSBpZih1c2VySW5wdXQgPT09IFwiUVwiIHx8IHVzZXJJbnB1dCA9PT0gXCJXXCIgfHwgdXNlcklucHV0ID09PSBcIkVcIiB8fCB1c2VySW5wdXQgPT09IFwiUlwiIHx8IHVzZXJJbnB1dCA9PT0gXCJUXCIgfHwgdXNlcklucHV0ID09PSBcIllcIikge1xyXG4gIC8vYWJpbGl0eSBpbmZvXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiYWJpbGl0eSBpbmZvXCIpXHJcbiAgICAgIHZhciBhYmlsaXR5SW5kZXggPSBDb252ZXJ0U2tpbGxIb3RrZXkodXNlcklucHV0KVxyXG4gICAgICBTZXRQcmV2aW91c1N0YXRlKFwiQWJpbGl0eUluZm9cIilcclxuICAgICAgY29uc29sZS5sb2coYWJpbGl0eUluZGV4KVxyXG4gICAgICBjb25zb2xlLmxvZyhDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbYWJpbGl0eUluZGV4XSlcclxuICAgICAgU2V0RW50aXR5VG9SZW5kZXIoQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW2FiaWxpdHlJbmRleF0pXHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICBcclxuICAgIH1lbHNlIGlmKHVzZXJJbnB1dD09XCJFbnRlclwiKXtcclxuICAgICAgY29uc29sZS5sb2coXCJFbnRlclwiKVxyXG4gICAgICBpZihnYW1lU3RhdGUgPT0gXCJQbGF5ZXJUdXJuRGVmZW5kXCIpe1xyXG4gICAgICAgIFBsYXllclR1cm5EZWZlbmQoKVxyXG4gICAgICAgIGdhbWVTdGF0ZSA9IFwiUGxheWVyVHVybkF0dGFja1wiXHJcbiAgICAgIH1lbHNlIGlmIChnYW1lU3RhdGUgPT0gXCJQbGF5ZXJUdXJuQXR0YWNrXCIpe1xyXG4gICAgICAgIC8vcHJvY2VzcyBwbGF5ZXJBdHRhY2tcclxuICAgICAgICBQcm9jZXNzRG1nVGlsZXMoKVxyXG5cclxuICAgICAgICBFbmRUdXJuUHJvY2VzcyhhbGx5RW50aXRpZXMuZ2V0KCkpXHJcbiAgICAgICAgZ2FtZVN0YXRlID0gXCJFbmVteVR1cm5EZWZlbmRcIlxyXG4gICAgICB9XHJcblxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gJ3gnKSB7XHJcbiAgICAgIC8vc2V0IGV4YW1pbmUgbW9kZVxyXG4gICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwiZXhhbWluZVwiKVxyXG5cclxuICAgICAgcmVuZGVyKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09ICdjJykge1xyXG4gICAgICBTZXRQcmV2aW91c1N0YXRlKFwiRGFtYWdlU2hvd1wiKVxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gJ3onKSB7XHJcbiAgICAgIFNldFByZXZpb3VzU3RhdGUoXCJFbmVteU51bWJlcnNcIilcclxuICAgICAgcmVuZGVyKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09ICdwJykge1xyXG4gICAgICAvL3VzZWQgZm9yIHRlc3RpbmdcclxuICAgICAgY29uc29sZS5sb2coQ3VycnJlbnRBY3RpdmVQbGF5ZXIpXHJcbiAgICAgIFxyXG4gICAgfVxyXG4gIH1lbHNlIGlmIChnYW1lU3RhdGUgPT09IFwiZXhhbWluZVwiIHx8IGdhbWVTdGF0ZSA9PT0gXCJ0YXJnZXRpbmdcIikge1xyXG4gICAgICBpZiAodXNlcklucHV0ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgRXhhbWluZVRhcmdldERpc2FibGUoKVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dVcFwiIHx8IHVzZXJJbnB1dCA9PT0gXCJBcnJvd1JpZ2h0XCIgfHwgdXNlcklucHV0ID09PSBcIkFycm93RG93blwiIHx8IHVzZXJJbnB1dCA9PT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgICAgIFRhcmdldE1vdmUoKVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICAgIH1lbHNlIGlmKHVzZXJJbnB1dCA9PT0gXCJFbnRlclwiICYmIGdhbWVTdGF0ZSA9PT0gXCJ0YXJnZXRpbmdcIil7XHJcbiAgICAgICAgLy9hY3RpdmF0ZSB0aGUgcXVldWVkIGFiaWxpdHlcclxuICAgICAgICBjb25zb2xlLmxvZyhxdWV1ZWRBYmlsaXR5KVxyXG4gICAgICAgIHF1ZXVlZEFiaWxpdHkuYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLm9uVXNlKHF1ZXVlZEFiaWxpdHksIHF1ZXVlZEVudGl0eSwgR2V0VGFyZ2V0RW50aXR5UG9zKCkpXHJcbiAgICAgICAgRXhhbWluZVRhcmdldERpc2FibGUoKVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICB9XHJcbiAgfWVsc2UgaWYgKGdhbWVTdGF0ZSA9PT0gXCJIZWxwXCIgfHwgZ2FtZVN0YXRlID09IFwiQWJpbGl0eUluZm9cIiB8fCBnYW1lU3RhdGUgPT0gXCJEYW1hZ2VTaG93XCIgfHwgZ2FtZVN0YXRlID09IFwiRW5lbXlOdW1iZXJzXCIgKSB7XHJcbiAgICBpZih1c2VySW5wdXQgPT09XCJFc2NhcGVcIil7XHJcbiAgICAgIEhpZGVIZWxwTWVudSgpXHJcbiAgICAgIFJldHVyblByZXZpb3VzR2FtZVN0YXRlKClcclxuICAgICAgcmVuZGVyKClcclxuICAgIH1cclxuICB9XHJcbiAgICB1c2VySW5wdXQgPSBudWxsXHJcbn1cclxuXHJcbmNvbnN0IENvbnZlcnRTa2lsbEhvdGtleSA9IChob3RrZXkpID0+IHtcclxuICBzd2l0Y2ggKHVzZXJJbnB1dCkge1xyXG4gICAgY2FzZSBcInFcIjpcclxuICAgIGNhc2UgXCJRXCI6XHJcbiAgICAgIHJldHVybiAwXHJcbiAgICBjYXNlIFwid1wiOlxyXG4gICAgY2FzZSBcIldcIjpcclxuICAgICAgcmV0dXJuIDFcclxuICAgIGNhc2UgXCJlXCI6XHJcbiAgICBjYXNlIFwiRVwiOlxyXG4gICAgICByZXR1cm4gMlxyXG4gICAgY2FzZSBcInJcIjpcclxuICAgIGNhc2UgXCJSXCI6XHJcbiAgICAgIHJldHVybiAzXHJcbiAgICBjYXNlIFwidFwiOlxyXG4gICAgY2FzZSBcIlRcIjpcclxuICAgICAgcmV0dXJuIDRcclxuICAgIGNhc2UgXCJ5XCI6XHJcbiAgICBjYXNlIFwiWVwiOlxyXG4gICAgICByZXR1cm4gNVxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIDBcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEdldFRhcmdldEVudGl0eVBvcyA9ICgpID0+IHtcclxuICBpZih0YXJnZXRFbnRpdHkuaGFzKGNvbXBvbmVudHMuUG9zaXRpb24pKXtcclxuICAgIHJldHVybiB7eDp0YXJnZXRFbnRpdHkucG9zaXRpb24ueCx5OnRhcmdldEVudGl0eS5wb3NpdGlvbi55fVxyXG4gIH1lbHNlIHtcclxuICAgIHJldHVybiB7eDowLHk6MH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFeGFtaW5lVGFyZ2V0RW5hYmxlID0gKHN0YXRlKSA9PiB7XHJcbiAgU2V0UHJldmlvdXNTdGF0ZShzdGF0ZSlcclxuXHJcbiAgLy9zZXQgZXhhbWluZSBiYXNlIHBvc2l0aW9uIHRvIGN1cnJlbnQgYWN0aXZlIHBsYXllciBwb3NpdGlvblxyXG4gIHRhcmdldEVudGl0eS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLngseTogQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueX0pXHJcbn1cclxuXHJcbmNvbnN0IFNldFByZXZpb3VzU3RhdGUgPSAoc3RhdGUpID0+IHtcclxuICBwcmV2aW91c0dhbWVTdGF0ZSA9IGdhbWVTdGF0ZVxyXG4gIGdhbWVTdGF0ZSA9IHN0YXRlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFeGFtaW5lVGFyZ2V0RGlzYWJsZT0gKCkgPT4ge1xyXG4gIFJldHVyblByZXZpb3VzR2FtZVN0YXRlKClcclxuICB0YXJnZXRFbnRpdHkucmVtb3ZlKHRhcmdldEVudGl0eS5wb3NpdGlvbilcclxufVxyXG5cclxuY29uc3QgUmV0dXJuUHJldmlvdXNHYW1lU3RhdGUgPSAoKSA9PiB7XHJcbiAgZ2FtZVN0YXRlID0gcHJldmlvdXNHYW1lU3RhdGVcclxufVxyXG5cclxuY29uc3QgRXhhbWluZyA9ICgpID0+IHtcclxuXHJcbn1cclxuXHJcbmNvbnN0IFRhcmdldGluZyA9ICgpID0+IHtcclxuXHJcbn1cclxuXHJcbmNvbnN0IFBsYXllckF0dGVtcHRNb3ZlID0gKCkgPT4ge1xyXG4gIC8vIHBsYXllci5hZGQoTW92ZSwgeyB4OiAwLCB5OiAtMSB9KTsgdVxyXG5cclxuICAvLyBwbGF5ZXIuYWRkKE1vdmUsIHsgeDogMSwgeTogMCB9KTsgclxyXG5cclxuICAvLyBwbGF5ZXIuYWRkKE1vdmUsIHsgeDogMCwgeTogMSB9KTsgZFxyXG5cclxuICAvLyBwbGF5ZXIuYWRkKE1vdmUsIHsgeDogLTEsIHk6IDAgfSk7IGxcclxuXHJcbiAgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd1VwXCIpIHtcclxuICAgIEN1cnJyZW50QWN0aXZlUGxheWVyLm1vdmVtZW50LnkgPSAtMVxyXG4gIH1cclxuICBpZiAodXNlcklucHV0ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQueCA9IDFcclxuICB9XHJcbiAgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd0Rvd25cIikge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQueSA9IDFcclxuICB9XHJcbiAgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQueCA9IC0xXHJcbiAgfVxyXG5cclxuICBDdXJycmVudEFjdGl2ZVBsYXllci5maXJlRXZlbnQoXCJhdHRlbXB0LW1vdmVcIilcclxuXHJcbiAgcmVuZGVyKClcclxufVxyXG5cclxuY29uc3QgVGFyZ2V0TW92ZSA9ICgpID0+IHtcclxuICBpZiAodXNlcklucHV0ID09PSBcIkFycm93VXBcIikge1xyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkgPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55ICsgLTFcclxuICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi54ID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueFxyXG4gIH0gZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnggPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi54ICsgMVxyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkgPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55XHJcbiAgfSBlbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dEb3duXCIpIHtcclxuICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi55ID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueSArIDFcclxuICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi54ID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueFxyXG4gIH0gZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93TGVmdFwiKSB7XHJcbiAgICB0YXJnZXRFbnRpdHkucG9zaXRpb24ueCA9IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLnggKyAtMVxyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkgPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBHZXROZXh0QWN0aXZlUGxheWVyID0gKCkgPT4ge1xyXG4gIGlmKEN1cnJyZW50QWN0aXZlUGxheWVySW5kZXggKyAxID49IHBsYXllckVudGl0aWVzLmdldCgpLmxlbmd0aCl7XHJcbiAgICBDdXJycmVudEFjdGl2ZVBsYXllckluZGV4ID0gMFxyXG4gIH1lbHNlIHtcclxuICAgIEN1cnJyZW50QWN0aXZlUGxheWVySW5kZXgrK1xyXG4gIH1cclxuICAvL2NvbnNvbGUubG9nKHBsYXllckVudGl0aWVzLmdldCgpW0N1cnJyZW50QWN0aXZlUGxheWVySW5kZXhdKVxyXG4gIHJldHVybiBwbGF5ZXJFbnRpdGllcy5nZXQoKVtDdXJycmVudEFjdGl2ZVBsYXllckluZGV4XVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXYpID0+IHtcclxuICB1c2VySW5wdXQgPSBldi5rZXk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldHVwVGVzdEZpZ2h0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbmV3UGxheWVyID0gd29ybGQuY3JlYXRlUHJlZmFiKFwiUGxheWVyQmVpbmdcIiwge1xyXG4gICAgICBhcHBlYXJhbmNlOiB7Y2hhcjogXCJAXCIsIGNvbG9yOiBcImdyZWVuXCJ9XHJcbiAgICB9KTtcclxuICAgIHZhciBlbXB0eVRpbGUgPSBGZXRjaEZyZWVUaWxlKCk7XHJcbiAgICBuZXdQbGF5ZXIuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OmVtcHR5VGlsZS5wb3NpdGlvbi54LHk6ZW1wdHlUaWxlLnBvc2l0aW9uLnl9KVxyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIgPSBuZXdQbGF5ZXJcclxuXHJcbiAgICBjb25zdCBuZXdQbGF5ZXIyID0gd29ybGQuY3JlYXRlUHJlZmFiKFwiUGxheWVyQmVpbmdcIiwge1xyXG4gICAgICBhcHBlYXJhbmNlOiB7Y2hhcjogXCJAXCIsIGNvbG9yOiBcInB1cnBsZVwifVxyXG4gICAgfSk7XHJcbiAgICBlbXB0eVRpbGUgPSBGZXRjaEZyZWVUaWxlKCk7XHJcbiAgICBuZXdQbGF5ZXIyLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDplbXB0eVRpbGUucG9zaXRpb24ueCx5OmVtcHR5VGlsZS5wb3NpdGlvbi55fSlcclxuXHJcbiAgICB0aW1lcyg2LCAoKSA9PiB7XHJcbiAgICAgIGVtcHR5VGlsZSA9IEZldGNoRnJlZVRpbGUoKTtcclxuICAgICAgd29ybGQuY3JlYXRlUHJlZmFiKFwiR29ibGluXCIpLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDogZW1wdHlUaWxlLnBvc2l0aW9uLngsIHk6IGVtcHR5VGlsZS5wb3NpdGlvbi55fSlcclxuICAgIH0pO1xyXG5cclxuICAgIGVtcHR5VGlsZSA9IEZldGNoRnJlZVRpbGUoKTtcclxuICAgIHdvcmxkLmNyZWF0ZVByZWZhYihcIk9yYyBXYXJyaW9yXCIpLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDogZW1wdHlUaWxlLnBvc2l0aW9uLngsIHk6IGVtcHR5VGlsZS5wb3NpdGlvbi55fSlcclxufVxyXG5cclxuY29uc3QgRW5lbXlEZWZlbmRUdXJuID0gKCkgPT4ge1xyXG4gIC8vbG9vcCB0aHJvdWdoIGFsbCBlbmVtaWVzIGFuZCBkbyB0aGVpciB0dXJuXHJcbiAgZW5lbXlFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCBlbmVtID0+IHtcclxuICAgIEFJLkRvQWlUdXJuRGVmZW5kKGVuZW0pXHJcbiAgfSlcclxuICAvL3Byb2Nlc3MgcGxheWVyQXR0YWNrXHJcbiAgUHJvY2Vzc0RtZ1RpbGVzKClcclxufVxyXG5cclxuY29uc3QgRW5lbXlBdHRhY2tUdXJuID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiZW5lbXkgYXR0YWNrc1wiKVxyXG4gIGVuZW15RW50aXRpZXMuZ2V0KCkuZm9yRWFjaCggZW5lbSA9PiB7XHJcbiAgICBBSS5Eb0FpVHVybkF0dGFjayhlbmVtKVxyXG4gIH0pXHJcbn1cclxuXHJcbmNvbnN0IFBsYXllclR1cm5EZWZlbmQgPSAoKSA9PiB7XHJcbiAgLy93YWl0IGZvciBwbGF5ZXIgaW5wdXQgYW5kIHByb2Nlc3MsIGJ1dCBvbmx5IGFsbG93IGRlZmVuc2l2ZSBhYmlsaXRpZXNcclxuXHJcbiAgLy9wcm9jY2VzcyBlbmVteUF0dGFja1xyXG4gIFByb2Nlc3NEbWdUaWxlcygpXHJcbn1cclxuXHJcbmNvbnN0IFBsYXllclR1cm5BdHRhY2sgPSAoKSA9PiB7XHJcbiAgLy93YWl0IGZvciBwbGF5ZXIgaW5wdXQgYW5kIHByb2Nlc3MsIGJ1dCBvbmx5IGFsbG93IG9mZmVuc2l2ZSBhYmlsaXRpZXMgXHJcbn1cclxuXHJcbmNvbnN0IFByb2Nlc3NEbWdUaWxlcyA9ICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhcInByb2Nlc3MgZG1nXCIpXHJcbiAgLy9mb3IgZWFjaCBkbWd0aWxlXHJcbiAgY29uc29sZS5sb2coZG1nVGlsZUVudGl0aWVzLmdldCgpKVxyXG4gIC8vZG9udCByZW1vdmUgZnJvbSBhbiBhcnJheSB3aGlsZSBpdGVyYXRpbmcgb3ZlciBpdFxyXG4gIHZhciB0b0Rlc3Ryb3kgPSBbXVxyXG4gIGRtZ1RpbGVFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCAoZW50aXR5KSA9PiB7XHJcbiAgICB2YXIgZ2V0RW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OmVudGl0eS5wb3NpdGlvbi54LHk6ZW50aXR5LnBvc2l0aW9uLnl9KSlcclxuXHJcbiAgICBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goIChlSWQpID0+IHtcclxuICAgICAgLy9jaGVjayBpZiB0aGlzIGlzIGEgdW5pdFxyXG4gICAgICB2YXIgZW50aXR5QXRMb2MgPSB3b3JsZC5nZXRFbnRpdHkoZUlkKTtcclxuICAgICAgY29uc29sZS5sb2coZW50aXR5QXRMb2MpXHJcbiAgICAgIGlmKGVudGl0eUF0TG9jLmxheWVyVW5pdCl7XHJcbiAgICAgICAgZW50aXR5QXRMb2MuZmlyZUV2ZW50KFwidGFrZS1kYW1hZ2VcIiwge2Ftb3VudDogZW50aXR5LmRtZ1RpbGUuZG1nfSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0b0Rlc3Ryb3kucHVzaChlbnRpdHkpXHJcbiAgfSk7XHJcblxyXG4gIHRvRGVzdHJveS5mb3JFYWNoKCAoZW50KSA9PntcclxuICAgIGVudC5kZXN0cm95KClcclxuICB9KVxyXG4gIGNvbnNvbGUubG9nKGRtZ1RpbGVFbnRpdGllcy5nZXQoKSlcclxuICBjb25zb2xlLmxvZyhcImVuZCBwcm9jZXNzIGRtZ1wiKVxyXG59XHJcblxyXG5jb25zdCBFbmRUdXJuUHJvY2VzcyA9IChlbnRpdGllcykgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdlbmRpbmcgdHVybiBmb3IgJylcclxuICBlbnRpdGllcy5mb3JFYWNoKCAoZW50aXR5KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlbnRpdHkpXHJcbiAgICBlbnRpdHkuZmlyZUV2ZW50KCd0dXJuLWVuZCcsIGVudGl0eSk7XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IFN0YXJ0R2FtZSA9ICgpID0+IHtcclxuICBtYWtlTWFwKClcclxuICBzZXR1cFRlc3RGaWdodCgpXHJcbiAgRmV0Y2hGcmVlVGlsZSgpXHJcbiAgcmVuZGVyKClcclxufVxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XHJcbiAgICB1cGRhdGUoKTtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gIH07XHJcbiAgXHJcbnJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ==