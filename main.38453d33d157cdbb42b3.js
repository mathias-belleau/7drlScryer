!function(t){var e={};function n(u){if(e[u])return e[u].exports;var r=e[u]={i:u,l:!1,exports:{}};return t[u].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,u){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:u})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(u,r,function(e){return t[e]}.bind(null,r));return u},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";function u(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var r=2.3283064365386963e-10,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}var e,n,o;return e=t,(n=[{key:"getSeed",value:function(){return this._seed}},{key:"setSeed",value:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*r,t=69069*t+1>>>0,this._s1=t*r,t=69069*t+1>>>0,this._s2=t*r,this._c=1,this}},{key:"getUniform",value:function(){var t=2091639*this._s0+this._c*r;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}},{key:"getUniformInt",value:function(t,e){var n=Math.max(t,e),u=Math.min(t,e);return Math.floor(this.getUniform()*(n-u+1))+u}},{key:"getNormal",value:function(){var t,e,n,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;do{n=(t=2*this.getUniform()-1)*t+(e=2*this.getUniform()-1)*e}while(n>1||0==n);var o=t*Math.sqrt(-2*Math.log(n)/n);return u+o*r}},{key:"getPercentage",value:function(){return 1+Math.floor(100*this.getUniform())}},{key:"getItem",value:function(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}},{key:"shuffle",value:function(t){for(var e=[],n=t.slice();n.length;){var u=n.indexOf(this.getItem(n));e.push(n.splice(u,1)[0])}return e}},{key:"getWeightedValue",value:function(t){var e=0;for(var n in t)e+=t[n];var u,r=this.getUniform()*e,o=0;for(u in t)if(r<(o+=t[u]))return u;return u}},{key:"getState",value:function(){return[this._s0,this._s1,this._s2,this._c]}},{key:"setState",value:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}},{key:"clone",value:function(){var e=new t;return e.setState(this.getState())}}])&&u(e.prototype,n),o&&u(e,o),t}();e.a=(new o).setSeed(Date.now())},function(t,e,n){"use strict";function u(t,e){return(t%e+e)%e}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t}function o(t){return t.charAt(0).toUpperCase()+t.substring(1)}function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];var r=i.map,a=function(e,u,i,a){if("%"==t.charAt(a-1))return e.substring(1);if(!n.length)return e;var c=n[0],s=(u||i).split(","),l=s.shift()||"",f=r[l.toLowerCase()];if(!f)return e;var h=(c=n.shift())[f].apply(c,s),p=l.charAt(0);return p!=p.toLowerCase()&&(h=o(h)),h};return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,a)}n.r(e),n.d(e,"mod",(function(){return u})),n.d(e,"clamp",(function(){return r})),n.d(e,"capitalize",(function(){return o})),n.d(e,"format",(function(){return i})),i.map={s:"toString"}},function(t,e,n){"use strict";n.r(e),n.d(e,"fromString",(function(){return o})),n.d(e,"add",(function(){return i})),n.d(e,"add_",(function(){return a})),n.d(e,"multiply",(function(){return c})),n.d(e,"multiply_",(function(){return s})),n.d(e,"interpolate",(function(){return l})),n.d(e,"lerp",(function(){return f})),n.d(e,"interpolateHSL",(function(){return h})),n.d(e,"lerpHSL",(function(){return p})),n.d(e,"randomize",(function(){return D})),n.d(e,"rgb2hsl",(function(){return y})),n.d(e,"hsl2rgb",(function(){return d})),n.d(e,"toRGB",(function(){return g})),n.d(e,"toHex",(function(){return _}));var u=n(1),r=n(0);function o(t){var e,n;if(t in A)e=A[t];else{if("#"==t.charAt(0)){var u=(t.match(/[0-9a-f]/gi)||[]).map((function(t){return parseInt(t,16)}));if(3==u.length)e=u.map((function(t){return 17*t}));else{for(var r=0;r<3;r++)u[r+1]+=16*u[r],u.splice(r,1);e=u}}else e=(n=t.match(/rgb\(([0-9, ]+)\)/i))?n[1].split(/\s*,\s*/).map((function(t){return parseInt(t)})):[0,0,0];A[t]=e}return e.slice()}function i(t){for(var e=t.slice(),n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];for(var o=0;o<3;o++)for(var i=0;i<u.length;i++)e[o]+=u[i][o];return e}function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];for(var r=0;r<3;r++)for(var o=0;o<n.length;o++)t[r]+=n[o][r];return t}function c(t){for(var e=t.slice(),n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];for(var o=0;o<3;o++){for(var i=0;i<u.length;i++)e[o]*=u[i][o]/255;e[o]=Math.round(e[o])}return e}function s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];for(var r=0;r<3;r++){for(var o=0;o<n.length;o++)t[r]*=n[o][r]/255;t[r]=Math.round(t[r])}return t}function l(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,u=t.slice(),r=0;r<3;r++)u[r]=Math.round(u[r]+n*(e[r]-t[r]));return u}var f=l;function h(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,u=y(t),r=y(e),o=0;o<3;o++)u[o]+=n*(r[o]-u[o]);return d(u)}var p=h;function D(t,e){e instanceof Array||(e=Math.round(r.a.getNormal(0,e)));for(var n=t.slice(),u=0;u<3;u++)n[u]+=e instanceof Array?Math.round(r.a.getNormal(0,e[u])):e;return n}function y(t){var e,n=t[0]/255,u=t[1]/255,r=t[2]/255,o=Math.max(n,u,r),i=Math.min(n,u,r),a=0,c=(o+i)/2;if(o==i)e=0;else{var s=o-i;switch(e=c>.5?s/(2-o-i):s/(o+i),o){case n:a=(u-r)/s+(u<r?6:0);break;case u:a=(r-n)/s+2;break;case r:a=(n-u)/s+4}a/=6}return[a,e,c]}function v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d(t){var e=t[2];if(0==t[1])return[e=Math.round(255*e),e,e];var n=t[1],u=e<.5?e*(1+n):e+n-e*n,r=2*e-u,o=v(r,u,t[0]+1/3),i=v(r,u,t[0]),a=v(r,u,t[0]-1/3);return[Math.round(255*o),Math.round(255*i),Math.round(255*a)]}function g(t){var e=t.map((function(t){return Object(u.clamp)(t,0,255)}));return"rgb(".concat(e.join(","),")")}function _(t){var e=t.map((function(t){return Object(u.clamp)(t,0,255).toString(16).padStart(2,"0")}));return"#".concat(e.join(""))}var A={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},function(t,e,n){"use strict";function u(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}n.d(e,"a",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getContainer",value:function(){return null}},{key:"setOptions",value:function(t){this._options=t}}])&&u(e.prototype,n),r&&u(e,r),t}()},function(t,e,n){(function(t,u){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",a="__lodash_placeholder__",c=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",l="[object Array]",f="[object Boolean]",h="[object Date]",p="[object Error]",D="[object Function]",y="[object GeneratorFunction]",v="[object Map]",d="[object Number]",g="[object Object]",_="[object RegExp]",A="[object Set]",C="[object String]",E="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",F="[object DataView]",B="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",j="[object Uint16Array]",P="[object Uint32Array]",R=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,U=RegExp(I.source),L=RegExp(z.source),W=/<%-([\s\S]+?)%>/g,N=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,G=RegExp($.source),K=/^\s+/,Q=/\s/,V=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/[()=,{}\[\]\/\s]/,nt=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,ot=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ct=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yt="[\\ud800-\\udfff]",vt="["+Dt+"]",dt="["+pt+"]",gt="\\d+",_t="[\\u2700-\\u27bf]",At="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ct="[^\\ud800-\\udfff"+Dt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Et="\\ud83c[\\udffb-\\udfff]",mt="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",wt="(?:"+At+"|"+Ct+")",xt="(?:"+Bt+"|"+Ct+")",kt="(?:"+dt+"|"+Et+")"+"?",St="[\\ufe0e\\ufe0f]?"+kt+("(?:\\u200d(?:"+[mt,bt,Ft].join("|")+")[\\ufe0e\\ufe0f]?"+kt+")*"),Ot="(?:"+[_t,bt,Ft].join("|")+")"+St,jt="(?:"+[mt+dt+"?",dt,bt,Ft,yt].join("|")+")",Pt=RegExp("['’]","g"),Rt=RegExp(dt,"g"),Tt=RegExp(Et+"(?="+Et+")|"+jt+St,"g"),Mt=RegExp([Bt+"?"+At+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,Bt,"$"].join("|")+")",xt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Bt+wt,"$"].join("|")+")",Bt+"?"+wt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Bt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Ot].join("|"),"g"),It=RegExp("[\\u200d\\ud800-\\udfff"+pt+"\\ufe0e\\ufe0f]"),zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ut=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,Wt={};Wt[B]=Wt[w]=Wt[x]=Wt[k]=Wt[S]=Wt[O]=Wt["[object Uint8ClampedArray]"]=Wt[j]=Wt[P]=!0,Wt[s]=Wt[l]=Wt[b]=Wt[f]=Wt[F]=Wt[h]=Wt[p]=Wt[D]=Wt[v]=Wt[d]=Wt[g]=Wt[_]=Wt[A]=Wt[C]=Wt[m]=!1;var Nt={};Nt[s]=Nt[l]=Nt[b]=Nt[F]=Nt[f]=Nt[h]=Nt[B]=Nt[w]=Nt[x]=Nt[k]=Nt[S]=Nt[v]=Nt[d]=Nt[g]=Nt[_]=Nt[A]=Nt[C]=Nt[E]=Nt[O]=Nt["[object Uint8ClampedArray]"]=Nt[j]=Nt[P]=!0,Nt[p]=Nt[D]=Nt[m]=!1;var Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Ht=parseInt,qt="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,$t="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,Gt=qt||$t||Function("return this")(),Kt="object"==o(e)&&e&&!e.nodeType&&e,Qt=Kt&&"object"==o(u)&&u&&!u.nodeType&&u,Vt=Qt&&Qt.exports===Kt,Zt=Vt&&qt.process,Jt=function(){try{var t=Qt&&Qt.require&&Qt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),te=Jt&&Jt.isArrayBuffer,ee=Jt&&Jt.isDate,ne=Jt&&Jt.isMap,ue=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,oe=Jt&&Jt.isTypedArray;function ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,u){for(var r=-1,o=null==t?0:t.length;++r<o;){var i=t[r];e(u,i,n(i),t)}return u}function ce(t,e){for(var n=-1,u=null==t?0:t.length;++n<u&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,u=null==t?0:t.length;++n<u;)if(!e(t[n],n,t))return!1;return!0}function fe(t,e){for(var n=-1,u=null==t?0:t.length,r=0,o=[];++n<u;){var i=t[n];e(i,n,t)&&(o[r++]=i)}return o}function he(t,e){return!!(null==t?0:t.length)&&Ee(t,e,0)>-1}function pe(t,e,n){for(var u=-1,r=null==t?0:t.length;++u<r;)if(n(e,t[u]))return!0;return!1}function De(t,e){for(var n=-1,u=null==t?0:t.length,r=Array(u);++n<u;)r[n]=e(t[n],n,t);return r}function ye(t,e){for(var n=-1,u=e.length,r=t.length;++n<u;)t[r+n]=e[n];return t}function ve(t,e,n,u){var r=-1,o=null==t?0:t.length;for(u&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function de(t,e,n,u){var r=null==t?0:t.length;for(u&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ge(t,e){for(var n=-1,u=null==t?0:t.length;++n<u;)if(e(t[n],n,t))return!0;return!1}var _e=Be("length");function Ae(t,e,n){var u;return n(t,(function(t,n,r){if(e(t,n,r))return u=n,!1})),u}function Ce(t,e,n,u){for(var r=t.length,o=n+(u?1:-1);u?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Ee(t,e,n){return e==e?function(t,e,n){var u=n-1,r=t.length;for(;++u<r;)if(t[u]===e)return u;return-1}(t,e,n):Ce(t,be,n)}function me(t,e,n,u){for(var r=n-1,o=t.length;++r<o;)if(u(t[r],e))return r;return-1}function be(t){return t!=t}function Fe(t,e){var n=null==t?0:t.length;return n?ke(t,e)/n:NaN}function Be(t){return function(e){return null==e?void 0:e[t]}}function we(t){return function(e){return null==t?void 0:t[e]}}function xe(t,e,n,u,r){return r(t,(function(t,r,o){n=u?(u=!1,t):e(n,t,r,o)})),n}function ke(t,e){for(var n,u=-1,r=t.length;++u<r;){var o=e(t[u]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Se(t,e){for(var n=-1,u=Array(t);++n<t;)u[n]=e(n);return u}function Oe(t){return t?t.slice(0,Ke(t)+1).replace(K,""):t}function je(t){return function(e){return t(e)}}function Pe(t,e){return De(e,(function(e){return t[e]}))}function Re(t,e){return t.has(e)}function Te(t,e){for(var n=-1,u=t.length;++n<u&&Ee(e,t[n],0)>-1;);return n}function Me(t,e){for(var n=t.length;n--&&Ee(e,t[n],0)>-1;);return n}function Ie(t,e){for(var n=t.length,u=0;n--;)t[n]===e&&++u;return u}var ze=we({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ue=we({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Xt[t]}function We(t){return It.test(t)}function Ne(t){var e=-1,n=Array(t.size);return t.forEach((function(t,u){n[++e]=[u,t]})),n}function Xe(t,e){return function(n){return t(e(n))}}function Ye(t,e){for(var n=-1,u=t.length,r=0,o=[];++n<u;){var i=t[n];i!==e&&i!==a||(t[n]=a,o[r++]=n)}return o}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function $e(t){return We(t)?function(t){var e=Tt.lastIndex=0;for(;Tt.test(t);)++e;return e}(t):_e(t)}function Ge(t){return We(t)?function(t){return t.match(Tt)||[]}(t):function(t){return t.split("")}(t)}function Ke(t){for(var e=t.length;e--&&Q.test(t.charAt(e)););return e}var Qe=we({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ve=function t(e){var n,u=(e=null==e?Gt:Ve.defaults(Gt.Object(),e,Ve.pick(Gt,Ut))).Array,r=e.Date,Q=e.Error,pt=e.Function,Dt=e.Math,yt=e.Object,vt=e.RegExp,dt=e.String,gt=e.TypeError,_t=u.prototype,At=pt.prototype,Ct=yt.prototype,Et=e["__core-js_shared__"],mt=At.toString,bt=Ct.hasOwnProperty,Ft=0,Bt=(n=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",wt=Ct.toString,xt=mt.call(yt),kt=Gt._,St=vt("^"+mt.call(bt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=Vt?e.Buffer:void 0,jt=e.Symbol,Tt=e.Uint8Array,It=Ot?Ot.allocUnsafe:void 0,Xt=Xe(yt.getPrototypeOf,yt),qt=yt.create,$t=Ct.propertyIsEnumerable,Kt=_t.splice,Qt=jt?jt.isConcatSpreadable:void 0,Zt=jt?jt.iterator:void 0,Jt=jt?jt.toStringTag:void 0,_e=function(){try{var t=eo(yt,"defineProperty");return t({},"",{}),t}catch(t){}}(),we=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Ze=r&&r.now!==Gt.Date.now&&r.now,Je=e.setTimeout!==Gt.setTimeout&&e.setTimeout,tn=Dt.ceil,en=Dt.floor,nn=yt.getOwnPropertySymbols,un=Ot?Ot.isBuffer:void 0,rn=e.isFinite,on=_t.join,an=Xe(yt.keys,yt),cn=Dt.max,sn=Dt.min,ln=r.now,fn=e.parseInt,hn=Dt.random,pn=_t.reverse,Dn=eo(e,"DataView"),yn=eo(e,"Map"),vn=eo(e,"Promise"),dn=eo(e,"Set"),gn=eo(e,"WeakMap"),_n=eo(yt,"create"),An=gn&&new gn,Cn={},En=ko(Dn),mn=ko(yn),bn=ko(vn),Fn=ko(dn),Bn=ko(gn),wn=jt?jt.prototype:void 0,xn=wn?wn.valueOf:void 0,kn=wn?wn.toString:void 0;function Sn(t){if(qi(t)&&!Ti(t)&&!(t instanceof Rn)){if(t instanceof Pn)return t;if(bt.call(t,"__wrapped__"))return So(t)}return new Pn(t)}var On=function(){function t(){}return function(e){if(!Hi(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function jn(){}function Pn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Rn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new In;++e<n;)this.add(t[e])}function Un(t){var e=this.__data__=new Mn(t);this.size=e.size}function Ln(t,e){var n=Ti(t),u=!n&&Ri(t),r=!n&&!u&&Ui(t),o=!n&&!u&&!r&&ta(t),i=n||u||r||o,a=i?Se(t.length,dt):[],c=a.length;for(var s in t)!e&&!bt.call(t,s)||i&&("length"==s||r&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||co(s,c))||a.push(s);return a}function Wn(t){var e=t.length;return e?t[zu(0,e-1)]:void 0}function Nn(t,e){return Bo(_r(t),Vn(e,0,t.length))}function Xn(t){return Bo(_r(t))}function Yn(t,e,n){(void 0!==n&&!Oi(t[e],n)||void 0===n&&!(e in t))&&Kn(t,e,n)}function Hn(t,e,n){var u=t[e];bt.call(t,e)&&Oi(u,n)&&(void 0!==n||e in t)||Kn(t,e,n)}function qn(t,e){for(var n=t.length;n--;)if(Oi(t[n][0],e))return n;return-1}function $n(t,e,n,u){return nu(t,(function(t,r,o){e(u,t,n(t),o)})),u}function Gn(t,e){return t&&Ar(e,Ea(e),t)}function Kn(t,e,n){"__proto__"==e&&_e?_e(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Qn(t,e){for(var n=-1,r=e.length,o=u(r),i=null==t;++n<r;)o[n]=i?void 0:da(t,e[n]);return o}function Vn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,u,r,o){var i,a=1&e,c=2&e,l=4&e;if(n&&(i=r?n(t,u,r,o):n(t)),void 0!==i)return i;if(!Hi(t))return t;var p=Ti(t);if(p){if(i=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&bt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!a)return _r(t,i)}else{var m=ro(t),R=m==D||m==y;if(Ui(t))return pr(t,a);if(m==g||m==s||R&&!r){if(i=c||R?{}:io(t),!a)return c?function(t,e){return Ar(t,uo(t),e)}(t,function(t,e){return t&&Ar(e,ma(e),t)}(i,t)):function(t,e){return Ar(t,no(t),e)}(t,Gn(i,t))}else{if(!Nt[m])return r?t:{};i=function(t,e,n){var u=t.constructor;switch(e){case b:return Dr(t);case f:case h:return new u(+t);case F:return function(t,e){var n=e?Dr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case B:case w:case x:case k:case S:case O:case"[object Uint8ClampedArray]":case j:case P:return yr(t,n);case v:return new u;case d:case C:return new u(t);case _:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new u;case E:return r=t,xn?yt(xn.call(r)):{}}var r}(t,m,a)}}o||(o=new Un);var T=o.get(t);if(T)return T;o.set(t,i),Vi(t)?t.forEach((function(u){i.add(Zn(u,e,n,u,t,o))})):$i(t)&&t.forEach((function(u,r){i.set(r,Zn(u,e,n,r,t,o))}));var M=p?void 0:(l?c?Gr:$r:c?ma:Ea)(t);return ce(M||t,(function(u,r){M&&(u=t[r=u]),Hn(i,r,Zn(u,e,n,r,t,o))})),i}function Jn(t,e,n){var u=n.length;if(null==t)return!u;for(t=yt(t);u--;){var r=n[u],o=e[r],i=t[r];if(void 0===i&&!(r in t)||!o(i))return!1}return!0}function tu(t,e,n){if("function"!=typeof t)throw new gt(i);return Eo((function(){t.apply(void 0,n)}),e)}function eu(t,e,n,u){var r=-1,o=he,i=!0,a=t.length,c=[],s=e.length;if(!a)return c;n&&(e=De(e,je(n))),u?(o=pe,i=!1):e.length>=200&&(o=Re,i=!1,e=new zn(e));t:for(;++r<a;){var l=t[r],f=null==n?l:n(l);if(l=u||0!==l?l:0,i&&f==f){for(var h=s;h--;)if(e[h]===f)continue t;c.push(l)}else o(e,f,u)||c.push(l)}return c}Sn.templateSettings={escape:W,evaluate:N,interpolate:X,variable:"",imports:{_:Sn}},Sn.prototype=jn.prototype,Sn.prototype.constructor=Sn,Pn.prototype=On(jn.prototype),Pn.prototype.constructor=Pn,Rn.prototype=On(jn.prototype),Rn.prototype.constructor=Rn,Tn.prototype.clear=function(){this.__data__=_n?_n(null):{},this.size=0},Tn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Tn.prototype.get=function(t){var e=this.__data__;if(_n){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return bt.call(e,t)?e[t]:void 0},Tn.prototype.has=function(t){var e=this.__data__;return _n?void 0!==e[t]:bt.call(e,t)},Tn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_n&&void 0===e?"__lodash_hash_undefined__":e,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=qn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Mn.prototype.get=function(t){var e=this.__data__,n=qn(e,t);return n<0?void 0:e[n][1]},Mn.prototype.has=function(t){return qn(this.__data__,t)>-1},Mn.prototype.set=function(t,e){var n=this.__data__,u=qn(n,t);return u<0?(++this.size,n.push([t,e])):n[u][1]=e,this},In.prototype.clear=function(){this.size=0,this.__data__={hash:new Tn,map:new(yn||Mn),string:new Tn}},In.prototype.delete=function(t){var e=Jr(this,t).delete(t);return this.size-=e?1:0,e},In.prototype.get=function(t){return Jr(this,t).get(t)},In.prototype.has=function(t){return Jr(this,t).has(t)},In.prototype.set=function(t,e){var n=Jr(this,t),u=n.size;return n.set(t,e),this.size+=n.size==u?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},zn.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.clear=function(){this.__data__=new Mn,this.size=0},Un.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Un.prototype.get=function(t){return this.__data__.get(t)},Un.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mn){var u=n.__data__;if(!yn||u.length<199)return u.push([t,e]),this.size=++n.size,this;n=this.__data__=new In(u)}return n.set(t,e),this.size=n.size,this};var nu=mr(lu),uu=mr(fu,!0);function ru(t,e){var n=!0;return nu(t,(function(t,u,r){return n=!!e(t,u,r)})),n}function ou(t,e,n){for(var u=-1,r=t.length;++u<r;){var o=t[u],i=e(o);if(null!=i&&(void 0===a?i==i&&!Ji(i):n(i,a)))var a=i,c=o}return c}function iu(t,e){var n=[];return nu(t,(function(t,u,r){e(t,u,r)&&n.push(t)})),n}function au(t,e,n,u,r){var o=-1,i=t.length;for(n||(n=ao),r||(r=[]);++o<i;){var a=t[o];e>0&&n(a)?e>1?au(a,e-1,n,u,r):ye(r,a):u||(r[r.length]=a)}return r}var cu=br(),su=br(!0);function lu(t,e){return t&&cu(t,e,Ea)}function fu(t,e){return t&&su(t,e,Ea)}function hu(t,e){return fe(e,(function(e){return Ni(t[e])}))}function pu(t,e){for(var n=0,u=(e=sr(e,t)).length;null!=t&&n<u;)t=t[xo(e[n++])];return n&&n==u?t:void 0}function Du(t,e,n){var u=e(t);return Ti(t)?u:ye(u,n(t))}function yu(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Jt&&Jt in yt(t)?function(t){var e=bt.call(t,Jt),n=t[Jt];try{t[Jt]=void 0;var u=!0}catch(t){}var r=wt.call(t);u&&(e?t[Jt]=n:delete t[Jt]);return r}(t):function(t){return wt.call(t)}(t)}function vu(t,e){return t>e}function du(t,e){return null!=t&&bt.call(t,e)}function gu(t,e){return null!=t&&e in yt(t)}function _u(t,e,n){for(var r=n?pe:he,o=t[0].length,i=t.length,a=i,c=u(i),s=1/0,l=[];a--;){var f=t[a];a&&e&&(f=De(f,je(e))),s=sn(f.length,s),c[a]=!n&&(e||o>=120&&f.length>=120)?new zn(a&&f):void 0}f=t[0];var h=-1,p=c[0];t:for(;++h<o&&l.length<s;){var D=f[h],y=e?e(D):D;if(D=n||0!==D?D:0,!(p?Re(p,y):r(l,y,n))){for(a=i;--a;){var v=c[a];if(!(v?Re(v,y):r(t[a],y,n)))continue t}p&&p.push(y),l.push(D)}}return l}function Au(t,e,n){var u=null==(t=go(t,e=sr(e,t)))?t:t[xo(Wo(e))];return null==u?void 0:ie(u,t,n)}function Cu(t){return qi(t)&&yu(t)==s}function Eu(t,e,n,u,r){return t===e||(null==t||null==e||!qi(t)&&!qi(e)?t!=t&&e!=e:function(t,e,n,u,r,o){var i=Ti(t),a=Ti(e),c=i?l:ro(t),D=a?l:ro(e),y=(c=c==s?g:c)==g,m=(D=D==s?g:D)==g,B=c==D;if(B&&Ui(t)){if(!Ui(e))return!1;i=!0,y=!1}if(B&&!y)return o||(o=new Un),i||ta(t)?Hr(t,e,n,u,r,o):function(t,e,n,u,r,o,i){switch(n){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!o(new Tt(t),new Tt(e)));case f:case h:case d:return Oi(+t,+e);case p:return t.name==e.name&&t.message==e.message;case _:case C:return t==e+"";case v:var a=Ne;case A:var c=1&u;if(a||(a=He),t.size!=e.size&&!c)return!1;var s=i.get(t);if(s)return s==e;u|=2,i.set(t,e);var l=Hr(a(t),a(e),u,r,o,i);return i.delete(t),l;case E:if(xn)return xn.call(t)==xn.call(e)}return!1}(t,e,c,n,u,r,o);if(!(1&n)){var w=y&&bt.call(t,"__wrapped__"),x=m&&bt.call(e,"__wrapped__");if(w||x){var k=w?t.value():t,S=x?e.value():e;return o||(o=new Un),r(k,S,n,u,o)}}if(!B)return!1;return o||(o=new Un),function(t,e,n,u,r,o){var i=1&n,a=$r(t),c=a.length,s=$r(e).length;if(c!=s&&!i)return!1;var l=c;for(;l--;){var f=a[l];if(!(i?f in e:bt.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var D=!0;o.set(t,e),o.set(e,t);var y=i;for(;++l<c;){f=a[l];var v=t[f],d=e[f];if(u)var g=i?u(d,v,f,e,t,o):u(v,d,f,t,e,o);if(!(void 0===g?v===d||r(v,d,n,u,o):g)){D=!1;break}y||(y="constructor"==f)}if(D&&!y){var _=t.constructor,A=e.constructor;_==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof A&&A instanceof A||(D=!1)}return o.delete(t),o.delete(e),D}(t,e,n,u,r,o)}(t,e,n,u,Eu,r))}function mu(t,e,n,u){var r=n.length,o=r,i=!u;if(null==t)return!o;for(t=yt(t);r--;){var a=n[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var c=(a=n[r])[0],s=t[c],l=a[1];if(i&&a[2]){if(void 0===s&&!(c in t))return!1}else{var f=new Un;if(u)var h=u(s,l,c,t,e,f);if(!(void 0===h?Eu(l,s,3,u,f):h))return!1}}return!0}function bu(t){return!(!Hi(t)||(e=t,Bt&&Bt in e))&&(Ni(t)?St:at).test(ko(t));var e}function Fu(t){return"function"==typeof t?t:null==t?Ga:"object"==o(t)?Ti(t)?Ou(t[0],t[1]):Su(t):uc(t)}function Bu(t){if(!po(t))return an(t);var e=[];for(var n in yt(t))bt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function wu(t){if(!Hi(t))return function(t){var e=[];if(null!=t)for(var n in yt(t))e.push(n);return e}(t);var e=po(t),n=[];for(var u in t)("constructor"!=u||!e&&bt.call(t,u))&&n.push(u);return n}function xu(t,e){return t<e}function ku(t,e){var n=-1,r=Ii(t)?u(t.length):[];return nu(t,(function(t,u,o){r[++n]=e(t,u,o)})),r}function Su(t){var e=to(t);return 1==e.length&&e[0][2]?yo(e[0][0],e[0][1]):function(n){return n===t||mu(n,t,e)}}function Ou(t,e){return lo(t)&&Do(e)?yo(xo(t),e):function(n){var u=da(n,t);return void 0===u&&u===e?ga(n,t):Eu(e,u,3)}}function ju(t,e,n,u,r){t!==e&&cu(e,(function(o,i){if(r||(r=new Un),Hi(o))!function(t,e,n,u,r,o,i){var a=Ao(t,n),c=Ao(e,n),s=i.get(c);if(s)return void Yn(t,n,s);var l=o?o(a,c,n+"",t,e,i):void 0,f=void 0===l;if(f){var h=Ti(c),p=!h&&Ui(c),D=!h&&!p&&ta(c);l=c,h||p||D?Ti(a)?l=a:zi(a)?l=_r(a):p?(f=!1,l=pr(c,!0)):D?(f=!1,l=yr(c,!0)):l=[]:Ki(c)||Ri(c)?(l=a,Ri(a)?l=ca(a):Hi(a)&&!Ni(a)||(l=io(c))):f=!1}f&&(i.set(c,l),r(l,c,u,o,i),i.delete(c));Yn(t,n,l)}(t,e,i,n,ju,u,r);else{var a=u?u(Ao(t,i),o,i+"",t,e,r):void 0;void 0===a&&(a=o),Yn(t,i,a)}}),ma)}function Pu(t,e){var n=t.length;if(n)return co(e+=e<0?n:0,n)?t[e]:void 0}function Ru(t,e,n){e=e.length?De(e,(function(t){return Ti(t)?function(e){return pu(e,1===t.length?t[0]:t)}:t})):[Ga];var u=-1;return e=De(e,je(Zr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ku(t,(function(t,n,r){return{criteria:De(e,(function(e){return e(t)})),index:++u,value:t}})),(function(t,e){return function(t,e,n){var u=-1,r=t.criteria,o=e.criteria,i=r.length,a=n.length;for(;++u<i;){var c=vr(r[u],o[u]);if(c){if(u>=a)return c;var s=n[u];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function Tu(t,e,n){for(var u=-1,r=e.length,o={};++u<r;){var i=e[u],a=pu(t,i);n(a,i)&&Xu(o,sr(i,t),a)}return o}function Mu(t,e,n,u){var r=u?me:Ee,o=-1,i=e.length,a=t;for(t===e&&(e=_r(e)),n&&(a=De(t,je(n)));++o<i;)for(var c=0,s=e[o],l=n?n(s):s;(c=r(a,l,c,u))>-1;)a!==t&&Kt.call(a,c,1),Kt.call(t,c,1);return t}function Iu(t,e){for(var n=t?e.length:0,u=n-1;n--;){var r=e[n];if(n==u||r!==o){var o=r;co(r)?Kt.call(t,r,1):er(t,r)}}return t}function zu(t,e){return t+en(hn()*(e-t+1))}function Uu(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=en(e/2))&&(t+=t)}while(e);return n}function Lu(t,e){return mo(vo(t,e,Ga),t+"")}function Wu(t){return Wn(Oa(t))}function Nu(t,e){var n=Oa(t);return Bo(n,Vn(e,0,n.length))}function Xu(t,e,n,u){if(!Hi(t))return t;for(var r=-1,o=(e=sr(e,t)).length,i=o-1,a=t;null!=a&&++r<o;){var c=xo(e[r]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=i){var l=a[c];void 0===(s=u?u(l,c,a):void 0)&&(s=Hi(l)?l:co(e[r+1])?[]:{})}Hn(a,c,s),a=a[c]}return t}var Yu=An?function(t,e){return An.set(t,e),t}:Ga,Hu=_e?function(t,e){return _e(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:Ga;function qu(t){return Bo(Oa(t))}function $u(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=u(o);++r<o;)i[r]=t[r+e];return i}function Gu(t,e){var n;return nu(t,(function(t,u,r){return!(n=e(t,u,r))})),!!n}function Ku(t,e,n){var u=0,r=null==t?u:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;u<r;){var o=u+r>>>1,i=t[o];null!==i&&!Ji(i)&&(n?i<=e:i<e)?u=o+1:r=o}return r}return Qu(t,e,Ga,n)}function Qu(t,e,n,u){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var i=(e=n(e))!=e,a=null===e,c=Ji(e),s=void 0===e;r<o;){var l=en((r+o)/2),f=n(t[l]),h=void 0!==f,p=null===f,D=f==f,y=Ji(f);if(i)var v=u||D;else v=s?D&&(u||h):a?D&&h&&(u||!p):c?D&&h&&!p&&(u||!y):!p&&!y&&(u?f<=e:f<e);v?r=l+1:o=l}return sn(o,4294967294)}function Vu(t,e){for(var n=-1,u=t.length,r=0,o=[];++n<u;){var i=t[n],a=e?e(i):i;if(!n||!Oi(a,c)){var c=a;o[r++]=0===i?0:i}}return o}function Zu(t){return"number"==typeof t?t:Ji(t)?NaN:+t}function Ju(t){if("string"==typeof t)return t;if(Ti(t))return De(t,Ju)+"";if(Ji(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function tr(t,e,n){var u=-1,r=he,o=t.length,i=!0,a=[],c=a;if(n)i=!1,r=pe;else if(o>=200){var s=e?null:Ur(t);if(s)return He(s);i=!1,r=Re,c=new zn}else c=e?[]:a;t:for(;++u<o;){var l=t[u],f=e?e(l):l;if(l=n||0!==l?l:0,i&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),a.push(l)}else r(c,f,n)||(c!==a&&c.push(f),a.push(l))}return a}function er(t,e){return null==(t=go(t,e=sr(e,t)))||delete t[xo(Wo(e))]}function nr(t,e,n,u){return Xu(t,e,n(pu(t,e)),u)}function ur(t,e,n,u){for(var r=t.length,o=u?r:-1;(u?o--:++o<r)&&e(t[o],o,t););return n?$u(t,u?0:o,u?o+1:r):$u(t,u?o+1:0,u?r:o)}function rr(t,e){var n=t;return n instanceof Rn&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,ye([t],e.args))}),n)}function or(t,e,n){var r=t.length;if(r<2)return r?tr(t[0]):[];for(var o=-1,i=u(r);++o<r;)for(var a=t[o],c=-1;++c<r;)c!=o&&(i[o]=eu(i[o]||a,t[c],e,n));return tr(au(i,1),e,n)}function ir(t,e,n){for(var u=-1,r=t.length,o=e.length,i={};++u<r;){var a=u<o?e[u]:void 0;n(i,t[u],a)}return i}function ar(t){return zi(t)?t:[]}function cr(t){return"function"==typeof t?t:Ga}function sr(t,e){return Ti(t)?t:lo(t,e)?[t]:wo(sa(t))}var lr=Lu;function fr(t,e,n){var u=t.length;return n=void 0===n?u:n,!e&&n>=u?t:$u(t,e,n)}var hr=we||function(t){return Gt.clearTimeout(t)};function pr(t,e){if(e)return t.slice();var n=t.length,u=It?It(n):new t.constructor(n);return t.copy(u),u}function Dr(t){var e=new t.constructor(t.byteLength);return new Tt(e).set(new Tt(t)),e}function yr(t,e){var n=e?Dr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function vr(t,e){if(t!==e){var n=void 0!==t,u=null===t,r=t==t,o=Ji(t),i=void 0!==e,a=null===e,c=e==e,s=Ji(e);if(!a&&!s&&!o&&t>e||o&&i&&c&&!a&&!s||u&&i&&c||!n&&c||!r)return 1;if(!u&&!o&&!s&&t<e||s&&n&&r&&!u&&!o||a&&n&&r||!i&&r||!c)return-1}return 0}function dr(t,e,n,r){for(var o=-1,i=t.length,a=n.length,c=-1,s=e.length,l=cn(i-a,0),f=u(s+l),h=!r;++c<s;)f[c]=e[c];for(;++o<a;)(h||o<i)&&(f[n[o]]=t[o]);for(;l--;)f[c++]=t[o++];return f}function gr(t,e,n,r){for(var o=-1,i=t.length,a=-1,c=n.length,s=-1,l=e.length,f=cn(i-c,0),h=u(f+l),p=!r;++o<f;)h[o]=t[o];for(var D=o;++s<l;)h[D+s]=e[s];for(;++a<c;)(p||o<i)&&(h[D+n[a]]=t[o++]);return h}function _r(t,e){var n=-1,r=t.length;for(e||(e=u(r));++n<r;)e[n]=t[n];return e}function Ar(t,e,n,u){var r=!n;n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=u?u(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),r?Kn(n,a,c):Hn(n,a,c)}return n}function Cr(t,e){return function(n,u){var r=Ti(n)?ae:$n,o=e?e():{};return r(n,t,Zr(u,2),o)}}function Er(t){return Lu((function(e,n){var u=-1,r=n.length,o=r>1?n[r-1]:void 0,i=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,i&&so(n[0],n[1],i)&&(o=r<3?void 0:o,r=1),e=yt(e);++u<r;){var a=n[u];a&&t(e,a,u,o)}return e}))}function mr(t,e){return function(n,u){if(null==n)return n;if(!Ii(n))return t(n,u);for(var r=n.length,o=e?r:-1,i=yt(n);(e?o--:++o<r)&&!1!==u(i[o],o,i););return n}}function br(t){return function(e,n,u){for(var r=-1,o=yt(e),i=u(e),a=i.length;a--;){var c=i[t?a:++r];if(!1===n(o[c],c,o))break}return e}}function Fr(t){return function(e){var n=We(e=sa(e))?Ge(e):void 0,u=n?n[0]:e.charAt(0),r=n?fr(n,1).join(""):e.slice(1);return u[t]()+r}}function Br(t){return function(e){return ve(Na(Ra(e).replace(Pt,"")),t,"")}}function wr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=On(t.prototype),u=t.apply(n,e);return Hi(u)?u:n}}function xr(t){return function(e,n,u){var r=yt(e);if(!Ii(e)){var o=Zr(n,3);e=Ea(e),n=function(t){return o(r[t],t,r)}}var i=t(e,n,u);return i>-1?r[o?e[i]:i]:void 0}}function kr(t){return qr((function(e){var n=e.length,u=n,r=Pn.prototype.thru;for(t&&e.reverse();u--;){var o=e[u];if("function"!=typeof o)throw new gt(i);if(r&&!a&&"wrapper"==Qr(o))var a=new Pn([],!0)}for(u=a?u:n;++u<n;){var c=Qr(o=e[u]),s="wrapper"==c?Kr(o):void 0;a=s&&fo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Qr(s[0])].apply(a,s[3]):1==o.length&&fo(o)?a[c]():a.thru(o)}return function(){var t=arguments,u=t[0];if(a&&1==t.length&&Ti(u))return a.plant(u).value();for(var r=0,o=n?e[r].apply(this,t):u;++r<n;)o=e[r].call(this,o);return o}}))}function Sr(t,e,n,r,o,i,a,c,s,l){var f=128&e,h=1&e,p=2&e,D=24&e,y=512&e,v=p?void 0:wr(t);return function d(){for(var g=arguments.length,_=u(g),A=g;A--;)_[A]=arguments[A];if(D)var C=Vr(d),E=Ie(_,C);if(r&&(_=dr(_,r,o,D)),i&&(_=gr(_,i,a,D)),g-=E,D&&g<l){var m=Ye(_,C);return Ir(t,e,Sr,d.placeholder,n,_,m,c,s,l-g)}var b=h?n:this,F=p?b[t]:t;return g=_.length,c?_=_o(_,c):y&&g>1&&_.reverse(),f&&s<g&&(_.length=s),this&&this!==Gt&&this instanceof d&&(F=v||wr(F)),F.apply(b,_)}}function Or(t,e){return function(n,u){return function(t,e,n,u){return lu(t,(function(t,r,o){e(u,n(t),r,o)})),u}(n,t,e(u),{})}}function jr(t,e){return function(n,u){var r;if(void 0===n&&void 0===u)return e;if(void 0!==n&&(r=n),void 0!==u){if(void 0===r)return u;"string"==typeof n||"string"==typeof u?(n=Ju(n),u=Ju(u)):(n=Zu(n),u=Zu(u)),r=t(n,u)}return r}}function Pr(t){return qr((function(e){return e=De(e,je(Zr())),Lu((function(n){var u=this;return t(e,(function(t){return ie(t,u,n)}))}))}))}function Rr(t,e){var n=(e=void 0===e?" ":Ju(e)).length;if(n<2)return n?Uu(e,t):e;var u=Uu(e,tn(t/$e(e)));return We(e)?fr(Ge(u),0,t).join(""):u.slice(0,t)}function Tr(t){return function(e,n,r){return r&&"number"!=typeof r&&so(e,n,r)&&(n=r=void 0),e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n,r){for(var o=-1,i=cn(tn((e-t)/(n||1)),0),a=u(i);i--;)a[r?i:++o]=t,t+=n;return a}(e,n,r=void 0===r?e<n?1:-1:ra(r),t)}}function Mr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=aa(e),n=aa(n)),t(e,n)}}function Ir(t,e,n,u,r,o,i,a,c,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,r,l?o:void 0,l?i:void 0,l?void 0:o,l?void 0:i,a,c,s],h=n.apply(void 0,f);return fo(t)&&Co(h,f),h.placeholder=u,bo(h,t,e)}function zr(t){var e=Dt[t];return function(t,n){if(t=aa(t),(n=null==n?0:sn(oa(n),292))&&rn(t)){var u=(sa(t)+"e").split("e");return+((u=(sa(e(u[0]+"e"+(+u[1]+n)))+"e").split("e"))[0]+"e"+(+u[1]-n))}return e(t)}}var Ur=dn&&1/He(new dn([,-0]))[1]==1/0?function(t){return new dn(t)}:Ja;function Lr(t){return function(e){var n=ro(e);return n==v?Ne(e):n==A?qe(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wr(t,e,n,r,o,c,s,l){var f=2&e;if(!f&&"function"!=typeof t)throw new gt(i);var h=r?r.length:0;if(h||(e&=-97,r=o=void 0),s=void 0===s?s:cn(oa(s),0),l=void 0===l?l:oa(l),h-=o?o.length:0,64&e){var p=r,D=o;r=o=void 0}var y=f?void 0:Kr(t),v=[t,e,n,r,o,p,D,c,s,l];if(y&&function(t,e){var n=t[1],u=e[1],r=n|u,o=r<131,i=128==u&&8==n||128==u&&256==n&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==n;if(!o&&!i)return t;1&u&&(t[2]=e[2],r|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?dr(s,c,e[4]):c,t[4]=s?Ye(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?gr(s,c,e[6]):c,t[6]=s?Ye(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&u&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(v,y),t=v[0],e=v[1],n=v[2],r=v[3],o=v[4],!(l=v[9]=void 0===v[9]?f?0:t.length:cn(v[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)d=8==e||16==e?function(t,e,n){var r=wr(t);return function o(){for(var i=arguments.length,a=u(i),c=i,s=Vr(o);c--;)a[c]=arguments[c];var l=i<3&&a[0]!==s&&a[i-1]!==s?[]:Ye(a,s);if((i-=l.length)<n)return Ir(t,e,Sr,o.placeholder,void 0,a,l,void 0,void 0,n-i);var f=this&&this!==Gt&&this instanceof o?r:t;return ie(f,this,a)}}(t,e,l):32!=e&&33!=e||o.length?Sr.apply(void 0,v):function(t,e,n,r){var o=1&e,i=wr(t);return function e(){for(var a=-1,c=arguments.length,s=-1,l=r.length,f=u(l+c),h=this&&this!==Gt&&this instanceof e?i:t;++s<l;)f[s]=r[s];for(;c--;)f[s++]=arguments[++a];return ie(h,o?n:this,f)}}(t,e,n,r);else var d=function(t,e,n){var u=1&e,r=wr(t);return function e(){var o=this&&this!==Gt&&this instanceof e?r:t;return o.apply(u?n:this,arguments)}}(t,e,n);return bo((y?Yu:Co)(d,v),t,e)}function Nr(t,e,n,u){return void 0===t||Oi(t,Ct[n])&&!bt.call(u,n)?e:t}function Xr(t,e,n,u,r,o){return Hi(t)&&Hi(e)&&(o.set(e,t),ju(t,e,void 0,Xr,o),o.delete(e)),t}function Yr(t){return Ki(t)?void 0:t}function Hr(t,e,n,u,r,o){var i=1&n,a=t.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var s=o.get(t),l=o.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,p=2&n?new zn:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var D=t[f],y=e[f];if(u)var v=i?u(y,D,f,e,t,o):u(D,y,f,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!ge(e,(function(t,e){if(!Re(p,e)&&(D===t||r(D,t,n,u,o)))return p.push(e)}))){h=!1;break}}else if(D!==y&&!r(D,y,n,u,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function qr(t){return mo(vo(t,void 0,Mo),t+"")}function $r(t){return Du(t,Ea,no)}function Gr(t){return Du(t,ma,uo)}var Kr=An?function(t){return An.get(t)}:Ja;function Qr(t){for(var e=t.name+"",n=Cn[e],u=bt.call(Cn,e)?n.length:0;u--;){var r=n[u],o=r.func;if(null==o||o==t)return r.name}return e}function Vr(t){return(bt.call(Sn,"placeholder")?Sn:t).placeholder}function Zr(){var t=Sn.iteratee||Ka;return t=t===Ka?Fu:t,arguments.length?t(arguments[0],arguments[1]):t}function Jr(t,e){var n,u,r=t.__data__;return("string"==(u=o(n=e))||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function to(t){for(var e=Ea(t),n=e.length;n--;){var u=e[n],r=t[u];e[n]=[u,r,Do(r)]}return e}function eo(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return bu(n)?n:void 0}var no=nn?function(t){return null==t?[]:(t=yt(t),fe(nn(t),(function(e){return $t.call(t,e)})))}:ic,uo=nn?function(t){for(var e=[];t;)ye(e,no(t)),t=Xt(t);return e}:ic,ro=yu;function oo(t,e,n){for(var u=-1,r=(e=sr(e,t)).length,o=!1;++u<r;){var i=xo(e[u]);if(!(o=null!=t&&n(t,i)))break;t=t[i]}return o||++u!=r?o:!!(r=null==t?0:t.length)&&Yi(r)&&co(i,r)&&(Ti(t)||Ri(t))}function io(t){return"function"!=typeof t.constructor||po(t)?{}:On(Xt(t))}function ao(t){return Ti(t)||Ri(t)||!!(Qt&&t&&t[Qt])}function co(t,e){var n=o(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Hi(n))return!1;var u=o(e);return!!("number"==u?Ii(n)&&co(e,n.length):"string"==u&&e in n)&&Oi(n[e],t)}function lo(t,e){if(Ti(t))return!1;var n=o(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ji(t))||(H.test(t)||!Y.test(t)||null!=e&&t in yt(e))}function fo(t){var e=Qr(t),n=Sn[e];if("function"!=typeof n||!(e in Rn.prototype))return!1;if(t===n)return!0;var u=Kr(n);return!!u&&t===u[0]}(Dn&&ro(new Dn(new ArrayBuffer(1)))!=F||yn&&ro(new yn)!=v||vn&&"[object Promise]"!=ro(vn.resolve())||dn&&ro(new dn)!=A||gn&&ro(new gn)!=m)&&(ro=function(t){var e=yu(t),n=e==g?t.constructor:void 0,u=n?ko(n):"";if(u)switch(u){case En:return F;case mn:return v;case bn:return"[object Promise]";case Fn:return A;case Bn:return m}return e});var ho=Et?Ni:ac;function po(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ct)}function Do(t){return t==t&&!Hi(t)}function yo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in yt(n)))}}function vo(t,e,n){return e=cn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=cn(r.length-e,0),a=u(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=u(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),ie(t,this,c)}}function go(t,e){return e.length<2?t:pu(t,$u(e,0,-1))}function _o(t,e){for(var n=t.length,u=sn(e.length,n),r=_r(t);u--;){var o=e[u];t[u]=co(o,n)?r[o]:void 0}return t}function Ao(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Co=Fo(Yu),Eo=Je||function(t,e){return Gt.setTimeout(t,e)},mo=Fo(Hu);function bo(t,e,n){var u=e+"";return mo(t,function(t,e){var n=e.length;if(!n)return t;var u=n-1;return e[u]=(n>1?"& ":"")+e[u],e=e.join(n>2?", ":" "),t.replace(V,"{\n/* [wrapped with "+e+"] */\n")}(u,function(t,e){return ce(c,(function(n){var u="_."+n[0];e&n[1]&&!he(t,u)&&t.push(u)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(J):[]}(u),n)))}function Fo(t){var e=0,n=0;return function(){var u=ln(),r=16-(u-n);if(n=u,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Bo(t,e){var n=-1,u=t.length,r=u-1;for(e=void 0===e?u:e;++n<e;){var o=zu(n,r),i=t[o];t[o]=t[n],t[n]=i}return t.length=e,t}var wo=function(t){var e=Fi(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,n,u,r){e.push(u?r.replace(nt,"$1"):n||t)})),e}));function xo(t){if("string"==typeof t||Ji(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ko(t){if(null!=t){try{return mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function So(t){if(t instanceof Rn)return t.clone();var e=new Pn(t.__wrapped__,t.__chain__);return e.__actions__=_r(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Oo=Lu((function(t,e){return zi(t)?eu(t,au(e,1,zi,!0)):[]})),jo=Lu((function(t,e){var n=Wo(e);return zi(n)&&(n=void 0),zi(t)?eu(t,au(e,1,zi,!0),Zr(n,2)):[]})),Po=Lu((function(t,e){var n=Wo(e);return zi(n)&&(n=void 0),zi(t)?eu(t,au(e,1,zi,!0),void 0,n):[]}));function Ro(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=null==n?0:oa(n);return r<0&&(r=cn(u+r,0)),Ce(t,Zr(e,3),r)}function To(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=u-1;return void 0!==n&&(r=oa(n),r=n<0?cn(u+r,0):sn(r,u-1)),Ce(t,Zr(e,3),r,!0)}function Mo(t){return(null==t?0:t.length)?au(t,1):[]}function Io(t){return t&&t.length?t[0]:void 0}var zo=Lu((function(t){var e=De(t,ar);return e.length&&e[0]===t[0]?_u(e):[]})),Uo=Lu((function(t){var e=Wo(t),n=De(t,ar);return e===Wo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?_u(n,Zr(e,2)):[]})),Lo=Lu((function(t){var e=Wo(t),n=De(t,ar);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?_u(n,void 0,e):[]}));function Wo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var No=Lu(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Mu(t,e):t}var Yo=qr((function(t,e){var n=null==t?0:t.length,u=Qn(t,e);return Iu(t,De(e,(function(t){return co(t,n)?+t:t})).sort(vr)),u}));function Ho(t){return null==t?t:pn.call(t)}var qo=Lu((function(t){return tr(au(t,1,zi,!0))})),$o=Lu((function(t){var e=Wo(t);return zi(e)&&(e=void 0),tr(au(t,1,zi,!0),Zr(e,2))})),Go=Lu((function(t){var e=Wo(t);return e="function"==typeof e?e:void 0,tr(au(t,1,zi,!0),void 0,e)}));function Ko(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(zi(t))return e=cn(t.length,e),!0})),Se(e,(function(e){return De(t,Be(e))}))}function Qo(t,e){if(!t||!t.length)return[];var n=Ko(t);return null==e?n:De(n,(function(t){return ie(e,void 0,t)}))}var Vo=Lu((function(t,e){return zi(t)?eu(t,e):[]})),Zo=Lu((function(t){return or(fe(t,zi))})),Jo=Lu((function(t){var e=Wo(t);return zi(e)&&(e=void 0),or(fe(t,zi),Zr(e,2))})),ti=Lu((function(t){var e=Wo(t);return e="function"==typeof e?e:void 0,or(fe(t,zi),void 0,e)})),ei=Lu(Ko);var ni=Lu((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Qo(t,n)}));function ui(t){var e=Sn(t);return e.__chain__=!0,e}function ri(t,e){return e(t)}var oi=qr((function(t){var e=t.length,n=e?t[0]:0,u=this.__wrapped__,r=function(e){return Qn(e,t)};return!(e>1||this.__actions__.length)&&u instanceof Rn&&co(n)?((u=u.slice(n,+n+(e?1:0))).__actions__.push({func:ri,args:[r],thisArg:void 0}),new Pn(u,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var ii=Cr((function(t,e,n){bt.call(t,n)?++t[n]:Kn(t,n,1)}));var ai=xr(Ro),ci=xr(To);function si(t,e){return(Ti(t)?ce:nu)(t,Zr(e,3))}function li(t,e){return(Ti(t)?se:uu)(t,Zr(e,3))}var fi=Cr((function(t,e,n){bt.call(t,n)?t[n].push(e):Kn(t,n,[e])}));var hi=Lu((function(t,e,n){var r=-1,o="function"==typeof e,i=Ii(t)?u(t.length):[];return nu(t,(function(t){i[++r]=o?ie(e,t,n):Au(t,e,n)})),i})),pi=Cr((function(t,e,n){Kn(t,n,e)}));function Di(t,e){return(Ti(t)?De:ku)(t,Zr(e,3))}var yi=Cr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var vi=Lu((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Ru(t,au(e,1),[])})),di=Ze||function(){return Gt.Date.now()};function gi(t,e,n){return e=n?void 0:e,Wr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function _i(t,e){var n;if("function"!=typeof e)throw new gt(i);return t=oa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Ai=Lu((function(t,e,n){var u=1;if(n.length){var r=Ye(n,Vr(Ai));u|=32}return Wr(t,u,e,n,r)})),Ci=Lu((function(t,e,n){var u=3;if(n.length){var r=Ye(n,Vr(Ci));u|=32}return Wr(e,u,t,n,r)}));function Ei(t,e,n){var u,r,o,a,c,s,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(i);function D(e){var n=u,o=r;return u=r=void 0,l=e,a=t.apply(o,n)}function y(t){return l=t,c=Eo(d,e),f?D(t):a}function v(t){var n=t-s;return void 0===s||n>=e||n<0||h&&t-l>=o}function d(){var t=di();if(v(t))return g(t);c=Eo(d,function(t){var n=e-(t-s);return h?sn(n,o-(t-l)):n}(t))}function g(t){return c=void 0,p&&u?D(t):(u=r=void 0,a)}function _(){var t=di(),n=v(t);if(u=arguments,r=this,s=t,n){if(void 0===c)return y(s);if(h)return hr(c),c=Eo(d,e),D(s)}return void 0===c&&(c=Eo(d,e)),a}return e=aa(e)||0,Hi(n)&&(f=!!n.leading,o=(h="maxWait"in n)?cn(aa(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==c&&hr(c),l=0,u=s=r=c=void 0},_.flush=function(){return void 0===c?a:g(di())},_}var mi=Lu((function(t,e){return tu(t,1,e)})),bi=Lu((function(t,e,n){return tu(t,aa(e)||0,n)}));function Fi(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(i);var n=function n(){var u=arguments,r=e?e.apply(this,u):u[0],o=n.cache;if(o.has(r))return o.get(r);var i=t.apply(this,u);return n.cache=o.set(r,i)||o,i};return n.cache=new(Fi.Cache||In),n}function Bi(t){if("function"!=typeof t)throw new gt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Fi.Cache=In;var wi=lr((function(t,e){var n=(e=1==e.length&&Ti(e[0])?De(e[0],je(Zr())):De(au(e,1),je(Zr()))).length;return Lu((function(u){for(var r=-1,o=sn(u.length,n);++r<o;)u[r]=e[r].call(this,u[r]);return ie(t,this,u)}))})),xi=Lu((function(t,e){return Wr(t,32,void 0,e,Ye(e,Vr(xi)))})),ki=Lu((function(t,e){return Wr(t,64,void 0,e,Ye(e,Vr(ki)))})),Si=qr((function(t,e){return Wr(t,256,void 0,void 0,void 0,e)}));function Oi(t,e){return t===e||t!=t&&e!=e}var ji=Mr(vu),Pi=Mr((function(t,e){return t>=e})),Ri=Cu(function(){return arguments}())?Cu:function(t){return qi(t)&&bt.call(t,"callee")&&!$t.call(t,"callee")},Ti=u.isArray,Mi=te?je(te):function(t){return qi(t)&&yu(t)==b};function Ii(t){return null!=t&&Yi(t.length)&&!Ni(t)}function zi(t){return qi(t)&&Ii(t)}var Ui=un||ac,Li=ee?je(ee):function(t){return qi(t)&&yu(t)==h};function Wi(t){if(!qi(t))return!1;var e=yu(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ki(t)}function Ni(t){if(!Hi(t))return!1;var e=yu(t);return e==D||e==y||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xi(t){return"number"==typeof t&&t==oa(t)}function Yi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hi(t){var e=o(t);return null!=t&&("object"==e||"function"==e)}function qi(t){return null!=t&&"object"==o(t)}var $i=ne?je(ne):function(t){return qi(t)&&ro(t)==v};function Gi(t){return"number"==typeof t||qi(t)&&yu(t)==d}function Ki(t){if(!qi(t)||yu(t)!=g)return!1;var e=Xt(t);if(null===e)return!0;var n=bt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mt.call(n)==xt}var Qi=ue?je(ue):function(t){return qi(t)&&yu(t)==_};var Vi=re?je(re):function(t){return qi(t)&&ro(t)==A};function Zi(t){return"string"==typeof t||!Ti(t)&&qi(t)&&yu(t)==C}function Ji(t){return"symbol"==o(t)||qi(t)&&yu(t)==E}var ta=oe?je(oe):function(t){return qi(t)&&Yi(t.length)&&!!Wt[yu(t)]};var ea=Mr(xu),na=Mr((function(t,e){return t<=e}));function ua(t){if(!t)return[];if(Ii(t))return Zi(t)?Ge(t):_r(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=ro(t);return(e==v?Ne:e==A?He:Oa)(t)}function ra(t){return t?(t=aa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function oa(t){var e=ra(t),n=e%1;return e==e?n?e-n:e:0}function ia(t){return t?Vn(oa(t),0,4294967295):0}function aa(t){if("number"==typeof t)return t;if(Ji(t))return NaN;if(Hi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Oe(t);var n=it.test(t);return n||ct.test(t)?Ht(t.slice(2),n?2:8):ot.test(t)?NaN:+t}function ca(t){return Ar(t,ma(t))}function sa(t){return null==t?"":Ju(t)}var la=Er((function(t,e){if(po(e)||Ii(e))Ar(e,Ea(e),t);else for(var n in e)bt.call(e,n)&&Hn(t,n,e[n])})),fa=Er((function(t,e){Ar(e,ma(e),t)})),ha=Er((function(t,e,n,u){Ar(e,ma(e),t,u)})),pa=Er((function(t,e,n,u){Ar(e,Ea(e),t,u)})),Da=qr(Qn);var ya=Lu((function(t,e){t=yt(t);var n=-1,u=e.length,r=u>2?e[2]:void 0;for(r&&so(e[0],e[1],r)&&(u=1);++n<u;)for(var o=e[n],i=ma(o),a=-1,c=i.length;++a<c;){var s=i[a],l=t[s];(void 0===l||Oi(l,Ct[s])&&!bt.call(t,s))&&(t[s]=o[s])}return t})),va=Lu((function(t){return t.push(void 0,Xr),ie(Fa,void 0,t)}));function da(t,e,n){var u=null==t?void 0:pu(t,e);return void 0===u?n:u}function ga(t,e){return null!=t&&oo(t,e,gu)}var _a=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=wt.call(e)),t[e]=n}),Ha(Ga)),Aa=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=wt.call(e)),bt.call(t,e)?t[e].push(n):t[e]=[n]}),Zr),Ca=Lu(Au);function Ea(t){return Ii(t)?Ln(t):Bu(t)}function ma(t){return Ii(t)?Ln(t,!0):wu(t)}var ba=Er((function(t,e,n){ju(t,e,n)})),Fa=Er((function(t,e,n,u){ju(t,e,n,u)})),Ba=qr((function(t,e){var n={};if(null==t)return n;var u=!1;e=De(e,(function(e){return e=sr(e,t),u||(u=e.length>1),e})),Ar(t,Gr(t),n),u&&(n=Zn(n,7,Yr));for(var r=e.length;r--;)er(n,e[r]);return n}));var wa=qr((function(t,e){return null==t?{}:function(t,e){return Tu(t,e,(function(e,n){return ga(t,n)}))}(t,e)}));function xa(t,e){if(null==t)return{};var n=De(Gr(t),(function(t){return[t]}));return e=Zr(e),Tu(t,n,(function(t,n){return e(t,n[0])}))}var ka=Lr(Ea),Sa=Lr(ma);function Oa(t){return null==t?[]:Pe(t,Ea(t))}var ja=Br((function(t,e,n){return e=e.toLowerCase(),t+(n?Pa(e):e)}));function Pa(t){return Wa(sa(t).toLowerCase())}function Ra(t){return(t=sa(t))&&t.replace(lt,ze).replace(Rt,"")}var Ta=Br((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ma=Br((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ia=Fr("toLowerCase");var za=Br((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ua=Br((function(t,e,n){return t+(n?" ":"")+Wa(e)}));var La=Br((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Wa=Fr("toUpperCase");function Na(t,e,n){return t=sa(t),void 0===(e=n?void 0:e)?function(t){return zt.test(t)}(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Xa=Lu((function(t,e){try{return ie(t,void 0,e)}catch(t){return Wi(t)?t:new Q(t)}})),Ya=qr((function(t,e){return ce(e,(function(e){e=xo(e),Kn(t,e,Ai(t[e],t))})),t}));function Ha(t){return function(){return t}}var qa=kr(),$a=kr(!0);function Ga(t){return t}function Ka(t){return Fu("function"==typeof t?t:Zn(t,1))}var Qa=Lu((function(t,e){return function(n){return Au(n,t,e)}})),Va=Lu((function(t,e){return function(n){return Au(t,n,e)}}));function Za(t,e,n){var u=Ea(e),r=hu(e,u);null!=n||Hi(e)&&(r.length||!u.length)||(n=e,e=t,t=this,r=hu(e,Ea(e)));var o=!(Hi(n)&&"chain"in n&&!n.chain),i=Ni(t);return ce(r,(function(n){var u=e[n];t[n]=u,i&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=_r(this.__actions__);return r.push({func:u,args:arguments,thisArg:t}),n.__chain__=e,n}return u.apply(t,ye([this.value()],arguments))})})),t}function Ja(){}var tc=Pr(De),ec=Pr(le),nc=Pr(ge);function uc(t){return lo(t)?Be(xo(t)):function(t){return function(e){return pu(e,t)}}(t)}var rc=Tr(),oc=Tr(!0);function ic(){return[]}function ac(){return!1}var cc=jr((function(t,e){return t+e}),0),sc=zr("ceil"),lc=jr((function(t,e){return t/e}),1),fc=zr("floor");var hc,pc=jr((function(t,e){return t*e}),1),Dc=zr("round"),yc=jr((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new gt(i);return t=oa(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=gi,Sn.assign=la,Sn.assignIn=fa,Sn.assignInWith=ha,Sn.assignWith=pa,Sn.at=Da,Sn.before=_i,Sn.bind=Ai,Sn.bindAll=Ya,Sn.bindKey=Ci,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ti(t)?t:[t]},Sn.chain=ui,Sn.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:cn(oa(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,i=0,a=u(tn(r/e));o<r;)a[i++]=$u(t,o,o+=e);return a},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,u=0,r=[];++e<n;){var o=t[e];o&&(r[u++]=o)}return r},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=u(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ye(Ti(n)?_r(n):[n],au(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=Zr();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new gt(i);return[n(t[0]),t[1]]})):[],Lu((function(n){for(var u=-1;++u<e;){var r=t[u];if(ie(r[0],this,n))return ie(r[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=Ea(t);return function(n){return Jn(n,t,e)}}(Zn(t,1))},Sn.constant=Ha,Sn.countBy=ii,Sn.create=function(t,e){var n=On(t);return null==e?n:Gn(n,e)},Sn.curry=function t(e,n,u){var r=Wr(e,8,void 0,void 0,void 0,void 0,void 0,n=u?void 0:n);return r.placeholder=t.placeholder,r},Sn.curryRight=function t(e,n,u){var r=Wr(e,16,void 0,void 0,void 0,void 0,void 0,n=u?void 0:n);return r.placeholder=t.placeholder,r},Sn.debounce=Ei,Sn.defaults=ya,Sn.defaultsDeep=va,Sn.defer=mi,Sn.delay=bi,Sn.difference=Oo,Sn.differenceBy=jo,Sn.differenceWith=Po,Sn.drop=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,(e=n||void 0===e?1:oa(e))<0?0:e,u):[]},Sn.dropRight=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,0,(e=u-(e=n||void 0===e?1:oa(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!0):[]},Sn.fill=function(t,e,n,u){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,u=r),function(t,e,n,u){var r=t.length;for((n=oa(n))<0&&(n=-n>r?0:r+n),(u=void 0===u||u>r?r:oa(u))<0&&(u+=r),u=n>u?0:ia(u);n<u;)t[n++]=e;return t}(t,e,n,u)):[]},Sn.filter=function(t,e){return(Ti(t)?fe:iu)(t,Zr(e,3))},Sn.flatMap=function(t,e){return au(Di(t,e),1)},Sn.flatMapDeep=function(t,e){return au(Di(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:oa(n),au(Di(t,e),n)},Sn.flatten=Mo,Sn.flattenDeep=function(t){return(null==t?0:t.length)?au(t,1/0):[]},Sn.flattenDepth=function(t,e){return(null==t?0:t.length)?au(t,e=void 0===e?1:oa(e)):[]},Sn.flip=function(t){return Wr(t,512)},Sn.flow=qa,Sn.flowRight=$a,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,u={};++e<n;){var r=t[e];u[r[0]]=r[1]}return u},Sn.functions=function(t){return null==t?[]:hu(t,Ea(t))},Sn.functionsIn=function(t){return null==t?[]:hu(t,ma(t))},Sn.groupBy=fi,Sn.initial=function(t){return(null==t?0:t.length)?$u(t,0,-1):[]},Sn.intersection=zo,Sn.intersectionBy=Uo,Sn.intersectionWith=Lo,Sn.invert=_a,Sn.invertBy=Aa,Sn.invokeMap=hi,Sn.iteratee=Ka,Sn.keyBy=pi,Sn.keys=Ea,Sn.keysIn=ma,Sn.map=Di,Sn.mapKeys=function(t,e){var n={};return e=Zr(e,3),lu(t,(function(t,u,r){Kn(n,e(t,u,r),t)})),n},Sn.mapValues=function(t,e){var n={};return e=Zr(e,3),lu(t,(function(t,u,r){Kn(n,u,e(t,u,r))})),n},Sn.matches=function(t){return Su(Zn(t,1))},Sn.matchesProperty=function(t,e){return Ou(t,Zn(e,1))},Sn.memoize=Fi,Sn.merge=ba,Sn.mergeWith=Fa,Sn.method=Qa,Sn.methodOf=Va,Sn.mixin=Za,Sn.negate=Bi,Sn.nthArg=function(t){return t=oa(t),Lu((function(e){return Pu(e,t)}))},Sn.omit=Ba,Sn.omitBy=function(t,e){return xa(t,Bi(Zr(e)))},Sn.once=function(t){return _i(2,t)},Sn.orderBy=function(t,e,n,u){return null==t?[]:(Ti(e)||(e=null==e?[]:[e]),Ti(n=u?void 0:n)||(n=null==n?[]:[n]),Ru(t,e,n))},Sn.over=tc,Sn.overArgs=wi,Sn.overEvery=ec,Sn.overSome=nc,Sn.partial=xi,Sn.partialRight=ki,Sn.partition=yi,Sn.pick=wa,Sn.pickBy=xa,Sn.property=uc,Sn.propertyOf=function(t){return function(e){return null==t?void 0:pu(t,e)}},Sn.pull=No,Sn.pullAll=Xo,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Mu(t,e,Zr(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Mu(t,e,void 0,n):t},Sn.pullAt=Yo,Sn.range=rc,Sn.rangeRight=oc,Sn.rearg=Si,Sn.reject=function(t,e){return(Ti(t)?fe:iu)(t,Bi(Zr(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var u=-1,r=[],o=t.length;for(e=Zr(e,3);++u<o;){var i=t[u];e(i,u,t)&&(n.push(i),r.push(u))}return Iu(t,r),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new gt(i);return Lu(t,e=void 0===e?e:oa(e))},Sn.reverse=Ho,Sn.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:oa(e),(Ti(t)?Nn:Nu)(t,e)},Sn.set=function(t,e,n){return null==t?t:Xu(t,e,n)},Sn.setWith=function(t,e,n,u){return u="function"==typeof u?u:void 0,null==t?t:Xu(t,e,n,u)},Sn.shuffle=function(t){return(Ti(t)?Xn:qu)(t)},Sn.slice=function(t,e,n){var u=null==t?0:t.length;return u?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=u):(e=null==e?0:oa(e),n=void 0===n?u:oa(n)),$u(t,e,n)):[]},Sn.sortBy=vi,Sn.sortedUniq=function(t){return t&&t.length?Vu(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?Vu(t,Zr(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=sa(t))&&("string"==typeof e||null!=e&&!Qi(e))&&!(e=Ju(e))&&We(t)?fr(Ge(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new gt(i);return e=null==e?0:cn(oa(e),0),Lu((function(n){var u=n[e],r=fr(n,0,e);return u&&ye(r,u),ie(t,this,r)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?$u(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?$u(t,0,(e=n||void 0===e?1:oa(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,(e=u-(e=n||void 0===e?1:oa(e)))<0?0:e,u):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var u=!0,r=!0;if("function"!=typeof t)throw new gt(i);return Hi(n)&&(u="leading"in n?!!n.leading:u,r="trailing"in n?!!n.trailing:r),Ei(t,e,{leading:u,maxWait:e,trailing:r})},Sn.thru=ri,Sn.toArray=ua,Sn.toPairs=ka,Sn.toPairsIn=Sa,Sn.toPath=function(t){return Ti(t)?De(t,xo):Ji(t)?[t]:_r(wo(sa(t)))},Sn.toPlainObject=ca,Sn.transform=function(t,e,n){var u=Ti(t),r=u||Ui(t)||ta(t);if(e=Zr(e,4),null==n){var o=t&&t.constructor;n=r?u?new o:[]:Hi(t)&&Ni(o)?On(Xt(t)):{}}return(r?ce:lu)(t,(function(t,u,r){return e(n,t,u,r)})),n},Sn.unary=function(t){return gi(t,1)},Sn.union=qo,Sn.unionBy=$o,Sn.unionWith=Go,Sn.uniq=function(t){return t&&t.length?tr(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?tr(t,Zr(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?tr(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||er(t,e)},Sn.unzip=Ko,Sn.unzipWith=Qo,Sn.update=function(t,e,n){return null==t?t:nr(t,e,cr(n))},Sn.updateWith=function(t,e,n,u){return u="function"==typeof u?u:void 0,null==t?t:nr(t,e,cr(n),u)},Sn.values=Oa,Sn.valuesIn=function(t){return null==t?[]:Pe(t,ma(t))},Sn.without=Vo,Sn.words=Na,Sn.wrap=function(t,e){return xi(cr(e),t)},Sn.xor=Zo,Sn.xorBy=Jo,Sn.xorWith=ti,Sn.zip=ei,Sn.zipObject=function(t,e){return ir(t||[],e||[],Hn)},Sn.zipObjectDeep=function(t,e){return ir(t||[],e||[],Xu)},Sn.zipWith=ni,Sn.entries=ka,Sn.entriesIn=Sa,Sn.extend=fa,Sn.extendWith=ha,Za(Sn,Sn),Sn.add=cc,Sn.attempt=Xa,Sn.camelCase=ja,Sn.capitalize=Pa,Sn.ceil=sc,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=aa(n))==n?n:0),void 0!==e&&(e=(e=aa(e))==e?e:0),Vn(aa(t),e,n)},Sn.clone=function(t){return Zn(t,4)},Sn.cloneDeep=function(t){return Zn(t,5)},Sn.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||Jn(t,e,Ea(e))},Sn.deburr=Ra,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=lc,Sn.endsWith=function(t,e,n){t=sa(t),e=Ju(e);var u=t.length,r=n=void 0===n?u:Vn(oa(n),0,u);return(n-=e.length)>=0&&t.slice(n,r)==e},Sn.eq=Oi,Sn.escape=function(t){return(t=sa(t))&&L.test(t)?t.replace(z,Ue):t},Sn.escapeRegExp=function(t){return(t=sa(t))&&G.test(t)?t.replace($,"\\$&"):t},Sn.every=function(t,e,n){var u=Ti(t)?le:ru;return n&&so(t,e,n)&&(e=void 0),u(t,Zr(e,3))},Sn.find=ai,Sn.findIndex=Ro,Sn.findKey=function(t,e){return Ae(t,Zr(e,3),lu)},Sn.findLast=ci,Sn.findLastIndex=To,Sn.findLastKey=function(t,e){return Ae(t,Zr(e,3),fu)},Sn.floor=fc,Sn.forEach=si,Sn.forEachRight=li,Sn.forIn=function(t,e){return null==t?t:cu(t,Zr(e,3),ma)},Sn.forInRight=function(t,e){return null==t?t:su(t,Zr(e,3),ma)},Sn.forOwn=function(t,e){return t&&lu(t,Zr(e,3))},Sn.forOwnRight=function(t,e){return t&&fu(t,Zr(e,3))},Sn.get=da,Sn.gt=ji,Sn.gte=Pi,Sn.has=function(t,e){return null!=t&&oo(t,e,du)},Sn.hasIn=ga,Sn.head=Io,Sn.identity=Ga,Sn.includes=function(t,e,n,u){t=Ii(t)?t:Oa(t),n=n&&!u?oa(n):0;var r=t.length;return n<0&&(n=cn(r+n,0)),Zi(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ee(t,e,n)>-1},Sn.indexOf=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=null==n?0:oa(n);return r<0&&(r=cn(u+r,0)),Ee(t,e,r)},Sn.inRange=function(t,e,n){return e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n){return t>=sn(e,n)&&t<cn(e,n)}(t=aa(t),e,n)},Sn.invoke=Ca,Sn.isArguments=Ri,Sn.isArray=Ti,Sn.isArrayBuffer=Mi,Sn.isArrayLike=Ii,Sn.isArrayLikeObject=zi,Sn.isBoolean=function(t){return!0===t||!1===t||qi(t)&&yu(t)==f},Sn.isBuffer=Ui,Sn.isDate=Li,Sn.isElement=function(t){return qi(t)&&1===t.nodeType&&!Ki(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Ii(t)&&(Ti(t)||"string"==typeof t||"function"==typeof t.splice||Ui(t)||ta(t)||Ri(t)))return!t.length;var e=ro(t);if(e==v||e==A)return!t.size;if(po(t))return!Bu(t).length;for(var n in t)if(bt.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return Eu(t,e)},Sn.isEqualWith=function(t,e,n){var u=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===u?Eu(t,e,void 0,n):!!u},Sn.isError=Wi,Sn.isFinite=function(t){return"number"==typeof t&&rn(t)},Sn.isFunction=Ni,Sn.isInteger=Xi,Sn.isLength=Yi,Sn.isMap=$i,Sn.isMatch=function(t,e){return t===e||mu(t,e,to(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,mu(t,e,to(e),n)},Sn.isNaN=function(t){return Gi(t)&&t!=+t},Sn.isNative=function(t){if(ho(t))throw new Q("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return bu(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=Gi,Sn.isObject=Hi,Sn.isObjectLike=qi,Sn.isPlainObject=Ki,Sn.isRegExp=Qi,Sn.isSafeInteger=function(t){return Xi(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=Vi,Sn.isString=Zi,Sn.isSymbol=Ji,Sn.isTypedArray=ta,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return qi(t)&&ro(t)==m},Sn.isWeakSet=function(t){return qi(t)&&"[object WeakSet]"==yu(t)},Sn.join=function(t,e){return null==t?"":on.call(t,e)},Sn.kebabCase=Ta,Sn.last=Wo,Sn.lastIndexOf=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=u;return void 0!==n&&(r=(r=oa(n))<0?cn(u+r,0):sn(r,u-1)),e==e?function(t,e,n){for(var u=n+1;u--;)if(t[u]===e)return u;return u}(t,e,r):Ce(t,be,r,!0)},Sn.lowerCase=Ma,Sn.lowerFirst=Ia,Sn.lt=ea,Sn.lte=na,Sn.max=function(t){return t&&t.length?ou(t,Ga,vu):void 0},Sn.maxBy=function(t,e){return t&&t.length?ou(t,Zr(e,2),vu):void 0},Sn.mean=function(t){return Fe(t,Ga)},Sn.meanBy=function(t,e){return Fe(t,Zr(e,2))},Sn.min=function(t){return t&&t.length?ou(t,Ga,xu):void 0},Sn.minBy=function(t,e){return t&&t.length?ou(t,Zr(e,2),xu):void 0},Sn.stubArray=ic,Sn.stubFalse=ac,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=pc,Sn.nth=function(t,e){return t&&t.length?Pu(t,oa(e)):void 0},Sn.noConflict=function(){return Gt._===this&&(Gt._=kt),this},Sn.noop=Ja,Sn.now=di,Sn.pad=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;if(!e||u>=e)return t;var r=(e-u)/2;return Rr(en(r),n)+t+Rr(tn(r),n)},Sn.padEnd=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;return e&&u<e?t+Rr(e-u,n):t},Sn.padStart=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;return e&&u<e?Rr(e-u,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),fn(sa(t).replace(K,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ra(t),void 0===e?(e=t,t=0):e=ra(e)),t>e){var u=t;t=e,e=u}if(n||t%1||e%1){var r=hn();return sn(t+r*(e-t+Yt("1e-"+((r+"").length-1))),e)}return zu(t,e)},Sn.reduce=function(t,e,n){var u=Ti(t)?ve:xe,r=arguments.length<3;return u(t,Zr(e,4),n,r,nu)},Sn.reduceRight=function(t,e,n){var u=Ti(t)?de:xe,r=arguments.length<3;return u(t,Zr(e,4),n,r,uu)},Sn.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:oa(e),Uu(sa(t),e)},Sn.replace=function(){var t=arguments,e=sa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var u=-1,r=(e=sr(e,t)).length;for(r||(r=1,t=void 0);++u<r;){var o=null==t?void 0:t[xo(e[u])];void 0===o&&(u=r,o=n),t=Ni(o)?o.call(t):o}return t},Sn.round=Dc,Sn.runInContext=t,Sn.sample=function(t){return(Ti(t)?Wn:Wu)(t)},Sn.size=function(t){if(null==t)return 0;if(Ii(t))return Zi(t)?$e(t):t.length;var e=ro(t);return e==v||e==A?t.size:Bu(t).length},Sn.snakeCase=za,Sn.some=function(t,e,n){var u=Ti(t)?ge:Gu;return n&&so(t,e,n)&&(e=void 0),u(t,Zr(e,3))},Sn.sortedIndex=function(t,e){return Ku(t,e)},Sn.sortedIndexBy=function(t,e,n){return Qu(t,e,Zr(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var u=Ku(t,e);if(u<n&&Oi(t[u],e))return u}return-1},Sn.sortedLastIndex=function(t,e){return Ku(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return Qu(t,e,Zr(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ku(t,e,!0)-1;if(Oi(t[n],e))return n}return-1},Sn.startCase=Ua,Sn.startsWith=function(t,e,n){return t=sa(t),n=null==n?0:Vn(oa(n),0,t.length),e=Ju(e),t.slice(n,n+e.length)==e},Sn.subtract=yc,Sn.sum=function(t){return t&&t.length?ke(t,Ga):0},Sn.sumBy=function(t,e){return t&&t.length?ke(t,Zr(e,2)):0},Sn.template=function(t,e,n){var u=Sn.templateSettings;n&&so(t,e,n)&&(e=void 0),t=sa(t),e=ha({},e,u,Nr);var r,o,i=ha({},e.imports,u.imports,Nr),a=Ea(i),c=Pe(i,a),s=0,l=e.interpolate||ft,f="__p += '",h=vt((e.escape||ft).source+"|"+l.source+"|"+(l===X?ut:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),p="//# sourceURL="+(bt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";t.replace(h,(function(e,n,u,i,a,c){return u||(u=i),f+=t.slice(s,c).replace(ht,Le),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),u&&(f+="' +\n((__t = ("+u+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),f+="';\n";var D=bt.call(e,"variable")&&e.variable;if(D){if(et.test(D))throw new Q("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(R,""):f).replace(T,"$1").replace(M,"$1;"),f="function("+(D||"obj")+") {\n"+(D?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Xa((function(){return pt(a,p+"return "+f).apply(void 0,c)}));if(y.source=f,Wi(y))throw y;return y},Sn.times=function(t,e){if((t=oa(t))<1||t>9007199254740991)return[];var n=4294967295,u=sn(t,4294967295);t-=4294967295;for(var r=Se(u,e=Zr(e));++n<t;)e(n);return r},Sn.toFinite=ra,Sn.toInteger=oa,Sn.toLength=ia,Sn.toLower=function(t){return sa(t).toLowerCase()},Sn.toNumber=aa,Sn.toSafeInteger=function(t){return t?Vn(oa(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=sa,Sn.toUpper=function(t){return sa(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return Oe(t);if(!t||!(e=Ju(e)))return t;var u=Ge(t),r=Ge(e);return fr(u,Te(u,r),Me(u,r)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return t.slice(0,Ke(t)+1);if(!t||!(e=Ju(e)))return t;var u=Ge(t);return fr(u,0,Me(u,Ge(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Ju(e)))return t;var u=Ge(t);return fr(u,Te(u,Ge(e))).join("")},Sn.truncate=function(t,e){var n=30,u="...";if(Hi(e)){var r="separator"in e?e.separator:r;n="length"in e?oa(e.length):n,u="omission"in e?Ju(e.omission):u}var o=(t=sa(t)).length;if(We(t)){var i=Ge(t);o=i.length}if(n>=o)return t;var a=n-$e(u);if(a<1)return u;var c=i?fr(i,0,a).join(""):t.slice(0,a);if(void 0===r)return c+u;if(i&&(a+=c.length-a),Qi(r)){if(t.slice(a).search(r)){var s,l=c;for(r.global||(r=vt(r.source,sa(rt.exec(r))+"g")),r.lastIndex=0;s=r.exec(l);)var f=s.index;c=c.slice(0,void 0===f?a:f)}}else if(t.indexOf(Ju(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+u},Sn.unescape=function(t){return(t=sa(t))&&U.test(t)?t.replace(I,Qe):t},Sn.uniqueId=function(t){var e=++Ft;return sa(t)+e},Sn.upperCase=La,Sn.upperFirst=Wa,Sn.each=si,Sn.eachRight=li,Sn.first=Io,Za(Sn,(hc={},lu(Sn,(function(t,e){bt.call(Sn.prototype,e)||(hc[e]=t)})),hc),{chain:!1}),Sn.VERSION="4.17.21",ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),ce(["drop","take"],(function(t,e){Rn.prototype[t]=function(n){n=void 0===n?1:cn(oa(n),0);var u=this.__filtered__&&!e?new Rn(this):this.clone();return u.__filtered__?u.__takeCount__=sn(n,u.__takeCount__):u.__views__.push({size:sn(n,4294967295),type:t+(u.__dir__<0?"Right":"")}),u},Rn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,u=1==n||3==n;Rn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zr(t,3),type:n}),e.__filtered__=e.__filtered__||u,e}})),ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Rn.prototype[t]=function(){return this[n](1).value()[0]}})),ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Rn.prototype[t]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(Ga)},Rn.prototype.find=function(t){return this.filter(t).head()},Rn.prototype.findLast=function(t){return this.reverse().find(t)},Rn.prototype.invokeMap=Lu((function(t,e){return"function"==typeof t?new Rn(this):this.map((function(n){return Au(n,t,e)}))})),Rn.prototype.reject=function(t){return this.filter(Bi(Zr(t)))},Rn.prototype.slice=function(t,e){t=oa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Rn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=oa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Rn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},lu(Rn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),r=Sn[u?"take"+("last"==e?"Right":""):e],o=u||/^find/.test(e);r&&(Sn.prototype[e]=function(){var e=this.__wrapped__,i=u?[1]:arguments,a=e instanceof Rn,c=i[0],s=a||Ti(e),l=function(t){var e=r.apply(Sn,ye([t],i));return u&&f?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(a=s=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,D=a&&!h;if(!o&&s){e=D?e:new Rn(this);var y=t.apply(e,i);return y.__actions__.push({func:ri,args:[l],thisArg:void 0}),new Pn(y,f)}return p&&D?t.apply(this,i):(y=this.thru(l),p?u?y.value()[0]:y.value():y)})})),ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",u=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(u&&!this.__chain__){var r=this.value();return e.apply(Ti(r)?r:[],t)}return this[n]((function(n){return e.apply(Ti(n)?n:[],t)}))}})),lu(Rn.prototype,(function(t,e){var n=Sn[e];if(n){var u=n.name+"";bt.call(Cn,u)||(Cn[u]=[]),Cn[u].push({name:e,func:n})}})),Cn[Sr(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var t=new Rn(this.__wrapped__);return t.__actions__=_r(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=_r(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=_r(this.__views__),t},Rn.prototype.reverse=function(){if(this.__filtered__){var t=new Rn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ti(t),u=e<0,r=n?t.length:0,o=function(t,e,n){var u=-1,r=n.length;for(;++u<r;){var o=n[u],i=o.size;switch(o.type){case"drop":t+=i;break;case"dropRight":e-=i;break;case"take":e=sn(e,t+i);break;case"takeRight":t=cn(t,e-i)}}return{start:t,end:e}}(0,r,this.__views__),i=o.start,a=o.end,c=a-i,s=u?a:i-1,l=this.__iteratees__,f=l.length,h=0,p=sn(c,this.__takeCount__);if(!n||!u&&r==c&&p==c)return rr(t,this.__actions__);var D=[];t:for(;c--&&h<p;){for(var y=-1,v=t[s+=e];++y<f;){var d=l[y],g=d.iteratee,_=d.type,A=g(v);if(2==_)v=A;else if(!A){if(1==_)continue t;break t}}D[h++]=v}return D},Sn.prototype.at=oi,Sn.prototype.chain=function(){return ui(this)},Sn.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ua(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof jn;){var u=So(n);u.__index__=0,u.__values__=void 0,e?r.__wrapped__=u:e=u;var r=u;n=n.__wrapped__}return r.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Rn){var e=t;return this.__actions__.length&&(e=new Rn(this)),(e=e.reverse()).__actions__.push({func:ri,args:[Ho],thisArg:void 0}),new Pn(e,this.__chain__)}return this.thru(Ho)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return rr(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Zt&&(Sn.prototype[Zt]=function(){return this}),Sn}();"object"==o(n(6))&&n(6)?(Gt._=Ve,void 0===(r=function(){return Ve}.call(e,n,e,u))||(u.exports=r)):Qt?((Qt.exports=Ve)._=Ve,Kt._=Ve):Gt._=Ve}).call(this)}).call(this,n(8),n(9)(t))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var u=n(3),r=n(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function c(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t){var e=r.fromString(t);return 36*Math.floor(e[0]*(6/256))+6*Math.floor(e[1]*(6/256))+1*Math.floor(e[2]*(6/256))+16}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,e);var n,u,r,o=f(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this))._offset=[0,0],t._cursor=[-1,-1],t._lastColor="",t}return n=a,(u=[{key:"schedule",value:function(t){setTimeout(t,1e3/60)}},{key:"setOptions",value:function(t){s(p(a.prototype),"setOptions",this).call(this,t);var e=[t.width,t.height],n=this.computeSize();this._offset=n.map((function(t,n){return Math.floor((t-e[n])/2)}))}},{key:"clear",value:function(){var e;t.stdout.write((e=this._options.bg,"[0;48;5;".concat(D(e),"m[2J")))}},{key:"draw",value:function(e,n){var u=i(e,5),r=u[0],o=u[1],a=u[2],c=u[3],s=u[4],l=this._offset[0]+r,f=this._offset[1]+o,h=this.computeSize();if(!(l<0||l>=h[0])&&!(f<0||f>=h[1])&&(l===this._cursor[0]&&f===this._cursor[1]||(t.stdout.write(function(t,e){return"[".concat(e+1,";").concat(t+1,"H")}(l,f)),this._cursor[0]=l,this._cursor[1]=f),n&&(a||(a=" ")),a)){var p=function(t,e){return"[0;38;5;".concat(D(t),";48;5;").concat(D(e),"m")}(c,s);if(p!==this._lastColor&&(t.stdout.write(p),this._lastColor=p),"\t"!=a){var y=[].concat(a);t.stdout.write(y[0])}this._cursor[0]++,this._cursor[0]>=h[0]&&(this._cursor[0]=0,this._cursor[1]++)}}},{key:"computeFontSize",value:function(){throw new Error("Terminal backend has no notion of font size")}},{key:"eventToPosition",value:function(t,e){return[t,e]}},{key:"computeSize",value:function(){return[t.stdout.columns,t.stdout.rows]}}])&&c(n.prototype,u),r&&c(n,r),a}(u.a)}).call(this,n(7))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){var n,u,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var c,s=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function D(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new D(t,e)),1!==s.length||l||a(p)},D.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(u=window)}t.exports=u},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"gameState",(function(){return So})),n.d(e,"previousGameState",(function(){return Oo})),n.d(e,"SetQueuedAbility",(function(){return Ro})),n.d(e,"SetQueuedEntity",(function(){return To})),n.d(e,"targetEntity",(function(){return Mo})),n.d(e,"CurrrentActivePlayer",(function(){return Io})),n.d(e,"ExamineTargetEnable",(function(){return $o})),n.d(e,"ExamineTargetDisable",(function(){return Ko})),n.d(e,"setupTestFight",(function(){return ti}));var u={};n.r(u),n.d(u,"TYPE_TEXT",(function(){return lt})),n.d(u,"TYPE_NEWLINE",(function(){return ft})),n.d(u,"TYPE_FG",(function(){return ht})),n.d(u,"TYPE_BG",(function(){return pt})),n.d(u,"measure",(function(){return Dt})),n.d(u,"tokenize",(function(){return yt}));var r=n(0),o=n(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,t);var e,n,u,r=l(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._ctx=document.createElement("canvas").getContext("2d"),t}return e=o,(n=[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._ctx.canvas}},{key:"setOptions",value:function(t){c(h(o.prototype),"setOptions",this).call(this,t);var e=t.fontStyle?"".concat(t.fontStyle," "):"",n="".concat(e," ").concat(t.fontSize,"px ").concat(t.fontFamily);this._ctx.font=n,this._updateSize(),this._ctx.font=n,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}},{key:"clear",value:function(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}},{key:"eventToPosition",value:function(t,e){var n=this._ctx.canvas,u=n.getBoundingClientRect();return t-=u.left,e-=u.top,t*=n.width/u.width,e*=n.height/u.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}])&&a(e.prototype,n),u&&a(e,u),o}(o.a),D=n(1);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function g(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=E(t);if(e){var r=E(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,t);var e,n,u,r=A(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._spacingX=0,t._spacingY=0,t._hexSize=0,t}return e=o,(n=[{key:"draw",value:function(t,e){var n=v(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=[(u+1)*this._spacingX,r*this._spacingY+this._hexSize];if(this._options.transpose&&c.reverse(),e&&(this._ctx.fillStyle=a,this._fill(c[0],c[1])),o){this._ctx.fillStyle=i;for(var s=[].concat(o),l=0;l<s.length;l++)this._ctx.fillText(s[l],c[0],Math.ceil(c[1]))}}},{key:"computeSize",value:function(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}},{key:"computeFontSize",value:function(t,e){this._options.transpose&&(t+=e,t-=e=t-e);var n=2*t/((this._options.width+1)*Math.sqrt(3))-1,u=e/(2+1.5*(this._options.height-1)),r=Math.min(n,u),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var i=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;var a=i/100,c=2*(r=Math.floor(r)+1)/(this._options.spacing*(1+a/Math.sqrt(3)));return Math.ceil(c)-1}},{key:"_normalizedEventToPosition",value:function(t,e){var n;this._options.transpose?(t+=e,t-=e=t-e,n=this._ctx.canvas.width):n=this._ctx.canvas.height;var u=n/this._options.height;return e=Math.floor(e/u),Object(D.mod)(e,2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}},{key:"_fill",value:function(t,e){var n=this._hexSize,u=this._options.border,r=this._ctx;r.beginPath(),this._options.transpose?(r.moveTo(t-n+u,e),r.lineTo(t-n/2+u,e+this._spacingX-u),r.lineTo(t+n/2-u,e+this._spacingX-u),r.lineTo(t+n-u,e),r.lineTo(t+n/2-u,e-this._spacingX+u),r.lineTo(t-n/2+u,e-this._spacingX+u),r.lineTo(t-n+u,e)):(r.moveTo(t,e-n+u),r.lineTo(t+this._spacingX-u,e-n/2+u),r.lineTo(t+this._spacingX-u,e+n/2-u),r.lineTo(t,e+n-u),r.lineTo(t-this._spacingX+u,e+n/2-u),r.lineTo(t-this._spacingX+u,e-n/2+u),r.lineTo(t,e-n+u)),r.fill()}},{key:"_updateSize",value:function(){var t,e,n=this._options,u=Math.ceil(this._ctx.measureText("W").width);this._hexSize=Math.floor(n.spacing*(n.fontSize+u/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,n.transpose?(t="height",e="width"):(t="width",e="height"),this._ctx.canvas[t]=Math.ceil((n.width+1)*this._spacingX),this._ctx.canvas[e]=Math.ceil((n.height-1)*this._spacingY+2*this._hexSize)}}])&&g(e.prototype,n),u&&g(e,u),o}(p);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function w(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P,R=((P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(o,t);var e,n,u,r=S(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._spacingX=0,t._spacingY=0,t._canvasCache={},t}return e=o,(n=[{key:"setOptions",value:function(t){x(j(o.prototype),"setOptions",this).call(this,t),this._canvasCache={}}},{key:"draw",value:function(t,e){o.cache?this._drawWithCache(t):this._drawNoCache(t,e)}},{key:"_drawWithCache",value:function(t){var e,n=F(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=""+o+i+a;if(c in this._canvasCache)e=this._canvasCache[c];else{var s=this._options.border,l=(e=document.createElement("canvas")).getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,l.fillStyle=a,l.fillRect(s,s,e.width-s,e.height-s),o){l.fillStyle=i,l.font=this._ctx.font,l.textAlign="center",l.textBaseline="middle";for(var f=[].concat(o),h=0;h<f.length;h++)l.fillText(f[h],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[c]=e}this._ctx.drawImage(e,u*this._spacingX,r*this._spacingY)}},{key:"_drawNoCache",value:function(t,e){var n=F(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4];if(e){var c=this._options.border;this._ctx.fillStyle=a,this._ctx.fillRect(u*this._spacingX+c,r*this._spacingY+c,this._spacingX-c,this._spacingY-c)}if(o){this._ctx.fillStyle=i;for(var s=[].concat(o),l=0;l<s.length;l++)this._ctx.fillText(s[l],(u+.5)*this._spacingX,Math.ceil((r+.5)*this._spacingY))}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"computeFontSize",value:function(t,e){var n=Math.floor(t/this._options.width),u=Math.floor(e/this._options.height),r=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=r;var i=o/100*u/n;return i>1&&(u=Math.floor(u/i)),Math.floor(u/this._options.spacing)}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"_updateSize",value:function(){var t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}])&&w(e.prototype,n),u&&w(e,u),o}(p)).cache=!1,P);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function z(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=N(t);if(e){var r=N(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return W(this,n)}}function W(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(o,t);var e,n,u,r=L(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._colorCanvas=document.createElement("canvas"),t}return e=o,(n=[{key:"draw",value:function(t,e){var n=M(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=this._options.tileWidth,s=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(u*c,r*s,c,s):(this._ctx.fillStyle=a,this._ctx.fillRect(u*c,r*s,c,s))),o)for(var l=[].concat(o),f=[].concat(i),h=[].concat(a),p=0;p<l.length;p++){var D=this._options.tileMap[l[p]];if(!D)throw new Error('Char "'.concat(l[p],'" not found in tileMap'));if(this._options.tileColorize){var y=this._colorCanvas,v=y.getContext("2d");v.globalCompositeOperation="source-over",v.clearRect(0,0,c,s);var d=f[p],g=h[p];v.drawImage(this._options.tileSet,D[0],D[1],c,s,0,0,c,s),"transparent"!=d&&(v.fillStyle=d,v.globalCompositeOperation="source-atop",v.fillRect(0,0,c,s)),"transparent"!=g&&(v.fillStyle=g,v.globalCompositeOperation="destination-over",v.fillRect(0,0,c,s)),this._ctx.drawImage(y,u*c,r*s,c,s)}else this._ctx.drawImage(this._options.tileSet,D[0],D[1],c,s,u*c,r*s,c,s)}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}])&&z(e.prototype,n),u&&z(e,u),o}(p),Y=n(2);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||G(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||G(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Q(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function V(t,e,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=et(t);if(e){var r=et(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return tt(this,n)}}function tt(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(o,t);var e,n,u,r=J(o);function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._uniforms={};try{t._gl=t._initWebGL()}catch(t){alert(t.message)}return t}return e=o,u=[{key:"isSupported",value:function(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}}],(n=[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._gl.canvas}},{key:"setOptions",value:function(t){var e=this;V(et(o.prototype),"setOptions",this).call(this,t),this._updateSize();var n=this._options.tileSet;n&&"complete"in n&&!n.complete?n.addEventListener("load",(function(){return e._updateTexture(n)})):this._updateTexture(n)}},{key:"draw",value:function(t,e){var n=this._gl,u=this._options,r=$(t,5),o=r[0],i=r[1],a=r[2],c=r[3],s=r[4],l=n.canvas.height-(i+1)*u.tileHeight;if(n.scissor(o*u.tileWidth,l,u.tileWidth,u.tileHeight),e&&(u.tileColorize?n.clearColor(0,0,0,0):n.clearColor.apply(n,q(at(s))),n.clear(n.COLOR_BUFFER_BIT)),a){var f=[].concat(a),h=[].concat(s),p=[].concat(c);n.uniform2fv(this._uniforms.targetPosRel,[o,i]);for(var D=0;D<f.length;D++){var y=this._options.tileMap[f[D]];if(!y)throw new Error('Char "'.concat(f[D],'" not found in tileMap'));n.uniform1f(this._uniforms.colorize,u.tileColorize?1:0),n.uniform2fv(this._uniforms.tilesetPosAbs,y),u.tileColorize&&(n.uniform4fv(this._uniforms.tint,at(p[D])),n.uniform4fv(this._uniforms.bg,at(h[D]))),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}}},{key:"clear",value:function(){var t=this._gl;t.clearColor.apply(t,q(at(this._options.bg))),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"eventToPosition",value:function(t,e){var n=this._gl.canvas,u=n.getBoundingClientRect();return t-=u.left,e-=u.top,t*=n.width/u.width,e*=n.height/u.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}},{key:"_initWebGL",value:function(){var t=this,e=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=e;var n=function(t,e,n){var u=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(u,e),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(u)||"");var r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r)||"");var o=t.createProgram();if(t.attachShader(o,u),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(o)||"");return o}(e,rt,ot);return e.useProgram(n),function(t){var e=new Float32Array([0,0,1,0,0,1,1,1]),n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(e),ut.forEach((function(u){return t._uniforms[u]=e.getUniformLocation(n,u)})),this._program=n,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.SCISSOR_TEST),e}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._gl,e=this._options,n=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=n[0],t.canvas.height=n[1],t.viewport(0,0,n[0],n[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,n)}},{key:"_updateTexture",value:function(t){var e,n,u;e=this._gl,n=t,u=e.createTexture(),e.bindTexture(e.TEXTURE_2D,u),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}}])&&Q(e.prototype,n),u&&Q(e,u),o}(o.a),ut=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],rt="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),ot="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();var it={};function at(t){if(!(t in it)){var e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(var n=0;n<3;n++)e[n]=e[n]/255}else(e=Y.fromString(t).map((function(t){return t/255}))).push(1);it[t]=e}return it[t]}var ct=n(5),st=/%([bc]){([^}]*)}/g,lt=0,ft=1,ht=2,pt=3;function Dt(t,e){for(var n={width:0,height:1},u=yt(t,e),r=0,o=0;o<u.length;o++){var i=u[o];switch(i.type){case lt:r+=i.value.length;break;case ft:n.height++,n.width=Math.max(n.width,r),r=0}}return n.width=Math.max(n.width,r),n}function yt(t,e){var n=[],u=0;t.replace(st,(function(e,r,o,i){var a=t.substring(u,i);return a.length&&n.push({type:lt,value:a}),n.push({type:"c"==r?ht:pt,value:o.trim()}),u=i+e.length,""}));var r=t.substring(u);return r.length&&n.push({type:lt,value:r}),function(t,e){e||(e=1/0);var n=0,u=0,r=-1;for(;n<t.length;){var o=t[n];if(o.type==ft&&(u=0,r=-1),o.type==lt){for(;0==u&&" "==o.value.charAt(0);)o.value=o.value.substring(1);var i=o.value.indexOf("\n");if(-1!=i){o.value=vt(t,n,i,!0);for(var a=o.value.split("");a.length&&" "==a[a.length-1];)a.pop();o.value=a.join("")}if(o.value.length){if(u+o.value.length>e){for(var c=-1;;){var s=o.value.indexOf(" ",c+1);if(-1==s)break;if(u+s>e)break;c=s}if(-1!=c)o.value=vt(t,n,c,!0);else if(-1!=r){var l=t[r],f=l.value.lastIndexOf(" ");l.value=vt(t,r,f,!0),n=r}else o.value=vt(t,n,e-u,!1)}else u+=o.value.length,-1!=o.value.indexOf(" ")&&(r=n);n++}else t.splice(n,1)}else n++}t.push({type:ft});for(var h=null,p=0;p<t.length;p++){var D=t[p];switch(D.type){case lt:h=D;break;case ft:if(h){for(var y=h.value.split("");y.length&&" "==y[y.length-1];)y.pop();h.value=y.join("")}h=null}}return t.pop(),t}(n,e)}function vt(t,e,n,u){var r={type:ft},o={type:lt,value:t[e].value.substring(n+(u?1:0))};return t.splice(e+1,0,r,o),t[e].value.substring(0,n)}var dt={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]};function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var At,Ct={hex:m,rect:R,tile:X,"tile-gl":nt,term:ct.a},Et={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1},mt=((At=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gt(this,t),this._data={},this._dirty=!1,this._options={},e=Object.assign({},Et,e),this.setOptions(e),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}var e,n,u;return e=t,(n=[{key:"DEBUG",value:function(t,e,n){var u=[this._options.bg,this._options.fg];this.draw(t,e,null,null,u[n%u.length])}},{key:"clear",value:function(){this._data={},this._dirty=!0}},{key:"setOptions",value:function(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){var e=Ct[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}},{key:"getOptions",value:function(){return this._options}},{key:"getContainer",value:function(){return this._backend.getContainer()}},{key:"computeSize",value:function(t,e){return this._backend.computeSize(t,e)}},{key:"computeFontSize",value:function(t,e){return this._backend.computeFontSize(t,e)}},{key:"computeTileSize",value:function(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}},{key:"eventToPosition",value:function(t){var e,n;return"touches"in t?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY),this._backend.eventToPosition(e,n)}},{key:"draw",value:function(t,e,n,u,r){u||(u=this._options.fg),r||(r=this._options.bg);var o="".concat(t,",").concat(e);this._data[o]=[t,e,n,u,r],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}},{key:"drawText",value:function(t,e,n,u){var r=null,o=null,i=t,a=e,c=1;u||(u=this._options.width-t);for(var s=yt(n,u);s.length;){var l=s.shift();switch(l.type){case lt:for(var f=!1,h=!1,p=!1,D=!1,y=0;y<l.value.length;y++){var v=l.value.charCodeAt(y),d=l.value.charAt(y);if("term"===this._options.layout){var g=v>>8;if(17===g||g>=46&&g<=159||g>=172&&g<=215||v>=43360&&v<=43391){this.draw(i+0,a,d,r,o),this.draw(i+1,a,"\t",r,o),i+=2;continue}}p=v>65280&&v<65377||v>65500&&v<65512||v>65518,f=32==d.charCodeAt(0)||12288==d.charCodeAt(0),!D||p||f||i++,p&&!h&&i++,this.draw(i++,a,d,r,o),h=f,D=p}break;case ht:r=l.value||null;break;case pt:o=l.value||null;break;case ft:i=t,a++,c++}}return c}},{key:"_tick",value:function(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty)for(var t in this._backend.clear(),this._data)this._draw(t,!1);else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}}},{key:"_draw",value:function(t,e){var n=this._data[t];n[4]!=this._options.bg&&(e=!0),this._backend.draw(n,e)}}])&&_t(e.prototype,n),u&&_t(e,u),t}()).Rect=R,At.Hex=m,At.Tile=X,At.TileGL=nt,At.Term=ct.a,At);function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var Bt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;bt(this,t),this._width=e,this._height=n}var e,n,u;return e=t,(n=[{key:"_fillMap",value:function(t){for(var e=[],n=0;n<this._width;n++){e.push([]);for(var u=0;u<this._height;u++)e[n].push(t)}return e}}])&&Ft(e.prototype,n),u&&Ft(e,u),t}();function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Pt(t);if(e){var r=Pt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return jt(this,n)}}function jt(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(o,t);var e,n,u,r=Ot(o);function o(){return xt(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"create",value:function(t){for(var e=this._width-1,n=this._height-1,u=0;u<=e;u++)for(var r=0;r<=n;r++)t(u,r,u&&r&&u<e&&r<n?0:1);return this}}])&&kt(e.prototype,n),u&&kt(e,u),o}(Bt);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Lt(t);if(e){var r=Lt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ut(this,n)}}function Ut(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(o,t);var e,n,u,r=zt(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t,e))._rooms=[],n._corridors=[],n}return e=o,(n=[{key:"getRooms",value:function(){return this._rooms}},{key:"getCorridors",value:function(){return this._corridors}}])&&Mt(e.prototype,n),u&&Mt(e,u),o}(Bt);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Yt(t,e,n){return e&&Xt(t.prototype,e),n&&Xt(t,n),t}function Ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Kt(t);if(e){var r=Kt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Gt(this,n)}}function Gt(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Vt=function t(){Qt(this,t)},Zt=function(t){Ht(n,t);var e=$t(n);function n(t,u,r,o,i,a){var c;return Qt(this,n),(c=e.call(this))._x1=t,c._y1=u,c._x2=r,c._y2=o,c._doors={},void 0!==i&&void 0!==a&&c.addDoor(i,a),c}return Yt(n,[{key:"addDoor",value:function(t,e){return this._doors[t+","+e]=1,this}},{key:"getDoors",value:function(t){for(var e in this._doors){var n=e.split(",");t(parseInt(n[0]),parseInt(n[1]))}return this}},{key:"clearDoors",value:function(){return this._doors={},this}},{key:"addDoors",value:function(t){for(var e=this._x1-1,n=this._x2+1,u=this._y1-1,r=this._y2+1,o=e;o<=n;o++)for(var i=u;i<=r;i++)o!=e&&o!=n&&i!=u&&i!=r||t(o,i)||this.addDoor(o,i);return this}},{key:"debug",value:function(){console.log("room",this._x1,this._y1,this._x2,this._y2)}},{key:"isValid",value:function(t,e){for(var n=this._x1-1,u=this._x2+1,r=this._y1-1,o=this._y2+1,i=n;i<=u;i++)for(var a=r;a<=o;a++)if(i==n||i==u||a==r||a==o){if(!t(i,a))return!1}else if(!e(i,a))return!1;return!0}},{key:"create",value:function(t){for(var e=this._x1-1,n=this._x2+1,u=this._y1-1,r=this._y2+1,o=e;o<=n;o++)for(var i=u;i<=r;i++)t(o,i,o+","+i in this._doors?2:o==e||o==n||i==u||i==r?1:0)}},{key:"getCenter",value:function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]}},{key:"getLeft",value:function(){return this._x1}},{key:"getRight",value:function(){return this._x2}},{key:"getTop",value:function(){return this._y1}},{key:"getBottom",value:function(){return this._y2}}],[{key:"createRandomAt",value:function(t,e,n,u,o){var i=o.roomWidth[0],a=o.roomWidth[1],c=r.a.getUniformInt(i,a);i=o.roomHeight[0],a=o.roomHeight[1];var s=r.a.getUniformInt(i,a);if(1==n){var l=e-Math.floor(r.a.getUniform()*s);return new this(t+1,l,t+c,l+s-1,t,e)}if(-1==n){var f=e-Math.floor(r.a.getUniform()*s);return new this(t-c,f,t-1,f+s-1,t,e)}if(1==u){var h=t-Math.floor(r.a.getUniform()*c);return new this(h,e+1,h+c-1,e+s,t,e)}if(-1==u){var p=t-Math.floor(r.a.getUniform()*c);return new this(p,e-s,p+c-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")}},{key:"createRandomCenter",value:function(t,e,n){var u=n.roomWidth[0],o=n.roomWidth[1],i=r.a.getUniformInt(u,o);u=n.roomHeight[0],o=n.roomHeight[1];var a=r.a.getUniformInt(u,o),c=t-Math.floor(r.a.getUniform()*i),s=e-Math.floor(r.a.getUniform()*a);return new this(c,s,c+i-1,s+a-1)}},{key:"createRandom",value:function(t,e,n){var u=n.roomWidth[0],o=n.roomWidth[1],i=r.a.getUniformInt(u,o);u=n.roomHeight[0],o=n.roomHeight[1];var a=r.a.getUniformInt(u,o),c=t-i-1,s=e-a-1,l=1+Math.floor(r.a.getUniform()*c),f=1+Math.floor(r.a.getUniform()*s);return new this(l,f,l+i-1,f+a-1)}}]),n}(Vt),Jt=function(t){Ht(n,t);var e=$t(n);function n(t,u,r,o){var i;return Qt(this,n),(i=e.call(this))._startX=t,i._startY=u,i._endX=r,i._endY=o,i._endsWithAWall=!0,i}return Yt(n,[{key:"debug",value:function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)}},{key:"isValid",value:function(t,e){var n=this._startX,u=this._startY,r=this._endX-n,o=this._endY-u,i=1+Math.max(Math.abs(r),Math.abs(o));r&&(r/=Math.abs(r)),o&&(o/=Math.abs(o));for(var a=o,c=-r,s=!0,l=0;l<i;l++){var f=n+l*r,h=u+l*o;if(e(f,h)||(s=!1),t(f+a,h+c)||(s=!1),t(f-a,h-c)||(s=!1),!s){i=l,this._endX=f-r,this._endY=h-o;break}}if(0==i)return!1;if(1==i&&t(this._endX+r,this._endY+o))return!1;var p=!t(this._endX+r+a,this._endY+o+c),D=!t(this._endX+r-a,this._endY+o-c);return this._endsWithAWall=t(this._endX+r,this._endY+o),!p&&!D||!this._endsWithAWall}},{key:"create",value:function(t){var e=this._startX,n=this._startY,u=this._endX-e,r=this._endY-n,o=1+Math.max(Math.abs(u),Math.abs(r));u&&(u/=Math.abs(u)),r&&(r/=Math.abs(r));for(var i=0;i<o;i++){t(e+i*u,n+i*r,0)}return!0}},{key:"createPriorityWalls",value:function(t){if(this._endsWithAWall){var e=this._startX,n=this._startY,u=this._endX-e,r=this._endY-n;u&&(u/=Math.abs(u)),r&&(r/=Math.abs(r));var o=r,i=-u;t(this._endX+u,this._endY+r),t(this._endX+o,this._endY+i),t(this._endX-o,this._endY-i)}}}],[{key:"createRandomAt",value:function(t,e,n,u,o){var i=o.corridorLength[0],a=o.corridorLength[1],c=r.a.getUniformInt(i,a);return new this(t,e,t+n*c,e+u*c)}}]),n}(Vt);function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function ne(t,e){return(ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=ie(t);if(e){var r=ie(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return re(this,n)}}function re(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?oe(t):e}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(i,t);var e,n,u,o=ue(i);function i(t,e,n){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,t,e))._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3},Object.assign(u._options,n),u._map=[],u._dug=0,u._roomAttempts=20,u._corridorAttempts=20,u._connected=[],u._unconnected=[],u._digCallback=u._digCallback.bind(oe(u)),u._canBeDugCallback=u._canBeDugCallback.bind(oe(u)),u._isWallCallback=u._isWallCallback.bind(oe(u)),u}return e=i,(n=[{key:"create",value:function(t){for(var e=Date.now();;){if(Date.now()-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var n=0;n<this._width;n++)for(var u=0;u<this._height;u++)t(n,u,this._map[n][u]);return this}},{key:"_generateRooms",value:function(){var t,e=this._width-2,n=this._height-2;do{if(t=this._generateRoom(),this._dug/(e*n)>this._options.roomDugPercentage)break}while(t)}},{key:"_generateRoom",value:function(){for(var t=0;t<this._roomAttempts;){t++;var e=Zt.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null}},{key:"_generateCorridors",value:function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var n=this._rooms[e];n.clearDoors(),n.create(this._digCallback)}for(this._unconnected=r.a.shuffle(this._rooms.slice()),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var u=r.a.getItem(this._connected);if(!u)break;var o=this._closestRoom(this._unconnected,u);if(!o)break;var i=this._closestRoom(this._connected,o);if(!i)break;if(!this._connectRooms(o,i))break;if(!this._unconnected.length)return!0}}return!1}},{key:"_closestRoom",value:function(t,e){for(var n=1/0,u=e.getCenter(),r=null,o=0;o<t.length;o++){var i=t[o],a=i.getCenter(),c=a[0]-u[0],s=a[1]-u[1],l=c*c+s*s;l<n&&(n=l,r=i)}return r}},{key:"_connectRooms",value:function(t,e){var n,u,r,o,i,a,c,s=t.getCenter(),l=e.getCenter(),f=l[0]-s[0],h=l[1]-s[1];if(Math.abs(f)<Math.abs(h)?(o=(2+(r=h>0?2:0))%4,i=e.getLeft(),a=e.getRight(),c=0):(o=(2+(r=f>0?1:3))%4,i=e.getTop(),a=e.getBottom(),c=1),!(n=this._placeInWall(t,r)))return!1;if(n[c]>=i&&n[c]<=a){u=n.slice();var p=0;switch(o){case 0:p=e.getTop()-1;break;case 1:p=e.getRight()+1;break;case 2:p=e.getBottom()+1;break;case 3:p=e.getLeft()-1}u[(c+1)%2]=p,this._digLine([n,u])}else if(n[c]<i-1||n[c]>a+1){var D=n[c]-l[c],y=0;switch(o){case 0:case 1:y=D<0?3:1;break;case 2:case 3:y=D<0?1:3}if(o=(o+y)%4,!(u=this._placeInWall(e,o)))return!1;var v=[0,0];v[c]=n[c];var d=(c+1)%2;v[d]=u[d],this._digLine([n,v,u])}else{var g=(c+1)%2;if(!(u=this._placeInWall(e,o)))return!1;var _=Math.round((u[g]+n[g])/2),A=[0,0],C=[0,0];A[c]=n[c],A[g]=_,C[c]=u[c],C[g]=_,this._digLine([n,A,C,u])}return t.addDoor(n[0],n[1]),e.addDoor(u[0],u[1]),-1!=(c=this._unconnected.indexOf(t))&&(this._unconnected.splice(c,1),this._connected.push(t)),-1!=(c=this._unconnected.indexOf(e))&&(this._unconnected.splice(c,1),this._connected.push(e)),!0}},{key:"_placeInWall",value:function(t,e){var n=[0,0],u=[0,0],o=0;switch(e){case 0:u=[1,0],n=[t.getLeft(),t.getTop()-1],o=t.getRight()-t.getLeft()+1;break;case 1:u=[0,1],n=[t.getRight()+1,t.getTop()],o=t.getBottom()-t.getTop()+1;break;case 2:u=[1,0],n=[t.getLeft(),t.getBottom()+1],o=t.getRight()-t.getLeft()+1;break;case 3:u=[0,1],n=[t.getLeft()-1,t.getTop()],o=t.getBottom()-t.getTop()+1}for(var i=[],a=-2,c=0;c<o;c++){var s=n[0]+c*u[0],l=n[1]+c*u[1];i.push(null),1==this._map[s][l]?a!=c-1&&(i[c]=[s,l]):(a=c,c&&(i[c-1]=null))}for(var f=i.length-1;f>=0;f--)i[f]||i.splice(f,1);return i.length?r.a.getItem(i):null}},{key:"_digLine",value:function(t){for(var e=1;e<t.length;e++){var n=t[e-1],u=t[e],r=new Jt(n[0],n[1],u[0],u[1]);r.create(this._digCallback),this._corridors.push(r)}}},{key:"_digCallback",value:function(t,e,n){this._map[t][e]=n,0==n&&this._dug++}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}}])&&ee(e.prototype,n),u&&ee(e,u),i}(Wt);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=De(t);if(e){var r=De(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return pe(this,n)}}function pe(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function de(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ee(t);if(e){var r=Ee(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ae(this,n)}}function Ae(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?Ce(t):e}function Ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me={room:Zt,corridor:Jt};function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Be(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Se(t);if(e){var r=Se(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return ke(this,n)}}function ke(t,e){return!e||"object"!==be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t,e,n){n[e[t+1]]=n[t],e[n[t]]=e[t+1],n[t]=t+1,e[t+1]=t}function je(t,e,n){n[e[t]]=n[t],e[n[t]]=e[t],n[t]=t,e[t]=t}function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ue(t);if(e){var r=Ue(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return ze(this,n)}}function ze(t,e){return!e||"object"!==Pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=qe(t);if(e){var r=qe(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return He(this,n)}}function He(t,e){return!e||"object"!==Le(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qe(t){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ze(t);if(e){var r=Ze(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je={Arena:Rt,Uniform:ae,Cellular:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(i,t);var e,n,u,o=he(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se(this,i),(n=o.call(this,t,e))._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8},n.setOptions(u),n._dirs=dt[n._options.topology],n._map=n._fillMap(0),n}return e=i,(n=[{key:"randomize",value:function(t){for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)this._map[e][n]=r.a.getUniform()<t?1:0;return this}},{key:"setOptions",value:function(t){Object.assign(this._options,t)}},{key:"set",value:function(t,e,n){this._map[t][e]=n}},{key:"create",value:function(t){for(var e=this._fillMap(0),n=this._options.born,u=this._options.survive,r=0;r<this._height;r++){var o=1,i=0;6==this._options.topology&&(o=2,i=r%2);for(var a=i;a<this._width;a+=o){var c=this._map[a][r],s=this._getNeighbors(a,r);c&&-1!=u.indexOf(s)?e[a][r]=1:c||-1==n.indexOf(s)||(e[a][r]=1)}}this._map=e,t&&this._serviceCallback(t)}},{key:"_serviceCallback",value:function(t){for(var e=0;e<this._height;e++){var n=1,u=0;6==this._options.topology&&(n=2,u=e%2);for(var r=u;r<this._width;r+=n)t(r,e,this._map[r][e])}}},{key:"_getNeighbors",value:function(t,e){for(var n=0,u=0;u<this._dirs.length;u++){var r=this._dirs[u],o=t+r[0],i=e+r[1];o<0||o>=this._width||i<0||i>=this._height||(n+=1==this._map[o][i]?1:0)}return n}},{key:"connect",value:function(t,e,n){e||(e=0);var u=[],o={},i=1,a=[0,0];6==this._options.topology&&(i=2,a=[0,1]);for(var c=0;c<this._height;c++)for(var s=a[c%2];s<this._width;s+=i)if(this._freeSpace(s,c,e)){var l=[s,c];o[this._pointKey(l)]=l,u.push([s,c])}var f=u[r.a.getUniformInt(0,u.length-1)],h=this._pointKey(f),p={};for(p[h]=f,delete o[h],this._findConnected(p,o,[f],!1,e);Object.keys(o).length>0;){var D=this._getFromTo(p,o),y=D[0],v=D[1],d={};d[this._pointKey(y)]=y,this._findConnected(d,o,[y],!0,e);var g=6==this._options.topology?this._tunnelToConnected6:this._tunnelToConnected;for(var _ in g.call(this,v,y,p,o,e,n),d){var A=d[_];this._map[A[0]][A[1]]=e,p[_]=A,delete o[_]}}t&&this._serviceCallback(t)}},{key:"_getFromTo",value:function(t,e){for(var n=[0,0],u=[0,0],o=Object.keys(t),i=Object.keys(e),a=0;a<5;a++){if(o.length<i.length){var c=o;u=t[c[r.a.getUniformInt(0,c.length-1)]],n=this._getClosest(u,e)}else{var s=i;n=e[s[r.a.getUniformInt(0,s.length-1)]],u=this._getClosest(n,t)}if((n[0]-u[0])*(n[0]-u[0])+(n[1]-u[1])*(n[1]-u[1])<64)break}return[n,u]}},{key:"_getClosest",value:function(t,e){var n=null,u=null;for(var r in e){var o=e[r],i=(o[0]-t[0])*(o[0]-t[0])+(o[1]-t[1])*(o[1]-t[1]);(null==u||i<u)&&(u=i,n=o)}return n}},{key:"_findConnected",value:function(t,e,n,u,r){for(;n.length>0;){var o=n.splice(0,1)[0],i=void 0;i=6==this._options.topology?[[o[0]+2,o[1]],[o[0]+1,o[1]-1],[o[0]-1,o[1]-1],[o[0]-2,o[1]],[o[0]-1,o[1]+1],[o[0]+1,o[1]+1]]:[[o[0]+1,o[1]],[o[0]-1,o[1]],[o[0],o[1]+1],[o[0],o[1]-1]];for(var a=0;a<i.length;a++){var c=this._pointKey(i[a]);null==t[c]&&this._freeSpace(i[a][0],i[a][1],r)&&(t[c]=i[a],u||delete e[c],n.push(i[a]))}}}},{key:"_tunnelToConnected",value:function(t,e,n,u,r,o){var i,a;e[0]<t[0]?(i=e,a=t):(i=t,a=e);for(var c=i[0];c<=a[0];c++){this._map[c][i[1]]=r;var s=[c,i[1]],l=this._pointKey(s);n[l]=s,delete u[l]}o&&i[0]<a[0]&&o(i,[a[0],i[1]]);var f=a[0];e[1]<t[1]?(i=e,a=t):(i=t,a=e);for(var h=i[1];h<a[1];h++){this._map[f][h]=r;var p=[f,h],D=this._pointKey(p);n[D]=p,delete u[D]}o&&i[1]<a[1]&&o([a[0],i[1]],[a[0],a[1]])}},{key:"_tunnelToConnected6",value:function(t,e,n,u,r,o){var i,a;e[0]<t[0]?(i=e,a=t):(i=t,a=e);for(var c=i[0],s=i[1];c!=a[0]||s!=a[1];){var l=2;s<a[1]?(s++,l=1):s>a[1]&&(s--,l=1),c<a[0]?c+=l:c>a[0]||a[1]%2?c-=l:c+=l,this._map[c][s]=r;var f=[c,s],h=this._pointKey(f);n[h]=f,delete u[h]}o&&o(e,t)}},{key:"_freeSpace",value:function(t,e,n){return t>=0&&t<this._width&&e>=0&&e<this._height&&this._map[t][e]==n}},{key:"_pointKey",value:function(t){return t[0]+"."+t[1]}}])&&le(e.prototype,n),u&&le(e,u),i}(Bt),Digger:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(i,t);var e,n,u,o=_e(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ve(this,i),(n=o.call(this,t,e))._options=Object.assign({roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3},u),n._features={room:4,corridor:4},n._map=[],n._featureAttempts=20,n._walls={},n._dug=0,n._digCallback=n._digCallback.bind(Ce(n)),n._canBeDugCallback=n._canBeDugCallback.bind(Ce(n)),n._isWallCallback=n._isWallCallback.bind(Ce(n)),n._priorityWallCallback=n._priorityWallCallback.bind(Ce(n)),n}return e=i,(n=[{key:"create",value:function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var n,u=Date.now();do{if(n=0,Date.now()-u>this._options.timeLimit)break;var r=this._findWall();if(!r)break;var o=r.split(","),i=parseInt(o[0]),a=parseInt(o[1]),c=this._getDiggingDirection(i,a);if(c){var s=0;do{if(s++,this._tryFeature(i,a,c[0],c[1])){this._removeSurroundingWalls(i,a),this._removeSurroundingWalls(i-c[0],a-c[1]);break}}while(s<this._featureAttempts);for(var l in this._walls)this._walls[l]>1&&n++}}while(this._dug/e<this._options.dugPercentage||n);if(this._addDoors(),t)for(var f=0;f<this._width;f++)for(var h=0;h<this._height;h++)t(f,h,this._map[f][h]);return this._walls={},this._map=[],this}},{key:"_digCallback",value:function(t,e,n){0==n||2==n?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}},{key:"_priorityWallCallback",value:function(t,e){this._walls[t+","+e]=2}},{key:"_firstRoom",value:function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),n=Zt.createRandomCenter(t,e,this._options);this._rooms.push(n),n.create(this._digCallback)}},{key:"_findWall",value:function(){var t=[],e=[];for(var n in this._walls)2==this._walls[n]?e.push(n):t.push(n);var u=e.length?e:t;if(!u.length)return null;var o=r.a.getItem(u.sort());return delete this._walls[o],o}},{key:"_tryFeature",value:function(t,e,n,u){var o=r.a.getWeightedValue(this._features),i=me[o].createRandomAt(t,e,n,u,this._options);return!!i.isValid(this._isWallCallback,this._canBeDugCallback)&&(i.create(this._digCallback),i instanceof Zt&&this._rooms.push(i),i instanceof Jt&&(i.createPriorityWalls(this._priorityWallCallback),this._corridors.push(i)),!0)}},{key:"_removeSurroundingWalls",value:function(t,e){for(var n=dt[4],u=0;u<n.length;u++){var r=n[u],o=t+r[0],i=e+r[1];delete this._walls[o+","+i],o=t+2*r[0],i=e+2*r[1],delete this._walls[o+","+i]}}},{key:"_getDiggingDirection",value:function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var n=null,u=dt[4],r=0;r<u.length;r++){var o=u[r],i=t+o[0],a=e+o[1];if(!this._map[i][a]){if(n)return null;n=o}}return n?[-n[0],-n[1]]:null}},{key:"_addDoors",value:function(){var t=this._map;function e(e,n){return 1==t[e][n]}for(var n=0;n<this._rooms.length;n++){var u=this._rooms[n];u.clearDoors(),u.addDoors(e)}}}])&&de(e.prototype,n),u&&de(e,u),i}(Wt),EllerMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(i,t);var e,n,u,o=xe(i);function i(){return Fe(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"create",value:function(t){for(var e,n=this._fillMap(1),u=Math.ceil((this._width-2)/2),o=[],i=[],a=0;a<u;a++)o.push(a),i.push(a);for(o.push(u-1),e=1;e+3<this._height;e+=2)for(var c=0;c<u;c++){var s=2*c+1,l=e;n[s][l]=0,c!=o[c+1]&&r.a.getUniform()>9/24&&(Oe(c,o,i),n[s+1][l]=0),c!=o[c]&&r.a.getUniform()>9/24?je(c,o,i):n[s][l+1]=0}for(var f=0;f<u;f++){var h=2*f+1,p=e;n[h][p]=0,f!=o[f+1]&&(f==o[f]||r.a.getUniform()>9/24)&&(Oe(f,o,i),n[h+1][p]=0),je(f,o,i)}for(var D=0;D<this._width;D++)for(var y=0;y<this._height;y++)t(D,y,n[D][y]);return this}}])&&Be(e.prototype,n),u&&Be(e,u),i}(Bt),DividedMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(i,t);var e,n,u,o=Ie(i);function i(){var t;return Re(this,i),(t=o.apply(this,arguments))._stack=[],t._map=[],t}return e=i,(n=[{key:"create",value:function(t){var e=this._width,n=this._height;this._map=[];for(var u=0;u<e;u++){this._map.push([]);for(var r=0;r<n;r++){var o=0==u||0==r||u+1==e||r+1==n;this._map[u].push(o?1:0)}}this._stack=[[1,1,e-2,n-2]],this._process();for(var i=0;i<e;i++)for(var a=0;a<n;a++)t(i,a,this._map[i][a]);return this._map=[],this}},{key:"_process",value:function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}}},{key:"_partitionRoom",value:function(t){for(var e=[],n=[],u=t[0]+1;u<t[2];u++){var o=this._map[u][t[1]-1],i=this._map[u][t[3]+1];!o||!i||u%2||e.push(u)}for(var a=t[1]+1;a<t[3];a++){var c=this._map[t[0]-1][a],s=this._map[t[2]+1][a];!c||!s||a%2||n.push(a)}if(e.length&&n.length){var l=r.a.getItem(e),f=r.a.getItem(n);this._map[l][f]=1;var h=[],p=[];h.push(p);for(var D=t[0];D<l;D++)this._map[D][f]=1,D%2&&p.push([D,f]);p=[],h.push(p);for(var y=l+1;y<=t[2];y++)this._map[y][f]=1,y%2&&p.push([y,f]);p=[],h.push(p);for(var v=t[1];v<f;v++)this._map[l][v]=1,v%2&&p.push([l,v]);p=[],h.push(p);for(var d=f+1;d<=t[3];d++)this._map[l][d]=1,d%2&&p.push([l,d]);for(var g=r.a.getItem(h),_=0;_<h.length;_++){var A=h[_];if(A!=g){var C=r.a.getItem(A);this._map[C[0]][C[1]]=0}}this._stack.push([t[0],t[1],l-1,f-1]),this._stack.push([l+1,t[1],t[2],f-1]),this._stack.push([t[0],f+1,l-1,t[3]]),this._stack.push([l+1,f+1,t[2],t[3]])}}}])&&Te(e.prototype,n),u&&Te(e,u),i}(Bt),IceyMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(i,t);var e,n,u,o=Ye(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return We(this,i),(n=o.call(this,t,e))._regularity=u,n._map=[],n}return e=i,(n=[{key:"create",value:function(t){var e=this._width,n=this._height,u=this._fillMap(1);e-=e%2?1:2,n-=n%2?1:2;var o=0,i=0,a=0,c=0,s=0,l=!1,f=[[0,0],[0,0],[0,0],[0,0]];do{if(o=1+2*Math.floor(r.a.getUniform()*(e-1)/2),i=1+2*Math.floor(r.a.getUniform()*(n-1)/2),s||(u[o][i]=0),!u[o][i]){this._randomize(f);do{0==Math.floor(r.a.getUniform()*(this._regularity+1))&&this._randomize(f),l=!0;for(var h=0;h<4;h++)if(a=o+2*f[h][0],c=i+2*f[h][1],this._isFree(u,a,c,e,n)){u[a][c]=0,u[o+f[h][0]][i+f[h][1]]=0,o=a,i=c,l=!1,s++;break}}while(!l)}}while(s+1<e*n/4);for(var p=0;p<this._width;p++)for(var D=0;D<this._height;D++)t(p,D,u[p][D]);return this._map=[],this}},{key:"_randomize",value:function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*r.a.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}}},{key:"_isFree",value:function(t,e,n,u,r){return!(e<1||n<1||e>=u||n>=r)&&t[e][n]}}])&&Ne(e.prototype,n),u&&Ne(e,u),i}(Bt),Rogue:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(i,t);var e,n,u,o=Qe(i);function i(t,e,n){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,t,e)).map=[],u.rooms=[],u.connectedCells=[],(n=Object.assign({cellWidth:3,cellHeight:3},n)).hasOwnProperty("roomWidth")||(n.roomWidth=u._calculateRoomSize(u._width,n.cellWidth)),n.hasOwnProperty("roomHeight")||(n.roomHeight=u._calculateRoomSize(u._height,n.cellHeight)),u._options=n,u}return e=i,(n=[{key:"create",value:function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)t(e,n,this.map[e][n]);return this}},{key:"_calculateRoomSize",value:function(t,e){var n=Math.floor(t/e*.8),u=Math.floor(t/e*.25);return u<2&&(u=2),n<2&&(n=2),[u,n]}},{key:"_initRooms",value:function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}}},{key:"_connectRooms",value:function(){var t,e,n,u,o,i,a=r.a.getUniformInt(0,this._options.cellWidth-1),c=r.a.getUniformInt(0,this._options.cellHeight-1),s=!1;do{i=[0,2,4,6],i=r.a.shuffle(i);do{if(s=!1,t=i.pop(),e=a+dt[8][t][0],n=c+dt[8][t][1],!(e<0||e>=this._options.cellWidth||n<0||n>=this._options.cellHeight)){if((u=this.rooms[a][c]).connections.length>0&&u.connections[0][0]==e&&u.connections[0][1]==n)break;0==(o=this.rooms[e][n]).connections.length&&(o.connections.push([a,c]),this.connectedCells.push([e,n]),a=e,c=n,s=!0)}}while(i.length>0&&0==s)}while(i.length>0)}},{key:"_connectUnconnectedRooms",value:function(){var t,e,n,u=this._options.cellWidth,o=this._options.cellHeight;this.connectedCells=r.a.shuffle(this.connectedCells);for(var i=0;i<this._options.cellWidth;i++)for(var a=0;a<this._options.cellHeight;a++)if(0==(t=this.rooms[i][a]).connections.length){var c=[0,2,4,6];c=r.a.shuffle(c),n=!1;do{var s=c.pop(),l=i+dt[8][s][0],f=a+dt[8][s][1];if(!(l<0||l>=u||f<0||f>=o)){if(n=!0,0==(e=this.rooms[l][f]).connections.length)break;for(var h=0;h<e.connections.length;h++)if(e.connections[h][0]==i&&e.connections[h][1]==a){n=!1;break}if(n)break}}while(c.length);n?t.connections.push([e.cellx,e.celly]):console.log("-- Unable to connect room.")}}},{key:"_createRandomRoomConnections",value:function(){}},{key:"_createRooms",value:function(){for(var t,e,n,u,o,i=this._width,a=this._height,c=this._options.cellWidth,s=this._options.cellHeight,l=Math.floor(this._width/c),f=Math.floor(this._height/s),h=this._options.roomWidth,p=this._options.roomHeight,D=0;D<c;D++)for(var y=0;y<s;y++){if(0==(n=l*D)&&(n=1),0==(u=f*y)&&(u=1),t=r.a.getUniformInt(h[0],h[1]),e=r.a.getUniformInt(p[0],p[1]),y>0)for(o=this.rooms[D][y-1];u-(o.y+o.height)<3;)u++;if(D>0)for(o=this.rooms[D-1][y];n-(o.x+o.width)<3;)n++;for(var v=Math.round(r.a.getUniformInt(0,l-t)/2),d=Math.round(r.a.getUniformInt(0,f-e)/2);n+v+t>=i;)v?v--:t--;for(;u+d+e>=a;)d?d--:e--;n+=v,u+=d,this.rooms[D][y].x=n,this.rooms[D][y].y=u,this.rooms[D][y].width=t,this.rooms[D][y].height=e;for(var g=n;g<n+t;g++)for(var _=u;_<u+e;_++)this.map[g][_]=0}}},{key:"_getWallPosition",value:function(t,e){var n,u,o;return 1==e||3==e?(n=r.a.getUniformInt(t.x+1,t.x+t.width-2),o=1==e?1+(u=t.y-2):(u=t.y+t.height+1)-1,this.map[n][o]=0):(u=r.a.getUniformInt(t.y+1,t.y+t.height-2),o=2==e?(n=t.x+t.width+1)-1:1+(n=t.x-2),this.map[o][u]=0),[n,u]}},{key:"_drawCorridor",value:function(t,e){var n,u,o,i,a=e[0]-t[0],c=e[1]-t[1],s=t[0],l=t[1],f=[],h=Math.abs(a),p=Math.abs(c),D=r.a.getUniform(),y=D,v=1-D;for(u=a>0?2:6,o=c>0?4:0,h<p?(n=Math.ceil(p*y),f.push([o,n]),f.push([u,h]),n=Math.floor(p*v),f.push([o,n])):(n=Math.ceil(h*y),f.push([u,n]),f.push([o,p]),n=Math.floor(h*v),f.push([u,n])),this.map[s][l]=0;f.length>0;)for(i=f.pop();i[1]>0;)s+=dt[8][i[0]][0],l+=dt[8][i[0]][1],this.map[s][l]=0,i[1]=i[1]-1}},{key:"_createCorridors",value:function(){for(var t,e,n,u,r,o=this._options.cellWidth,i=this._options.cellHeight,a=0;a<o;a++)for(var c=0;c<i;c++){t=this.rooms[a][c];for(var s=0;s<t.connections.length;s++)e=t.connections[s],(n=this.rooms[e[0]][e[1]]).cellx>t.cellx?(u=2,r=4):n.cellx<t.cellx?(u=4,r=2):n.celly>t.celly?(u=3,r=1):(u=1,r=3),this._drawCorridor(this._getWallPosition(t,u),this._getWallPosition(n,r))}}}])&&Ge(e.prototype,n),u&&Ge(e,u),i}(Bt)};Math.sqrt(3),Math.sqrt(3);function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var nn=function(){function t(e,n,u){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};tn(this,t),this._toX=e,this._toY=n,this._passableCallback=u,this._options=Object.assign({topology:8},r),this._dirs=dt[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}var e,n,u;return e=t,(n=[{key:"_getNeighbors",value:function(t,e){for(var n=[],u=0;u<this._dirs.length;u++){var r=this._dirs[u],o=t+r[0],i=e+r[1];this._passableCallback(o,i)&&n.push([o,i])}return n}}])&&en(e.prototype,n),u&&en(e,u),t}();function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function on(t,e){return(on=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return cn(this,n)}}function cn(t,e){return!e||"object"!==un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sn(t){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=vn(t);if(e){var r=vn(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return yn(this,n)}}function yn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dn={Dijkstra:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&on(t,e)}(o,t);var e,n,u,r=an(o);function o(t,e,n,u){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(i=r.call(this,t,e,n,u))._computed={},i._todo=[],i._add(t,e,null),i}return e=o,(n=[{key:"compute",value:function(t,e,n){var u=t+","+e;if(u in this._computed||this._compute(t,e),u in this._computed)for(var r=this._computed[u];r;)n(r.x,r.y),r=r.prev}},{key:"_compute",value:function(t,e){for(;this._todo.length;){var n=this._todo.shift();if(n.x==t&&n.y==e)return;for(var u=this._getNeighbors(n.x,n.y),r=0;r<u.length;r++){var o=u[r],i=o[0],a=o[1];i+","+a in this._computed||this._add(i,a,n)}}}},{key:"_add",value:function(t,e,n){var u={x:t,y:e,prev:n};this._computed[t+","+e]=u,this._todo.push(u)}}])&&rn(e.prototype,n),u&&rn(e,u),o}(nn),AStar:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(o,t);var e,n,u,r=Dn(o);function o(t,e,n){var u,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fn(this,o),(u=r.call(this,t,e,n,i))._todo=[],u._done={},u}return e=o,(n=[{key:"compute",value:function(t,e,n){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var u=this._todo.shift(),r=u.x+","+u.y;if(!(r in this._done)){if(this._done[r]=u,u.x==t&&u.y==e)break;for(var o=this._getNeighbors(u.x,u.y),i=0;i<o.length;i++){var a=o[i],c=a[0],s=a[1];c+","+s in this._done||this._add(c,s,u)}}}var l=this._done[t+","+e];if(l)for(;l;)n(l.x,l.y),l=l.prev}},{key:"_add",value:function(t,e,n){for(var u=this._distance(t,e),r={x:t,y:e,prev:n,g:n?n.g+1:0,h:u},o=r.g+r.h,i=0;i<this._todo.length;i++){var a=this._todo[i],c=a.g+a.h;if(o<c||o==c&&u<a.h)return void this._todo.splice(i,0,r)}this._todo.push(r)}},{key:"_distance",value:function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var n=Math.abs(t-this._fromX),u=Math.abs(e-this._fromY);return u+Math.max(0,(n-u)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}}}])&&hn(e.prototype,n),u&&hn(e,u),o}(nn)};window.devicePixelRatio,document.querySelector("#game");var gn=50,_n=34,An={width:20,height:10,x:10,y:3},Cn={width:10,height:10,x:31,y:3},En={width:10,height:2,x:1,y:3},mn={width:50,height:2,x:10,y:14},bn={width:30,height:1,x:10,y:16},Fn={width:20,height:1,x:12,y:2},Bn={width:40,height:30},wn=new mt({bg:"black",fg:"Grey",fontFamily:"Fira Mono",width:gn,height:_n,fontSize:18,forceSquareRatio:!0});document.body.appendChild(wn.getContainer());var xn={bg:"black",fg:"Grey",fontFamily:"Fira Mono",width:Bn.width,height:Bn.height,fontSize:18,forceSquareRatio:!0},kn=document.createElement("div");kn.id="helpMenu",document.body.appendChild(kn);var Sn=new mt(xn);function On(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||Rn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(t,e){if(null==t)return{};var n,u,r=function(t,e){if(null==t)return{};var n,u,r={},o=Object.keys(t);for(u=0;u<o.length;u++)n=o[u],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(u=0;u<o.length;u++)n=o[u],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Rn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var u=0,r=function(){};return{s:r,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Rn(t,e){if(t){if("string"==typeof t)return Tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(t,e):void 0}}function Tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Un(t,e,n){return e&&zn(t.prototype,e),n&&zn(t,n),t}function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,u)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){Nn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}kn.appendChild(Sn.getContainer()),Sn.drawText(0,0,"HELLO CAN YOU SEE THIS");var Yn=function(t,e){if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");e=Wn(Wn({},{pascalCase:!1}),e);var n;return 0===(t=Array.isArray(t)?t.map((function(t){return t.trim()})).filter((function(t){return t.length})).join("-"):t.trim()).length?"":1===t.length?e.pascalCase?t.toLocaleUpperCase():t.toLocaleLowerCase():(t!==t.toLocaleLowerCase()&&(t=function(t){for(var e=!1,n=!1,u=!1,r=0;r<t.length;r++){var o=t[r];e&&/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C2\uA7C4-\uA7C7\uA7C9\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21])/.test(o)?(t=t.slice(0,r)+"-"+t.slice(r),e=!1,u=n,n=!0,r++):n&&u&&/(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C3\uA7C8\uA7CA\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.test(o)?(t=t.slice(0,r-1)+"-"+t.slice(r-1),u=n,n=!1,e=!0):(e=o.toLocaleLowerCase()===o&&o.toLocaleUpperCase()!==o,u=n,n=o.toLocaleUpperCase()===o&&o.toLocaleLowerCase()!==o)}return t}(t)),t=t.replace(/^[_.\- ]+/,"").toLocaleLowerCase().replace(/[ \x2D\._]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(t,e){return e.toLocaleUpperCase()})).replace(/[0-9]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(t){return t.toLocaleUpperCase()})),n=t,e.pascalCase?n.charAt(0).toLocaleUpperCase()+n.slice(1):n)},Hn=Yn,qn=Yn;Hn.default=qn;var $n={},Gn=function(t){var e=$n[t];return e||($n[t]=Hn(t),$n[t])},Kn=function(){function t(){In(this,t),Xn(this,"_cbit",0),Xn(this,"_map",{})}return Un(t,[{key:"register",value:function(t){var e=Gn(t.name);t.prototype._ckey=e,t.prototype._cbit=BigInt(++this._cbit),this._map[e]=t}},{key:"get",value:function(t){return this._map[t]}}]),t}(),Qn=function(t){return function(t){return!!t&&"object"===Mn(t)}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Vn}(t)}(t)};var Vn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Zn(t,e){return!1!==e.clone&&e.isMergeableObject(t)?uu((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function Jn(t,e,n){return t.concat(e).map((function(t){return Zn(t,n)}))}function tu(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function eu(t,e){try{return e in t}catch(t){return!1}}function nu(t,e,n){var u={};return n.isMergeableObject(t)&&tu(t).forEach((function(e){u[e]=Zn(t[e],n)})),tu(e).forEach((function(r){(function(t,e){return eu(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(eu(t,r)&&n.isMergeableObject(e[r])?u[r]=function(t,e){if(!e.customMerge)return uu;var n=e.customMerge(t);return"function"==typeof n?n:uu}(r,n)(t[r],e[r],n):u[r]=Zn(e[r],n))})),u}function uu(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Jn,n.isMergeableObject=n.isMergeableObject||Qn,n.cloneUnlessOtherwiseSpecified=Zn;var u=Array.isArray(e);return u===Array.isArray(t)?u?n.arrayMerge(t,e,n):nu(t,e,n):Zn(e,n)}uu.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return uu(t,n,e)}),{})};var ru=uu,ou=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];In(this,t),this.clazz=e,this.properties=n,this.overwrite=u}return Un(t,[{key:"applyToEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.clazz.allowMultiple&&t.has(this.clazz)){if(!this.overwrite)return;var n=t[this.clazz.prototype._ckey];t.remove(n)}var u=ru(this.properties,e);t.add(this.clazz,u)}}]),t}(),iu=function(){function t(e){In(this,t),Xn(this,"name",""),Xn(this,"inherit",[]),Xn(this,"components",[]),this.name=e}return Un(t,[{key:"addComponent",value:function(t){this.components.push(t)}},{key:"applyToEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.inherit.forEach((function(n){n.applyToEntity(t,e)}));var n={};return this.components.forEach((function(u){var r=u.clazz,o=r.prototype._ckey,i={};if(r.allowMultiple)if(r.keyProperty){var a=u.properties[r.keyProperty];e[o]&&e[o][a]&&(i=e[o][a])}else n[o]||(n[o]=0),e[o]&&e[o][n[o]]&&(i=e[o][n[o]]),n[o]++;else i=e[o];u.applyToEntity(t,i)})),t}}]),t}(),au=function(){function t(e){In(this,t),Xn(this,"_prefabs",{}),Xn(this,"_engine",null),this._engine=e}return Un(t,[{key:"deserialize",value:function(t){var e=this,n=this.get(t.name);if(n)return n;var u,r=new iu(t.name);return u=Array.isArray(t.inherit)?t.inherit:"string"==typeof t.inherit?[t.inherit]:[],r.inherit=u.map((function(n){var u=e.get(n);return u||(console.warn('Prefab "'.concat(t.name,'" cannot inherit from Prefab "').concat(n,'" because is not registered yet! Prefabs must be registered in the right order.')),n)})),(t.components||[]).forEach((function(n){if("string"==typeof n){var u=Gn(n),o=e._engine._components.get(u);if(o)return void r.addComponent(new ou(o))}if("object"===Mn(n)){var i=Gn(n.type),a=e._engine._components.get(i);if(a)return void r.addComponent(new ou(a,n.properties,n.overwrite))}console.warn('Unrecognized component reference "'.concat(n,'" in prefab "').concat(t.name,'". Ensure the component is registered before the prefab.'))})),r}},{key:"register",value:function(t){var e=this.deserialize(t);this._prefabs[e.name]=e}},{key:"get",value:function(t){return this._prefabs[t]}},{key:"create",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=this.get(e);if(u){var r=t.createEntity();return r._qeligible=!1,u.applyToEntity(r,n),r._qeligible=!0,r._candidacy(),r}console.warn('Could not instantiate prefab "'.concat(e,'" since it is not registered'))}}]),t}(),cu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};In(this,t),Object.assign(this,this.constructor.properties,e)}return Un(t,[{key:"world",get:function(){return this.entity.world}},{key:"allowMultiple",get:function(){return this.constructor.allowMultiple}},{key:"keyProperty",get:function(){return this.constructor.keyProperty}},{key:"destroy",value:function(){this.entity.remove(this)}},{key:"_onDestroyed",value:function(){this.onDestroyed(),delete this.entity}},{key:"_onEvent",value:function(t){this.onEvent(t),"function"==typeof this[t.handlerName]&&this[t.handlerName](t)}},{key:"_onAttached",value:function(t){this.entity=t,this.onAttached(t)}},{key:"serialize",value:function(){var t={};for(var e in this.constructor.properties)t[e]=this[e];return t}},{key:"onAttached",value:function(t){}},{key:"onDestroyed",value:function(){}},{key:"onEvent",value:function(t){}}]),t}();Xn(cu,"allowMultiple",!1),Xn(cu,"keyProperty",null),Xn(cu,"properties",{});var su=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};In(this,t),Xn(this,"data",{}),Xn(this,"prevented",!1),Xn(this,"handled",!1),this.name=e,this.data=n,this.handlerName=Gn("on ".concat(this.name))}return Un(t,[{key:"is",value:function(t){return this.name===t}},{key:"handle",value:function(){this.handled=!0,this.prevented=!0}},{key:"prevent",value:function(){this.prevented=!0}}]),t}(),lu=1n,fu=function(t,e){return t&~(1n<<e)},hu=function(t,e){return t|lu<<e},pu=function(t,e){return t&e},Du=function(t){return t.serialize()},yu=function(t){var e={};for(var n in t)e[n]=Du(t[n]);return e},vu=function(){function t(e,n){In(this,t),Xn(this,"_cbits",0n),Xn(this,"_qeligible",!0),this.world=e,this.id=n,this.components={},this.isDestroyed=!1}return Un(t,[{key:"_candidacy",value:function(){this._qeligible&&this.world._candidate(this)}},{key:"add",value:function(t,e){var n=new t(e);n.keyProperty?function(t,e){var n=e._ckey;t.components[n]||(t[n]={},t.components[n]={}),t[n][e[e.keyProperty]]=e,t.components[n][e[e.keyProperty]]=e}(this,n):n.allowMultiple?function(t,e){var n=e._ckey;t.components[n]||(t[n]=[],t.components[n]=[]),t[n].push(e),t.components[n].push(e)}(this,n):function(t,e){var n=e._ckey;t[n]=e,t.components[n]=e}(this,n),this._cbits=hu(this._cbits,n._cbit),n._onAttached(this),this._candidacy()}},{key:"has",value:function(t){return e=this._cbits,n=t.prototype._cbit,(e>>n)%2n!==0n;var e,n}},{key:"remove",value:function(t){t.keyProperty?function(t,e){var n=e._ckey,u=e[e.keyProperty];delete t[n][u],delete t.components[n][u],Object.keys(t[n]).length<=0&&(delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy())}(this,t):t.allowMultiple?function(t,e){var n=e._ckey,u=t[n].indexOf(e);t[n].splice(u,1),t.components[n].splice(u,1),t[n].length<=0&&(delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy())}(this,t):function(t,e){var n=e._ckey;delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy()}(this,t),t._onDestroyed()}},{key:"destroy",value:function(){for(var t in this.components){var e=this.components[t];if(e instanceof cu)this._cbits=fu(this._cbits,e._cbit),e._onDestroyed();else if(e instanceof Array){var n,u=Pn(e);try{for(u.s();!(n=u.n()).done;){var r=n.value;this._cbits=fu(this._cbits,r._cbit),r._onDestroyed()}}catch(t){u.e(t)}finally{u.f()}}else for(var o=0,i=Object.values(e);o<i.length;o++){var a=i[o];this._cbits=fu(this._cbits,a._cbit),a._onDestroyed()}delete this[t],delete this.components[t]}this._candidacy(),this.world._destroyed(this.id),this.components={},this.isDestroyed=!0}},{key:"serialize",value:function(){var t={};for(var e in this.components){var n=this.components[e];t[e]=n instanceof cu?Du(n):n instanceof Array?n.map(Du):yu(n)}return Wn({id:this.id},t)}},{key:"fireEvent",value:function(t,e){var n=new su(t,e);for(var u in this.components){var r=this.components[u];if(r instanceof cu){if(r._onEvent(n),n.prevented)return n}else if(r instanceof Array){for(var o=0;o<r.length;o++)if(r[o]._onEvent(n),n.prevented)return n}else for(var i=0,a=Object.values(r);i<a.length;i++){if(a[i]._onEvent(n),n.prevented)return n}}return n}}]),t}(),du=function(){function t(e,n){In(this,t),Xn(this,"_cache",[]),Xn(this,"_onAddListeners",[]),Xn(this,"_onRemoveListeners",[]),this._world=e;var u=n.any||[],r=n.all||[],o=n.none||[];this._any=u.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this._all=r.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this._none=o.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this.refresh()}return Un(t,[{key:"onEntityAdded",value:function(t){this._onAddListeners.push(t)}},{key:"onEntityRemoved",value:function(t){this._onRemoveListeners.push(t)}},{key:"has",value:function(t){return this.idx(t)>=0}},{key:"idx",value:function(t){return this._cache.indexOf(t)}},{key:"matches",value:function(t){var e=t._cbits,n=0n===this._any||pu(e,this._any)>0,u=pu(e,this._all)===this._all,r=0n===pu(e,this._none);return n&&u&&r}},{key:"candidate",value:function(t){var e=this.idx(t),n=e>=0;return!t.isDestroyed&&this.matches(t)?(n||(this._cache.push(t),this._onAddListeners.forEach((function(e){return e(t)}))),!0):(n&&(this._cache.splice(e,1),this._onRemoveListeners.forEach((function(e){return e(t)}))),!1)}},{key:"refresh",value:function(){var t=this;this._cache=[],this._world._entities.forEach((function(e){t.candidate(e)}))}},{key:"get",value:function(){return this._cache}}]),t}(),gu=function(){function t(e){In(this,t),Xn(this,"_id",0),Xn(this,"_queries",[]),Xn(this,"_entities",new Map),this.engine=e}return Un(t,[{key:"createId",value:function(){return++this._id+Math.random().toString(36).substr(2,9)}},{key:"getEntity",value:function(t){return this._entities.get(t)}},{key:"getEntities",value:function(){return this._entities.values()}},{key:"createEntity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createId(),e=new vu(this,t);return this._entities.set(t,e),e}},{key:"destroyEntity",value:function(t){var e=this.getEntity(t);e&&e.destroy()}},{key:"destroyEntities",value:function(){this._entities.forEach((function(t){t.destroy()}))}},{key:"destroy",value:function(){this.destroyEntities(),this._id=0,this._queries=[],this._entities=new Map}},{key:"createQuery",value:function(t){var e=new du(this,t);return this._queries.push(e),e}},{key:"createPrefab",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.engine._prefabs.create(this,t,e)}},{key:"serialize",value:function(t){var e=[];return(t||this._entities).forEach((function(t){e.push(t.serialize())})),{entities:e}}},{key:"deserialize",value:function(t){var e,n=Pn(t.entities);try{for(n.s();!(e=n.n()).done;){var u=e.value;this._createOrGetEntityById(u.id)}}catch(t){n.e(t)}finally{n.f()}var r,o=Pn(t.entities);try{for(o.s();!(r=o.n()).done;){var i=r.value;this._deserializeEntity(i)}}catch(t){o.e(t)}finally{o.f()}}},{key:"_createOrGetEntityById",value:function(t){return this.getEntity(t)||this.createEntity(t)}},{key:"_deserializeEntity",value:function(t){var e=this,n=t.id,u=jn(t,["id"]),r=this._createOrGetEntityById(n);r._qeligible=!1,Object.entries(u).forEach((function(t){var n=On(t,2),u=n[0],o=n[1],i=Gn(u),a=e.engine._components.get(i);a.allowMultiple?Object.values(o).forEach((function(t){r.add(a,t)})):r.add(a,o)})),r._qeligible=!0,r._candidacy()}},{key:"_candidate",value:function(t){this._queries.forEach((function(e){return e.candidate(t)}))}},{key:"_destroyed",value:function(t){return this._entities.delete(t)}}]),t}(),_u=function(){function t(){In(this,t),Xn(this,"_components",new Kn),Xn(this,"_prefabs",new au(this))}return Un(t,[{key:"registerComponent",value:function(t){this._components.register(t)}},{key:"registerPrefab",value:function(t){this._prefabs.register(t)}},{key:"createWorld",value:function(){return new gu(this)}},{key:"destroyWorld",value:function(t){t.destroy()}}]),t}(),Au=n(4),Cu={entitiesAtLocation:{}},Eu=function(t,e,n){Cu[t][e]||(Cu[t][e]=new Set),Cu[t][e].add(n)},mu=function(t,e,n){Cu[t][e]&&Cu[t][e].has(n)&&Cu[t][e].delete(n)},bu=function(t,e,n){if(Cu[t][e])return n?Cu[t][e].get(n):Cu[t][e]},Fu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,2,3,4,5,6];return wu(t,1,e)},Bu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,2,3,4,5,6];return wu(t,2,e)},wu=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,2,3,4,5,6],u=[],r=1;r<7;r++)t[r]&&t[r]==e&&n.includes(r)&&(console.log("found match"),u.push(r));return console.log(t),console.log(u),console.log("match:"+e),u},xu=function(t){var e=t;return"string"!=typeof e&&(e=Su(e)),e},ku=function(t){var e=t.split(",");return{x:parseInt(e[0],10),y:parseInt(e[1],10)}},Su=function(t){var e=t.x,n=t.y;return"".concat(e,",").concat(n)};function Ou(t){return function(t){if(Array.isArray(t))return ju(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ju(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ju(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var Pu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Fu(n)},onUse:function(t,e){console.log("used"),console.log(t),console.log(t.abilityPhase.phase),Wu(e),e.fireEvent("gain-movement",3),e.fireEvent("exhaust-selected")}},Ru={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Fu(n)},onUse:function(t,e){for(var n=Wu(e),u=0,r=1;r<7;r++)n[r]&&1==n[r]&&(u=r);e.fireEvent("gain-movement",u),e.fireEvent("exhaust-selected")}},Tu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Bu(n)},onUse:function(t,e){e.fireEvent("gain-dodge",1),e.fireEvent("exhaust-selected")}},Mu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(t),console.log(t.abilityTarget.coords);var u=Nu(t,e,n);u.forEach((function(t){console.log(t),console.log(n.x+","+n.y);var e=to.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(Ar),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},Iu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(t){console.log(t);var e=to.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(_r),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},zu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(t){console.log(t);var e=to.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(_r),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},Uu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Bu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(e){console.log(e);var u=to.createEntity();u.add(ar,{x:n.x+e[0],y:n.y+e[1]}),u.add(_r),u.add(Er,{dmg:t.abilityDamage.dmg})})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},Lu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Bu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(e){console.log(e);var u=to.createEntity();u.add(ar,{x:n.x+e[0],y:n.y+e[1]}),u.add(Ar),u.add(Er,{dmg:t.abilityDamage.dmg})})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}};var Wu=function(t){for(var e=[],n=0;n<t.die.length;n++)t.die[n].selected&&!t.die[n].exhausted&&e.push(t.die[n].number);e.sort();var u={};return e.forEach((function(t){u[t]=(u[t]||0)+1})),u},Nu=function(t,e,n){var u=n.x-e.position.x,r=n.y-e.position.y,o=t.abilityTarget.coords;return console.log("before rotate"),console.log(o),console.log("direction"),r<=-1?console.log("up"):r>=1?(console.log("down"),o=Hu(o)):u<=-1?(console.log("left"),o=Yu(o)):u>=1&&(console.log("right"),o=Xu(o)),console.log("after rotate"),console.log(o),o},Xu=function(t){var e=[];return t.forEach((function(t){var n=[];n.push(t[1]),n.push(t[0]),n[0]=-1*n[0],n[1]=1*n[1],e.push(n)})),e},Yu=function(t){var e=[];return t.forEach((function(t){var n=[];n.push(t[1]),n.push(t[0]),n[1]=-1*n[1],e.push(n)})),e},Hu=function(t){var e=[];return t.forEach((function(t){var n=[];(n=Ou(t))[0]=-1*n[0],n[1]=-1*n[1],e.push(n)})),e};function qu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var u=0,r=function(){};return{s:r,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function $u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Gu(t){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ku(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Qu(t,e,n){return e&&Ku(t.prototype,e),n&&Ku(t,n),t}function Vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ju(t,e)}function Ju(t,e){return(Ju=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=nr(t);if(e){var r=nr(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return er(this,n)}}function er(t,e){return!e||"object"!==Gu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(rr,"properties",{color:"#ff0077",char:"?",background:"#000"});var or=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(or,"properties",{name:"No Name",description:"nothing"});var ir=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),ar=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){var t="".concat(this.entity.position.x,",").concat(this.entity.position.y);Eu("entitiesAtLocation",t,this.entity.id)}},{key:"onDestroyed",value:function(){var t="".concat(this.x,",").concat(this.y);mu("entitiesAtLocation",t,this.entity.id)}}]),n}(cu);ur(ar,"properties",{x:0,y:0});var cr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTakeDamage",value:function(t){console.log("i've been hit!"),this.current-=t.data.amount,console.log(this),console.log("ow"),this.current<=0&&(this.entity.remove(this.entity.position),this.entity.add(Cr)),t.handle()}}]),n}(cu);ur(cr,"properties",{max:4,current:4});var sr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onGainMovement",value:function(t){this.movement+=t.data,console.log("new movement: "+this.movement),t.handle()}},{key:"onGainDodge",value:function(t){this.dodge+=t.data,t.handle()}},{key:"onTurnEnd",value:function(t){console.log("ended in move"),this.movement=0,this.dodge=0}},{key:"onChangePosition",value:function(t){this.x=t.data.x,this.y=t.data.y,t.handle()}},{key:"onAttemptMove",value:function(t){this.movement<=0&&this.dodge<=0?t.handle():function(t,e){console.log("check here"),console.log(t),console.log(e);var n=t.x,u=t.y;n=e.position.x+n,u=e.position.y+u;var r=[],o=[];console.log("".concat(n,",").concat(u));var i=bu("entitiesAtLocation","".concat(n,",").concat(u));console.log(i);var a,c=qu(i);try{for(c.s();!(a=c.n()).done;){var s=a.value;to.getEntity(s).isBlocking&&r.push(s)}}catch(t){c.e(t)}finally{c.f()}if(r.length>=1)return console.log("blocked"),!1;var l,f=qu(bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})));try{for(f.s();!(l=f.n()).done;){var h=l.value;console.log(to.getEntity(h)),to.getEntity(h).fastAttack&&o.push(e)}}catch(t){f.e(t)}finally{f.f()}return o.length>=1&&e.movement.dodge<1?(console.log("no dodge"),!1):(mu("entitiesAtLocation","".concat(e.position.x,",").concat(e.position.y),e.id),Eu("entitiesAtLocation","".concat(n,",").concat(u),e.id),e.position.x=n,e.position.y=u,!0)}(this,this.entity)&&(this.dodge>0?this.dodge=Math.max(0,this.dodge-1):this.movement-=1);this.x=0,this.y=0,t.handle()}}]),n}(cu);ur(sr,"properties",{movement:0,dodge:0,x:0,y:0});var lr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTurnStart",value:function(t){this.entity.fireEvent("gain-movement",this.amount)}}]),n}(cu);ur(lr,"properties",{amount:3});var fr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(fr,"properties",{max:0,current:0});var hr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){for(var t=0;t<this.max;t++)this.entity.add(pr);this.onRollDice()}},{key:"onTurnEnd",value:function(t){console.log("doing turn end"),this.current=Math.min(this.max,this.current+Math.max(0,this.regen-this.used)),this.used=0,this.onRollDice()}},{key:"onRollDice",value:function(){for(var t=0;t<this.max;t++)this.entity.die[t].selected=!1,this.entity.die[t].exhausted=t>=this.current,this.entity.die[t].number=Object(Au.random)(1,6)}},{key:"onUseStamina",value:function(t){this.current=Math.max(this.current-t.data,0)}},{key:"onAiUseStamina",value:function(t){this.used+=t.data}},{key:"onUpdateStamina",value:function(){}}]),n}(cu);ur(hr,"properties",{max:5,current:5,used:0,regen:4});var pr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onExhaustSelected",value:function(t){this.selected&&(this.entity.stamina.used++,this.entity.stamina.current--,this.exhausted=!0,this.selected=!1,this.entity.fireEvent("update-stamina"))}}]),n}(cu);ur(pr,"allowMultiple",!0),ur(pr,"properties",{number:0,selected:!1,exhausted:!1});var Dr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTurnEnd",value:function(t){this.destroy()}}]),n}(cu),yr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),vr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(vr,"properties",{enemy:!0});var dr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),gr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),_r=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Ar=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Cr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Er=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Er,"properties",{dmg:1});var mr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){var t=[];this.abilities.forEach((function(e){t.push(to.createPrefab(e))})),this.abilities=t}}]),n}(cu);ur(mr,"properties",{abilities:[]});var br=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(br,"properties",{coords:[[0,0]]});var Fr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Fr,"properties",{allowed:[1,2,3,4,5,6]});var Br=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Br,"properties",{function:Pu});var wr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(wr,"properties",{phase:"Any"});var xr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(xr,"properties",{speed:"Instant"});var kr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(kr,"properties",{amount:1});var Sr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Sr,"properties",{smallName:"abl"});var Or=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Or,"properties",{range:1});var jr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(jr,"properties",{dmg:1});var Pr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Rr={name:"Tile",components:[{type:"Appearance"},{type:"Description"},{type:"LayerMap"}]},Tr={name:"Being",components:[{type:"Appearance"},{type:"Description"},{type:"Health"},{type:"IsBlocking"},{type:"LayerUnit"},{type:"Movement"},{type:"Armour"},{type:"Stamina"},{type:"AbilityList"}]},Mr={name:"Ability",components:[{type:"Description",properties:{name:"Generic Ability",description:"used for testing as base template"}},{type:"AbilityPhase"},{type:"AbilitySpeed"},{type:"AbilityStaminaCost"},{type:"AbilityFunction"},{type:"AbilitySmallName"},{type:"AbilityTarget"},{type:"AbilityAllowedDie"},{type:"AbilityRange"},{type:"AbilityDamage"}]},Ir={name:"Wall",inherit:["Tile"],components:[{type:"IsBlocking"},{type:"Appearance",properties:{char:"#",color:"#AAA"}},{type:"Description",properties:{name:"wall"}}]},zr={name:"Floor",inherit:["Tile"],components:[{type:"Appearance",properties:{char:".",color:"#AAA"}},{type:"Description",properties:{name:"wall"}}]},Ur={name:"PlayerBeing",inherit:["Being"],components:[{type:"IsPlayerControlled"},{type:"Apperance",properties:{char:"@"}},{type:"AbilityList",properties:{abilities:["AbilityMove","AbilityDodge","AbilitySwordJab","AbilitySwordSwing"]}}]},Lr={name:"Mob",inherit:["Being"],components:[{type:"Ai"},{type:"IsEnemy"},{type:"GainMovement"}]},Wr={name:"Goblin",inherit:["Mob"],components:[{type:"Appearance",properties:{char:"g",color:"green"}},{type:"Description",properties:{name:"Goblin",description:"A lowly Goblin"}},{type:"AbilityList",properties:{abilities:["AbilitySpearThrust"]}},{type:"Health",properties:{max:2,current:2}},{type:"Stamina",properties:{max:2,current:2,used:0,regen:2}}]},Nr={name:"Orc Warrior",inherit:["Mob"],components:[{type:"Appearance",properties:{char:"o",color:"green"}},{type:"Description",properties:{name:"Orc Warrior",description:"A fearsome Orc wielding axees"}},{type:"AbilityList",properties:{abilities:["AbilityDoubleAxeSwing","AbilityAxeDecapitate"]}},{type:"Health",properties:{max:8,current:8}},{type:"Stamina",properties:{max:4,current:4,used:0,regen:4}}]},Xr={name:"AbilityMove",inherit:["Ability"],components:[{type:"Description",properties:{name:"Move",description:"exhausts 1 die to give it's face value for movement points"}},{type:"AbilityFunction",properties:{function:Ru}},{type:"AbilitySmallName",properties:{smallName:"MOV"}}]},Yr={name:"AbilityDodge",inherit:["Ability"],components:[{type:"Description",properties:{name:"Dodge",description:"exhausts a pair to give 1 dodge point"}},{type:"AbilityFunction",properties:{function:Tu}},{type:"AbilitySmallName",properties:{smallName:"DDG"}},{type:"AbilityStaminaCost",properties:{amount:2}}]},Hr={name:"AbilitySpearThrust",inherit:["Ability"],components:[{type:"Description",properties:{name:"Spear Thrust",description:"exhausts 5,6 to do a slow attack on a 2x1 1 dmg"}},{type:"AbilityFunction",properties:{function:zu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"STH"}},{type:"AbilityTarget",properties:{coords:[[0,0],[0,-1]]}},{type:"AbilityAllowedDie",properties:{allowed:[5,6]}},{type:"AbilityRange",properties:{range:2}}]},qr={name:"AbilitySwordJab",inherit:["Ability"],components:[{type:"Description",properties:{name:"Sword Jab",description:"exhausts a 4,5,6 to do a slow attack on a single tile for 1 dmg"}},{type:"AbilityFunction",properties:{function:Mu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"SJB"}},{type:"AbilityTarget",properties:{coords:[[0,0]]}},{type:"AbilityAllowedDie",properties:{allowed:[4,5,6]}},{type:"AbilityEndsTurn"}]},$r={name:"AbilitySwordSwing",inherit:["Ability"],components:[{type:"Description",properties:{name:"Sword Swing",description:"exhausts 6 to do a slow attack on a T shape for 1 dmg"}},{type:"AbilityFunction",properties:{function:Iu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"SSW"}},{type:"AbilityTarget",properties:{coords:[[-1,0],[0,0],[1,0],[0,-1]]}},{type:"AbilityAllowedDie",properties:{allowed:[6]}},{type:"AbilityEndsTurn"}]},Gr={name:"AbilityDoubleAxeSwing",inherit:["Ability"],components:[{type:"Description",properties:{name:"Double Axe Swing",description:"swings both your axes in two massive arcs dealing 2 dmg"}},{type:"AbilityFunction",properties:{function:Uu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"DAS"}},{type:"AbilityTarget",properties:{coords:[[-1,0],[0,0],[1,0],[-1,1],[1,1]]}},{type:"AbilityAllowedDie",properties:{allowed:[5,6]}},{type:"AbilityStaminaCost",properties:{amount:3}},{type:"AbilityDamage",properties:{dmg:2}},{type:"AbilityEndsTurn"}]},Kr={name:"AbilityAxeDecapitate",inherit:["Ability"],components:[{type:"Description",properties:{name:"Axe Decapitate",description:"Swings an axe directly at the targets head for 3 dmg"}},{type:"AbilityFunction",properties:{function:Lu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"DAC"}},{type:"AbilityTarget",properties:{coords:[[0,0]]}},{type:"AbilityAllowedDie",properties:{allowed:[6]}},{type:"AbilityStaminaCost",properties:{amount:4}},{type:"AbilityDamage",properties:{dmg:3}},{type:"AbilityEndsTurn"}]},Qr=new _u,Vr=Qr.createWorld();Zr(),Jr();var Zr=function(){console.log("got here first"),Qr.registerComponent(rr),Qr.registerComponent(fr),Qr.registerComponent(or),Qr.registerComponent(cr),Qr.registerComponent(ir),Qr.registerComponent(Cr),Qr.registerComponent(yr),Qr.registerComponent(vr),Qr.registerComponent(dr),Qr.registerComponent(gr),Qr.registerComponent(sr),Qr.registerComponent(ar),Qr.registerComponent(hr),Qr.registerComponent(pr),Qr.registerComponent(_r),Qr.registerComponent(Ar),Qr.registerComponent(Er),Qr.registerComponent(Dr),Qr.registerComponent(mr),Qr.registerComponent(Br),Qr.registerComponent(wr),Qr.registerComponent(xr),Qr.registerComponent(kr),Qr.registerComponent(Sr),Qr.registerComponent(br),Qr.registerComponent(Fr),Qr.registerComponent(lr),Qr.registerComponent(Or),Qr.registerComponent(jr),Qr.registerComponent(Pr)},Jr=function(){Qr.registerPrefab(Rr),Qr.registerPrefab(Tr),Qr.registerPrefab(Ir),Qr.registerPrefab(zr),Qr.registerPrefab(Ur),Qr.registerPrefab(Lr),Qr.registerPrefab(Wr),Qr.registerPrefab(Nr),Qr.registerPrefab(Mr),Qr.registerPrefab(Xr),Qr.registerPrefab(Yr),Qr.registerPrefab(Hr),Qr.registerPrefab(qr),Qr.registerPrefab($r),Qr.registerPrefab(Gr),Qr.registerPrefab(Kr)},to=Vr,eo=function(){kn.style.visibility="visible";var t="#".repeat(Bn.width);Sn.drawText(0,0,t)},no=function(t){var e="";return e+="\n"+t.description.name,e+="\n"+t.description.description,e+="\n"+t.abilityPhase.phase,e+="\n"+t.abilityPhase.speed};function uo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ro(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var oo=to.createQuery({all:[ar,rr,dr]}),io=to.createQuery({all:[ar,rr,gr]}),ao=to.createQuery({all:[ar,_r]}),co=to.createQuery({all:[ar,Ar]}),so=to.createQuery({all:[ar,rr,gr,vr],none:[Cr]}),lo="",fo=["q","w","e","r","t","y"],ho=function(t,e,n){wn.drawText(e,n,t)},po=function(t,e,n){wn.draw(e,n,t.appearance.char,t.appearance.color,t.appearance.background||"black")},Do=function(){var t;"Help"==So?function(){eo();Sn.drawText(2,5,"Welcome to my bad game, this is just placeholder help text for now\n\nEnemy attacks at end of player defend turn\nyou need to use dodge to get out of red attacks\nYou regen 4 stamina - the amount used this turn\nplayer attacks resolve at end of player attack turn\n\nHOTKEYS:\nArrow Keys to move\nEnter to end turn / confirm target\nn: select next character\n1-6 are to select stamina die\nqwerty selects abilites\nshift+qwerty for info\nz: shows enemy numbers\nc: shows dmg that will hit tile\nEscape to exit this and most menus")}():"AbilityInfo"==So?function(t){eo();var e=no(t);Sn.drawText(2,5,e)}(lo):"EnemyNumbers"==So?(t=1,so.get().forEach((function(e){wn.draw(An.x+e.position.x,An.y+e.position.y,t.toString()),t++}))):"DamageShow"==So?function(){var t=[];t.push.apply(t,ao.get()),t.push.apply(t,co.get()),console.log(t);var e,n=[];t.forEach((function(t){var e=xu({x:t.position.x,y:t.position.y});n[e]||(n[e]=0),n[e]+=t.dmgTile.dmg})),console.log(n);for(var u=0,r=Object.entries(n);u<r.length;u++){var o=uo(r[u],2),i=o[0],a=o[1];console.log("".concat(i,": ").concat(a));var c=(e=void 0,"string"==typeof(e=i)&&(e=ku(e)),e);wn.draw(An.x+c.x,An.y+c.y,a)}}():(wn.clear(),oo.get().forEach((function(t){po(t,t.position.x+An.x,t.position.y+An.y)})),io.get().forEach((function(t){po(t,t.position.x+An.x,t.position.y+An.y)})),function(){if(Io){ho("Active:",En.x,En.y),po(Io,En.x+"Active:".length,En.y),ho("Hp:"+Io.health.current.toString(),En.x,En.y+1),ho("Stam:"+Io.stamina.current.toString()+"/"+Io.stamina.max.toString(),En.x,En.y+2),ho("StamRgn:"+Math.max(0,4-Io.stamina.used).toString(),En.x,En.y+3),ho("Move:"+Io.movement.movement.toString(),En.x,En.y+4),ho("Dodge:"+Io.movement.dodge.toString(),En.x,En.y+5)}}(),function(){if(Io)for(var t=0;t<Io.die.length;t++){var e="white";Io.die[t].selected?e="green":Io.die[t].exhausted&&(e="grey"),ho((t+1).toString()+"| |",mn.x+5*t,mn.y),wn.draw(2+mn.x+5*t,mn.y,Io.die[t].number.toString(),"black",e)}}(),function(){for(var t=0;t<Io.abilityList.abilities.length;t++){var e="gray",n="PlayerTurnDefend"==So?"Defend":"Attack";("Any"==Io.abilityList.abilities[t].abilityPhase.phase||Io.abilityList.abilities[t].abilityPhase.phase==n)&&Io.abilityList.abilities[t].abilityFunction.function.canUse(Io.abilityList.abilities[t],Io).length>0&&(e="white");var u=Io.abilityList.abilities[t].abilitySmallName.smallName;ho(fo[t]+"[%c{"+e+"}"+u+"%c{}]",bn.x+7*t,bn.y)}}(),ho(So,Fn.x,Fn.y),wn.draw(0,0,"O"),wn.draw(0,_n-1,"O"),wn.draw(gn-1,0,"O"),wn.draw(gn-1,_n-1,"O"),function(){var t=1;so.get().forEach((function(e){var n=""+t;n+="%c{"+e.appearance.color+"} "+e.description.name+" "+e.health.current,ho(n,Cn.x,Cn.y+t-1),t++}))}(),ao.get().forEach((function(t){var e,n=bu("entitiesAtLocation",xu({x:t.position.x,y:t.position.y})),u=!1;n.forEach((function(n){var r=to.getEntity(n);r.has(gr)?(u=!0,wn.draw(t.position.x+An.x,t.position.y+An.y,r.appearance.char,r.appearance.color,"yellow")):r.has(dr)&&(e=r),!u&&e&&wn.draw(t.position.x+An.x,t.position.y+An.y,e.appearance.char,e.appearance.color,"yellow")}))})),co.get().forEach((function(t){var e,n=bu("entitiesAtLocation",xu({x:t.position.x,y:t.position.y})),u=!1;n.forEach((function(n){var r=to.getEntity(n);r.has(gr)?(u=!0,wn.draw(t.position.x+An.x,t.position.y+An.y,r.appearance.char,r.appearance.color,"red")):r.has(dr)&&(e=r),!u&&e&&wn.draw(t.position.x+An.x,t.position.y+An.y,e.appearance.char,e.appearance.color,"red")}))})),console.log(So),"examine"!==So&&"targeting"!==So||(console.log("need to show target"),console.log(Mo),po(Mo,Mo.position.x+An.x,Mo.position.y+An.y)))},yo=to.createQuery({all:[ar,rr,dr]}),vo=new Je.Arena(An.width,An.height),go=function(){var t=_o();return Object(Au.sample)(t)},_o=function(){var t=[];return yo.get().forEach((function(e){e.isBlocking||1==bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})).size&&t.push(e)})),t};function Ao(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Co(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Co(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var Eo=to.createQuery({all:[ar,rr,gr],none:[vr]}),mo=function(t,e){return new dn.Dijkstra(t,e,wo,{topology:4})},bo=function(t){var e=mo(t.position.x,t.position.y);console.log("path finder"),console.log(e);var n=Fo(e,t);return console.log(n),n.pop(),n},Fo=function(t,e){var n;return e.has(vr)&&(console.log("enemies to check: "+Eo.get().length),Eo.get().forEach((function(e){var u=[];t.compute(e.position.x,e.position.y,(function(t,e){u.push([t,e])})),(!n||u.length<n.length)&&(n=u)}))),n},Bo=function(t,e){var n=Ao(t).slice(0);if(console.log("in range check"),1==n.length)return console.log("path short"),!0;var u=[],r=[];return n.forEach((function(t){u.push(t[0]),r.push(t[1])})),console.log(u.toString()),console.log(r.toString()),e.x==n[0][0]||e.y==n[0][1]},wo=function(t,e){var n=bu("entitiesAtLocation",xu({x:t,y:e}));return n?(n.forEach((function(t){if(to.getEntity(t).has(ir))return 0})),1):0},xo=function(t,e){var n=!1;e.shuffle(),console.log("Doing mob attack: ");for(var u=0;u<2;u++){var r=bo(t);e.forEach((function(e){if(console.log(r.toString()),console.log(r.length),r.length>=1&&r.length<=e.abilityRange.range&&!n&&Bo(r,{x:t.position.x,y:t.position.y})){console.log("In Range");var u=r.pop();console.log(u.toString()),e.abilityFunction.function.onUse(e,t,{x:u[0],y:u[1]}),t.fireEvent("use-stamina",e.abilityStaminaCost.amount),t.fireEvent("ai-use-stamina",e.abilityStaminaCost.amount),n=!0}})),r.length>1&&!n&&(console.log("Not In Range so we move"),r.length>1&&(ko(t,r),t.fireEvent("use-stamina",1),t.fireEvent("ai-use-stamina",1)))}},ko=function(t,e){t.fireEvent("gain-movement",2);for(var n=t.movement.movement,u=0;u<n;u++)if(e&&e.length>1){console.log("remaining target"),console.log(e.toString());var r=e.pop();console.log("Next Step"+r.toString()),t.movement.x=r[0]-t.position.x,t.movement.y=r[1]-t.position.y,t.fireEvent("attempt-move")}};Object.defineProperty(Array.prototype,"shuffle",{value:function(){for(var t=this.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),n=[this[e],this[t]];this[t]=n[0],this[e]=n[1]}return this}});var So="setup",Oo="",jo="hi",Po="hi",Ro=function(t){jo=t},To=function(t){Po=t},Mo=to.createEntity("targetEntity");Mo.add(rr,{char:"X",color:"black",background:"green"});var Io,zo=0,Uo=null,Lo=to.createQuery({all:[ar,rr,gr,yr],none:[Cr]}),Wo=to.createQuery({all:[ar,rr,gr],none:[vr]}),No=to.createQuery({all:[ar,rr,gr,vr],none:[Cr]}),Xo=to.createQuery({all:[Er]}),Yo=function(){if("PlayerTurnDefend"==So||"PlayerTurnAttack"==So)if("?"===Uo)Go("Help"),Do();else if("n"===Uo)console.log("input: "+Uo),Io=Jo(),Do();else if("1"===Uo||"2"===Uo||"3"===Uo||"4"===Uo||"5"===Uo||"6"===Uo||"7"===Uo||"8"===Uo||"9"===Uo)console.log("dice swap"),Uo-1<Io.die.length&&(console.log(Io.die[Uo-1]),Io.die[Uo-1].exhausted||(Io.die[Uo-1].selected=!Io.die[Uo-1].selected),Do());else if("ArrowUp"===Uo)Vo();else if("ArrowRight"===Uo)Vo();else if("ArrowDown"===Uo)Vo();else if("ArrowLeft"===Uo)Vo();else if("q"===Uo||"w"===Uo||"e"===Uo||"r"===Uo||"t"===Uo||"y"===Uo){if(console.log("ability use"),(u=Ho(Uo))<Io.abilityList.abilities.length){var t=Io.abilityList.abilities[u],e=t.abilityFunction.function.canUse(t,Io),n="PlayerTurnDefend"==So?"Defend":"Attack";e.length>0&&("Any"==t.abilityPhase.phase||t.abilityPhase.phase==n)&&(t.abilityFunction.function.onTarget?t.abilityFunction.function.onTarget(t,Io):t.abilityFunction.function.onUse(t,Io,qo()))}Do()}else if("Q"===Uo||"W"===Uo||"E"===Uo||"R"===Uo||"T"===Uo||"Y"===Uo){console.log("ability info");var u=Ho(Uo);Go("AbilityInfo"),console.log(u),console.log(Io.abilityList.abilities[u]),r=Io.abilityList.abilities[u],lo=r,Do()}else"Enter"==Uo?(console.log("Enter"),"PlayerTurnDefend"==So?(ni(),So="PlayerTurnAttack"):"PlayerTurnAttack"==So&&(ui(),ri(Wo.get()),So="EnemyTurnDefend"),Do()):"x"===Uo?($o("examine"),Do()):"c"===Uo?(Go("DamageShow"),Do()):"z"===Uo?(Go("EnemyNumbers"),Do()):"p"===Uo&&console.log(Io);else"examine"===So||"targeting"===So?"Escape"===Uo?(Ko(),Do()):"ArrowUp"===Uo||"ArrowRight"===Uo||"ArrowDown"===Uo||"ArrowLeft"===Uo?(Zo(),Do()):"Enter"===Uo&&"targeting"===So&&(console.log(jo),jo.abilityFunction.function.onUse(jo,Po,qo()),Ko(),Do()):"Help"!==So&&"AbilityInfo"!=So&&"DamageShow"!=So&&"EnemyNumbers"!=So||"Escape"===Uo&&(Sn.clear(),kn.style.visibility="hidden",Qo(),Do());var r;Uo=null},Ho=function(t){switch(Uo){case"q":case"Q":return 0;case"w":case"W":return 1;case"e":case"E":return 2;case"r":case"R":return 3;case"t":case"T":return 4;case"y":case"Y":return 5;default:return 0}},qo=function(){return Mo.has(ar)?{x:Mo.position.x,y:Mo.position.y}:{x:0,y:0}},$o=function(t){Go(t),Mo.add(ar,{x:Io.position.x,y:Io.position.y})},Go=function(t){Oo=So,So=t},Ko=function(){Qo(),Mo.remove(Mo.position)},Qo=function(){So=Oo},Vo=function(){"ArrowUp"===Uo&&(Io.movement.y=-1),"ArrowRight"===Uo&&(Io.movement.x=1),"ArrowDown"===Uo&&(Io.movement.y=1),"ArrowLeft"===Uo&&(Io.movement.x=-1),Io.fireEvent("attempt-move"),Do()},Zo=function(){"ArrowUp"===Uo?(Mo.position.y=Io.position.y+-1,Mo.position.x=Io.position.x):"ArrowRight"===Uo?(Mo.position.x=Io.position.x+1,Mo.position.y=Io.position.y):"ArrowDown"===Uo?(Mo.position.y=Io.position.y+1,Mo.position.x=Io.position.x):"ArrowLeft"===Uo&&(Mo.position.x=Io.position.x+-1,Mo.position.y=Io.position.y)},Jo=function(){return zo+1>=Lo.get().length?zo=0:zo++,Lo.get()[zo]};document.addEventListener("keydown",(function(t){Uo=t.key}));var ti=function(){var t=to.createPrefab("PlayerBeing",{appearance:{char:"@",color:"green"}}),e=go();t.add(ar,{x:e.position.x,y:e.position.y}),Io=t;var n=to.createPrefab("PlayerBeing",{appearance:{char:"@",color:"purple"}});e=go(),n.add(ar,{x:e.position.x,y:e.position.y}),Object(Au.times)(6,(function(){e=go(),to.createPrefab("Goblin").add(ar,{x:e.position.x,y:e.position.y})})),e=go(),to.createPrefab("Orc Warrior").add(ar,{x:e.position.x,y:e.position.y})},ei=function(){console.log("enemy attacks"),No.get().forEach((function(t){var e,n,u;n=[],u=(e=t).stamina.current,console.log("AI usable stamina"),console.log(e),console.log(u),e.abilityList.abilities.forEach((function(t){("Any"==t.abilityPhase.phase||"Attack"==t.abilityPhase.phase)&&t.abilityStaminaCost.amount<=e.stamina.current&&n.push(t)})),console.log("ai usable abilities"),console.log(n),xo(e,n),console.log("pathfinding")}))},ni=function(){ui()},ui=function(){console.log("process dmg"),console.log(Xo.get());var t=[];Xo.get().forEach((function(e){bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})).forEach((function(t){var n=to.getEntity(t);console.log(n),n.layerUnit&&n.fireEvent("take-damage",{amount:e.dmgTile.dmg})})),t.push(e)})),t.forEach((function(t){t.destroy()})),console.log(Xo.get()),console.log("end process dmg")},ri=function(t){console.log("ending turn for "),t.forEach((function(t){console.log(t),t.fireEvent("turn-end",t)}))};vo.create((function(t,e,n){n?to.createPrefab("Wall").add(ar,{x:t,y:e}):to.createPrefab("Floor").add(ar,{x:t,y:e})})),ti(),go(),Do();requestAnimationFrame((function t(){"setup"==So?So="EnemyTurnDefend":"EnemyTurnDefend"==So?(So="EnemyTurnAttack",Do()):"EnemyTurnAttack"==So?(ei(),ri(No.get()),So="PlayerTurnDefend",Do()):"PlayerTurnDefend"==So||"PlayerTurnAttack"==So?Yo():"examine"!=So&&"targeting"!=So&&"Help"!=So&&"AbilityInfo"!=So&&"DamageShow"!=So&&"EnemyNumbers"!=So||Yo(),requestAnimationFrame(t)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9iYWNrZW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvdGVybS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9oZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9yZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvdGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9kaXNwbGF5L3RpbGUtZ2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvdGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9kaXNwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2FyZW5hLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9kdW5nZW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9mZWF0dXJlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvdW5pZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZGlnZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9lbGxlcm1hemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9jZWxsdWxhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZGl2aWRlZG1hemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2ljZXltYXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9yb2d1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9ub2lzZS9zaW1wbGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3BhdGgvcGF0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9wYXRoL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3BhdGgvZGlqa3N0cmEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcGF0aC9hc3Rhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2NhbWVsY2FzZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwvc3RyaW5nLXV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Db21wb25lbnRSZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2RlZXBtZXJnZS9kaXN0L2Nqcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYlJlZ2lzdHJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvRW50aXR5RXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlsL2JpdC11dGlsLmpzIiwid2VicGFjazovLy8uLi9zcmMvRW50aXR5LmpzIiwid2VicGFjazovLy8uLi9zcmMvUXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Xb3JsZC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0VuZ2luZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUvY2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMveWFodHplZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvYWJpbGl0aWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvbW92ZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL3ByZWZhYi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUvZWNzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9oZWxwTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3lzdGVtcy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL2R1bmdlb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvcGF0aGZpbmRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvYWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRlJBQyIsIlJORyIsInRoaXMiLCJfc2VlZCIsIl9zMCIsIl9zMSIsIl9zMiIsIl9jIiwic2VlZCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwibWF4IiwiTWF0aCIsIm1pbiIsImZsb29yIiwiZ2V0VW5pZm9ybSIsInUiLCJ2IiwibWVhbiIsInN0ZGRldiIsImdhdXNzIiwic3FydCIsImxvZyIsImFycmF5IiwibGVuZ3RoIiwicmVzdWx0IiwiY2xvbmUiLCJzbGljZSIsImluZGV4IiwiaW5kZXhPZiIsImdldEl0ZW0iLCJwdXNoIiwic3BsaWNlIiwiZGF0YSIsInRvdGFsIiwiaWQiLCJyYW5kb20iLCJwYXJ0Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImdldFN0YXRlIiwic2V0U2VlZCIsIkRhdGUiLCJub3ciLCJtb2QiLCJ4IiwiY2xhbXAiLCJ2YWwiLCJjYXBpdGFsaXplIiwic3RyaW5nIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJmb3JtYXQiLCJ0ZW1wbGF0ZSIsImFyZ3MiLCJtYXAiLCJyZXBsYWNlciIsIm1hdGNoIiwiZ3JvdXAxIiwiZ3JvdXAyIiwib2JqIiwicGFydHMiLCJzcGxpdCIsInNoaWZ0IiwibWV0aG9kIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlZCIsImFwcGx5IiwiZmlyc3QiLCJyZXBsYWNlIiwiZnJvbVN0cmluZyIsInN0ciIsImNhY2hlZCIsIkNBQ0hFIiwidmFsdWVzIiwicGFyc2VJbnQiLCJhZGQiLCJjb2xvcjEiLCJjb2xvcnMiLCJqIiwiYWRkXyIsIm11bHRpcGx5Iiwicm91bmQiLCJtdWx0aXBseV8iLCJpbnRlcnBvbGF0ZSIsImNvbG9yMiIsImZhY3RvciIsImxlcnAiLCJpbnRlcnBvbGF0ZUhTTCIsImhzbDEiLCJyZ2IyaHNsIiwiaHNsMiIsImhzbDJyZ2IiLCJsZXJwSFNMIiwicmFuZG9taXplIiwiY29sb3IiLCJkaWZmIiwiQXJyYXkiLCJnZXROb3JtYWwiLCJnIiwiYiIsImgiLCJodWUycmdiIiwicSIsInRvUkdCIiwiY2xhbXBlZCIsImpvaW4iLCJ0b0hleCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJCYWNrZW5kIiwib3B0aW9ucyIsIl9vcHRpb25zIiwiRlVOQ19FUlJPUl9URVhUIiwiUExBQ0VIT0xERVIiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm9iamVjdFRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsIndlYWtNYXBUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJSZWdFeHAiLCJzb3VyY2UiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW1TdGFydCIsInJlV2hpdGVzcGFjZSIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzIiwicmVFc2NhcGVDaGFyIiwicmVFc1RlbXBsYXRlIiwicmVGbGFncyIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc0hvc3RDdG9yIiwicmVJc09jdGFsIiwicmVJc1VpbnQiLCJyZUxhdGluIiwicmVOb01hdGNoIiwicmVVbmVzY2FwZWRTdHJpbmciLCJyc0NvbWJvUmFuZ2UiLCJyc0NvbWJvTWFya3NSYW5nZSIsInJzQnJlYWtSYW5nZSIsInJzTWF0aE9wUmFuZ2UiLCJyc0FzdHJhbCIsInJzQnJlYWsiLCJyc0NvbWJvIiwicnNEaWdpdHMiLCJyc0RpbmdiYXQiLCJyc0xvd2VyIiwicnNNaXNjIiwicnNGaXR6IiwicnNOb25Bc3RyYWwiLCJyc1JlZ2lvbmFsIiwicnNTdXJyUGFpciIsInJzVXBwZXIiLCJyc01pc2NMb3dlciIsInJzTWlzY1VwcGVyIiwicmVPcHRNb2QiLCJyc1NlcSIsInJzRW1vamkiLCJyc1N5bWJvbCIsInJlQXBvcyIsInJlQ29tYm9NYXJrIiwicmVVbmljb2RlIiwicmVVbmljb2RlV29yZCIsInJlSGFzVW5pY29kZSIsInJlSGFzVW5pY29kZVdvcmQiLCJjb250ZXh0UHJvcHMiLCJ0ZW1wbGF0ZUNvdW50ZXIiLCJ0eXBlZEFycmF5VGFncyIsImNsb25lYWJsZVRhZ3MiLCJzdHJpbmdFc2NhcGVzIiwiZnJlZVBhcnNlRmxvYXQiLCJwYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwidHlwZXMiLCJyZXF1aXJlIiwiYmluZGluZyIsImUiLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImFycmF5RWFjaCIsImFycmF5RWFjaFJpZ2h0IiwiYXJyYXlFdmVyeSIsInByZWRpY2F0ZSIsImFycmF5RmlsdGVyIiwicmVzSW5kZXgiLCJhcnJheUluY2x1ZGVzIiwiYmFzZUluZGV4T2YiLCJhcnJheUluY2x1ZGVzV2l0aCIsImNvbXBhcmF0b3IiLCJhcnJheU1hcCIsImFycmF5UHVzaCIsIm9mZnNldCIsImFycmF5UmVkdWNlIiwiaW5pdEFjY3VtIiwiYXJyYXlSZWR1Y2VSaWdodCIsImFycmF5U29tZSIsImFzY2lpU2l6ZSIsImJhc2VQcm9wZXJ0eSIsImJhc2VGaW5kS2V5IiwiY29sbGVjdGlvbiIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJ1bmRlZmluZWQiLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJjdXJyZW50IiwiYmFzZVRpbWVzIiwiYmFzZVRyaW0iLCJ0cmltbWVkRW5kSW5kZXgiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwicHJvcHMiLCJjYWNoZUhhcyIsImNhY2hlIiwiaGFzIiwiY2hhcnNTdGFydEluZGV4Iiwic3RyU3ltYm9scyIsImNoclN5bWJvbHMiLCJjaGFyc0VuZEluZGV4IiwiY291bnRIb2xkZXJzIiwicGxhY2Vob2xkZXIiLCJkZWJ1cnJMZXR0ZXIiLCJlc2NhcGVIdG1sQ2hhciIsImVzY2FwZVN0cmluZ0NoYXIiLCJjaHIiLCJoYXNVbmljb2RlIiwidGVzdCIsIm1hcFRvQXJyYXkiLCJzaXplIiwiZm9yRWFjaCIsIm92ZXJBcmciLCJ0cmFuc2Zvcm0iLCJhcmciLCJyZXBsYWNlSG9sZGVycyIsInNldFRvQXJyYXkiLCJzZXQiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIl8iLCJydW5JbkNvbnRleHQiLCJjb250ZXh0IiwidWlkIiwiZGVmYXVsdHMiLCJwaWNrIiwiRXJyb3IiLCJTdHJpbmciLCJUeXBlRXJyb3IiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3R4Tm93IiwiY3R4U2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwiY2VpbCIsIm5hdGl2ZUZsb29yIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVJc0Zpbml0ZSIsImlzRmluaXRlIiwibmF0aXZlSm9pbiIsIm5hdGl2ZUtleXMiLCJuYXRpdmVNYXgiLCJuYXRpdmVNaW4iLCJuYXRpdmVOb3ciLCJuYXRpdmVQYXJzZUludCIsIm5hdGl2ZVJhbmRvbSIsIm5hdGl2ZVJldmVyc2UiLCJyZXZlcnNlIiwiRGF0YVZpZXciLCJNYXAiLCJQcm9taXNlIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJzeW1ib2xUb1N0cmluZyIsImxvZGFzaCIsImlzT2JqZWN0TGlrZSIsImlzQXJyYXkiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiYmFzZUF0IiwicGF0aHMiLCJza2lwIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJjb25zdHJ1Y3RvciIsImlucHV0IiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJDdG9yIiwiY2xvbmVBcnJheUJ1ZmZlciIsImRhdGFWaWV3IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwicmVnZXhwIiwiY2xvbmVSZWdFeHAiLCJzeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJiYXNlRGlmZmVyZW5jZSIsImluY2x1ZGVzIiwiaXNDb21tb24iLCJ2YWx1ZXNMZW5ndGgiLCJvdXRlciIsImNvbXB1dGVkIiwidmFsdWVzSW5kZXgiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwicG9wIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiTEFSR0VfQVJSQVlfU0laRSIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJJbmZpbml0eSIsInNlZW4iLCJiYXNlSW52b2tlIiwicGFyZW50IiwibGFzdCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsIm1lc3NhZ2UiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwib2JqU3RhY2tlZCIsIm90aFN0YWNrZWQiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJtZXJnZUZ1bmMiLCJzYWZlR2V0IiwibmV3VmFsdWUiLCJpc1R5cGVkIiwiaXNBcnJheUxpa2VPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwidG9QbGFpbk9iamVjdCIsImJhc2VNZXJnZURlZXAiLCJiYXNlTnRoIiwiYmFzZU9yZGVyQnkiLCJpdGVyYXRlZXMiLCJvcmRlcnMiLCJnZXRJdGVyYXRlZSIsImNvbXBhcmVyIiwic29ydCIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInN0YXJ0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImVuZCIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJNQVhfQVJSQVlfTEVOR1RIIiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYmFzZVdyYXBwZXJWYWx1ZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiY29weSIsImFycmF5QnVmZmVyIiwidHlwZWRBcnJheSIsInZhbElzRGVmaW5lZCIsInZhbElzUmVmbGV4aXZlIiwiY29tcG9zZUFyZ3MiLCJwYXJ0aWFscyIsImhvbGRlcnMiLCJpc0N1cnJpZWQiLCJhcmdzSW5kZXgiLCJhcmdzTGVuZ3RoIiwiaG9sZGVyc0xlbmd0aCIsImxlZnRJbmRleCIsImxlZnRMZW5ndGgiLCJyYW5nZUxlbmd0aCIsImlzVW5jdXJyaWVkIiwiY29tcG9zZUFyZ3NSaWdodCIsImhvbGRlcnNJbmRleCIsInJpZ2h0SW5kZXgiLCJyaWdodExlbmd0aCIsImlzTmV3IiwiY3JlYXRlQWdncmVnYXRvciIsImluaXRpYWxpemVyIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJtZXRob2ROYW1lIiwidHJhaWxpbmciLCJjcmVhdGVDb21wb3VuZGVyIiwiY2FsbGJhY2siLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJhcmd1bWVudHMiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJub29wIiwiY3JlYXRlVG9QYWlycyIsImJhc2VUb1BhaXJzIiwiY3JlYXRlV3JhcCIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm1lcmdlRGF0YSIsImNyZWF0ZUN1cnJ5IiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZUJpbmQiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwiY3VzdG9tRGVmYXVsdHNNZXJnZSIsImN1c3RvbU9taXRDbG9uZSIsImFyckxlbmd0aCIsImFyclN0YWNrZWQiLCJhcnJWYWx1ZSIsImZsYXR0ZW4iLCJvdGhlckZ1bmMiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJvbGRBcnJheSIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwicmFuZCIsIm1lbW9pemUiLCJtZW1vaXplQ2FwcGVkIiwiY2hhckNvZGVBdCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZCIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImxlYWRpbmdFZGdlIiwidGltZXJFeHBpcmVkIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0cmFpbGluZ0VkZ2UiLCJ0aW1lV2FpdGluZyIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiY2FuY2VsIiwiZmx1c2giLCJkZWZlciIsImRlbGF5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwibmV4dCIsImRvbmUiLCJpdGVyYXRvclRvQXJyYXkiLCJyZW1haW5kZXIiLCJ0b0xlbmd0aCIsImlzQmluYXJ5IiwiYXNzaWduIiwiYXNzaWduSW4iLCJhc3NpZ25JbldpdGgiLCJhc3NpZ25XaXRoIiwiYXQiLCJwcm9wc0luZGV4IiwicHJvcHNMZW5ndGgiLCJkZWZhdWx0c0RlZXAiLCJtZXJnZVdpdGgiLCJpbnZlcnQiLCJpbnZlcnRCeSIsImludm9rZSIsIm1lcmdlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwicHJvcCIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJjYW1lbENhc2UiLCJ3b3JkIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJwYXR0ZXJuIiwiaGFzVW5pY29kZVdvcmQiLCJ1bmljb2RlV29yZHMiLCJhc2NpaVdvcmRzIiwiYXR0ZW1wdCIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2RPZiIsIm1peGluIiwib3ZlciIsIm92ZXJFdmVyeSIsIm92ZXJTb21lIiwiYmFzZVByb3BlcnR5RGVlcCIsInJhbmdlIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWNhbmQiLCJzdWJ0cmFjdCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwiYWZ0ZXIiLCJjYXN0QXJyYXkiLCJjaHVuayIsImNvbXBhY3QiLCJjb25jYXQiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImJhc2VGaWxsIiwiZmlsdGVyIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmbGlwIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zIiwiZnVuY3Rpb25zSW4iLCJpbml0aWFsIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1hdGNoZXMiLCJtYXRjaGVzUHJvcGVydHkiLCJudGhBcmciLCJvbWl0QnkiLCJvbmNlIiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlamVjdCIsInJlbW92ZSIsInJlc3QiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXEiLCJ1bmlxQnkiLCJ1bmlxV2l0aCIsInVuc2V0IiwidXBkYXRlIiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwid3JhcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJlbnRyaWVzSW4iLCJleHRlbmQiLCJleHRlbmRXaXRoIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNsb25lV2l0aCIsImNvbmZvcm1zVG8iLCJkZWZhdWx0VG8iLCJlbmRzV2l0aCIsInRhcmdldCIsInBvc2l0aW9uIiwiZXNjYXBlIiwiZXNjYXBlUmVnRXhwIiwiZXZlcnkiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hTiIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc051bGwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJsYXN0SW5kZXhPZiIsInN0cmljdExhc3RJbmRleE9mIiwibWF4QnkiLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0IiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicmFkaXgiLCJmbG9hdGluZyIsInRlbXAiLCJyZWR1Y2UiLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvbWUiLCJzb3J0ZWRJbmRleCIsInNvcnRlZEluZGV4QnkiLCJzb3J0ZWRJbmRleE9mIiwic29ydGVkTGFzdEluZGV4Iiwic29ydGVkTGFzdEluZGV4QnkiLCJzb3J0ZWRMYXN0SW5kZXhPZiIsInN0YXJ0c1dpdGgiLCJzdW0iLCJzdW1CeSIsInNldHRpbmdzIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHMiLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbSIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwic2VhcmNoIiwibmV3RW5kIiwidW5lc2NhcGUiLCJ1bmlxdWVJZCIsInByZWZpeCIsImVhY2giLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImRpciIsImlzUmlnaHQiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJ3cmFwcGVkIiwidG9KU09OIiwiZGVmaW5lIiwidGVybWNvbG9yIiwicmdiIiwiQ29sb3IiLCJUZXJtIiwiX29mZnNldCIsIl9jdXJzb3IiLCJfbGFzdENvbG9yIiwiY2IiLCJ3aWR0aCIsImhlaWdodCIsImF2YWlsIiwiY29tcHV0ZVNpemUiLCJiZyIsInN0ZG91dCIsIndyaXRlIiwiY2xlYXJCZWZvcmUiLCJ5IiwiY2giLCJmZyIsImR4IiwiZHkiLCJwb3NpdGlvblRvQW5zaSIsIm5ld0NvbG9yIiwiY29sb3JUb0Fuc2kiLCJjb2x1bW5zIiwicm93cyIsIl9fd2VicGFja19hbWRfb3B0aW9uc19fIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJjd2QiLCJjaGRpciIsInVtYXNrIiwid2luZG93Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwiY2hpbGRyZW4iLCJDYW52YXMiLCJfY3R4IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbnZhcyIsIm9wdHMiLCJzdHlsZSIsImZvbnRTdHlsZSIsImZvbnQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJfdXBkYXRlU2l6ZSIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJfbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbiIsIkhleCIsIl9zcGFjaW5nWCIsIl9zcGFjaW5nWSIsIl9oZXhTaXplIiwicHgiLCJ0cmFuc3Bvc2UiLCJfZmlsbCIsImZpbGxUZXh0IiwiYXZhaWxXaWR0aCIsImF2YWlsSGVpZ2h0IiwiaGV4U2l6ZVdpZHRoIiwiaGV4U2l6ZUhlaWdodCIsImhleFNpemUiLCJvbGRGb250IiwibWVhc3VyZVRleHQiLCJyYXRpbyIsInNwYWNpbmciLCJub2RlU2l6ZSIsImN4IiwiY3kiLCJhIiwiYm9yZGVyIiwiY3R4IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwieHByb3AiLCJ5cHJvcCIsImNoYXJXaWR0aCIsIlJlY3QiLCJfY2FudmFzQ2FjaGUiLCJfZHJhd1dpdGhDYWNoZSIsIl9kcmF3Tm9DYWNoZSIsImhhc2giLCJkcmF3SW1hZ2UiLCJib3hXaWR0aCIsImJveEhlaWdodCIsIndpZHRoRnJhY3Rpb24iLCJmb3JjZVNxdWFyZVJhdGlvIiwiVGlsZSIsIl9jb2xvckNhbnZhcyIsInRpbGVXaWR0aCIsInRpbGVIZWlnaHQiLCJ0aWxlQ29sb3JpemUiLCJjbGVhclJlY3QiLCJmZ3MiLCJiZ3MiLCJ0aWxlIiwidGlsZU1hcCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInRpbGVTZXQiLCJUaWxlR0wiLCJfdW5pZm9ybXMiLCJfZ2wiLCJfaW5pdFdlYkdMIiwiYWxlcnQiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJjb21wbGV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdXBkYXRlVGV4dHVyZSIsImdsIiwic2Npc3NvclkiLCJzY2lzc29yIiwiY2xlYXJDb2xvciIsInBhcnNlQ29sb3IiLCJDT0xPUl9CVUZGRVJfQklUIiwidW5pZm9ybTJmdiIsInVuaWZvcm0xZiIsInVuaWZvcm00ZnYiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJwcm9ncmFtIiwidnNzIiwiZnNzIiwidnMiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImZzIiwiRlJBR01FTlRfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJWUyIsIkZTIiwidXNlUHJvZ3JhbSIsInBvcyIsIkZsb2F0MzJBcnJheSIsImJ1ZiIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImNyZWF0ZVF1YWQiLCJVTklGT1JNUyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsIl9wcm9ncmFtIiwiZW5hYmxlIiwiQkxFTkQiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJPTkUiLCJTQ0lTU09SX1RFU1QiLCJjYW52YXNTaXplIiwidmlld3BvcnQiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX1dSQVBfUyIsIlJFUEVBVCIsIlRFWFRVUkVfV1JBUF9UIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwidGV4SW1hZ2UyRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiY29sb3JDYWNoZSIsInBhcnNlZCIsIk51bWJlciIsIiQiLCJSRV9DT0xPUlMiLCJUWVBFX1RFWFQiLCJUWVBFX05FV0xJTkUiLCJUWVBFX0ZHIiwiVFlQRV9CRyIsIm1lYXN1cmUiLCJtYXhXaWR0aCIsInRva2VucyIsInRva2VuaXplIiwibGluZVdpZHRoIiwidG9rZW4iLCJsaW5lTGVuZ3RoIiwibGFzdFRva2VuV2l0aFNwYWNlIiwiYnJlYWtJbnNpZGVUb2tlbiIsImFyciIsIm5leHRJbmRleCIsImJyZWFrSW5kZXgiLCJsYXN0VGV4dFRva2VuIiwiYnJlYWtMaW5lcyIsInRva2VuSW5kZXgiLCJyZW1vdmVCcmVha0NoYXIiLCJuZXdCcmVha1Rva2VuIiwibmV3VGV4dFRva2VuIiwiRElSUyIsIjQiLCI4IiwiNiIsIkRpc3BsYXkiLCJCQUNLRU5EUyIsIkRFRkFVTFRfT1BUSU9OUyIsImxheW91dCIsIl9kYXRhIiwiX2RpcnR5Iiwic2V0T3B0aW9ucyIsIkRFQlVHIiwiX3RpY2siLCJfYmFja2VuZCIsInNjaGVkdWxlIiwid2hhdCIsImRyYXciLCJjdG9yIiwiZ2V0Q29udGFpbmVyIiwiY29tcHV0ZUZvbnRTaXplIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZXZlbnRUb1Bvc2l0aW9uIiwidGV4dCIsImxpbmVzIiwiVGV4dCIsImlzU3BhY2UiLCJpc1ByZXZTcGFjZSIsImlzRnVsbFdpZHRoIiwiaXNQcmV2RnVsbFdpZHRoIiwiY2MiLCJjY2giLCJfZHJhdyIsIl93aWR0aCIsIl9oZWlnaHQiLCJBcmVuYSIsInciLCJEdW5nZW9uIiwiX3Jvb21zIiwiX2NvcnJpZG9ycyIsIkZlYXR1cmUiLCJSb29tIiwieDEiLCJ5MSIsIngyIiwieTIiLCJkb29yWCIsImRvb3JZIiwiX3gxIiwiX3kxIiwiX3gyIiwiX3kyIiwiX2Rvb3JzIiwiYWRkRG9vciIsImlzV2FsbENhbGxiYWNrIiwicmlnaHQiLCJib3R0b20iLCJjb25zb2xlIiwiY2FuQmVEdWdDYWxsYmFjayIsImRpZ0NhbGxiYWNrIiwicm9vbVdpZHRoIiwiZ2V0VW5pZm9ybUludCIsInJvb21IZWlnaHQiLCJDb3JyaWRvciIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwiX3N0YXJ0WCIsIl9zdGFydFkiLCJfZW5kWCIsIl9lbmRZIiwiX2VuZHNXaXRoQVdhbGwiLCJzeCIsInN5IiwiYWJzIiwibngiLCJueSIsIm9rIiwiZmlyc3RDb3JuZXJCYWQiLCJzZWNvbmRDb3JuZXJCYWQiLCJwcmlvcml0eVdhbGxDYWxsYmFjayIsImNvcnJpZG9yTGVuZ3RoIiwiVW5pZm9ybSIsInJvb21EdWdQZXJjZW50YWdlIiwidGltZUxpbWl0IiwiX21hcCIsIl9kdWciLCJfcm9vbUF0dGVtcHRzIiwiX2NvcnJpZG9yQXR0ZW1wdHMiLCJfY29ubmVjdGVkIiwiX3VuY29ubmVjdGVkIiwiX2RpZ0NhbGxiYWNrIiwiX2NhbkJlRHVnQ2FsbGJhY2siLCJfaXNXYWxsQ2FsbGJhY2siLCJ0MSIsIl9maWxsTWFwIiwiX2dlbmVyYXRlUm9vbXMiLCJfZ2VuZXJhdGVDb3JyaWRvcnMiLCJyb29tIiwiX2dlbmVyYXRlUm9vbSIsImNyZWF0ZVJhbmRvbSIsImlzVmFsaWQiLCJjbnQiLCJjbGVhckRvb3JzIiwiY29ubmVjdGVkIiwicm9vbTEiLCJfY2xvc2VzdFJvb20iLCJyb29tMiIsIl9jb25uZWN0Um9vbXMiLCJyb29tcyIsImRpc3QiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJkaXJJbmRleDEiLCJkaXJJbmRleDIiLCJjZW50ZXIxIiwiY2VudGVyMiIsImRpZmZYIiwiZGlmZlkiLCJnZXRMZWZ0IiwiZ2V0UmlnaHQiLCJnZXRUb3AiLCJnZXRCb3R0b20iLCJfcGxhY2VJbldhbGwiLCJfZGlnTGluZSIsInJvdGF0aW9uIiwiaW5kZXgyIiwibWlkMSIsIm1pZDIiLCJkaXJJbmRleCIsImxhc3RCYWRJbmRleCIsInBvaW50cyIsImNvcnJpZG9yIiwiRkVBVFVSRVMiLCJhZGRUb0xpc3QiLCJMIiwiUiIsInJlbW92ZUZyb21MaXN0IiwiQ2VsbHVsYXIiLCJib3JuIiwic3Vydml2ZSIsInRvcG9sb2d5IiwiX2RpcnMiLCJwcm9iYWJpbGl0eSIsIm5ld01hcCIsIndpZHRoU3RlcCIsIndpZHRoU3RhcnQiLCJjdXIiLCJuY291bnQiLCJfZ2V0TmVpZ2hib3JzIiwiX3NlcnZpY2VDYWxsYmFjayIsImNvbm5lY3Rpb25DYWxsYmFjayIsImFsbEZyZWVTcGFjZSIsIm5vdENvbm5lY3RlZCIsIndpZHRoU3RhcnRzIiwiX2ZyZWVTcGFjZSIsIl9wb2ludEtleSIsIl9maW5kQ29ubmVjdGVkIiwiX2dldEZyb21UbyIsImZyb20iLCJ0byIsImxvY2FsIiwidHVubmVsRm4iLCJfdHVubmVsVG9Db25uZWN0ZWQ2IiwiX3R1bm5lbFRvQ29ubmVjdGVkIiwiayIsInBwIiwiY29ubmVjdGVkS2V5cyIsIm5vdENvbm5lY3RlZEtleXMiLCJfZ2V0Q2xvc2VzdCIsInBvaW50Iiwic3BhY2UiLCJtaW5Qb2ludCIsIm1pbkRpc3QiLCJrZWVwTm90Q29ubmVjdGVkIiwidGVzdHMiLCJ4eCIsInBrZXkiLCJ5eSIsInN0ZXBXaWR0aCIsIkRpZ2dlciIsImR1Z1BlcmNlbnRhZ2UiLCJfZmVhdHVyZXMiLCJfZmVhdHVyZUF0dGVtcHRzIiwiX3dhbGxzIiwiX3ByaW9yaXR5V2FsbENhbGxiYWNrIiwiYXJlYSIsIl9maXJzdFJvb20iLCJwcmlvcml0eVdhbGxzIiwid2FsbCIsIl9maW5kV2FsbCIsIl9nZXREaWdnaW5nRGlyZWN0aW9uIiwiZmVhdHVyZUF0dGVtcHRzIiwiX3RyeUZlYXR1cmUiLCJfcmVtb3ZlU3Vycm91bmRpbmdXYWxscyIsIl9hZGREb29ycyIsImNyZWF0ZVJhbmRvbUNlbnRlciIsInByaW8xIiwicHJpbzIiLCJmZWF0dXJlTmFtZSIsImdldFdlaWdodGVkVmFsdWUiLCJmZWF0dXJlIiwiY3JlYXRlUmFuZG9tQXQiLCJjcmVhdGVQcmlvcml0eVdhbGxzIiwiZGVsdGFzIiwiZGVsdGEiLCJhZGREb29ycyIsIkVsbGVyTWF6ZSIsIkRpdmlkZWRNYXplIiwiX3N0YWNrIiwiX3Byb2Nlc3MiLCJfcGFydGl0aW9uUm9vbSIsImF2YWlsWCIsImF2YWlsWSIsIndhbGxzIiwic29saWQiLCJob2xlIiwiSWNleU1hemUiLCJyZWd1bGFyaXR5IiwiX3JlZ3VsYXJpdHkiLCJibG9ja2VkIiwiZGlycyIsIl9yYW5kb21pemUiLCJfaXNGcmVlIiwiUm9ndWUiLCJjb25uZWN0ZWRDZWxscyIsImNlbGxXaWR0aCIsImNlbGxIZWlnaHQiLCJfY2FsY3VsYXRlUm9vbVNpemUiLCJfaW5pdFJvb21zIiwiX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zIiwiX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyIsIl9jcmVhdGVSb29tcyIsIl9jcmVhdGVDb3JyaWRvcnMiLCJjZWxsIiwiaWR4IiwibmNneCIsIm5jZ3kiLCJvdGhlclJvb20iLCJkaXJUb0NoZWNrIiwiY2d4IiwiY2d5IiwiZm91bmQiLCJ2YWxpZFJvb20iLCJjdyIsImRpcmVjdGlvbnMiLCJkaXJJZHgiLCJuZXdJIiwibmV3SiIsInJvb213Iiwicm9vbWgiLCJjd3AiLCJjaHAiLCJzeE9mZnNldCIsInN5T2Zmc2V0IiwiaWkiLCJqaiIsImFSb29tIiwiYURpcmVjdGlvbiIsInJ4IiwicnkiLCJkb29yIiwic3RhcnRQb3NpdGlvbiIsImVuZFBvc2l0aW9uIiwidGVtcERpc3QiLCJ4RGlyIiwieURpciIsIm1vdmUiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhwb3MiLCJ5cG9zIiwibW92ZXMiLCJ4QWJzIiwieUFicyIsInBlcmNlbnQiLCJmaXJzdEhhbGYiLCJzZWNvbmRIYWxmIiwiY29ubmVjdGlvbiIsIm90aGVyV2FsbCIsIl9kcmF3Q29ycmlkb3IiLCJfZ2V0V2FsbFBvc2l0aW9uIiwiUGF0aCIsInRvWCIsInRvWSIsInBhc3NhYmxlQ2FsbGJhY2siLCJfdG9YIiwiX3RvWSIsIl9wYXNzYWJsZUNhbGxiYWNrIiwiRGlqa3N0cmEiLCJfY29tcHV0ZWQiLCJfdG9kbyIsIl9hZGQiLCJmcm9tWCIsImZyb21ZIiwiX2NvbXB1dGUiLCJpdGVtIiwicHJldiIsIm5laWdoYm9ycyIsIm5laWdoYm9yIiwiQVN0YXIiLCJfZG9uZSIsIl9mcm9tWCIsIl9mcm9tWSIsIl9kaXN0YW5jZSIsImYiLCJpdGVtRiIsImRldmljZVBpeGVsUmF0aW8iLCJxdWVyeVNlbGVjdG9yIiwiZ3JpZCIsImRpc3BsYXkiLCJST1QiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5T3B0aW9uc0hlbHAiLCJkaXZIZWxwIiwiZGlzcGxheUhlbHAiLCJkcmF3VGV4dCIsInBhc2NhbENhc2UiLCJpc0xhc3RDaGFyTG93ZXIiLCJpc0xhc3RDaGFyVXBwZXIiLCJpc0xhc3RMYXN0Q2hhclVwcGVyIiwiY2hhcmFjdGVyIiwicHJlc2VydmVDYW1lbENhc2UiLCJwMSIsImNhbWVsQ2FjaGUiLCJjYW1lbFN0cmluZyIsImNhbWVsY2FzZVNsb3ciLCJyZWdpc3RlciIsImNsYXp6IiwiQmlnSW50IiwiaXNNZXJnZWFibGVPYmplY3QiLCJpc05vbk51bGxPYmplY3QiLCJzdHJpbmdWYWx1ZSIsImlzUmVhY3RFbGVtZW50IiwiaXNTcGVjaWFsIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQiLCJkZWVwbWVyZ2UiLCJkZWZhdWx0QXJyYXlNZXJnZSIsImVsZW1lbnQiLCJnZXRLZXlzIiwiZ2V0RW51bWVyYWJsZU93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNPbk9iamVjdCIsIm1lcmdlT2JqZWN0IiwiZGVzdGluYXRpb24iLCJwcm9wZXJ0eUlzVW5zYWZlIiwiY3VzdG9tTWVyZ2UiLCJnZXRNZXJnZUZ1bmN0aW9uIiwic291cmNlSXNBcnJheSIsIm92ZXJ3cml0ZSIsImFwcGx5VG9FbnRpdHkiLCJpbml0aWFsUHJvcHMiLCJlbnRpdHkiLCJjb21wIiwiYWRkQ29tcG9uZW50IiwicHJlZmFiUHJvcHMiLCJhcnJDb21wcyIsImNvbXBvbmVudCIsImNrZXkiLCJpbml0aWFsQ29tcFByb3BzIiwiZGVzZXJpYWxpemUiLCJyZWdpc3RlcmVkIiwicHJlZmFiIiwiUHJlZmFiIiwiaW5oZXJpdCIsInJlZiIsImNvbXBzIiwiY29tcG9uZW50RGF0YSIsIlByZWZhYkNvbXBvbmVudCIsIl9wcmVmYWJzIiwid29ybGQiLCJkZXN0cm95IiwiX29uRGVzdHJveWVkIiwiX29uRXZlbnQiLCJldnQiLCJfb25BdHRhY2hlZCIsInNlcmlhbGl6ZSIsIm9iIiwib25BdHRhY2hlZCIsIm9uRGVzdHJveWVkIiwib25FdmVudCIsIkNvbXBvbmVudCIsImlzIiwiaGFuZGxlIiwicHJldmVudCIsInN1YnRyYWN0Qml0IiwibnVtIiwiYml0IiwiYWRkQml0IiwiYml0SW50ZXJzZWN0aW9uIiwibjEiLCJuMiIsInNlcmlhbGl6ZUNvbXBvbmVudCIsInNlcmlhbGl6ZUNvbXBvbmVudEtleWVkIiwic2VyIiwiX2NhbmRpZGFjeSIsImF0dGFjaENvbXBvbmVudEtleWVkIiwiYXR0YWNoQ29tcG9uZW50QXJyYXkiLCJhdHRhY2hDb21wb25lbnQiLCJrZXlQcm9wIiwicmVtb3ZlQ29tcG9uZW50S2V5ZWQiLCJyZW1vdmVDb21wb25lbnRBcnJheSIsInJlbW92ZUNvbXBvbmVudCIsImNvbXBvbmVudHMiLCJmaXJlRXZlbnQiLCJFbnRpdHlFdmVudCIsImFueSIsImZpbHRlcnMiLCJhbGwiLCJub25lIiwib25FbnRpdHlBZGRlZCIsIm9uRW50aXR5UmVtb3ZlZCIsIl9jYWNoZSIsImJpdHMiLCJfYW55IiwiY2FuZGlkYXRlIiwiaXNUcmFja2luZyIsInJlZnJlc2giLCJjcmVhdGVJZCIsImdldEVudGl0eSIsIl9lbnRpdGllcyIsImdldEVudGl0aWVzIiwiY3JlYXRlRW50aXR5IiwiRW50aXR5IiwiZGVzdHJveUVudGl0eSIsImRlc3Ryb3lFbnRpdGllcyIsImNyZWF0ZVF1ZXJ5IiwicXVlcnkiLCJRdWVyeSIsImNyZWF0ZVByZWZhYiIsImVuZ2luZSIsImpzb24iLCJlbnRpdGllcyIsImxpc3QiLCJlbnRpdHlEYXRhIiwiX2NyZWF0ZU9yR2V0RW50aXR5QnlJZCIsIl9kZXNlcmlhbGl6ZUVudGl0eSIsImRlZiIsIl9jYW5kaWRhdGUiLCJfZGVzdHJveWVkIiwiUHJlZmFiUmVnaXN0cnkiLCJyZWdpc3RlckNvbXBvbmVudCIsInJlZ2lzdGVyUHJlZmFiIiwiY3JlYXRlV29ybGQiLCJXb3JsZCIsImRlc3Ryb3lXb3JsZCIsImVudGl0aWVzQXRMb2NhdGlvbiIsImFkZENhY2hlU2V0IiwiZGVsZXRlQ2FjaGVTZXQiLCJyZWFkQ2FjaGVTZXQiLCJDaGVja1NpbmdsZXMiLCJjb3VudHMiLCJBbGxvd2VkIiwiQ2hlY2tTYW1lcyIsIkNoZWNrRG91YmxlcyIsInRvTG9jSWQiLCJjZWxsT3JJZCIsImxvY0lkIiwiY2VsbFRvSWQiLCJpZFRvQ2VsbCIsImNvb3JkcyIsIkFiaWxpdHkiLCJjYW5Vc2UiLCJhYmlsaXR5IiwiZGljZSIsIkdldFNlbGVjdGVkRGllIiwieWFodHplZSIsIm9uVXNlIiwiYWJpbGl0eVBoYXNlIiwicGhhc2UiLCJBYmlsaXR5TW92ZSIsInNlbGVjdGVkIiwidG9HYWluIiwiQWJpbGl0eURvZGdlIiwiQWJpbGl0eVN3b3JkSmFiIiwiYWJpbGl0eUFsbG93ZWREaWUiLCJhbGxvd2VkIiwiYWJpbGl0eVRhcmdldCIsIlJvdGF0ZUNvb3JkcyIsImNvb3JkIiwibmV3RG1nVGlsZSIsIm9uVGFyZ2V0IiwiU2V0UXVldWVkQWJpbGl0eSIsIlNldFF1ZXVlZEVudGl0eSIsIkV4YW1pbmVUYXJnZXRFbmFibGUiLCJBYmlsaXR5U3dvcmRTd2luZyIsIkFiaWxpdHlTcGVhclRocnVzdCIsIkFiaWxpdHlEb3VibGVBeGVTd2luZyIsImRtZyIsImFiaWxpdHlEYW1hZ2UiLCJBYmlsaXR5QXhlRGVjYXBpdGF0ZSIsImRpZUxpc3QiLCJkaWUiLCJleGhhdXN0ZWQiLCJDb252ZXJ0Q29vcmRzRG93biIsIkNvbnZlcnRDb29yZHNMZWZ0IiwiQ29udmVydENvb3Jkc1JpZ2h0IiwibmV3UmlnaHQiLCJjbyIsImhvbGRlciIsIkFwcGVhcmFuY2UiLCJjaGFyIiwiYmFja2dyb3VuZCIsIkRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJJc0Jsb2NraW5nIiwiUG9zaXRpb24iLCJIZWFsdGgiLCJhbW91bnQiLCJJc0RlYWQiLCJNb3ZlbWVudCIsIm1vdmVtZW50IiwiZG9kZ2UiLCJtb3ZlQ29tcCIsIm14IiwibXkiLCJibG9ja2VycyIsImZhc3RBdHRhY2tzIiwiZW50aXRpZXNBdExvYyIsImVJZCIsImlzQmxvY2tpbmciLCJmYXN0QXR0YWNrIiwiTW92ZW1lbnRzIiwiR2Fpbk1vdmVtZW50IiwiQXJtb3VyIiwiU3RhbWluYSIsIkRpZSIsIm9uUm9sbERpY2UiLCJyZWdlbiIsInVzZWQiLCJzdGFtaW5hIiwiSXNUdXJuRW5kIiwiSXNQbGF5ZXJDb250cm9sbGVkIiwiSXNFbmVteSIsImVuZW15IiwiTGF5ZXJNYXAiLCJMYXllclVuaXQiLCJTbG93QXR0YWNrIiwiRmFzdEF0dGFjayIsIkRtZ1RpbGUiLCJBYmlsaXR5TGlzdCIsImFiaWxpdGllcyIsImFiaWwiLCJBYmlsaXR5VGFyZ2V0IiwiQWJpbGl0eUFsbG93ZWREaWUiLCJBYmlsaXR5RnVuY3Rpb24iLCJmdW5jdGlvbiIsIkFiaWxpdGllcyIsIkFiaWxpdHlQaGFzZSIsIkFiaWxpdHlTcGVlZCIsInNwZWVkIiwiQWJpbGl0eVN0YW1pbmFDb3N0IiwiQWJpbGl0eVNtYWxsTmFtZSIsInNtYWxsTmFtZSIsIkFiaWxpdHlSYW5nZSIsIkFiaWxpdHlEYW1hZ2UiLCJBYmlsaXR5RW5kc1R1cm4iLCJCZWluZyIsIldhbGwiLCJGbG9vciIsIlBsYXllckJlaW5nIiwiTW9iIiwiR29ibGluIiwiT3JjV2FycmlvciIsImVjcyIsIkVuZ2luZSIsInJlZ2lzdGVyQ29tcHMiLCJyZWdpc3RlclByZWZhYnMiLCJwcmVmYWJzIiwiTWFrZVZpc2libGUiLCJ2aXNpYmlsaXR5IiwiYmFubmVyIiwiV3JpdGVBYmlsaXR5IiwidG9Xcml0ZSIsImxheWVyTWFwRW50aXRpZXMiLCJsYXllclVuaXRFbnRpdGllcyIsInNsb3dEbWdFbnRpdGllcyIsImZhc3REbWdFbnRpdGllcyIsImVuZW15RW50aXRpZXMiLCJFbnRpdHlUb1JlbmRlciIsImFiaWxpdHlIb3RrZXlzIiwiRHJhd1RleHQiLCJEcmF3Q2hhciIsImFwcGVhcmFuY2UiLCJyZW5kZXIiLCJnYW1lU3RhdGUiLCJoZWxwVGV4dCIsIkRyYXdIZWxwTWVudSIsIlNob3dBYmlsaXR5SW5mbyIsImRtZ1RpbGVzIiwiZG1nQ291bnQiLCJ0b0xvYyIsImRtZ1RpbGUiLCJSZW5kZXJEYW1hZ2VOdW1iZXJzIiwiQ3VycnJlbnRBY3RpdmVQbGF5ZXIiLCJoZWFsdGgiLCJyZW5kZXJBY3RpdmVQbGF5ZXIiLCJyZW5kZXJEaWVNZW51IiwiYWJpbGl0eUxpc3QiLCJjdXJyZW50UGhhc2UiLCJhYmlsaXR5RnVuY3Rpb24iLCJzbWxOYW1lIiwiYWJpbGl0eVNtYWxsTmFtZSIsInJlbmRlckFiaWxpdHlNZW51IiwicmVuZGVyRW5lbXlRdWlja0JhciIsInNsb3ciLCJnZXRFbnRpdGllc0F0TG9jIiwiZ290VW5pdCIsImVpZCIsImVudHMiLCJmYXN0IiwidGFyZ2V0RW50aXR5IiwiZHVuZ2Vvbk1hcEdlbiIsIkZldGNoRnJlZVRpbGUiLCJhbnlGcmVlIiwiQ3JlYXRlRnJlZVNwYWNlTGlzdCIsImVtcHR5VGlsZXMiLCJhbGx5RW50aXRpZXMiLCJNYWtlRGlqa3N0cmEiLCJBaVBhdGhmaW5kIiwiZGlqa3N0cmEiLCJGaW5kQ2xvc2VzdFRhcmdldCIsIndpbm5lciIsImNsb3Nlc3QiLCJjb21wdXRlIiwiQ2hlY2tTdHJhaWdodExpbmUiLCJjdXJyZW50WFkiLCJYcyIsIllzIiwiQ2hvb3NlQWlBdHRhY2siLCJhdHRhY2tlZCIsImFiaWxpdHlSYW5nZSIsInRhcmciLCJhYmlsaXR5U3RhbWluYUNvc3QiLCJNb3ZlRm9yd2FyZCIsIm5leHRTdGVwIiwicHJldmlvdXNHYW1lU3RhdGUiLCJxdWV1ZWRBYmlsaXR5IiwicXVldWVkRW50aXR5IiwiZW50IiwiQ3VycnJlbnRBY3RpdmVQbGF5ZXJJbmRleCIsInVzZXJJbnB1dCIsInBsYXllckVudGl0aWVzIiwiZG1nVGlsZUVudGl0aWVzIiwicHJvY2Vzc1VzZXJJbnB1dCIsIlNldFByZXZpb3VzU3RhdGUiLCJHZXROZXh0QWN0aXZlUGxheWVyIiwiUGxheWVyQXR0ZW1wdE1vdmUiLCJhYmlsaXR5SW5kZXgiLCJDb252ZXJ0U2tpbGxIb3RrZXkiLCJHZXRUYXJnZXRFbnRpdHlQb3MiLCJQbGF5ZXJUdXJuRGVmZW5kIiwiUHJvY2Vzc0RtZ1RpbGVzIiwiRW5kVHVyblByb2Nlc3MiLCJFeGFtaW5lVGFyZ2V0RGlzYWJsZSIsIlRhcmdldE1vdmUiLCJSZXR1cm5QcmV2aW91c0dhbWVTdGF0ZSIsImhvdGtleSIsImV2Iiwic2V0dXBUZXN0RmlnaHQiLCJuZXdQbGF5ZXIiLCJlbXB0eVRpbGUiLCJuZXdQbGF5ZXIyIiwiRW5lbXlBdHRhY2tUdXJuIiwiZW5lbSIsImFiaWxpdGllc0NhblVzZSIsInRvRGVzdHJveSIsImVudGl0eUF0TG9jIiwibGF5ZXJVbml0IiwiZ2FtZUxvb3AiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFF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QUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdEYsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFV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WnpEZzRCLEtBQ0E5QyxLQUNBN0IsS0FVQTV2Qix1QkFOaUIsU0FBWGkxQixJQXpYYyxTQUFicEYsR0FDREEsR0FBWSxrQkFDUSxtQkFBYkEsSUFLUEEsR0FBWSxrQkFDWkQsTUFHb0IsbUJBQWJDLElBQ1A4RSxLQUVBVixHQUFlM0UsR0FBY3QrRCxPQUU3QjYrRCxHQUFZLG1CQUNaRCxNQUNvQixvQkFBYkMsSUFJYSxvQkFBYkEsR0FIUDJELEtBVWtCLFdBQVgzRCxJQUFvQyxhQUFaQSxJQUF3QyxRQUFiQSxJQUFvQyxlQUFiQSxJQUEyQyxjQUFiQSxJQUEwQyxnQkFBYkEsSUFDNUkyRCxLQThWRnh6QixzQkFBc0JpMUIiLCJmaWxlIjoibWFpbi4zODQ1M2QzM2QxNTdjZGJiNDJiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG4iLCIvKipcbiAqIFRoaXMgY29kZSBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBBbGVhIGFsZ29yaXRobTsgKEMpIDIwMTAgSm9oYW5uZXMgQmFhZ8O4ZS5cbiAqIEFsZWEgaXMgbGljZW5zZWQgYWNjb3JkaW5nIHRvIHRoZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlLlxuICovXG5jb25zdCBGUkFDID0gMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLyogMl4tMzIgKi9cbmNsYXNzIFJORyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3NlZWQgPSAwO1xuICAgICAgICB0aGlzLl9zMCA9IDA7XG4gICAgICAgIHRoaXMuX3MxID0gMDtcbiAgICAgICAgdGhpcy5fczIgPSAwO1xuICAgICAgICB0aGlzLl9jID0gMDtcbiAgICB9XG4gICAgZ2V0U2VlZCgpIHsgcmV0dXJuIHRoaXMuX3NlZWQ7IH1cbiAgICAvKipcbiAgICAgKiBTZWVkIHRoZSBudW1iZXIgZ2VuZXJhdG9yXG4gICAgICovXG4gICAgc2V0U2VlZChzZWVkKSB7XG4gICAgICAgIHNlZWQgPSAoc2VlZCA8IDEgPyAxIC8gc2VlZCA6IHNlZWQpO1xuICAgICAgICB0aGlzLl9zZWVkID0gc2VlZDtcbiAgICAgICAgdGhpcy5fczAgPSAoc2VlZCA+Pj4gMCkgKiBGUkFDO1xuICAgICAgICBzZWVkID0gKHNlZWQgKiA2OTA2OSArIDEpID4+PiAwO1xuICAgICAgICB0aGlzLl9zMSA9IHNlZWQgKiBGUkFDO1xuICAgICAgICBzZWVkID0gKHNlZWQgKiA2OTA2OSArIDEpID4+PiAwO1xuICAgICAgICB0aGlzLl9zMiA9IHNlZWQgKiBGUkFDO1xuICAgICAgICB0aGlzLl9jID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFBzZXVkb3JhbmRvbSB2YWx1ZSBbMCwxKSwgdW5pZm9ybWx5IGRpc3RyaWJ1dGVkXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybSgpIHtcbiAgICAgICAgbGV0IHQgPSAyMDkxNjM5ICogdGhpcy5fczAgKyB0aGlzLl9jICogRlJBQztcbiAgICAgICAgdGhpcy5fczAgPSB0aGlzLl9zMTtcbiAgICAgICAgdGhpcy5fczEgPSB0aGlzLl9zMjtcbiAgICAgICAgdGhpcy5fYyA9IHQgfCAwO1xuICAgICAgICB0aGlzLl9zMiA9IHQgLSB0aGlzLl9jO1xuICAgICAgICByZXR1cm4gdGhpcy5fczI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBsb3dlckJvdW5kIFRoZSBsb3dlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuICAgICAqIEBwYXJhbSB1cHBlckJvdW5kIFRoZSB1cHBlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuICAgICAqIEByZXR1cm5zIFBzZXVkb3JhbmRvbSB2YWx1ZSBbbG93ZXJCb3VuZCwgdXBwZXJCb3VuZF0sIHVzaW5nIFJPVC5STkcuZ2V0VW5pZm9ybSgpIHRvIGRpc3RyaWJ1dGUgdGhlIHZhbHVlXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUludChsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gICAgICAgIGxldCBtYXggPSBNYXRoLm1heChsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcbiAgICAgICAgbGV0IG1pbiA9IE1hdGgubWluKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtZWFuIE1lYW4gdmFsdWVcbiAgICAgKiBAcGFyYW0gc3RkZGV2IFN0YW5kYXJkIGRldmlhdGlvbi4gfjk1JSBvZiB0aGUgYWJzb2x1dGUgdmFsdWVzIHdpbGwgYmUgbG93ZXIgdGhhbiAyKnN0ZGRldi5cbiAgICAgKiBAcmV0dXJucyBBIG5vcm1hbGx5IGRpc3RyaWJ1dGVkIHBzZXVkb3JhbmRvbSB2YWx1ZVxuICAgICAqL1xuICAgIGdldE5vcm1hbChtZWFuID0gMCwgc3RkZGV2ID0gMSkge1xuICAgICAgICBsZXQgdSwgdiwgcjtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdSA9IDIgKiB0aGlzLmdldFVuaWZvcm0oKSAtIDE7XG4gICAgICAgICAgICB2ID0gMiAqIHRoaXMuZ2V0VW5pZm9ybSgpIC0gMTtcbiAgICAgICAgICAgIHIgPSB1ICogdSArIHYgKiB2O1xuICAgICAgICB9IHdoaWxlIChyID4gMSB8fCByID09IDApO1xuICAgICAgICBsZXQgZ2F1c3MgPSB1ICogTWF0aC5zcXJ0KC0yICogTWF0aC5sb2cocikgLyByKTtcbiAgICAgICAgcmV0dXJuIG1lYW4gKyBnYXVzcyAqIHN0ZGRldjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgUHNldWRvcmFuZG9tIHZhbHVlIFsxLDEwMF0gaW5jbHVzaXZlLCB1bmlmb3JtbHkgZGlzdHJpYnV0ZWRcbiAgICAgKi9cbiAgICBnZXRQZXJjZW50YWdlKCkge1xuICAgICAgICByZXR1cm4gMSArIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiAxMDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBSYW5kb21seSBwaWNrZWQgaXRlbSwgbnVsbCB3aGVuIGxlbmd0aD0wXG4gICAgICovXG4gICAgZ2V0SXRlbShhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiBhcnJheS5sZW5ndGgpXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgTmV3IGFycmF5IHdpdGggcmFuZG9taXplZCBpdGVtc1xuICAgICAqL1xuICAgIHNodWZmbGUoYXJyYXkpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgY2xvbmUgPSBhcnJheS5zbGljZSgpO1xuICAgICAgICB3aGlsZSAoY2xvbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBjbG9uZS5pbmRleE9mKHRoaXMuZ2V0SXRlbShjbG9uZSkpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goY2xvbmUuc3BsaWNlKGluZGV4LCAxKVswXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRhdGEga2V5PXdoYXRldmVyLCB2YWx1ZT13ZWlnaHQgKHJlbGF0aXZlIHByb2JhYmlsaXR5KVxuICAgICAqIEByZXR1cm5zIHdoYXRldmVyXG4gICAgICovXG4gICAgZ2V0V2VpZ2h0ZWRWYWx1ZShkYXRhKSB7XG4gICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgIGZvciAobGV0IGlkIGluIGRhdGEpIHtcbiAgICAgICAgICAgIHRvdGFsICs9IGRhdGFbaWRdO1xuICAgICAgICB9XG4gICAgICAgIGxldCByYW5kb20gPSB0aGlzLmdldFVuaWZvcm0oKSAqIHRvdGFsO1xuICAgICAgICBsZXQgaWQsIHBhcnQgPSAwO1xuICAgICAgICBmb3IgKGlkIGluIGRhdGEpIHtcbiAgICAgICAgICAgIHBhcnQgKz0gZGF0YVtpZF07XG4gICAgICAgICAgICBpZiAocmFuZG9tIDwgcGFydCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBieSBzb21lIGZsb2F0aW5nLXBvaW50IGFubm95YW5jZSB3ZSBoYXZlXG4gICAgICAgIC8vIHJhbmRvbSA+PSB0b3RhbCwganVzdCByZXR1cm4gdGhlIGxhc3QgaWQuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IFJORyBzdGF0ZS4gVXNlZnVsIGZvciBzdG9yaW5nIHRoZSBzdGF0ZSBhbmQgcmUtc2V0dGluZyBpdCB2aWEgc2V0U3RhdGUuXG4gICAgICogQHJldHVybnMgSW50ZXJuYWwgc3RhdGVcbiAgICAgKi9cbiAgICBnZXRTdGF0ZSgpIHsgcmV0dXJuIFt0aGlzLl9zMCwgdGhpcy5fczEsIHRoaXMuX3MyLCB0aGlzLl9jXTsgfVxuICAgIC8qKlxuICAgICAqIFNldCBhIHByZXZpb3VzbHkgcmV0cmlldmVkIHN0YXRlLlxuICAgICAqL1xuICAgIHNldFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX3MwID0gc3RhdGVbMF07XG4gICAgICAgIHRoaXMuX3MxID0gc3RhdGVbMV07XG4gICAgICAgIHRoaXMuX3MyID0gc3RhdGVbMl07XG4gICAgICAgIHRoaXMuX2MgPSBzdGF0ZVszXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjbG9uZWQgUk5HXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGxldCBjbG9uZSA9IG5ldyBSTkcoKTtcbiAgICAgICAgcmV0dXJuIGNsb25lLnNldFN0YXRlKHRoaXMuZ2V0U3RhdGUoKSk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IFJORygpLnNldFNlZWQoRGF0ZS5ub3coKSk7XG4iLCIvKipcbiAqIEFsd2F5cyBwb3NpdGl2ZSBtb2R1bHVzXG4gKiBAcGFyYW0geCBPcGVyYW5kXG4gKiBAcGFyYW0gbiBNb2R1bHVzXG4gKiBAcmV0dXJucyB4IG1vZHVsbyBuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2QoeCwgbikge1xuICAgIHJldHVybiAoeCAlIG4gKyBuKSAlIG47XG59XG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsLCBtaW4gPSAwLCBtYXggPSAxKSB7XG4gICAgaWYgKHZhbCA8IG1pbilcbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICBpZiAodmFsID4gbWF4KVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnN1YnN0cmluZygxKTtcbn1cbi8qKlxuICogRm9ybWF0IGEgc3RyaW5nIGluIGEgZmxleGlibGUgd2F5LiBTY2FucyBmb3IgJXMgc3RyaW5ncyBhbmQgcmVwbGFjZXMgdGhlbSB3aXRoIGFyZ3VtZW50cy4gTGlzdCBvZiBwYXR0ZXJucyBpcyBtb2RpZmlhYmxlIHZpYSBTdHJpbmcuZm9ybWF0Lm1hcC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZVxuICogQHBhcmFtIHthbnl9IFthcmd2XVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHRlbXBsYXRlLCAuLi5hcmdzKSB7XG4gICAgbGV0IG1hcCA9IGZvcm1hdC5tYXA7XG4gICAgbGV0IHJlcGxhY2VyID0gZnVuY3Rpb24gKG1hdGNoLCBncm91cDEsIGdyb3VwMiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlLmNoYXJBdChpbmRleCAtIDEpID09IFwiJVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2guc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2JqID0gYXJnc1swXTtcbiAgICAgICAgbGV0IGdyb3VwID0gZ3JvdXAxIHx8IGdyb3VwMjtcbiAgICAgICAgbGV0IHBhcnRzID0gZ3JvdXAuc3BsaXQoXCIsXCIpO1xuICAgICAgICBsZXQgbmFtZSA9IHBhcnRzLnNoaWZ0KCkgfHwgXCJcIjtcbiAgICAgICAgbGV0IG1ldGhvZCA9IG1hcFtuYW1lLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG4gICAgICAgIG9iaiA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgbGV0IHJlcGxhY2VkID0gb2JqW21ldGhvZF0uYXBwbHkob2JqLCBwYXJ0cyk7XG4gICAgICAgIGxldCBmaXJzdCA9IG5hbWUuY2hhckF0KDApO1xuICAgICAgICBpZiAoZmlyc3QgIT0gZmlyc3QudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgcmVwbGFjZWQgPSBjYXBpdGFsaXplKHJlcGxhY2VkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVwbGFjZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvJSg/OihbYS16XSspfCg/OnsoW159XSspfSkpL2dpLCByZXBsYWNlcik7XG59XG5mb3JtYXQubWFwID0ge1xuICAgIFwic1wiOiBcInRvU3RyaW5nXCJcbn07XG4iLCJpbXBvcnQgeyBjbGFtcCB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4vcm5nLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gZnJvbVN0cmluZyhzdHIpIHtcbiAgICBsZXQgY2FjaGVkLCByO1xuICAgIGlmIChzdHIgaW4gQ0FDSEUpIHtcbiAgICAgICAgY2FjaGVkID0gQ0FDSEVbc3RyXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChzdHIuY2hhckF0KDApID09IFwiI1wiKSB7IC8vIGhleCByZ2JcbiAgICAgICAgICAgIGxldCBtYXRjaGVkID0gc3RyLm1hdGNoKC9bMC05YS1mXS9naSkgfHwgW107XG4gICAgICAgICAgICBsZXQgdmFsdWVzID0gbWF0Y2hlZC5tYXAoKHgpID0+IHBhcnNlSW50KHgsIDE2KSk7XG4gICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVkID0gdmFsdWVzLm1hcCgoeCkgPT4geCAqIDE3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpICsgMV0gKz0gMTYgKiB2YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhY2hlZCA9IHZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgociA9IHN0ci5tYXRjaCgvcmdiXFwoKFswLTksIF0rKVxcKS9pKSkpIHsgLy8gZGVjaW1hbCByZ2JcbiAgICAgICAgICAgIGNhY2hlZCA9IHJbMV0uc3BsaXQoL1xccyosXFxzKi8pLm1hcCgoeCkgPT4gcGFyc2VJbnQoeCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBodG1sIG5hbWVcbiAgICAgICAgICAgIGNhY2hlZCA9IFswLCAwLCAwXTtcbiAgICAgICAgfVxuICAgICAgICBDQUNIRVtzdHJdID0gY2FjaGVkO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVkLnNsaWNlKCk7XG59XG4vKipcbiAqIEFkZCB0d28gb3IgbW9yZSBjb2xvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChjb2xvcjEsIC4uLmNvbG9ycykge1xuICAgIGxldCByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbG9ycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgcmVzdWx0W2ldICs9IGNvbG9yc1tqXVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBBZGQgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkXyhjb2xvcjEsIC4uLmNvbG9ycykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sb3JzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb2xvcjFbaV0gKz0gY29sb3JzW2pdW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjE7XG59XG4vKipcbiAqIE11bHRpcGx5IChtaXgpIHR3byBvciBtb3JlIGNvbG9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkoY29sb3IxLCAuLi5jb2xvcnMpIHtcbiAgICBsZXQgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xvcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXSAqPSBjb2xvcnNbal1baV0gLyAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2ldID0gTWF0aC5yb3VuZChyZXN1bHRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBNdWx0aXBseSAobWl4KSB0d28gb3IgbW9yZSBjb2xvcnMsIE1PRElGSUVTIEZJUlNUIEFSR1VNRU5UXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseV8oY29sb3IxLCAuLi5jb2xvcnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbG9ycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29sb3IxW2ldICo9IGNvbG9yc1tqXVtpXSAvIDI1NTtcbiAgICAgICAgfVxuICAgICAgICBjb2xvcjFbaV0gPSBNYXRoLnJvdW5kKGNvbG9yMVtpXSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjE7XG59XG4vKipcbiAqIEludGVycG9sYXRlIChibGVuZCkgdHdvIGNvbG9ycyB3aXRoIGEgZ2l2ZW4gZmFjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnBvbGF0ZShjb2xvcjEsIGNvbG9yMiwgZmFjdG9yID0gMC41KSB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldICsgZmFjdG9yICogKGNvbG9yMltpXSAtIGNvbG9yMVtpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGNvbnN0IGxlcnAgPSBpbnRlcnBvbGF0ZTtcbi8qKlxuICogSW50ZXJwb2xhdGUgKGJsZW5kKSB0d28gY29sb3JzIHdpdGggYSBnaXZlbiBmYWN0b3IgaW4gSFNMIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVycG9sYXRlSFNMKGNvbG9yMSwgY29sb3IyLCBmYWN0b3IgPSAwLjUpIHtcbiAgICBsZXQgaHNsMSA9IHJnYjJoc2woY29sb3IxKTtcbiAgICBsZXQgaHNsMiA9IHJnYjJoc2woY29sb3IyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBoc2wxW2ldICs9IGZhY3RvciAqIChoc2wyW2ldIC0gaHNsMVtpXSk7XG4gICAgfVxuICAgIHJldHVybiBoc2wycmdiKGhzbDEpO1xufVxuZXhwb3J0IGNvbnN0IGxlcnBIU0wgPSBpbnRlcnBvbGF0ZUhTTDtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IHJhbmRvbSBjb2xvciBiYXNlZCBvbiB0aGlzIG9uZVxuICogQHBhcmFtIGNvbG9yXG4gKiBAcGFyYW0gZGlmZiBTZXQgb2Ygc3RhbmRhcmQgZGV2aWF0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9taXplKGNvbG9yLCBkaWZmKSB7XG4gICAgaWYgKCEoZGlmZiBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICBkaWZmID0gTWF0aC5yb3VuZChSTkcuZ2V0Tm9ybWFsKDAsIGRpZmYpKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGNvbG9yLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2ldICs9IChkaWZmIGluc3RhbmNlb2YgQXJyYXkgPyBNYXRoLnJvdW5kKFJORy5nZXROb3JtYWwoMCwgZGlmZltpXSkpIDogZGlmZik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuIEV4cGVjdHMgMC4uMjU1IGlucHV0cywgcHJvZHVjZXMgMC4uMSBvdXRwdXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiMmhzbChjb2xvcikge1xuICAgIGxldCByID0gY29sb3JbMF0gLyAyNTU7XG4gICAgbGV0IGcgPSBjb2xvclsxXSAvIDI1NTtcbiAgICBsZXQgYiA9IGNvbG9yWzJdIC8gMjU1O1xuICAgIGxldCBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgbGV0IGggPSAwLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuICAgIGlmIChtYXggPT0gbWluKSB7XG4gICAgICAgIHMgPSAwOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgZCA9IG1heCAtIG1pbjtcbiAgICAgICAgcyA9IChsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKSk7XG4gICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgICBjYXNlIHI6XG4gICAgICAgICAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBnOlxuICAgICAgICAgICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBoIC89IDY7XG4gICAgfVxuICAgIHJldHVybiBbaCwgcywgbF07XG59XG5mdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApXG4gICAgICAgIHQgKz0gMTtcbiAgICBpZiAodCA+IDEpXG4gICAgICAgIHQgLT0gMTtcbiAgICBpZiAodCA8IDEgLyA2KVxuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgICBpZiAodCA8IDEgLyAyKVxuICAgICAgICByZXR1cm4gcTtcbiAgICBpZiAodCA8IDIgLyAzKVxuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG4gICAgcmV0dXJuIHA7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIEhTTCBjb2xvciB2YWx1ZSB0byBSR0IuIEV4cGVjdHMgMC4uMSBpbnB1dHMsIHByb2R1Y2VzIDAuLjI1NSBvdXRwdXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaHNsMnJnYihjb2xvcikge1xuICAgIGxldCBsID0gY29sb3JbMl07XG4gICAgaWYgKGNvbG9yWzFdID09IDApIHtcbiAgICAgICAgbCA9IE1hdGgucm91bmQobCAqIDI1NSk7XG4gICAgICAgIHJldHVybiBbbCwgbCwgbF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgcyA9IGNvbG9yWzFdO1xuICAgICAgICBsZXQgcSA9IChsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzKTtcbiAgICAgICAgbGV0IHAgPSAyICogbCAtIHE7XG4gICAgICAgIGxldCByID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSArIDEgLyAzKTtcbiAgICAgICAgbGV0IGcgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdKTtcbiAgICAgICAgbGV0IGIgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdIC0gMSAvIDMpO1xuICAgICAgICByZXR1cm4gW01hdGgucm91bmQociAqIDI1NSksIE1hdGgucm91bmQoZyAqIDI1NSksIE1hdGgucm91bmQoYiAqIDI1NSldO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1JHQihjb2xvcikge1xuICAgIGxldCBjbGFtcGVkID0gY29sb3IubWFwKHggPT4gY2xhbXAoeCwgMCwgMjU1KSk7XG4gICAgcmV0dXJuIGByZ2IoJHtjbGFtcGVkLmpvaW4oXCIsXCIpfSlgO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvSGV4KGNvbG9yKSB7XG4gICAgbGV0IGNsYW1wZWQgPSBjb2xvci5tYXAoeCA9PiBjbGFtcCh4LCAwLCAyNTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpO1xuICAgIHJldHVybiBgIyR7Y2xhbXBlZC5qb2luKFwiXCIpfWA7XG59XG5jb25zdCBDQUNIRSA9IHtcbiAgICBcImJsYWNrXCI6IFswLCAwLCAwXSxcbiAgICBcIm5hdnlcIjogWzAsIDAsIDEyOF0sXG4gICAgXCJkYXJrYmx1ZVwiOiBbMCwgMCwgMTM5XSxcbiAgICBcIm1lZGl1bWJsdWVcIjogWzAsIDAsIDIwNV0sXG4gICAgXCJibHVlXCI6IFswLCAwLCAyNTVdLFxuICAgIFwiZGFya2dyZWVuXCI6IFswLCAxMDAsIDBdLFxuICAgIFwiZ3JlZW5cIjogWzAsIDEyOCwgMF0sXG4gICAgXCJ0ZWFsXCI6IFswLCAxMjgsIDEyOF0sXG4gICAgXCJkYXJrY3lhblwiOiBbMCwgMTM5LCAxMzldLFxuICAgIFwiZGVlcHNreWJsdWVcIjogWzAsIDE5MSwgMjU1XSxcbiAgICBcImRhcmt0dXJxdW9pc2VcIjogWzAsIDIwNiwgMjA5XSxcbiAgICBcIm1lZGl1bXNwcmluZ2dyZWVuXCI6IFswLCAyNTAsIDE1NF0sXG4gICAgXCJsaW1lXCI6IFswLCAyNTUsIDBdLFxuICAgIFwic3ByaW5nZ3JlZW5cIjogWzAsIDI1NSwgMTI3XSxcbiAgICBcImFxdWFcIjogWzAsIDI1NSwgMjU1XSxcbiAgICBcImN5YW5cIjogWzAsIDI1NSwgMjU1XSxcbiAgICBcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsIDI1LCAxMTJdLFxuICAgIFwiZG9kZ2VyYmx1ZVwiOiBbMzAsIDE0NCwgMjU1XSxcbiAgICBcImZvcmVzdGdyZWVuXCI6IFszNCwgMTM5LCAzNF0sXG4gICAgXCJzZWFncmVlblwiOiBbNDYsIDEzOSwgODddLFxuICAgIFwiZGFya3NsYXRlZ3JheVwiOiBbNDcsIDc5LCA3OV0sXG4gICAgXCJkYXJrc2xhdGVncmV5XCI6IFs0NywgNzksIDc5XSxcbiAgICBcImxpbWVncmVlblwiOiBbNTAsIDIwNSwgNTBdLFxuICAgIFwibWVkaXVtc2VhZ3JlZW5cIjogWzYwLCAxNzksIDExM10sXG4gICAgXCJ0dXJxdW9pc2VcIjogWzY0LCAyMjQsIDIwOF0sXG4gICAgXCJyb3lhbGJsdWVcIjogWzY1LCAxMDUsIDIyNV0sXG4gICAgXCJzdGVlbGJsdWVcIjogWzcwLCAxMzAsIDE4MF0sXG4gICAgXCJkYXJrc2xhdGVibHVlXCI6IFs3MiwgNjEsIDEzOV0sXG4gICAgXCJtZWRpdW10dXJxdW9pc2VcIjogWzcyLCAyMDksIDIwNF0sXG4gICAgXCJpbmRpZ29cIjogWzc1LCAwLCAxMzBdLFxuICAgIFwiZGFya29saXZlZ3JlZW5cIjogWzg1LCAxMDcsIDQ3XSxcbiAgICBcImNhZGV0Ymx1ZVwiOiBbOTUsIDE1OCwgMTYwXSxcbiAgICBcImNvcm5mbG93ZXJibHVlXCI6IFsxMDAsIDE0OSwgMjM3XSxcbiAgICBcIm1lZGl1bWFxdWFtYXJpbmVcIjogWzEwMiwgMjA1LCAxNzBdLFxuICAgIFwiZGltZ3JheVwiOiBbMTA1LCAxMDUsIDEwNV0sXG4gICAgXCJkaW1ncmV5XCI6IFsxMDUsIDEwNSwgMTA1XSxcbiAgICBcInNsYXRlYmx1ZVwiOiBbMTA2LCA5MCwgMjA1XSxcbiAgICBcIm9saXZlZHJhYlwiOiBbMTA3LCAxNDIsIDM1XSxcbiAgICBcInNsYXRlZ3JheVwiOiBbMTEyLCAxMjgsIDE0NF0sXG4gICAgXCJzbGF0ZWdyZXlcIjogWzExMiwgMTI4LCAxNDRdLFxuICAgIFwibGlnaHRzbGF0ZWdyYXlcIjogWzExOSwgMTM2LCAxNTNdLFxuICAgIFwibGlnaHRzbGF0ZWdyZXlcIjogWzExOSwgMTM2LCAxNTNdLFxuICAgIFwibWVkaXVtc2xhdGVibHVlXCI6IFsxMjMsIDEwNCwgMjM4XSxcbiAgICBcImxhd25ncmVlblwiOiBbMTI0LCAyNTIsIDBdLFxuICAgIFwiY2hhcnRyZXVzZVwiOiBbMTI3LCAyNTUsIDBdLFxuICAgIFwiYXF1YW1hcmluZVwiOiBbMTI3LCAyNTUsIDIxMl0sXG4gICAgXCJtYXJvb25cIjogWzEyOCwgMCwgMF0sXG4gICAgXCJwdXJwbGVcIjogWzEyOCwgMCwgMTI4XSxcbiAgICBcIm9saXZlXCI6IFsxMjgsIDEyOCwgMF0sXG4gICAgXCJncmF5XCI6IFsxMjgsIDEyOCwgMTI4XSxcbiAgICBcImdyZXlcIjogWzEyOCwgMTI4LCAxMjhdLFxuICAgIFwic2t5Ymx1ZVwiOiBbMTM1LCAyMDYsIDIzNV0sXG4gICAgXCJsaWdodHNreWJsdWVcIjogWzEzNSwgMjA2LCAyNTBdLFxuICAgIFwiYmx1ZXZpb2xldFwiOiBbMTM4LCA0MywgMjI2XSxcbiAgICBcImRhcmtyZWRcIjogWzEzOSwgMCwgMF0sXG4gICAgXCJkYXJrbWFnZW50YVwiOiBbMTM5LCAwLCAxMzldLFxuICAgIFwic2FkZGxlYnJvd25cIjogWzEzOSwgNjksIDE5XSxcbiAgICBcImRhcmtzZWFncmVlblwiOiBbMTQzLCAxODgsIDE0M10sXG4gICAgXCJsaWdodGdyZWVuXCI6IFsxNDQsIDIzOCwgMTQ0XSxcbiAgICBcIm1lZGl1bXB1cnBsZVwiOiBbMTQ3LCAxMTIsIDIxNl0sXG4gICAgXCJkYXJrdmlvbGV0XCI6IFsxNDgsIDAsIDIxMV0sXG4gICAgXCJwYWxlZ3JlZW5cIjogWzE1MiwgMjUxLCAxNTJdLFxuICAgIFwiZGFya29yY2hpZFwiOiBbMTUzLCA1MCwgMjA0XSxcbiAgICBcInllbGxvd2dyZWVuXCI6IFsxNTQsIDIwNSwgNTBdLFxuICAgIFwic2llbm5hXCI6IFsxNjAsIDgyLCA0NV0sXG4gICAgXCJicm93blwiOiBbMTY1LCA0MiwgNDJdLFxuICAgIFwiZGFya2dyYXlcIjogWzE2OSwgMTY5LCAxNjldLFxuICAgIFwiZGFya2dyZXlcIjogWzE2OSwgMTY5LCAxNjldLFxuICAgIFwibGlnaHRibHVlXCI6IFsxNzMsIDIxNiwgMjMwXSxcbiAgICBcImdyZWVueWVsbG93XCI6IFsxNzMsIDI1NSwgNDddLFxuICAgIFwicGFsZXR1cnF1b2lzZVwiOiBbMTc1LCAyMzgsIDIzOF0sXG4gICAgXCJsaWdodHN0ZWVsYmx1ZVwiOiBbMTc2LCAxOTYsIDIyMl0sXG4gICAgXCJwb3dkZXJibHVlXCI6IFsxNzYsIDIyNCwgMjMwXSxcbiAgICBcImZpcmVicmlja1wiOiBbMTc4LCAzNCwgMzRdLFxuICAgIFwiZGFya2dvbGRlbnJvZFwiOiBbMTg0LCAxMzQsIDExXSxcbiAgICBcIm1lZGl1bW9yY2hpZFwiOiBbMTg2LCA4NSwgMjExXSxcbiAgICBcInJvc3licm93blwiOiBbMTg4LCAxNDMsIDE0M10sXG4gICAgXCJkYXJra2hha2lcIjogWzE4OSwgMTgzLCAxMDddLFxuICAgIFwic2lsdmVyXCI6IFsxOTIsIDE5MiwgMTkyXSxcbiAgICBcIm1lZGl1bXZpb2xldHJlZFwiOiBbMTk5LCAyMSwgMTMzXSxcbiAgICBcImluZGlhbnJlZFwiOiBbMjA1LCA5MiwgOTJdLFxuICAgIFwicGVydVwiOiBbMjA1LCAxMzMsIDYzXSxcbiAgICBcImNob2NvbGF0ZVwiOiBbMjEwLCAxMDUsIDMwXSxcbiAgICBcInRhblwiOiBbMjEwLCAxODAsIDE0MF0sXG4gICAgXCJsaWdodGdyYXlcIjogWzIxMSwgMjExLCAyMTFdLFxuICAgIFwibGlnaHRncmV5XCI6IFsyMTEsIDIxMSwgMjExXSxcbiAgICBcInBhbGV2aW9sZXRyZWRcIjogWzIxNiwgMTEyLCAxNDddLFxuICAgIFwidGhpc3RsZVwiOiBbMjE2LCAxOTEsIDIxNl0sXG4gICAgXCJvcmNoaWRcIjogWzIxOCwgMTEyLCAyMTRdLFxuICAgIFwiZ29sZGVucm9kXCI6IFsyMTgsIDE2NSwgMzJdLFxuICAgIFwiY3JpbXNvblwiOiBbMjIwLCAyMCwgNjBdLFxuICAgIFwiZ2FpbnNib3JvXCI6IFsyMjAsIDIyMCwgMjIwXSxcbiAgICBcInBsdW1cIjogWzIyMSwgMTYwLCAyMjFdLFxuICAgIFwiYnVybHl3b29kXCI6IFsyMjIsIDE4NCwgMTM1XSxcbiAgICBcImxpZ2h0Y3lhblwiOiBbMjI0LCAyNTUsIDI1NV0sXG4gICAgXCJsYXZlbmRlclwiOiBbMjMwLCAyMzAsIDI1MF0sXG4gICAgXCJkYXJrc2FsbW9uXCI6IFsyMzMsIDE1MCwgMTIyXSxcbiAgICBcInZpb2xldFwiOiBbMjM4LCAxMzAsIDIzOF0sXG4gICAgXCJwYWxlZ29sZGVucm9kXCI6IFsyMzgsIDIzMiwgMTcwXSxcbiAgICBcImxpZ2h0Y29yYWxcIjogWzI0MCwgMTI4LCAxMjhdLFxuICAgIFwia2hha2lcIjogWzI0MCwgMjMwLCAxNDBdLFxuICAgIFwiYWxpY2VibHVlXCI6IFsyNDAsIDI0OCwgMjU1XSxcbiAgICBcImhvbmV5ZGV3XCI6IFsyNDAsIDI1NSwgMjQwXSxcbiAgICBcImF6dXJlXCI6IFsyNDAsIDI1NSwgMjU1XSxcbiAgICBcInNhbmR5YnJvd25cIjogWzI0NCwgMTY0LCA5Nl0sXG4gICAgXCJ3aGVhdFwiOiBbMjQ1LCAyMjIsIDE3OV0sXG4gICAgXCJiZWlnZVwiOiBbMjQ1LCAyNDUsIDIyMF0sXG4gICAgXCJ3aGl0ZXNtb2tlXCI6IFsyNDUsIDI0NSwgMjQ1XSxcbiAgICBcIm1pbnRjcmVhbVwiOiBbMjQ1LCAyNTUsIDI1MF0sXG4gICAgXCJnaG9zdHdoaXRlXCI6IFsyNDgsIDI0OCwgMjU1XSxcbiAgICBcInNhbG1vblwiOiBbMjUwLCAxMjgsIDExNF0sXG4gICAgXCJhbnRpcXVld2hpdGVcIjogWzI1MCwgMjM1LCAyMTVdLFxuICAgIFwibGluZW5cIjogWzI1MCwgMjQwLCAyMzBdLFxuICAgIFwibGlnaHRnb2xkZW5yb2R5ZWxsb3dcIjogWzI1MCwgMjUwLCAyMTBdLFxuICAgIFwib2xkbGFjZVwiOiBbMjUzLCAyNDUsIDIzMF0sXG4gICAgXCJyZWRcIjogWzI1NSwgMCwgMF0sXG4gICAgXCJmdWNoc2lhXCI6IFsyNTUsIDAsIDI1NV0sXG4gICAgXCJtYWdlbnRhXCI6IFsyNTUsIDAsIDI1NV0sXG4gICAgXCJkZWVwcGlua1wiOiBbMjU1LCAyMCwgMTQ3XSxcbiAgICBcIm9yYW5nZXJlZFwiOiBbMjU1LCA2OSwgMF0sXG4gICAgXCJ0b21hdG9cIjogWzI1NSwgOTksIDcxXSxcbiAgICBcImhvdHBpbmtcIjogWzI1NSwgMTA1LCAxODBdLFxuICAgIFwiY29yYWxcIjogWzI1NSwgMTI3LCA4MF0sXG4gICAgXCJkYXJrb3JhbmdlXCI6IFsyNTUsIDE0MCwgMF0sXG4gICAgXCJsaWdodHNhbG1vblwiOiBbMjU1LCAxNjAsIDEyMl0sXG4gICAgXCJvcmFuZ2VcIjogWzI1NSwgMTY1LCAwXSxcbiAgICBcImxpZ2h0cGlua1wiOiBbMjU1LCAxODIsIDE5M10sXG4gICAgXCJwaW5rXCI6IFsyNTUsIDE5MiwgMjAzXSxcbiAgICBcImdvbGRcIjogWzI1NSwgMjE1LCAwXSxcbiAgICBcInBlYWNocHVmZlwiOiBbMjU1LCAyMTgsIDE4NV0sXG4gICAgXCJuYXZham93aGl0ZVwiOiBbMjU1LCAyMjIsIDE3M10sXG4gICAgXCJtb2NjYXNpblwiOiBbMjU1LCAyMjgsIDE4MV0sXG4gICAgXCJiaXNxdWVcIjogWzI1NSwgMjI4LCAxOTZdLFxuICAgIFwibWlzdHlyb3NlXCI6IFsyNTUsIDIyOCwgMjI1XSxcbiAgICBcImJsYW5jaGVkYWxtb25kXCI6IFsyNTUsIDIzNSwgMjA1XSxcbiAgICBcInBhcGF5YXdoaXBcIjogWzI1NSwgMjM5LCAyMTNdLFxuICAgIFwibGF2ZW5kZXJibHVzaFwiOiBbMjU1LCAyNDAsIDI0NV0sXG4gICAgXCJzZWFzaGVsbFwiOiBbMjU1LCAyNDUsIDIzOF0sXG4gICAgXCJjb3Juc2lsa1wiOiBbMjU1LCAyNDgsIDIyMF0sXG4gICAgXCJsZW1vbmNoaWZmb25cIjogWzI1NSwgMjUwLCAyMDVdLFxuICAgIFwiZmxvcmFsd2hpdGVcIjogWzI1NSwgMjUwLCAyNDBdLFxuICAgIFwic25vd1wiOiBbMjU1LCAyNTAsIDI1MF0sXG4gICAgXCJ5ZWxsb3dcIjogWzI1NSwgMjU1LCAwXSxcbiAgICBcImxpZ2h0eWVsbG93XCI6IFsyNTUsIDI1NSwgMjI0XSxcbiAgICBcIml2b3J5XCI6IFsyNTUsIDI1NSwgMjQwXSxcbiAgICBcIndoaXRlXCI6IFsyNTUsIDI1NSwgMjU1XVxufTtcbiIsIi8qKlxuICogQGNsYXNzIEFic3RyYWN0IGRpc3BsYXkgYmFja2VuZCBtb2R1bGVcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhY2tlbmQge1xuICAgIGdldENvbnRhaW5lcigpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7IH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIExvZGFzaCA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMjEnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJyxcbiAgICAgIElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQgPSAnSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWAnO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbiAgdmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIGB2YWxpZGF0ZWAgb3B0aW9uIGluIGBfLnRlbXBsYXRlYCB2YXJpYWJsZS5cbiAgICpcbiAgICogRm9yYmlkcyBjaGFyYWN0ZXJzIHdoaWNoIGNvdWxkIHBvdGVudGlhbGx5IGNoYW5nZSB0aGUgbWVhbmluZyBvZiB0aGUgZnVuY3Rpb24gYXJndW1lbnQgZGVmaW5pdGlvbjpcbiAgICogLSBcIigpLFwiIChtb2RpZmljYXRpb24gb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIj1cIiAoZGVmYXVsdCB2YWx1ZSlcbiAgICogLSBcIltde31cIiAoZGVzdHJ1Y3R1cmluZyBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiL1wiIChiZWdpbm5pbmcgb2YgYSBjb21tZW50KVxuICAgKiAtIHdoaXRlc3BhY2VcbiAgICovXG4gIHZhciByZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyA9IC9bKCk9LHt9XFxbXFxdXFwvXFxzXS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVHJpbShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nXG4gICAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgICAgOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciBjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvdW50SG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSAwO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgKytyZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gICAqL1xuICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICAgIHZhciBkYXRhLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRhdGEudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVpciBpbmRleGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAodmFsdWUgPT09IHBsYWNlaG9sZGVyIHx8IHZhbHVlID09PSBQTEFDRUhPTERFUikge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBQTEFDRUhPTERFUjtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBbdmFsdWUsIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggKyAxO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc3ltYm9scyBpbiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nU2l6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVTaXplKHN0cmluZylcbiAgICAgIDogYXNjaWlTaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAgICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICAgIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciB1bmVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbFVuZXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYSBVbmljb2RlIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlU2l6ZShzdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVVbmljb2RlLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICsrcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGBjb250ZXh0YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDEuMS4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5taXhpbih7ICdmb28nOiBfLmNvbnN0YW50KCdmb28nKSB9KTtcbiAgICpcbiAgICogdmFyIGxvZGFzaCA9IF8ucnVuSW5Db250ZXh0KCk7XG4gICAqIGxvZGFzaC5taXhpbih7ICdiYXInOiBsb2Rhc2guY29uc3RhbnQoJ2JhcicpIH0pO1xuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXy5mb28pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guYmFyKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzdXBlZC11cCBgZGVmZXJgIGluIE5vZGUuanMuXG4gICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG4gICAqL1xuICB2YXIgcnVuSW5Db250ZXh0ID0gKGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblxuICAgIC8qKiBCdWlsdC1pbiBjb25zdHJ1Y3RvciByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEVycm9yID0gY29udGV4dC5FcnJvcixcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gICAgdmFyIGNvcmVKc0RhdGEgPSBjb250ZXh0WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbiAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuICAgIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbiAgICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICAgKiBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG4gICAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgXy5ub0NvbmZsaWN0YC4gKi9cbiAgICB2YXIgb2xkRGFzaCA9IHJvb3QuXztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyBjb250ZXh0LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG4gICAgICAgIFVpbnQ4QXJyYXkgPSBjb250ZXh0LlVpbnQ4QXJyYXksXG4gICAgICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1JdGVyYXRvciA9IFN5bWJvbCA/IFN5bWJvbC5pdGVyYXRvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSgpKTtcblxuICAgIC8qKiBNb2NrZWQgYnVpbHQtaW5zLiAqL1xuICAgIHZhciBjdHhDbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCAhPT0gcm9vdC5jbGVhclRpbWVvdXQgJiYgY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG4gICAgICAgIGN0eFNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQgIT09IHJvb3Quc2V0VGltZW91dCAmJiBjb250ZXh0LnNldFRpbWVvdXQ7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG4gICAgdmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZU5vdyA9IERhdGUubm93LFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuICAgICAgICBuYXRpdmVSZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlO1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuICAgIHZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShjb250ZXh0LCAnRGF0YVZpZXcnKSxcbiAgICAgICAgTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdNYXAnKSxcbiAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuICAgICAgICBTZXQgPSBnZXROYXRpdmUoY29udGV4dCwgJ1NldCcpLFxuICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdXZWFrTWFwJyksXG4gICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuICAgIC8qKiBVc2VkIHRvIHN0b3JlIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCB1bm1pbmlmaWVkIGZ1bmN0aW9uIG5hbWVzLiAqL1xuICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG4gICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gICAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBpbXBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcbiAgICAgKiBhbmQgZnVuY3Rpb25zIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLiBNZXRob2RzIHRoYXQgcmV0cmlldmUgYSBzaW5nbGUgdmFsdWVcbiAgICAgKiBvciBtYXkgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlIHdpbGwgYXV0b21hdGljYWxseSBlbmQgdGhlIGNoYWluIHNlcXVlbmNlXG4gICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG4gICAgICogZW5hYmxlZCB1c2luZyBgXy5jaGFpbmAuXG4gICAgICpcbiAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG4gICAgICogYF8jdmFsdWVgIGlzIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cbiAgICAgKiBTaG9ydGN1dCBmdXNpb24gaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1lcmdlIGl0ZXJhdGVlIGNhbGxzOyB0aGlzIGF2b2lkc1xuICAgICAqIHRoZSBjcmVhdGlvbiBvZiBpbnRlcm1lZGlhdGUgYXJyYXlzIGFuZCBjYW4gZ3JlYXRseSByZWR1Y2UgdGhlIG51bWJlciBvZlxuICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaWYgdGhlIHNlY3Rpb24gaXMgYXBwbGllZCB0byBhbiBhcnJheSBhbmQgaXRlcmF0ZWVzIGFjY2VwdCBvbmx5XG4gICAgICogb25lIGFyZ3VtZW50LiBUaGUgaGV1cmlzdGljIGZvciB3aGV0aGVyIGEgc2VjdGlvbiBxdWFsaWZpZXMgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYF8jdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gbG9kYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGhhdmUgYEFycmF5YCBhbmQgYFN0cmluZ2AgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBBcnJheWAgbWV0aG9kcyBhcmU6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHNoaWZ0YCwgYHNvcnRgLCBgc3BsaWNlYCwgYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYFN0cmluZ2AgbWV0aG9kcyBhcmU6XG4gICAgICogYHJlcGxhY2VgIGFuZCBgc3BsaXRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24gYXJlOlxuICAgICAqIGBhdGAsIGBjb21wYWN0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGRyb3BXaGlsZWAsIGBmaWx0ZXJgLCBgZmluZGAsXG4gICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG4gICAgICogYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLCBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYW5kIGB0b0FycmF5YFxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhcnlgLCBgYXNzaWduYCwgYGFzc2lnbkluYCwgYGFzc2lnbkluV2l0aGAsIGBhc3NpZ25XaXRoYCwgYGF0YCxcbiAgICAgKiBgYmVmb3JlYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNhc3RBcnJheWAsIGBjaGFpbmAsIGBjaHVua2AsXG4gICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG4gICAgICogYGN1cnJ5YCwgYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBkZWZlcmAsIGBkZWxheWAsXG4gICAgICogYGRpZmZlcmVuY2VgLCBgZGlmZmVyZW5jZUJ5YCwgYGRpZmZlcmVuY2VXaXRoYCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCxcbiAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcbiAgICAgKiBgZmxhdE1hcGAsIGBmbGF0TWFwRGVlcGAsIGBmbGF0TWFwRGVwdGhgLCBgZmxhdHRlbmAsIGBmbGF0dGVuRGVlcGAsXG4gICAgICogYGZsYXR0ZW5EZXB0aGAsIGBmbGlwYCwgYGZsb3dgLCBgZmxvd1JpZ2h0YCwgYGZyb21QYWlyc2AsIGBmdW5jdGlvbnNgLFxuICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcbiAgICAgKiBgaW50ZXJzZWN0aW9uV2l0aGAsIGBpbnZlcnRgLCBgaW52ZXJ0QnlgLCBgaW52b2tlTWFwYCwgYGl0ZXJhdGVlYCwgYGtleUJ5YCxcbiAgICAgKiBga2V5c2AsIGBrZXlzSW5gLCBgbWFwYCwgYG1hcEtleXNgLCBgbWFwVmFsdWVzYCwgYG1hdGNoZXNgLCBgbWF0Y2hlc1Byb3BlcnR5YCxcbiAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG4gICAgICogYG50aEFyZ2AsIGBvbWl0YCwgYG9taXRCeWAsIGBvbmNlYCwgYG9yZGVyQnlgLCBgb3ZlcmAsIGBvdmVyQXJnc2AsXG4gICAgICogYG92ZXJFdmVyeWAsIGBvdmVyU29tZWAsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwYXJ0aXRpb25gLCBgcGlja2AsXG4gICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuICAgICAqIGBwdWxsQWxsV2l0aGAsIGBwdWxsQXRgLCBgcHVzaGAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlYXJnYCwgYHJlamVjdGAsXG4gICAgICogYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2FtcGxlU2l6ZWAsIGBzZXRgLCBgc2V0V2l0aGAsIGBzaHVmZmxlYCxcbiAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aHJ1YCwgYHRvQXJyYXlgLFxuICAgICAqIGB0b1BhaXJzYCwgYHRvUGFpcnNJbmAsIGB0b1BhdGhgLCBgdG9QbGFpbk9iamVjdGAsIGB0cmFuc2Zvcm1gLCBgdW5hcnlgLFxuICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG4gICAgICogYHVuc2hpZnRgLCBgdW56aXBgLCBgdW56aXBXaXRoYCwgYHVwZGF0ZWAsIGB1cGRhdGVXaXRoYCwgYHZhbHVlc2AsXG4gICAgICogYHZhbHVlc0luYCwgYHdpdGhvdXRgLCBgd3JhcGAsIGB4b3JgLCBgeG9yQnlgLCBgeG9yV2l0aGAsIGB6aXBgLFxuICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBhcmUgKipub3QqKiBjaGFpbmFibGUgYnkgZGVmYXVsdCBhcmU6XG4gICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuICAgICAqIGBjbG9uZURlZXBgLCBgY2xvbmVEZWVwV2l0aGAsIGBjbG9uZVdpdGhgLCBgY29uZm9ybXNUb2AsIGBkZWJ1cnJgLFxuICAgICAqIGBkZWZhdWx0VG9gLCBgZGl2aWRlYCwgYGVhY2hgLCBgZWFjaFJpZ2h0YCwgYGVuZHNXaXRoYCwgYGVxYCwgYGVzY2FwZWAsXG4gICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcbiAgICAgKiBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBmaXJzdGAsIGBmbG9vcmAsIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsXG4gICAgICogYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCwgYGdldGAsIGBndGAsIGBndGVgLCBgaGFzYCxcbiAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcbiAgICAgKiBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0FycmF5QnVmZmVyYCwgYGlzQXJyYXlMaWtlYCwgYGlzQXJyYXlMaWtlT2JqZWN0YCxcbiAgICAgKiBgaXNCb29sZWFuYCwgYGlzQnVmZmVyYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLCBgaXNFbXB0eWAsIGBpc0VxdWFsYCxcbiAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG4gICAgICogYGlzTWFwYCwgYGlzTWF0Y2hgLCBgaXNNYXRjaFdpdGhgLCBgaXNOYU5gLCBgaXNOYXRpdmVgLCBgaXNOaWxgLCBgaXNOdWxsYCxcbiAgICAgKiBgaXNOdW1iZXJgLCBgaXNPYmplY3RgLCBgaXNPYmplY3RMaWtlYCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLFxuICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG4gICAgICogYGlzV2Vha01hcGAsIGBpc1dlYWtTZXRgLCBgam9pbmAsIGBrZWJhYkNhc2VgLCBgbGFzdGAsIGBsYXN0SW5kZXhPZmAsXG4gICAgICogYGxvd2VyQ2FzZWAsIGBsb3dlckZpcnN0YCwgYGx0YCwgYGx0ZWAsIGBtYXhgLCBgbWF4QnlgLCBgbWVhbmAsIGBtZWFuQnlgLFxuICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcbiAgICAgKiBgcGFkRW5kYCwgYHBhZFN0YXJ0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCwgYHJlZHVjZVJpZ2h0YCxcbiAgICAgKiBgcmVwZWF0YCwgYHJlc3VsdGAsIGByb3VuZGAsIGBydW5JbkNvbnRleHRgLCBgc2FtcGxlYCwgYHNoaWZ0YCwgYHNpemVgLFxuICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG4gICAgICogYHNvcnRlZExhc3RJbmRleEJ5YCwgYHN0YXJ0Q2FzZWAsIGBzdGFydHNXaXRoYCwgYHN0dWJBcnJheWAsIGBzdHViRmFsc2VgLFxuICAgICAqIGBzdHViT2JqZWN0YCwgYHN0dWJTdHJpbmdgLCBgc3R1YlRydWVgLCBgc3VidHJhY3RgLCBgc3VtYCwgYHN1bUJ5YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG4gICAgICogYHRvTG93ZXJgLCBgdG9OdW1iZXJgLCBgdG9TYWZlSW50ZWdlcmAsIGB0b1N0cmluZ2AsIGB0b1VwcGVyYCwgYHRyaW1gLFxuICAgICAqIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGB0cnVuY2F0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGB1cHBlckNhc2VgLFxuICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoXy5hZGQpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoc3F1YXJlKTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlckNsb25lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aG9zZSBwcm90b3R5cGUgY2hhaW4gc2VxdWVuY2Ugd3JhcHBlcnMgaW5oZXJpdCBmcm9tLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgbG9kYXNoIGFyZSBsaWtlIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG4gICAgICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogcmVFdmFsdWF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuc3VyZSB3cmFwcGVycyBhcmUgaW5zdGFuY2VzIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGxvZGFzaDtcblxuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2Rhc2hXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fZGlyX18gPSAxO1xuICAgICAgdGhpcy5fX2ZpbHRlcmVkX18gPSBmYWxzZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlZXNfXyA9IFtdO1xuICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcbiAgICAgIHRoaXMuX192aWV3c19fID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBsYXp5IHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMuX193cmFwcGVkX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG4gICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdGhpcy5fX2ZpbHRlcmVkX187XG4gICAgICByZXN1bHQuX19pdGVyYXRlZXNfXyA9IGNvcHlBcnJheSh0aGlzLl9faXRlcmF0ZWVzX18pO1xuICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG4gICAgICByZXN1bHQuX192aWV3c19fID0gY29weUFycmF5KHRoaXMuX192aWV3c19fKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyByZXZlcnNlZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5UmV2ZXJzZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fZmlsdGVyZWRfXykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyA9IC0xO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gKj0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB1bndyYXBwZWQgdmFsdWUgZnJvbSBpdHMgbGF6eSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLFxuICAgICAgICAgIGRpciA9IHRoaXMuX19kaXJfXyxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuICAgICAgICAgIGlzUmlnaHQgPSBkaXIgPCAwLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGlzQXJyID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcbiAgICAgICAgICBzdGFydCA9IHZpZXcuc3RhcnQsXG4gICAgICAgICAgZW5kID0gdmlldy5lbmQsXG4gICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG4gICAgICAgICAgaW5kZXggPSBpc1JpZ2h0ID8gZW5kIDogKHN0YXJ0IC0gMSksXG4gICAgICAgICAgaXRlcmF0ZWVzID0gdGhpcy5fX2l0ZXJhdGVlc19fLFxuICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICB0YWtlQ291bnQgPSBuYXRpdmVNaW4obGVuZ3RoLCB0aGlzLl9fdGFrZUNvdW50X18pO1xuXG4gICAgICBpZiAoIWlzQXJyIHx8ICghaXNSaWdodCAmJiBhcnJMZW5ndGggPT0gbGVuZ3RoICYmIHRha2VDb3VudCA9PSBsZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKGFycmF5LCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAobGVuZ3RoLS0gJiYgcmVzSW5kZXggPCB0YWtlQ291bnQpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuXG4gICAgICAgIHZhciBpdGVySW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIHdoaWxlICgrK2l0ZXJJbmRleCA8IGl0ZXJMZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGl0ZXJhdGVlc1tpdGVySW5kZXhdLFxuICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG4gICAgICAgICAgICAgIHR5cGUgPSBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9NQVBfRkxBRykge1xuICAgICAgICAgICAgdmFsdWUgPSBjb21wdXRlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRykge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGBMYXp5V3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGJhc2VMb2Rhc2hgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgICAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gICAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuICAgIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gICAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgLS10aGlzLnNpemU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgKyt0aGlzLnNpemU7XG4gICAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgYWRkXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQGFsaWFzIHB1c2hcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgICB9XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICAgKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2Jhc2VSYW5kb20oMCwgbGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVTaXplYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAgICAgKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFnZ3JlZ2F0ZXMgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIG9uIGBhY2N1bXVsYXRvcmAgd2l0aCBrZXlzIHRyYW5zZm9ybWVkXG4gICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICAgICAqIHZhbHVlIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICBza2lwID0gb2JqZWN0ID09IG51bGw7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBza2lwID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAgICogdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIERlZXAgY2xvbmVcbiAgICAgKiAgMiAtIEZsYXR0ZW4gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuICAgICAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICAgICAgaXNGdWxsID0gYml0bWFzayAmIENMT05FX1NZTUJPTFNfRkxBRztcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRmxhdFxuICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZDtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZChiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN1YlZhbHVlLCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5udGhgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU50aChhcnJheSwgbikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG4gKz0gbiA8IDAgPyBsZW5ndGggOiAwO1xuICAgICAgcmV0dXJuIGlzSW5kZXgobiwgbGVuZ3RoKSA/IGFycmF5W25dIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm9yZGVyQnlgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBpdGVyYXRlZXMgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG9yZGVycyBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKSB7XG4gICAgICBpZiAoaXRlcmF0ZWVzLmxlbmd0aCkge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoaXRlcmF0ZWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2VHZXQodmFsdWUsIGl0ZXJhdGVlLmxlbmd0aCA9PT0gMSA/IGl0ZXJhdGVlWzBdIDogaXRlcmF0ZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2lkZW50aXR5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycgfHwga2V5ID09PSAnY29uc3RydWN0b3InIHx8IGtleSA9PT0gJ3Byb3RvdHlwZScpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGhpZ2ggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgdmFyIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbiAmJiBuYXRpdmVJc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG4gICAgICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgICAgICByZXR1cm4gKyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdIC0gcHJlY2lzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvYmplY3Qgb2YgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFkZCB0byB0aGUgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZVNldCA9ICEoU2V0ICYmICgxIC8gc2V0VG9BcnJheShuZXcgU2V0KFssLTBdKSlbMV0pID09IElORklOSVRZKSA/IG5vb3AgOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy50b1BhaXJzYCBvciBgXy50b1BhaXJzSW5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhaXJzIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvUGFpcnMoa2V5c0Z1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuICAgICAgICBpZiAodGFnID09IG1hcFRhZykge1xuICAgICAgICAgIHJldHVybiBtYXBUb0FycmF5KG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9QYWlycyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVG9QYWlycyhvYmplY3QsIGtleXNGdW5jKG9iamVjdCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG4gICAgICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogICAgMSAtIGBfLmJpbmRgXG4gICAgICogICAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogICAgNCAtIGBfLmN1cnJ5YCBvciBgXy5jdXJyeVJpZ2h0YCBvZiBhIGJvdW5kIGZ1bmN0aW9uXG4gICAgICogICAgOCAtIGBfLmN1cnJ5YFxuICAgICAqICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuICAgICAqICAgMzIgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogIDEyOCAtIGBfLnJlYXJnYFxuICAgICAqICAyNTYgLSBgXy5hcnlgXG4gICAgICogIDUxMiAtIGBfLmZsaXBgXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJ5ID0gYXJ5ID09PSB1bmRlZmluZWQgPyBhcnkgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKGFyeSksIDApO1xuICAgICAgYXJpdHkgPSBhcml0eSA9PT0gdW5kZWZpbmVkID8gYXJpdHkgOiB0b0ludGVnZXIoYXJpdHkpO1xuICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmIChiaXRtYXNrICYgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcbiAgICAgICAgICAgIGhvbGRlcnNSaWdodCA9IGhvbGRlcnM7XG5cbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBnZXREYXRhKGZ1bmMpO1xuXG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCxcbiAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBtZXJnZURhdGEobmV3RGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBmdW5jID0gbmV3RGF0YVswXTtcbiAgICAgIGJpdG1hc2sgPSBuZXdEYXRhWzFdO1xuICAgICAgdGhpc0FyZyA9IG5ld0RhdGFbMl07XG4gICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG4gICAgICBob2xkZXJzID0gbmV3RGF0YVs0XTtcbiAgICAgIGFyaXR5ID0gbmV3RGF0YVs5XSA9IG5ld0RhdGFbOV0gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgICAgIDogbmF0aXZlTWF4KG5ld0RhdGFbOV0gLSBsZW5ndGgsIDApO1xuXG4gICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKTtcbiAgICAgIH1cbiAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpO1xuICAgICAgfSBlbHNlIGlmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRyB8fCBiaXRtYXNrID09IFdSQVBfQ1VSUllfUklHSFRfRkxBRykge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG4gICAgICB9IGVsc2UgaWYgKChiaXRtYXNrID09IFdSQVBfUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKFdSQVBfQklORF9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcpKSAmJiAhaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVIeWJyaWQuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhzZXR0ZXIocmVzdWx0LCBuZXdEYXRhKSwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c2AgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25JbmAgdXNlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzXG4gICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAgICAgKiB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzRGVlcGAgdG8gY3VzdG9taXplIGl0cyBgXy5tZXJnZWAgdXNlIHRvIG1lcmdlIHNvdXJjZVxuICAgICAqIG9iamVjdHMgaW50byBkZXN0aW5hdGlvbiBvYmplY3RzIHRoYXQgYXJlIHBhc3NlZCB0aHJ1LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgb2JqVmFsdWUpO1xuICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9taXRgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uY2xvbmVEZWVwYCB1c2UgdG8gb25seSBjbG9uZSBwbGFpblxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bmNsb25lZCB2YWx1ZSBvciBgdW5kZWZpbmVkYCB0byBkZWZlciBjbG9uaW5nIHRvIGBfLmNsb25lRGVlcGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gICAgICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgYXJyU3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAoYXJyU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBhcnJTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gYXJyYXk7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gICAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICAgICAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgICAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgb2JqU3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKG9ialN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gb2JqU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gQ29tYmluaW5nIHNldmVyYWwgcHJlZGljYXRlcyB1c2luZyBgXy5vdmVyRXZlcnlgIG9yIGBfLm92ZXJTb21lYC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5vdmVyU29tZShbeyAnYWdlJzogMzYgfSwgWydhZ2UnLCA0MF1dKSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqL1xuICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuICAgICAqIHRocnUgYGl0ZXJhdGVlYCBhbmQgZmxhdHRlbmluZyB0aGUgbWFwcGVkIHJlc3VsdHMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbbiwgbl07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlZXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZWVwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcbiAgICAgKiAvLyA9PiBbWzEsIDFdLCBbMiwgMl1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzZSBgXy5mb3JJbmBcbiAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaFJpZ2h0KFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAyYCB0aGVuIGAxYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaFJpZ2h0IDogYmFzZUVhY2hSaWdodDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBvcmRlciBvZiBncm91cGVkIHZhbHVlc1xuICAgICAqIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gYGNvbGxlY3Rpb25gLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuICAgICAqIGtleS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjNdIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgW3ZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiBgY29sbGVjdGlvbmAuIElmIGBjb2xsZWN0aW9uYCBpcyBhIHN0cmluZywgaXQnc1xuICAgICAqIGNoZWNrZWQgZm9yIGEgc3Vic3RyaW5nIG9mIGB2YWx1ZWAsIG90aGVyd2lzZVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogaXMgdXNlZCBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXNcbiAgICAgKiB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4ICYmICFndWFyZCkgPyB0b0ludGVnZXIoZnJvbUluZGV4KSA6IDA7XG5cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pXG4gICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG4gICAgICAgIDogKCEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogYXJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBwYXRoYCBpcyBhIGZ1bmN0aW9uLCBpdCdzIGludm9rZWRcbiAgICAgKiBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGVhY2ggbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCBmdW5jdGlvbihvKSB7XG4gICAgICogICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShvLmNvZGUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXJ5YCwgYGNodW5rYCwgYGN1cnJ5YCwgYGN1cnJ5UmlnaHRgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZXZlcnlgLFxuICAgICAqIGBmaWxsYCwgYGludmVydGAsIGBwYXJzZUludGAsIGByYW5kb21gLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZXBlYXRgLFxuICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdHJpbWAsIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5tYXAoWzQsIDhdLCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdhJzogNCwgJ2InOiA4IH0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JyB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCAndXNlcicpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRCeWAgZXhjZXB0IHRoYXQgaXQgYWxsb3dzIHNwZWNpZnlpbmcgdGhlIHNvcnRcbiAgICAgKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG4gICAgICogZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlciBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcmRlcnNdIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBTb3J0IGJ5IGB1c2VyYCBpbiBhc2NlbmRpbmcgb3JkZXIgYW5kIGJ5IGBhZ2VgIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gaXRlcmF0ZWVzID09IG51bGwgPyBbXSA6IFtpdGVyYXRlZXNdO1xuICAgICAgfVxuICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG4gICAgICBpZiAoIWlzQXJyYXkob3JkZXJzKSkge1xuICAgICAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byB0d28gZ3JvdXBzLCB0aGUgZmlyc3Qgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleSBmb3IuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsICdwZWJibGVzJ10sIFsnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKi9cbiAgICB2YXIgcGFydGl0aW9uID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXkgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLiBJZiBgYWNjdW11bGF0b3JgXG4gICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuICAgICAqIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOlxuICAgICAqIChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5yZWR1Y2VgLCBgXy5yZWR1Y2VSaWdodGAsIGFuZCBgXy50cmFuc2Zvcm1gLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFzc2lnbmAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgb3JkZXJCeWAsXG4gICAgICogYW5kIGBzb3J0QnlgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZShbMSwgMl0sIGZ1bmN0aW9uKHN1bSwgbikge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG47XG4gICAgICogfSwgMCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZSA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICpcbiAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG4gICAgICogICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChvdGhlcik7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmA7IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqIHRoYXQgYHByZWRpY2F0ZWAgZG9lcyAqKm5vdCoqIHJldHVybiB0cnV0aHkgZm9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5maWx0ZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5yZWplY3QodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGBuYCByYW5kb20gZWxlbWVudHMgYXQgdW5pcXVlIGtleXMgZnJvbSBgY29sbGVjdGlvbmAgdXAgdG8gdGhlXG4gICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTaHVmZmxlIDogYmFzZVNodWZmbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgaXRzIGxlbmd0aCBmb3IgYXJyYXktbGlrZVxuICAgICAqIHZhbHVlcyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gc3RyaW5nU2l6ZShjb2xsZWN0aW9uKSA6IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyhjb2xsZWN0aW9uKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlS2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICAgICAqIGVxdWFsIGVsZW1lbnRzLiBUaGUgaXRlcmF0ZWVzIGFyZSBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDMwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCAzMF1dXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCAzMF0sIFsnZnJlZCcsIDQ4XV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgICAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IERhdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gICAgICogfSwgXy5ub3coKSk7XG4gICAgICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgbm93ID0gY3R4Tm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmJlZm9yZWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnZG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdkb25lIHNhdmluZyEnIGFmdGVyIHRoZSB0d28gYXN5bmMgc2F2ZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHVwIHRvIGBuYCBhcmd1bWVudHMsXG4gICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgY2FwLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcbiAgICAgIG4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IG47XG4gICAgICBuID0gKGZ1bmMgJiYgbiA9PSBudWxsKSA/IGZ1bmMubGVuZ3RoIDogbjtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHNcbiAgICAgKiBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hpbGUgaXQncyBjYWxsZWQgbGVzcyB0aGFuIGBuYCB0aW1lcy4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uYmVmb3JlKDUsIGFkZENvbnRhY3RUb0xpc3QpKTtcbiAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmVmb3JlKG4sIGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uID4gMCkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgICAgZnVuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgbmF0aXZlIGBGdW5jdGlvbiNiaW5kYCwgdGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gIHdpdGggYHBhcnRpYWxzYFxuICAgICAqIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0byByZWZlcmVuY2VcbiAgICAgKiBtZXRob2RzIHRoYXQgbWF5IGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuIFNlZVxuICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52b2tlIHRoZSBtZXRob2Qgb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAndXNlcic6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIG9mIGBmdW5jYCBhbmQgZWl0aGVyIGludm9rZXNcbiAgICAgKiBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGF0IGxlYXN0IGBhcml0eWAgbnVtYmVyIG9mIGFyZ3VtZW50cyBoYXZlXG4gICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuICAgICAqIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIG1heSBiZSBzcGVjaWZpZWQgaWYgYGZ1bmMubGVuZ3RoYFxuICAgICAqIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMSkoXywgMykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jdXJyeWAgZXhjZXB0IHRoYXQgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIGBmdW5jYFxuICAgICAqIGluIHRoZSBtYW5uZXIgb2YgYF8ucGFydGlhbFJpZ2h0YCBpbnN0ZWFkIG9mIGBfLnBhcnRpYWxgLlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5UmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnlSaWdodChhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgzKSgyKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMiwgMykoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDMpKDEsIF8pKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5UmlnaHQoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeVJpZ2h0LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAgICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gICAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgICAqIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgICAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKlxuICAgICAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gICAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICAgIGxhc3RUaGlzLFxuICAgICAgICAgIG1heFdhaXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHRpbWVySWQsXG4gICAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgICByZXR1cm4gbWF4aW5nXG4gICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgICAgIDogdGltZVdhaXRpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBpbnZva2luZyB0aGUgYGZ1bmNgIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuIEFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyA9PiBMb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG1pbGxpc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWZlciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgMSwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBMb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIHRvTnVtYmVyKHdhaXQpIHx8IDAsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgcmV2ZXJzZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBmbGlwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG4gICAgICogICByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmbGlwcGVkKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gWydkJywgJ2MnLCAnYicsICdhJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGlwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfRkxJUF9GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAgICAgKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICAgICAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICAgICAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAgICAgKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICAgICAqXG4gICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YWx1ZXMob3RoZXIpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqXG4gICAgICogb2JqZWN0LmEgPSAyO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKlxuICAgICAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gICAgICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cbiAgICBtZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBuZWdhdGVzIHRoZSByZXN1bHQgb2YgdGhlIHByZWRpY2F0ZSBgZnVuY2AuIFRoZVxuICAgICAqIGBmdW5jYCBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbmVnYXRlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNFdmVuKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgXy5uZWdhdGUoaXNFdmVuKSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGludm9raW5nIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHNcbiAgICAgKiB0byB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgaW52b2NhdGlvbi4gVGhlIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vID0+IGBjcmVhdGVBcHBsaWNhdGlvbmAgaXMgaW52b2tlZCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmVmb3JlKDIsIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50cyB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGFyZ3VtZW50IHRyYW5zZm9ybXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGRvdWJsZWQobikge1xuICAgICAqICAgcmV0dXJuIG4gKiAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJBcmdzKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiBbeCwgeV07XG4gICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuICAgICAqXG4gICAgICogZnVuYyg5LCAzKTtcbiAgICAgKiAvLyA9PiBbODEsIDZdXG4gICAgICpcbiAgICAgKiBmdW5jKDEwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTAwLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgb3ZlckFyZ3MgPSBjYXN0UmVzdChmdW5jdGlvbihmdW5jLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcbiAgICAgICAgPyBhcnJheU1hcCh0cmFuc2Zvcm1zWzBdLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpXG4gICAgICAgIDogYXJyYXlNYXAoYmFzZUZsYXR0ZW4odHJhbnNmb3JtcywgMSksIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciBmdW5jc0xlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oYXJncy5sZW5ndGgsIGZ1bmNzTGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gdHJhbnNmb3Jtc1tpbmRleF0uY2FsbCh0aGlzLCBhcmdzW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG4gICAgICogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWwoZ3JlZXQsICdoZWxsbycpO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsKSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50c1xuICAgICAqIGFyZSBhcHBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWxSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2hlbGxvJywgXyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsUmlnaHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgYXJyYW5nZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBzZWNvbmQgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZWFycmFuZ2UgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhcmdlZCA9IF8ucmVhcmcoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9LCBbMiwgMCwgMV0pO1xuICAgICAqXG4gICAgICogcmVhcmdlZCgnYicsICdjJywgJ2EnKVxuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIHZhciByZWFyZyA9IGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmMsIGluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXNcbiAgICAgKiBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8ucmVzdChmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICAgICAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlIGZ1bmN0aW9uIGFuZCBhbiBhcnJheSBvZiBhcmd1bWVudHMgbXVjaCBsaWtlXG4gICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHNwcmVhZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8uc3ByZWFkKGZ1bmN0aW9uKHdobywgd2hhdCkge1xuICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQgc2F5cyBoZWxsbydcbiAgICAgKlxuICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDQwKSxcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSgzNilcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIG51bWJlcnMudGhlbihfLnNwcmVhZChmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4geCArIHk7XG4gICAgICogfSkpO1xuICAgICAqIC8vID0+IGEgUHJvbWlzZSBvZiA3NlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwcmVhZChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IG5hdGl2ZU1heCh0b0ludGVnZXIoc3RhcnQpLCAwKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3Nbc3RhcnRdLFxuICAgICAgICAgICAgb3RoZXJBcmdzID0gY2FzdFNsaWNlKGFyZ3MsIDAsIHN0YXJ0KTtcblxuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBhcnJheVB1c2gob3RoZXJBcmdzLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gICAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICAgKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gICAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgICAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIG9uZSBhcmd1bWVudCwgaWdub3JpbmcgYW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8udW5hcnkocGFyc2VJbnQpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5hcnkoZnVuYykge1xuICAgICAgcmV0dXJuIGFyeShmdW5jLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYHdyYXBwZXJgLiBUaGUgd3JhcHBlciBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt3cmFwcGVyPWlkZW50aXR5XSBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5mcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBwYXJ0aWFsKGNhc3RGdW5jdGlvbih3cmFwcGVyKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgYXMgYW4gYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoMSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbbnVsbF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlXG4gICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcbiAgICAgKiBhbmQgc3VwcG9ydHMgY2xvbmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLCBkYXRlIG9iamVjdHMsIG1hcHMsXG4gICAgICogbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcywgc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkXG4gICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcbiAgICAgKiBhcyBwbGFpbiBvYmplY3RzLiBBbiBlbXB0eSBvYmplY3QgaXMgcmV0dXJuZWQgZm9yIHVuY2xvbmVhYmxlIHZhbHVlcyBzdWNoXG4gICAgICogYXMgZXJyb3Igb2JqZWN0cywgZnVuY3Rpb25zLCBET00gbm9kZXMsIGFuZCBXZWFrTWFwcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKHNoYWxsb3dbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiBjbG9uaW5nIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lV2l0aGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVEZWVwV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXBXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgb2JqZWN0YCBjb25mb3JtcyB0byBgc291cmNlYCBieSBpbnZva2luZyB0aGUgcHJlZGljYXRlXG4gICAgICogcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2UgPT0gbnVsbCB8fCBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5ndCgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheUJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheUJ1ZmZlciA9IG5vZGVJc0FycmF5QnVmZmVyID8gYmFzZVVuYXJ5KG5vZGVJc0FycmF5QnVmZmVyKSA6IGJhc2VJc0FycmF5QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICAgICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAgICogaXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGJvb2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBEYXRlYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKCdNb24gQXByaWwgMjMgMjAxMicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzRGF0ZSA9IG5vZGVJc0RhdGUgPyBiYXNlVW5hcnkobm9kZUlzRGF0ZSkgOiBiYXNlSXNEYXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAgICAgKlxuICAgICAqIE9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIG5vIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBBcnJheS1saWtlIHZhbHVlcyBzdWNoIGFzIGBhcmd1bWVudHNgIG9iamVjdHMsIGFycmF5cywgYnVmZmVycywgc3RyaW5ncywgb3JcbiAgICAgKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkodHJ1ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgaXNCdWZmZXIodmFsdWUpIHx8IGlzVHlwZWRBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICAgICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAgICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogb2JqZWN0ID09PSBvdGhlcjtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzRXF1YWxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuICAgICAqIHNpeCBhcmd1bWVudHM6IChvYmpWYWx1ZSwgb3RoVmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIG90aGVyLCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsV2l0aChhcnJheSwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsV2l0aCh2YWx1ZSwgb3RoZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyID8gY3VzdG9taXplcih2YWx1ZSwgb3RoZXIpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCB1bmRlZmluZWQsIGN1c3RvbWl6ZXIpIDogISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcbiAgICAgKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IoRXJyb3IpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAgICAgKiBkZXRlcm1pbmUgaWYgYG9iamVjdGAgY29udGFpbnMgZXF1aXZhbGVudCBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc01hdGNoYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggZml2ZVxuICAgICAqIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwgaW5kZXh8a2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcoc3JjVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcbiAgICAgKiB2YXIgc291cmNlID0geyAnZ3JlZXRpbmcnOiAnaGknIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcbiAgICAgKiBnbG9iYWwgW2Bpc05hTmBdKGh0dHBzOi8vbWRuLmlvL2lzTmFOKSB3aGljaCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gQW4gYE5hTmAgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZi5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGB0b1N0cmluZ1RhZ2AgY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZVxuICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcmlzdGluZSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgY2FuJ3QgcmVsaWFibHkgZGV0ZWN0IG5hdGl2ZSBmdW5jdGlvbnMgaW4gdGhlIHByZXNlbmNlXG4gICAgICogb2YgdGhlIGNvcmUtanMgcGFja2FnZSBiZWNhdXNlIGNvcmUtanMgY2lyY3VtdmVudHMgdGhpcyBraW5kIG9mIGRldGVjdGlvbi5cbiAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcbiAgICAgKiBhdHRlbXB0IHRvIGZpeCB0aGUgZGV0ZWN0aW9uIHdpbGwgYmUgb2JzdHJ1Y3RlZC4gQXMgYSByZXN1bHQsIHdlJ3JlIGxlZnRcbiAgICAgKiB3aXRoIGxpdHRsZSBjaG9pY2UgYnV0IHRvIHRocm93IGFuIGVycm9yLiBVbmZvcnR1bmF0ZWx5LCB0aGlzIGFsc28gYWZmZWN0c1xuICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuICAgICAqIHdoaWNoIHJlbHkgb24gY29yZS1qcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShfKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNNYXNrYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKENPUkVfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBleGNsdWRlIGBJbmZpbml0eWAsIGAtSW5maW5pdHlgLCBhbmQgYE5hTmAsIHdoaWNoIGFyZVxuICAgICAqIGNsYXNzaWZpZWQgYXMgbnVtYmVycywgdXNlIHRoZSBgXy5pc0Zpbml0ZWAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gbnVtYmVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gICAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuOC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBSZWdFeHBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG4gICAgICogZG91YmxlIHByZWNpc2lvbiBudW1iZXIgd2hpY2ggaXNuJ3QgdGhlIHJlc3VsdCBvZiBhIHJvdW5kZWQgdW5zYWZlIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc1NhZmVJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzU2FmZUludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1NldCA9IG5vZGVJc1NldCA/IGJhc2VVbmFyeShub2RlSXNTZXQpIDogYmFzZUlzU2V0O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gd2Vha01hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHdlYWtTZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0KDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDw9IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KDEpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW1JdGVyYXRvciAmJiB2YWx1ZVtzeW1JdGVyYXRvcl0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlciBzdWl0YWJsZSBmb3IgdXNlIGFzIHRoZSBsZW5ndGggb2YgYW5cbiAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDQyOTQ5NjcyOTVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIDAsIE1BWF9BUlJBWV9MRU5HVEgpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b051bWJlcigzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IEluZmluaXR5XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgICAqIC8vID0+ICdkZWphIHZ1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249c3RyaW5nLmxlbmd0aF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGVuZ3RoXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICAgICAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gICAgICogdW5sZXNzIHRoZXkncmUgcGFydCBvZiBhIHRhZyBvciB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuIFNlZVxuICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAgICAgKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAgICAgKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICAgICAqIFhTUyB2ZWN0b3JzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNVbmVzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlUmVnRXhwKCdbbG9kYXNoXShodHRwczovL2xvZGFzaC5jb20vKScpO1xuICAgICAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKi9cbiAgICB2YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGcmVkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnZlJFRCdcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9Mb3dlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgpO1xuICAgICAqIC8vID0+ICcgIGFiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1hYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc3RyTGVuZ3RoID49IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG1pZCA9IChsZW5ndGggLSBzdHJMZW5ndGgpIC8gMjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlRmxvb3IobWlkKSwgY2hhcnMpICtcbiAgICAgICAgc3RyaW5nICtcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSByaWdodCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJyAgIGFiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdfLV9hYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LiBJZiBgcmFkaXhgIGlzXG4gICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcbiAgICAgKiBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuICAgICAqIFtFUzUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi4yKSBvZiBgcGFyc2VJbnRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXg9MTBdIFRoZSByYWRpeCB0byBpbnRlcnByZXQgYHZhbHVlYCBieS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICcwOCcsICcxMCddLCBfLnBhcnNlSW50KTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCwgZ3VhcmQpIHtcbiAgICAgIGlmIChndWFyZCB8fCByYWRpeCA9PSBudWxsKSB7XG4gICAgICAgIHJhZGl4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocmFkaXgpIHtcbiAgICAgICAgcmFkaXggPSArcmFkaXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQodG9TdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyksIHJhZGl4IHx8IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGVhdHMgdGhlIGdpdmVuIHN0cmluZyBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnKicsIDMpO1xuICAgICAqIC8vID0+ICcqKionXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMik7XG4gICAgICogLy8gPT4gJ2FiY2FiYydcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAwKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmVwZWF0KHRvU3RyaW5nKHN0cmluZyksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gcmVwbGFjZW1lbnQgVGhlIG1hdGNoIHJlcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG4gICAgICogLy8gPT4gJ0hpIEJhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoYXJnc1swXSk7XG5cbiAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA8IDMgPyBzdHJpbmcgOiBzdHJpbmcucmVwbGFjZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNuYWtlIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCctLUZPTy1CQVItLScpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqL1xuICAgIHZhciBzbmFrZUNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBzZXBhcmF0b3IgVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHNwbGl0IGJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGltaXRdIFRoZSBsZW5ndGggdG8gdHJ1bmNhdGUgcmVzdWx0cyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIGlmIChsaW1pdCAmJiB0eXBlb2YgbGltaXQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9BUlJBWV9MRU5HVEggOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmICghbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKFxuICAgICAgICAgICAgdHlwZW9mIHNlcGFyYXRvciA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKHNlcGFyYXRvciAhPSBudWxsICYmICFpc1JlZ0V4cChzZXBhcmF0b3IpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gYmFzZVRvU3RyaW5nKHNlcGFyYXRvcik7XG4gICAgICAgIGlmICghc2VwYXJhdG9yICYmIGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc3RhcnQgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3R5bGlzdGljX29yX3NwZWNpYWxpc2VkX3VzYWdlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgdXBwZXJGaXJzdCh3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj0wXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09IG51bGxcbiAgICAgICAgPyAwXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIHN0cmluZy5sZW5ndGgpO1xuXG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcbiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgdGFyZ2V0Lmxlbmd0aCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuICAgICAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICAgICAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAgICAgKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gICAgICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gICAgICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG4gICAgICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICAgICAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG4gICAgICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbbl0nXVxuICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gICAgICogIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZXhlY3V0ZSBKYXZhU2NyaXB0IGFuZCBnZW5lcmF0ZSBIVE1MLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIHVzZXIpOyAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyAkeyB1c2VyIH0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICdpZ25vcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgLlxuICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IEZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3IuXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqIC8vICAgcmV0dXJuIF9fcDtcbiAgICAgKiAvLyB9XG4gICAgICpcbiAgICAgKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlID0gL3t7KFtcXHNcXFNdKz8pfX0vZztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgICAgIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIChodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nLylcbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMsIHNldHRpbmdzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSBiYXNlVmFsdWVzKGltcG9ydHMsIGltcG9ydHNLZXlzKTtcblxuICAgICAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gQ29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyLlxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgLy8gVGhlIHNvdXJjZVVSTCBnZXRzIGluamVjdGVkIGludG8gdGhlIHNvdXJjZSB0aGF0J3MgZXZhbC1lZCwgc28gYmUgY2FyZWZ1bFxuICAgICAgLy8gdG8gbm9ybWFsaXplIGFsbCBraW5kcyBvZiB3aGl0ZXNwYWNlLCBzbyBlLmcuIG5ld2xpbmVzIChhbmQgdW5pY29kZSB2ZXJzaW9ucyBvZiBpdCkgY2FuJ3Qgc25lYWsgaW5cbiAgICAgIC8vIGFuZCBlc2NhcGUgdGhlIGNvbW1lbnQsIHRodXMgaW5qZWN0aW5nIGNvZGUgdGhhdCBnZXRzIGV2YWxlZC5cbiAgICAgIHZhciBzb3VyY2VVUkwgPSAnLy8jIHNvdXJjZVVSTD0nICtcbiAgICAgICAgKGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3NvdXJjZVVSTCcpXG4gICAgICAgICAgPyAob3B0aW9ucy5zb3VyY2VVUkwgKyAnJykucmVwbGFjZSgvXFxzL2csICcgJylcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgdmFyIHZhcmlhYmxlID0gaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAndmFyaWFibGUnKSAmJiBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIFRocm93IGFuIGVycm9yIGlmIGEgZm9yYmlkZGVuIGNoYXJhY3RlciB3YXMgZm91bmQgaW4gYHZhcmlhYmxlYCwgdG8gcHJldmVudFxuICAgICAgLy8gcG90ZW50aWFsIGNvbW1hbmQgaW5qZWN0aW9uIGF0dGFja3MuXG4gICAgICBlbHNlIGlmIChyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycy50ZXN0KHZhcmlhYmxlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gYmFzZVRyaW0oc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgY2hyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoY2hhcnMpLFxuICAgICAgICAgIHN0YXJ0ID0gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0LCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbUVuZCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICcgIGFiYydcbiAgICAgKlxuICAgICAqIF8udHJpbUVuZCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJy1fLWFiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltRW5kKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYyAgJ1xuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMtXy0nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbVN0YXJ0KHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIHN0YXJ0ID0gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1bmNhdGVzIGBzdHJpbmdgIGlmIGl0J3MgbG9uZ2VyIHRoYW4gdGhlIGdpdmVuIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBUaGUgbGFzdCBjaGFyYWN0ZXJzIG9mIHRoZSB0cnVuY2F0ZWQgc3RyaW5nIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBvbWlzc2lvblxuICAgICAqIHN0cmluZyB3aGljaCBkZWZhdWx0cyB0byBcIi4uLlwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRydW5jYXRlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5sZW5ndGg9MzBdIFRoZSBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9taXNzaW9uPScuLi4nXSBUaGUgc3RyaW5nIHRvIGluZGljYXRlIHRleHQgaXMgb21pdHRlZC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtvcHRpb25zLnNlcGFyYXRvcl0gVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHRydW5jYXRlIHRvLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRydW5jYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nKTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAnICdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLC4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogLyw/ICsvXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZS4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnb21pc3Npb24nOiAnIFsuLi5dJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWcgWy4uLl0nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJ1bmNhdGUoc3RyaW5nLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gREVGQVVMVF9UUlVOQ19MRU5HVEgsXG4gICAgICAgICAgb21pc3Npb24gPSBERUZBVUxUX1RSVU5DX09NSVNTSU9OO1xuXG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9ICdzZXBhcmF0b3InIGluIG9wdGlvbnMgPyBvcHRpb25zLnNlcGFyYXRvciA6IHNlcGFyYXRvcjtcbiAgICAgICAgbGVuZ3RoID0gJ2xlbmd0aCcgaW4gb3B0aW9ucyA/IHRvSW50ZWdlcihvcHRpb25zLmxlbmd0aCkgOiBsZW5ndGg7XG4gICAgICAgIG9taXNzaW9uID0gJ29taXNzaW9uJyBpbiBvcHRpb25zID8gYmFzZVRvU3RyaW5nKG9wdGlvbnMub21pc3Npb24pIDogb21pc3Npb247XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIGlmIChoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyk7XG4gICAgICAgIHN0ckxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGxlbmd0aCA+PSBzdHJMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBlbmQgPSBsZW5ndGggLSBzdHJpbmdTaXplKG9taXNzaW9uKTtcbiAgICAgIGlmIChlbmQgPCAxKSB7XG4gICAgICAgIHJldHVybiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBzdHJTeW1ib2xzXG4gICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJylcbiAgICAgICAgOiBzdHJpbmcuc2xpY2UoMCwgZW5kKTtcblxuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIGlmIChzdHJTeW1ib2xzKSB7XG4gICAgICAgIGVuZCArPSAocmVzdWx0Lmxlbmd0aCAtIGVuZCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZWdFeHAoc2VwYXJhdG9yKSkge1xuICAgICAgICBpZiAoc3RyaW5nLnNsaWNlKGVuZCkuc2VhcmNoKHNlcGFyYXRvcikpIHtcbiAgICAgICAgICB2YXIgbWF0Y2gsXG4gICAgICAgICAgICAgIHN1YnN0cmluZyA9IHJlc3VsdDtcblxuICAgICAgICAgIGlmICghc2VwYXJhdG9yLmdsb2JhbCkge1xuICAgICAgICAgICAgc2VwYXJhdG9yID0gUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIHRvU3RyaW5nKHJlRmxhZ3MuZXhlYyhzZXBhcmF0b3IpKSArICdnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcGFyYXRvci5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBzZXBhcmF0b3IuZXhlYyhzdWJzdHJpbmcpKSkge1xuICAgICAgICAgICAgdmFyIG5ld0VuZCA9IG1hdGNoLmluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgbmV3RW5kID09PSB1bmRlZmluZWQgPyBlbmQgOiBuZXdFbmQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0cmluZy5pbmRleE9mKGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpLCBlbmQpICE9IGVuZCkge1xuICAgICAgICB2YXIgaW5kZXggPSByZXN1bHQubGFzdEluZGV4T2Yoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8uZXNjYXBlYDsgdGhpcyBtZXRob2QgY29udmVydHMgdGhlIEhUTUwgZW50aXRpZXNcbiAgICAgKiBgJmFtcDtgLCBgJmx0O2AsIGAmZ3Q7YCwgYCZxdW90O2AsIGFuZCBgJiMzOTtgIGluIGBzdHJpbmdgIHRvXG4gICAgICogdGhlaXIgY29ycmVzcG9uZGluZyBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIEhUTUwgZW50aXRpZXMgYXJlIHVuZXNjYXBlZC4gVG8gdW5lc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIEhUTUwgZW50aXRpZXMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNi4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc0VzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZUVzY2FwZWRIdG1sLCB1bmVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byB1cHBlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnLS1mb28tYmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgdXBwZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRlJFRCdcbiAgICAgKi9cbiAgICB2YXIgdXBwZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9VcHBlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW3BhdHRlcm5dIFRoZSBwYXR0ZXJuIHRvIG1hdGNoIHdvcmRzLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAnJicsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcGF0dGVybiA9IGd1YXJkID8gdW5kZWZpbmVkIDogcGF0dGVybjtcblxuICAgICAgaWYgKHBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSA/IHVuaWNvZGVXb3JkcyhzdHJpbmcpIDogYXNjaWlXb3JkcyhzdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBpbnZva2UgYGZ1bmNgLCByZXR1cm5pbmcgZWl0aGVyIHRoZSByZXN1bHQgb3IgdGhlIGNhdWdodCBlcnJvclxuICAgICAqIG9iamVjdC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGF0dGVtcHQuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGBmdW5jYCByZXN1bHQgb3IgZXJyb3Igb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCB0aHJvd2luZyBlcnJvcnMgZm9yIGludmFsaWQgc2VsZWN0b3JzLlxuICAgICAqIHZhciBlbGVtZW50cyA9IF8uYXR0ZW1wdChmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAqICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAqIH0sICc+Xz4nKTtcbiAgICAgKlxuICAgICAqIGlmIChfLmlzRXJyb3IoZWxlbWVudHMpKSB7XG4gICAgICogICBlbGVtZW50cyA9IFtdO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICB2YXIgYXR0ZW1wdCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gaXNFcnJvcihlKSA/IGUgOiBuZXcgRXJyb3IoZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBtZXRob2RzIG9mIGFuIG9iamVjdCB0byB0aGUgb2JqZWN0IGl0c2VsZiwgb3ZlcndyaXRpbmcgdGhlIGV4aXN0aW5nXG4gICAgICogbWV0aG9kLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGJpbmQgYW5kIGFzc2lnbiB0aGUgYm91bmQgbWV0aG9kcyB0by5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBtZXRob2ROYW1lcyBUaGUgb2JqZWN0IG1ldGhvZCBuYW1lcyB0byBiaW5kLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB2aWV3ID0ge1xuICAgICAqICAgJ2xhYmVsJzogJ2RvY3MnLFxuICAgICAqICAgJ2NsaWNrJzogZnVuY3Rpb24oKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyB0aGlzLmxhYmVsKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5iaW5kQWxsKHZpZXcsIFsnY2xpY2snXSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHZpZXcuY2xpY2spO1xuICAgICAqIC8vID0+IExvZ3MgJ2NsaWNrZWQgZG9jcycgd2hlbiBjbGlja2VkLlxuICAgICAqL1xuICAgIHZhciBiaW5kQWxsID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBtZXRob2ROYW1lcykge1xuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAga2V5ID0gdG9LZXkoa2V5KTtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBiaW5kKG9iamVjdFtrZXldLCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGl0ZXJhdGVzIG92ZXIgYHBhaXJzYCBhbmQgaW52b2tlcyB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAqIGZ1bmN0aW9uIG9mIHRoZSBmaXJzdCBwcmVkaWNhdGUgdG8gcmV0dXJuIHRydXRoeS4gVGhlIHByZWRpY2F0ZS1mdW5jdGlvblxuICAgICAqIHBhaXJzIGFyZSBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIHByZWRpY2F0ZS1mdW5jdGlvbiBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5jb25kKFtcbiAgICAgKiAgIFtfLm1hdGNoZXMoeyAnYSc6IDEgfSksICAgICAgICAgICBfLmNvbnN0YW50KCdtYXRjaGVzIEEnKV0sXG4gICAgICogICBbXy5jb25mb3Jtcyh7ICdiJzogXy5pc051bWJlciB9KSwgXy5jb25zdGFudCgnbWF0Y2hlcyBCJyldLFxuICAgICAqICAgW18uc3R1YlRydWUsICAgICAgICAgICAgICAgICAgICAgIF8uY29uc3RhbnQoJ25vIG1hdGNoJyldXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQSdcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDAsICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBCJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogJzEnLCAnYic6ICcyJyB9KTtcbiAgICAgKiAvLyA9PiAnbm8gbWF0Y2gnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZChwYWlycykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHRvSXRlcmF0ZWUgPSBnZXRJdGVyYXRlZSgpO1xuXG4gICAgICBwYWlycyA9ICFsZW5ndGggPyBbXSA6IGFycmF5TWFwKHBhaXJzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFpclsxXSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdG9JdGVyYXRlZShwYWlyWzBdKSwgcGFpclsxXV07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgICAgaWYgKGFwcGx5KHBhaXJbMF0sIHRoaXMsIGFyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkocGFpclsxXSwgdGhpcywgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBwcmVkaWNhdGUgcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoXG4gICAgICogdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGEgZ2l2ZW4gb2JqZWN0LCByZXR1cm5pbmcgYHRydWVgIGlmXG4gICAgICogYWxsIHByZWRpY2F0ZXMgcmV0dXJuIHRydXRoeSwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNUb2Agd2l0aFxuICAgICAqIGBzb3VyY2VgIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDIsICdiJzogMSB9LFxuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8uY29uZm9ybXMoeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VDb25mb3JtcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGB2YWx1ZWAgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBkZWZhdWx0IHZhbHVlIHNob3VsZCBiZSByZXR1cm5lZCBpblxuICAgICAqIGl0cyBwbGFjZS4gVGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGBudWxsYCxcbiAgICAgKiBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8oMSwgMTApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKHVuZGVmaW5lZCwgMTApO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVmYXVsdFRvKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUpID8gZGVmYXVsdFZhbHVlIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGludm9raW5nIHRoZSBnaXZlbiBmdW5jdGlvbnNcbiAgICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93UmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYWRkU3F1YXJlID0gXy5mbG93KFtfLmFkZCwgc3F1YXJlXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvdyA9IGNyZWF0ZUZsb3coKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxvd2AgZXhjZXB0IHRoYXQgaXQgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXRcbiAgICAgKiBpbnZva2VzIHRoZSBnaXZlbiBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYWRkU3F1YXJlID0gXy5mbG93UmlnaHQoW3NxdWFyZSwgXy5hZGRdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93UmlnaHQgPSBjcmVhdGVGbG93KHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLiBJZiBgZnVuY2AgaXMgYSBwcm9wZXJ0eSBuYW1lLCB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIHRoZVxuICAgICAqIHByb3BlcnR5IHZhbHVlIGZvciBhIGdpdmVuIGVsZW1lbnQuIElmIGBmdW5jYCBpcyBhbiBhcnJheSBvciBvYmplY3QsIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgY29udGFpbiB0aGUgZXF1aXZhbGVudFxuICAgICAqIHNvdXJjZSBwcm9wZXJ0aWVzLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IFtmdW5jPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZSh7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoWyd1c2VyJywgJ2ZyZWQnXSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCBfLml0ZXJhdGVlKCd1c2VyJykpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gQ3JlYXRlIGN1c3RvbSBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqIF8uaXRlcmF0ZWUgPSBfLndyYXAoXy5pdGVyYXRlZSwgZnVuY3Rpb24oaXRlcmF0ZWUsIGZ1bmMpIHtcbiAgICAgKiAgIHJldHVybiAhXy5pc1JlZ0V4cChmdW5jKSA/IGl0ZXJhdGVlKGZ1bmMpIDogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICogICAgIHJldHVybiBmdW5jLnRlc3Qoc3RyaW5nKTtcbiAgICAgKiAgIH07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbJ2FiYycsICdkZWYnXSwgL2VmLyk7XG4gICAgICogLy8gPT4gWydkZWYnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGl0ZXJhdGVlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiYXNlSXRlcmF0ZWUodHlwZW9mIGZ1bmMgPT0gJ2Z1bmN0aW9uJyA/IGZ1bmMgOiBiYXNlQ2xvbmUoZnVuYywgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGEgZ2l2ZW5cbiAgICAgKiBvYmplY3QgYW5kIGBzb3VyY2VgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGVxdWl2YWxlbnRcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmlzTWF0Y2hgIHdpdGggYHNvdXJjZWBcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBNdWx0aXBsZSB2YWx1ZXMgY2FuIGJlIGNoZWNrZWQgYnkgY29tYmluaW5nIHNldmVyYWwgbWF0Y2hlcnNcbiAgICAgKiB1c2luZyBgXy5vdmVyU29tZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5tYXRjaGVzKHsgJ2EnOiA0LCAnYyc6IDYgfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgXy5tYXRjaGVzKHsgJ2EnOiA0IH0pXSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBNdWx0aXBsZSB2YWx1ZXMgY2FuIGJlIGNoZWNrZWQgYnkgY29tYmluaW5nIHNldmVyYWwgbWF0Y2hlcnNcbiAgICAgKiB1c2luZyBgXy5vdmVyU29tZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICpcbiAgICAgKiAvLyBDaGVja2luZyBmb3Igc2V2ZXJhbCBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm92ZXJTb21lKFtfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDEpLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpXSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBGb2xsb3dpbmcgc2hvcnRoYW5kcyBhcmUgcG9zc2libGUgZm9yIHByb3ZpZGluZyBwcmVkaWNhdGVzLlxuICAgICAqIFBhc3MgYW4gYE9iamVjdGAgYW5kIGl0IHdpbGwgYmUgdXNlZCBhcyBhbiBwYXJhbWV0ZXIgZm9yIGBfLm1hdGNoZXNgIHRvIGNyZWF0ZSB0aGUgcHJlZGljYXRlLlxuICAgICAqIFBhc3MgYW4gYEFycmF5YCBvZiBwYXJhbWV0ZXJzIGZvciBgXy5tYXRjaGVzUHJvcGVydHlgIGFuZCB0aGUgcHJlZGljYXRlIHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0aGVtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBGb2xsb3dpbmcgc2hvcnRoYW5kcyBhcmUgcG9zc2libGUgZm9yIHByb3ZpZGluZyBwcmVkaWNhdGVzLlxuICAgICAqIFBhc3MgYW4gYE9iamVjdGAgYW5kIGl0IHdpbGwgYmUgdXNlZCBhcyBhbiBwYXJhbWV0ZXIgZm9yIGBfLm1hdGNoZXNgIHRvIGNyZWF0ZSB0aGUgcHJlZGljYXRlLlxuICAgICAqIFBhc3MgYW4gYEFycmF5YCBvZiBwYXJhbWV0ZXJzIGZvciBgXy5tYXRjaGVzUHJvcGVydHlgIGFuZCB0aGUgcHJlZGljYXRlIHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0aGVtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJTb21lKFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgbWF0Y2hlc0Z1bmMgPSBfLm92ZXJTb21lKFt7ICdhJzogMSB9LCB7ICdhJzogMiB9XSlcbiAgICAgKiB2YXIgbWF0Y2hlc1Byb3BlcnR5RnVuYyA9IF8ub3ZlclNvbWUoW1snYScsIDFdLCBbJ2EnLCAyXV0pXG4gICAgICovXG4gICAgdmFyIG92ZXJTb21lID0gY3JlYXRlT3ZlcihhcnJheVNvbWUpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMiB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IDEgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ucHJvcGVydHkoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKF8uc29ydEJ5KG9iamVjdHMsIF8ucHJvcGVydHkoWydhJywgJ2InXSkpLCAnYS5iJyk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHkocGF0aCkge1xuICAgICAgcmV0dXJuIGlzS2V5KHBhdGgpID8gYmFzZVByb3BlcnR5KHRvS2V5KHBhdGgpKSA6IGJhc2VQcm9wZXJ0eURlZXAocGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnByb3BlcnR5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xuICAgICAqIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzAsIDEsIDJdLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgbnVtYmVycyAocG9zaXRpdmUgYW5kL29yIG5lZ2F0aXZlKSBwcm9ncmVzc2luZyBmcm9tXG4gICAgICogYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBBIHN0ZXAgb2YgYC0xYCBpcyB1c2VkIGlmIGEgbmVnYXRpdmVcbiAgICAgKiBgc3RhcnRgIGlzIHNwZWNpZmllZCB3aXRob3V0IGFuIGBlbmRgIG9yIGBzdGVwYC4gSWYgYGVuZGAgaXMgbm90IHNwZWNpZmllZCxcbiAgICAgKiBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoNCk7XG4gICAgICogLy8gPT4gWzAsIDEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKC00KTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDRdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMCwgNSwgMTAsIDE1XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAtNCwgLTEpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2UgPSBjcmVhdGVSYW5nZSgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yYW5nZWAgZXhjZXB0IHRoYXQgaXQgcG9wdWxhdGVzIHZhbHVlcyBpblxuICAgICAqIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDQpO1xuICAgICAqIC8vID0+IFszLCAyLCAxLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KC00KTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA1KTtcbiAgICAgKiAvLyA9PiBbNCwgMywgMiwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzE1LCAxMCwgNSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwLCAtNCwgLTEpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlUmlnaHQgPSBjcmVhdGVSYW5nZSh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAgICAgKiAvLyA9PiBbW10sIFtdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICAgICAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uc3R1Yk9iamVjdCk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbe30sIHt9XVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YlN0cmluZyk7XG4gICAgICogLy8gPT4gWycnLCAnJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YlRydWUpO1xuICAgICAqIC8vID0+IFt0cnVlLCB0cnVlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJUcnVlKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgaXRlcmF0ZWUgYG5gIHRpbWVzLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBlYWNoIGludm9jYXRpb24uIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAoaW5kZXgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygzLCBTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJywgJzInXVxuICAgICAqXG4gICAgICogIF8udGltZXMoNCwgXy5jb25zdGFudCgwKSk7XG4gICAgICogLy8gPT4gWzAsIDAsIDAsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICBpZiAobiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gTUFYX0FSUkFZX0xFTkdUSCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUpO1xuICAgICAgbiAtPSBNQVhfQVJSQVlfTEVOR1RIO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVRpbWVzKGxlbmd0aCwgaXRlcmF0ZWUpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICAgIGl0ZXJhdGVlKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2EuYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnMCcsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGF0aCh2YWx1ZSkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgdG9LZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3ltYm9sKHZhbHVlKSA/IFt2YWx1ZV0gOiBjb3B5QXJyYXkoc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgZ2l2ZW4sIHRoZSBJRCBpcyBhcHBlbmRlZCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVmaXg9JyddIFRoZSB2YWx1ZSB0byBwcmVmaXggdGhlIElEIHdpdGguXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5pcXVlIElELlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCdjb250YWN0XycpO1xuICAgICAqIC8vID0+ICdjb250YWN0XzEwNCdcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoKTtcbiAgICAgKiAvLyA9PiAnMTA1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCkge1xuICAgICAgdmFyIGlkID0gKytpZENvdW50ZXI7XG4gICAgICByZXR1cm4gdG9TdHJpbmcocHJlZml4KSArIGlkO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdWdlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWRkZW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRvdGFsLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmFkZCg2LCA0KTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIHZhciBhZGQgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKGF1Z2VuZCwgYWRkZW5kKSB7XG4gICAgICByZXR1cm4gYXVnZW5kICsgYWRkZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCB1cCB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCB1cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgdXAgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNC4wMDYpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2LjAwNCwgMik7XG4gICAgICogLy8gPT4gNi4wMVxuICAgICAqXG4gICAgICogXy5jZWlsKDYwNDAsIC0yKTtcbiAgICAgKiAvLyA9PiA2MTAwXG4gICAgICovXG4gICAgdmFyIGNlaWwgPSBjcmVhdGVSb3VuZCgnY2VpbCcpO1xuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aWRlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpc29yIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcXVvdGllbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGl2aWRlKDYsIDQpO1xuICAgICAqIC8vID0+IDEuNVxuICAgICAqL1xuICAgIHZhciBkaXZpZGUgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKGRpdmlkZW5kLCBkaXZpc29yKSB7XG4gICAgICByZXR1cm4gZGl2aWRlbmQgLyBkaXZpc29yO1xuICAgIH0sIDEpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCBkb3duIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIGRvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCBkb3duIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgZG93biBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoMC4wNDYsIDIpO1xuICAgICAqIC8vID0+IDAuMDRcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQwMDBcbiAgICAgKi9cbiAgICB2YXIgZmxvb3IgPSBjcmVhdGVSb3VuZCgnZmxvb3InKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGBhcnJheWAuIElmIGBhcnJheWAgaXMgZW1wdHkgb3IgZmFsc2V5LFxuICAgICAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1heChbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWF4KFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXgoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgaWRlbnRpdHksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tYXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB0aGUgdmFsdWUgaXMgcmFua2VkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiAxIH0sIHsgJ24nOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5tYXhCeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4QnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWVhbiBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tZWFuKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW4oYXJyYXkpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgaWRlbnRpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVhbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIGF2ZXJhZ2VkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtaW5pbXVtIHZhbHVlIG9mIGBhcnJheWAuIElmIGBhcnJheWAgaXMgZW1wdHkgb3IgZmFsc2V5LFxuICAgICAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1pbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8ubWluKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW4oYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgaWRlbnRpdHksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5taW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB0aGUgdmFsdWUgaXMgcmFua2VkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiAxIH0sIHsgJ24nOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5taW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpZXIgVGhlIGZpcnN0IG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWNhbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwcm9kdWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm11bHRpcGx5KDYsIDQpO1xuICAgICAqIC8vID0+IDI0XG4gICAgICovXG4gICAgdmFyIG11bHRpcGx5ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtdWx0aXBsaWVyLCBtdWx0aXBsaWNhbmQpIHtcbiAgICAgIHJldHVybiBtdWx0aXBsaWVyICogbXVsdGlwbGljYW5kO1xuICAgIH0sIDEpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQuMDA2LCAyKTtcbiAgICAgKiAvLyA9PiA0LjAxXG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MTAwXG4gICAgICovXG4gICAgdmFyIHJvdW5kID0gY3JlYXRlUm91bmQoJ3JvdW5kJyk7XG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdCB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnVlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdWJ0cmFoZW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgZGlmZmVyZW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdWJ0cmFjdCg2LCA0KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgdmFyIHN1YnRyYWN0ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtaW51ZW5kLCBzdWJ0cmFoZW5kKSB7XG4gICAgICByZXR1cm4gbWludWVuZCAtIHN1YnRyYWhlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgc3VtIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VtKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW0oYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGlkZW50aXR5KVxuICAgICAgICA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zdW1gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBzdW1tZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IDA7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gd3JhcHBlZCB2YWx1ZXMgaW4gY2hhaW4gc2VxdWVuY2VzLlxuICAgIGxvZGFzaC5hZnRlciA9IGFmdGVyO1xuICAgIGxvZGFzaC5hcnkgPSBhcnk7XG4gICAgbG9kYXNoLmFzc2lnbiA9IGFzc2lnbjtcbiAgICBsb2Rhc2guYXNzaWduSW4gPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guYXNzaWduSW5XaXRoID0gYXNzaWduSW5XaXRoO1xuICAgIGxvZGFzaC5hc3NpZ25XaXRoID0gYXNzaWduV2l0aDtcbiAgICBsb2Rhc2guYXQgPSBhdDtcbiAgICBsb2Rhc2guYmVmb3JlID0gYmVmb3JlO1xuICAgIGxvZGFzaC5iaW5kID0gYmluZDtcbiAgICBsb2Rhc2guYmluZEFsbCA9IGJpbmRBbGw7XG4gICAgbG9kYXNoLmJpbmRLZXkgPSBiaW5kS2V5O1xuICAgIGxvZGFzaC5jYXN0QXJyYXkgPSBjYXN0QXJyYXk7XG4gICAgbG9kYXNoLmNoYWluID0gY2hhaW47XG4gICAgbG9kYXNoLmNodW5rID0gY2h1bms7XG4gICAgbG9kYXNoLmNvbXBhY3QgPSBjb21wYWN0O1xuICAgIGxvZGFzaC5jb25jYXQgPSBjb25jYXQ7XG4gICAgbG9kYXNoLmNvbmQgPSBjb25kO1xuICAgIGxvZGFzaC5jb25mb3JtcyA9IGNvbmZvcm1zO1xuICAgIGxvZGFzaC5jb25zdGFudCA9IGNvbnN0YW50O1xuICAgIGxvZGFzaC5jb3VudEJ5ID0gY291bnRCeTtcbiAgICBsb2Rhc2guY3JlYXRlID0gY3JlYXRlO1xuICAgIGxvZGFzaC5jdXJyeSA9IGN1cnJ5O1xuICAgIGxvZGFzaC5jdXJyeVJpZ2h0ID0gY3VycnlSaWdodDtcbiAgICBsb2Rhc2guZGVib3VuY2UgPSBkZWJvdW5jZTtcbiAgICBsb2Rhc2guZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICBsb2Rhc2guZGVmYXVsdHNEZWVwID0gZGVmYXVsdHNEZWVwO1xuICAgIGxvZGFzaC5kZWZlciA9IGRlZmVyO1xuICAgIGxvZGFzaC5kZWxheSA9IGRlbGF5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZUJ5ID0gZGlmZmVyZW5jZUJ5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlV2l0aCA9IGRpZmZlcmVuY2VXaXRoO1xuICAgIGxvZGFzaC5kcm9wID0gZHJvcDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0ID0gZHJvcFJpZ2h0O1xuICAgIGxvZGFzaC5kcm9wUmlnaHRXaGlsZSA9IGRyb3BSaWdodFdoaWxlO1xuICAgIGxvZGFzaC5kcm9wV2hpbGUgPSBkcm9wV2hpbGU7XG4gICAgbG9kYXNoLmZpbGwgPSBmaWxsO1xuICAgIGxvZGFzaC5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgbG9kYXNoLmZsYXRNYXAgPSBmbGF0TWFwO1xuICAgIGxvZGFzaC5mbGF0TWFwRGVlcCA9IGZsYXRNYXBEZWVwO1xuICAgIGxvZGFzaC5mbGF0TWFwRGVwdGggPSBmbGF0TWFwRGVwdGg7XG4gICAgbG9kYXNoLmZsYXR0ZW4gPSBmbGF0dGVuO1xuICAgIGxvZGFzaC5mbGF0dGVuRGVlcCA9IGZsYXR0ZW5EZWVwO1xuICAgIGxvZGFzaC5mbGF0dGVuRGVwdGggPSBmbGF0dGVuRGVwdGg7XG4gICAgbG9kYXNoLmZsaXAgPSBmbGlwO1xuICAgIGxvZGFzaC5mbG93ID0gZmxvdztcbiAgICBsb2Rhc2guZmxvd1JpZ2h0ID0gZmxvd1JpZ2h0O1xuICAgIGxvZGFzaC5mcm9tUGFpcnMgPSBmcm9tUGFpcnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucztcbiAgICBsb2Rhc2guZnVuY3Rpb25zSW4gPSBmdW5jdGlvbnNJbjtcbiAgICBsb2Rhc2guZ3JvdXBCeSA9IGdyb3VwQnk7XG4gICAgbG9kYXNoLmluaXRpYWwgPSBpbml0aWFsO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbkJ5ID0gaW50ZXJzZWN0aW9uQnk7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbldpdGggPSBpbnRlcnNlY3Rpb25XaXRoO1xuICAgIGxvZGFzaC5pbnZlcnQgPSBpbnZlcnQ7XG4gICAgbG9kYXNoLmludmVydEJ5ID0gaW52ZXJ0Qnk7XG4gICAgbG9kYXNoLmludm9rZU1hcCA9IGludm9rZU1hcDtcbiAgICBsb2Rhc2guaXRlcmF0ZWUgPSBpdGVyYXRlZTtcbiAgICBsb2Rhc2gua2V5QnkgPSBrZXlCeTtcbiAgICBsb2Rhc2gua2V5cyA9IGtleXM7XG4gICAgbG9kYXNoLmtleXNJbiA9IGtleXNJbjtcbiAgICBsb2Rhc2gubWFwID0gbWFwO1xuICAgIGxvZGFzaC5tYXBLZXlzID0gbWFwS2V5cztcbiAgICBsb2Rhc2gubWFwVmFsdWVzID0gbWFwVmFsdWVzO1xuICAgIGxvZGFzaC5tYXRjaGVzID0gbWF0Y2hlcztcbiAgICBsb2Rhc2gubWF0Y2hlc1Byb3BlcnR5ID0gbWF0Y2hlc1Byb3BlcnR5O1xuICAgIGxvZGFzaC5tZW1vaXplID0gbWVtb2l6ZTtcbiAgICBsb2Rhc2gubWVyZ2UgPSBtZXJnZTtcbiAgICBsb2Rhc2gubWVyZ2VXaXRoID0gbWVyZ2VXaXRoO1xuICAgIGxvZGFzaC5tZXRob2QgPSBtZXRob2Q7XG4gICAgbG9kYXNoLm1ldGhvZE9mID0gbWV0aG9kT2Y7XG4gICAgbG9kYXNoLm1peGluID0gbWl4aW47XG4gICAgbG9kYXNoLm5lZ2F0ZSA9IG5lZ2F0ZTtcbiAgICBsb2Rhc2gubnRoQXJnID0gbnRoQXJnO1xuICAgIGxvZGFzaC5vbWl0ID0gb21pdDtcbiAgICBsb2Rhc2gub21pdEJ5ID0gb21pdEJ5O1xuICAgIGxvZGFzaC5vbmNlID0gb25jZTtcbiAgICBsb2Rhc2gub3JkZXJCeSA9IG9yZGVyQnk7XG4gICAgbG9kYXNoLm92ZXIgPSBvdmVyO1xuICAgIGxvZGFzaC5vdmVyQXJncyA9IG92ZXJBcmdzO1xuICAgIGxvZGFzaC5vdmVyRXZlcnkgPSBvdmVyRXZlcnk7XG4gICAgbG9kYXNoLm92ZXJTb21lID0gb3ZlclNvbWU7XG4gICAgbG9kYXNoLnBhcnRpYWwgPSBwYXJ0aWFsO1xuICAgIGxvZGFzaC5wYXJ0aWFsUmlnaHQgPSBwYXJ0aWFsUmlnaHQ7XG4gICAgbG9kYXNoLnBhcnRpdGlvbiA9IHBhcnRpdGlvbjtcbiAgICBsb2Rhc2gucGljayA9IHBpY2s7XG4gICAgbG9kYXNoLnBpY2tCeSA9IHBpY2tCeTtcbiAgICBsb2Rhc2gucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICBsb2Rhc2gucHJvcGVydHlPZiA9IHByb3BlcnR5T2Y7XG4gICAgbG9kYXNoLnB1bGwgPSBwdWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsID0gcHVsbEFsbDtcbiAgICBsb2Rhc2gucHVsbEFsbEJ5ID0gcHVsbEFsbEJ5O1xuICAgIGxvZGFzaC5wdWxsQWxsV2l0aCA9IHB1bGxBbGxXaXRoO1xuICAgIGxvZGFzaC5wdWxsQXQgPSBwdWxsQXQ7XG4gICAgbG9kYXNoLnJhbmdlID0gcmFuZ2U7XG4gICAgbG9kYXNoLnJhbmdlUmlnaHQgPSByYW5nZVJpZ2h0O1xuICAgIGxvZGFzaC5yZWFyZyA9IHJlYXJnO1xuICAgIGxvZGFzaC5yZWplY3QgPSByZWplY3Q7XG4gICAgbG9kYXNoLnJlbW92ZSA9IHJlbW92ZTtcbiAgICBsb2Rhc2gucmVzdCA9IHJlc3Q7XG4gICAgbG9kYXNoLnJldmVyc2UgPSByZXZlcnNlO1xuICAgIGxvZGFzaC5zYW1wbGVTaXplID0gc2FtcGxlU2l6ZTtcbiAgICBsb2Rhc2guc2V0ID0gc2V0O1xuICAgIGxvZGFzaC5zZXRXaXRoID0gc2V0V2l0aDtcbiAgICBsb2Rhc2guc2h1ZmZsZSA9IHNodWZmbGU7XG4gICAgbG9kYXNoLnNsaWNlID0gc2xpY2U7XG4gICAgbG9kYXNoLnNvcnRCeSA9IHNvcnRCeTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcSA9IHNvcnRlZFVuaXE7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXFCeSA9IHNvcnRlZFVuaXFCeTtcbiAgICBsb2Rhc2guc3BsaXQgPSBzcGxpdDtcbiAgICBsb2Rhc2guc3ByZWFkID0gc3ByZWFkO1xuICAgIGxvZGFzaC50YWlsID0gdGFpbDtcbiAgICBsb2Rhc2gudGFrZSA9IHRha2U7XG4gICAgbG9kYXNoLnRha2VSaWdodCA9IHRha2VSaWdodDtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0V2hpbGUgPSB0YWtlUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2gudGFrZVdoaWxlID0gdGFrZVdoaWxlO1xuICAgIGxvZGFzaC50YXAgPSB0YXA7XG4gICAgbG9kYXNoLnRocm90dGxlID0gdGhyb3R0bGU7XG4gICAgbG9kYXNoLnRocnUgPSB0aHJ1O1xuICAgIGxvZGFzaC50b0FycmF5ID0gdG9BcnJheTtcbiAgICBsb2Rhc2gudG9QYWlycyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLnRvUGFpcnNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2gudG9QYXRoID0gdG9QYXRoO1xuICAgIGxvZGFzaC50b1BsYWluT2JqZWN0ID0gdG9QbGFpbk9iamVjdDtcbiAgICBsb2Rhc2gudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIGxvZGFzaC51bmFyeSA9IHVuYXJ5O1xuICAgIGxvZGFzaC51bmlvbiA9IHVuaW9uO1xuICAgIGxvZGFzaC51bmlvbkJ5ID0gdW5pb25CeTtcbiAgICBsb2Rhc2gudW5pb25XaXRoID0gdW5pb25XaXRoO1xuICAgIGxvZGFzaC51bmlxID0gdW5pcTtcbiAgICBsb2Rhc2gudW5pcUJ5ID0gdW5pcUJ5O1xuICAgIGxvZGFzaC51bmlxV2l0aCA9IHVuaXFXaXRoO1xuICAgIGxvZGFzaC51bnNldCA9IHVuc2V0O1xuICAgIGxvZGFzaC51bnppcCA9IHVuemlwO1xuICAgIGxvZGFzaC51bnppcFdpdGggPSB1bnppcFdpdGg7XG4gICAgbG9kYXNoLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICBsb2Rhc2gudXBkYXRlV2l0aCA9IHVwZGF0ZVdpdGg7XG4gICAgbG9kYXNoLnZhbHVlcyA9IHZhbHVlcztcbiAgICBsb2Rhc2gudmFsdWVzSW4gPSB2YWx1ZXNJbjtcbiAgICBsb2Rhc2gud2l0aG91dCA9IHdpdGhvdXQ7XG4gICAgbG9kYXNoLndvcmRzID0gd29yZHM7XG4gICAgbG9kYXNoLndyYXAgPSB3cmFwO1xuICAgIGxvZGFzaC54b3IgPSB4b3I7XG4gICAgbG9kYXNoLnhvckJ5ID0geG9yQnk7XG4gICAgbG9kYXNoLnhvcldpdGggPSB4b3JXaXRoO1xuICAgIGxvZGFzaC56aXAgPSB6aXA7XG4gICAgbG9kYXNoLnppcE9iamVjdCA9IHppcE9iamVjdDtcbiAgICBsb2Rhc2guemlwT2JqZWN0RGVlcCA9IHppcE9iamVjdERlZXA7XG4gICAgbG9kYXNoLnppcFdpdGggPSB6aXBXaXRoO1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVudHJpZXMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC5lbnRyaWVzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLmV4dGVuZCA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5leHRlbmRXaXRoID0gYXNzaWduSW5XaXRoO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIG1peGluKGxvZGFzaCwgbG9kYXNoKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXMgaW4gY2hhaW4gc2VxdWVuY2VzLlxuICAgIGxvZGFzaC5hZGQgPSBhZGQ7XG4gICAgbG9kYXNoLmF0dGVtcHQgPSBhdHRlbXB0O1xuICAgIGxvZGFzaC5jYW1lbENhc2UgPSBjYW1lbENhc2U7XG4gICAgbG9kYXNoLmNhcGl0YWxpemUgPSBjYXBpdGFsaXplO1xuICAgIGxvZGFzaC5jZWlsID0gY2VpbDtcbiAgICBsb2Rhc2guY2xhbXAgPSBjbGFtcDtcbiAgICBsb2Rhc2guY2xvbmUgPSBjbG9uZTtcbiAgICBsb2Rhc2guY2xvbmVEZWVwID0gY2xvbmVEZWVwO1xuICAgIGxvZGFzaC5jbG9uZURlZXBXaXRoID0gY2xvbmVEZWVwV2l0aDtcbiAgICBsb2Rhc2guY2xvbmVXaXRoID0gY2xvbmVXaXRoO1xuICAgIGxvZGFzaC5jb25mb3Jtc1RvID0gY29uZm9ybXNUbztcbiAgICBsb2Rhc2guZGVidXJyID0gZGVidXJyO1xuICAgIGxvZGFzaC5kZWZhdWx0VG8gPSBkZWZhdWx0VG87XG4gICAgbG9kYXNoLmRpdmlkZSA9IGRpdmlkZTtcbiAgICBsb2Rhc2guZW5kc1dpdGggPSBlbmRzV2l0aDtcbiAgICBsb2Rhc2guZXEgPSBlcTtcbiAgICBsb2Rhc2guZXNjYXBlID0gZXNjYXBlO1xuICAgIGxvZGFzaC5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG4gICAgbG9kYXNoLmV2ZXJ5ID0gZXZlcnk7XG4gICAgbG9kYXNoLmZpbmQgPSBmaW5kO1xuICAgIGxvZGFzaC5maW5kSW5kZXggPSBmaW5kSW5kZXg7XG4gICAgbG9kYXNoLmZpbmRLZXkgPSBmaW5kS2V5O1xuICAgIGxvZGFzaC5maW5kTGFzdCA9IGZpbmRMYXN0O1xuICAgIGxvZGFzaC5maW5kTGFzdEluZGV4ID0gZmluZExhc3RJbmRleDtcbiAgICBsb2Rhc2guZmluZExhc3RLZXkgPSBmaW5kTGFzdEtleTtcbiAgICBsb2Rhc2guZmxvb3IgPSBmbG9vcjtcbiAgICBsb2Rhc2guZm9yRWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmZvckVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZm9ySW4gPSBmb3JJbjtcbiAgICBsb2Rhc2guZm9ySW5SaWdodCA9IGZvckluUmlnaHQ7XG4gICAgbG9kYXNoLmZvck93biA9IGZvck93bjtcbiAgICBsb2Rhc2guZm9yT3duUmlnaHQgPSBmb3JPd25SaWdodDtcbiAgICBsb2Rhc2guZ2V0ID0gZ2V0O1xuICAgIGxvZGFzaC5ndCA9IGd0O1xuICAgIGxvZGFzaC5ndGUgPSBndGU7XG4gICAgbG9kYXNoLmhhcyA9IGhhcztcbiAgICBsb2Rhc2guaGFzSW4gPSBoYXNJbjtcbiAgICBsb2Rhc2guaGVhZCA9IGhlYWQ7XG4gICAgbG9kYXNoLmlkZW50aXR5ID0gaWRlbnRpdHk7XG4gICAgbG9kYXNoLmluY2x1ZGVzID0gaW5jbHVkZXM7XG4gICAgbG9kYXNoLmluZGV4T2YgPSBpbmRleE9mO1xuICAgIGxvZGFzaC5pblJhbmdlID0gaW5SYW5nZTtcbiAgICBsb2Rhc2guaW52b2tlID0gaW52b2tlO1xuICAgIGxvZGFzaC5pc0FyZ3VtZW50cyA9IGlzQXJndW1lbnRzO1xuICAgIGxvZGFzaC5pc0FycmF5ID0gaXNBcnJheTtcbiAgICBsb2Rhc2guaXNBcnJheUJ1ZmZlciA9IGlzQXJyYXlCdWZmZXI7XG4gICAgbG9kYXNoLmlzQXJyYXlMaWtlID0gaXNBcnJheUxpa2U7XG4gICAgbG9kYXNoLmlzQXJyYXlMaWtlT2JqZWN0ID0gaXNBcnJheUxpa2VPYmplY3Q7XG4gICAgbG9kYXNoLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbiAgICBsb2Rhc2guaXNCdWZmZXIgPSBpc0J1ZmZlcjtcbiAgICBsb2Rhc2guaXNEYXRlID0gaXNEYXRlO1xuICAgIGxvZGFzaC5pc0VsZW1lbnQgPSBpc0VsZW1lbnQ7XG4gICAgbG9kYXNoLmlzRW1wdHkgPSBpc0VtcHR5O1xuICAgIGxvZGFzaC5pc0VxdWFsID0gaXNFcXVhbDtcbiAgICBsb2Rhc2guaXNFcXVhbFdpdGggPSBpc0VxdWFsV2l0aDtcbiAgICBsb2Rhc2guaXNFcnJvciA9IGlzRXJyb3I7XG4gICAgbG9kYXNoLmlzRmluaXRlID0gaXNGaW5pdGU7XG4gICAgbG9kYXNoLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIGxvZGFzaC5pc0ludGVnZXIgPSBpc0ludGVnZXI7XG4gICAgbG9kYXNoLmlzTGVuZ3RoID0gaXNMZW5ndGg7XG4gICAgbG9kYXNoLmlzTWFwID0gaXNNYXA7XG4gICAgbG9kYXNoLmlzTWF0Y2ggPSBpc01hdGNoO1xuICAgIGxvZGFzaC5pc01hdGNoV2l0aCA9IGlzTWF0Y2hXaXRoO1xuICAgIGxvZGFzaC5pc05hTiA9IGlzTmFOO1xuICAgIGxvZGFzaC5pc05hdGl2ZSA9IGlzTmF0aXZlO1xuICAgIGxvZGFzaC5pc05pbCA9IGlzTmlsO1xuICAgIGxvZGFzaC5pc051bGwgPSBpc051bGw7XG4gICAgbG9kYXNoLmlzTnVtYmVyID0gaXNOdW1iZXI7XG4gICAgbG9kYXNoLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4gICAgbG9kYXNoLmlzT2JqZWN0TGlrZSA9IGlzT2JqZWN0TGlrZTtcbiAgICBsb2Rhc2guaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLmlzUmVnRXhwID0gaXNSZWdFeHA7XG4gICAgbG9kYXNoLmlzU2FmZUludGVnZXIgPSBpc1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc1NldCA9IGlzU2V0O1xuICAgIGxvZGFzaC5pc1N0cmluZyA9IGlzU3RyaW5nO1xuICAgIGxvZGFzaC5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuICAgIGxvZGFzaC5pc1R5cGVkQXJyYXkgPSBpc1R5cGVkQXJyYXk7XG4gICAgbG9kYXNoLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG4gICAgbG9kYXNoLmlzV2Vha01hcCA9IGlzV2Vha01hcDtcbiAgICBsb2Rhc2guaXNXZWFrU2V0ID0gaXNXZWFrU2V0O1xuICAgIGxvZGFzaC5qb2luID0gam9pbjtcbiAgICBsb2Rhc2gua2ViYWJDYXNlID0ga2ViYWJDYXNlO1xuICAgIGxvZGFzaC5sYXN0ID0gbGFzdDtcbiAgICBsb2Rhc2gubGFzdEluZGV4T2YgPSBsYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2gubG93ZXJDYXNlID0gbG93ZXJDYXNlO1xuICAgIGxvZGFzaC5sb3dlckZpcnN0ID0gbG93ZXJGaXJzdDtcbiAgICBsb2Rhc2gubHQgPSBsdDtcbiAgICBsb2Rhc2gubHRlID0gbHRlO1xuICAgIGxvZGFzaC5tYXggPSBtYXg7XG4gICAgbG9kYXNoLm1heEJ5ID0gbWF4Qnk7XG4gICAgbG9kYXNoLm1lYW4gPSBtZWFuO1xuICAgIGxvZGFzaC5tZWFuQnkgPSBtZWFuQnk7XG4gICAgbG9kYXNoLm1pbiA9IG1pbjtcbiAgICBsb2Rhc2gubWluQnkgPSBtaW5CeTtcbiAgICBsb2Rhc2guc3R1YkFycmF5ID0gc3R1YkFycmF5O1xuICAgIGxvZGFzaC5zdHViRmFsc2UgPSBzdHViRmFsc2U7XG4gICAgbG9kYXNoLnN0dWJPYmplY3QgPSBzdHViT2JqZWN0O1xuICAgIGxvZGFzaC5zdHViU3RyaW5nID0gc3R1YlN0cmluZztcbiAgICBsb2Rhc2guc3R1YlRydWUgPSBzdHViVHJ1ZTtcbiAgICBsb2Rhc2gubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICBsb2Rhc2gubnRoID0gbnRoO1xuICAgIGxvZGFzaC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbiAgICBsb2Rhc2gubm9vcCA9IG5vb3A7XG4gICAgbG9kYXNoLm5vdyA9IG5vdztcbiAgICBsb2Rhc2gucGFkID0gcGFkO1xuICAgIGxvZGFzaC5wYWRFbmQgPSBwYWRFbmQ7XG4gICAgbG9kYXNoLnBhZFN0YXJ0ID0gcGFkU3RhcnQ7XG4gICAgbG9kYXNoLnBhcnNlSW50ID0gcGFyc2VJbnQ7XG4gICAgbG9kYXNoLnJhbmRvbSA9IHJhbmRvbTtcbiAgICBsb2Rhc2gucmVkdWNlID0gcmVkdWNlO1xuICAgIGxvZGFzaC5yZWR1Y2VSaWdodCA9IHJlZHVjZVJpZ2h0O1xuICAgIGxvZGFzaC5yZXBlYXQgPSByZXBlYXQ7XG4gICAgbG9kYXNoLnJlcGxhY2UgPSByZXBsYWNlO1xuICAgIGxvZGFzaC5yZXN1bHQgPSByZXN1bHQ7XG4gICAgbG9kYXNoLnJvdW5kID0gcm91bmQ7XG4gICAgbG9kYXNoLnJ1bkluQ29udGV4dCA9IHJ1bkluQ29udGV4dDtcbiAgICBsb2Rhc2guc2FtcGxlID0gc2FtcGxlO1xuICAgIGxvZGFzaC5zaXplID0gc2l6ZTtcbiAgICBsb2Rhc2guc25ha2VDYXNlID0gc25ha2VDYXNlO1xuICAgIGxvZGFzaC5zb21lID0gc29tZTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXggPSBzb3J0ZWRJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhCeSA9IHNvcnRlZEluZGV4Qnk7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4T2YgPSBzb3J0ZWRJbmRleE9mO1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXggPSBzb3J0ZWRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleEJ5ID0gc29ydGVkTGFzdEluZGV4Qnk7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleE9mID0gc29ydGVkTGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLnN0YXJ0Q2FzZSA9IHN0YXJ0Q2FzZTtcbiAgICBsb2Rhc2guc3RhcnRzV2l0aCA9IHN0YXJ0c1dpdGg7XG4gICAgbG9kYXNoLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgbG9kYXNoLnN1bSA9IHN1bTtcbiAgICBsb2Rhc2guc3VtQnkgPSBzdW1CeTtcbiAgICBsb2Rhc2gudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICBsb2Rhc2gudGltZXMgPSB0aW1lcztcbiAgICBsb2Rhc2gudG9GaW5pdGUgPSB0b0Zpbml0ZTtcbiAgICBsb2Rhc2gudG9JbnRlZ2VyID0gdG9JbnRlZ2VyO1xuICAgIGxvZGFzaC50b0xlbmd0aCA9IHRvTGVuZ3RoO1xuICAgIGxvZGFzaC50b0xvd2VyID0gdG9Mb3dlcjtcbiAgICBsb2Rhc2gudG9OdW1iZXIgPSB0b051bWJlcjtcbiAgICBsb2Rhc2gudG9TYWZlSW50ZWdlciA9IHRvU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgbG9kYXNoLnRvVXBwZXIgPSB0b1VwcGVyO1xuICAgIGxvZGFzaC50cmltID0gdHJpbTtcbiAgICBsb2Rhc2gudHJpbUVuZCA9IHRyaW1FbmQ7XG4gICAgbG9kYXNoLnRyaW1TdGFydCA9IHRyaW1TdGFydDtcbiAgICBsb2Rhc2gudHJ1bmNhdGUgPSB0cnVuY2F0ZTtcbiAgICBsb2Rhc2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcbiAgICBsb2Rhc2gudW5pcXVlSWQgPSB1bmlxdWVJZDtcbiAgICBsb2Rhc2gudXBwZXJDYXNlID0gdXBwZXJDYXNlO1xuICAgIGxvZGFzaC51cHBlckZpcnN0ID0gdXBwZXJGaXJzdDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5maXJzdCA9IGhlYWQ7XG5cbiAgICBtaXhpbihsb2Rhc2gsIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB7fTtcbiAgICAgIGJhc2VGb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gucHJvdG90eXBlLCBtZXRob2ROYW1lKSkge1xuICAgICAgICAgIHNvdXJjZVttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9KCkpLCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBsb2Rhc2guVkVSU0lPTiA9IFZFUlNJT047XG5cbiAgICAvLyBBc3NpZ24gZGVmYXVsdCBwbGFjZWhvbGRlcnMuXG4gICAgYXJyYXlFYWNoKFsnYmluZCcsICdiaW5kS2V5JywgJ2N1cnJ5JywgJ2N1cnJ5UmlnaHQnLCAncGFydGlhbCcsICdwYXJ0aWFsUmlnaHQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgbG9kYXNoW21ldGhvZE5hbWVdLnBsYWNlaG9sZGVyID0gbG9kYXNoO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uZHJvcGAgYW5kIGBfLnRha2VgIHZhcmlhbnRzLlxuICAgIGFycmF5RWFjaChbJ2Ryb3AnLCAndGFrZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24obikge1xuICAgICAgICBuID0gbiA9PT0gdW5kZWZpbmVkID8gMSA6IG5hdGl2ZU1heCh0b0ludGVnZXIobiksIDApO1xuXG4gICAgICAgIHZhciByZXN1bHQgPSAodGhpcy5fX2ZpbHRlcmVkX18gJiYgIWluZGV4KVxuICAgICAgICAgID8gbmV3IExhenlXcmFwcGVyKHRoaXMpXG4gICAgICAgICAgOiB0aGlzLmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IG5hdGl2ZU1pbihuLCByZXN1bHQuX190YWtlQ291bnRfXyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdmlld3NfXy5wdXNoKHtcbiAgICAgICAgICAgICdzaXplJzogbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpLFxuICAgICAgICAgICAgJ3R5cGUnOiBtZXRob2ROYW1lICsgKHJlc3VsdC5fX2Rpcl9fIDwgMCA/ICdSaWdodCcgOiAnJylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWUgKyAnUmlnaHQnXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpW21ldGhvZE5hbWVdKG4pLnJldmVyc2UoKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRoYXQgYWNjZXB0IGFuIGBpdGVyYXRlZWAgdmFsdWUuXG4gICAgYXJyYXlFYWNoKFsnZmlsdGVyJywgJ21hcCcsICd0YWtlV2hpbGUnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0eXBlID0gaW5kZXggKyAxLFxuICAgICAgICAgIGlzRmlsdGVyID0gdHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHIHx8IHR5cGUgPT0gTEFaWV9XSElMRV9GTEFHO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19pdGVyYXRlZXNfXy5wdXNoKHtcbiAgICAgICAgICAnaXRlcmF0ZWUnOiBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksXG4gICAgICAgICAgJ3R5cGUnOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gcmVzdWx0Ll9fZmlsdGVyZWRfXyB8fCBpc0ZpbHRlcjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5oZWFkYCBhbmQgYF8ubGFzdGAuXG4gICAgYXJyYXlFYWNoKFsnaGVhZCcsICdsYXN0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdGFrZU5hbWUgPSAndGFrZScgKyAoaW5kZXggPyAnUmlnaHQnIDogJycpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdGFrZU5hbWVdKDEpLnZhbHVlKClbMF07XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaW5pdGlhbGAgYW5kIGBfLnRhaWxgLlxuICAgIGFycmF5RWFjaChbJ2luaXRpYWwnLCAndGFpbCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIGRyb3BOYW1lID0gJ2Ryb3AnICsgKGluZGV4ID8gJycgOiAnUmlnaHQnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fZmlsdGVyZWRfXyA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKSA6IHRoaXNbZHJvcE5hbWVdKDEpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb21wYWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIoaWRlbnRpdHkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKHByZWRpY2F0ZSkuaGVhZCgpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuZmluZExhc3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5pbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXM7XG4gICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXyAmJiAoc3RhcnQgPiAwIHx8IGVuZCA8IDApKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnRha2VSaWdodCgtc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZHJvcChzdGFydCk7XG4gICAgICB9XG4gICAgICBpZiAoZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gdG9JbnRlZ2VyKGVuZCk7XG4gICAgICAgIHJlc3VsdCA9IGVuZCA8IDAgPyByZXN1bHQuZHJvcFJpZ2h0KC1lbmQpIDogcmVzdWx0LnRha2UoZW5kIC0gc3RhcnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRha2VSaWdodFdoaWxlID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkudGFrZVdoaWxlKHByZWRpY2F0ZSkucmV2ZXJzZSgpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFrZShNQVhfQVJSQVlfTEVOR1RIKTtcbiAgICB9O1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYmFzZUZvck93bihMYXp5V3JhcHBlci5wcm90b3R5cGUsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBjaGVja0l0ZXJhdGVlID0gL14oPzpmaWx0ZXJ8ZmluZHxtYXB8cmVqZWN0KXxXaGlsZSQvLnRlc3QobWV0aG9kTmFtZSksXG4gICAgICAgICAgaXNUYWtlciA9IC9eKD86aGVhZHxsYXN0KSQvLnRlc3QobWV0aG9kTmFtZSksXG4gICAgICAgICAgbG9kYXNoRnVuYyA9IGxvZGFzaFtpc1Rha2VyID8gKCd0YWtlJyArIChtZXRob2ROYW1lID09ICdsYXN0JyA/ICdSaWdodCcgOiAnJykpIDogbWV0aG9kTmFtZV0sXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gaXNUYWtlciB8fCAvXmZpbmQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGlmICghbG9kYXNoRnVuYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgICBhcmdzID0gaXNUYWtlciA/IFsxXSA6IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGlzTGF6eSA9IHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIsXG4gICAgICAgICAgICBpdGVyYXRlZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICB1c2VMYXp5ID0gaXNMYXp5IHx8IGlzQXJyYXkodmFsdWUpO1xuXG4gICAgICAgIHZhciBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaEZ1bmMuYXBwbHkobG9kYXNoLCBhcnJheVB1c2goW3ZhbHVlXSwgYXJncykpO1xuICAgICAgICAgIHJldHVybiAoaXNUYWtlciAmJiBjaGFpbkFsbCkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHVzZUxhenkgJiYgY2hlY2tJdGVyYXRlZSAmJiB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyAmJiBpdGVyYXRlZS5sZW5ndGggIT0gMSkge1xuICAgICAgICAgIC8vIEF2b2lkIGxhenkgdXNlIGlmIHRoZSBpdGVyYXRlZSBoYXMgYSBcImxlbmd0aFwiIHZhbHVlIG90aGVyIHRoYW4gYDFgLlxuICAgICAgICAgIGlzTGF6eSA9IHVzZUxhenkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgIGlzSHlicmlkID0gISF0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCxcbiAgICAgICAgICAgIGlzVW53cmFwcGVkID0gcmV0VW53cmFwcGVkICYmICFjaGFpbkFsbCxcbiAgICAgICAgICAgIG9ubHlMYXp5ID0gaXNMYXp5ICYmICFpc0h5YnJpZDtcblxuICAgICAgICBpZiAoIXJldFVud3JhcHBlZCAmJiB1c2VMYXp5KSB7XG4gICAgICAgICAgdmFsdWUgPSBvbmx5TGF6eSA/IHZhbHVlIDogbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICAgICAgICByZXN1bHQuX19hY3Rpb25zX18ucHVzaCh7ICdmdW5jJzogdGhydSwgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLCAndGhpc0FyZyc6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIocmVzdWx0LCBjaGFpbkFsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVW53cmFwcGVkICYmIG9ubHlMYXp5KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgICAgcmV0dXJuIGlzVW53cmFwcGVkID8gKGlzVGFrZXIgPyByZXN1bHQudmFsdWUoKVswXSA6IHJlc3VsdC52YWx1ZSgpKSA6IHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYEFycmF5YCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBhcnJheUVhY2goWydwb3AnLCAncHVzaCcsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlQcm90b1ttZXRob2ROYW1lXSxcbiAgICAgICAgICBjaGFpbk5hbWUgPSAvXig/OnB1c2h8c29ydHx1bnNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSkgPyAndGFwJyA6ICd0aHJ1JyxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSAvXig/OnBvcHxzaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBpZiAocmV0VW53cmFwcGVkICYmICF0aGlzLl9fY2hhaW5fXykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKTtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10sIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzW2NoYWluTmFtZV0oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10sIGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBNYXAgbWluaWZpZWQgbWV0aG9kIG5hbWVzIHRvIHRoZWlyIHJlYWwgbmFtZXMuXG4gICAgYmFzZUZvck93bihMYXp5V3JhcHBlci5wcm90b3R5cGUsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBsb2Rhc2hGdW5jID0gbG9kYXNoW21ldGhvZE5hbWVdO1xuICAgICAgaWYgKGxvZGFzaEZ1bmMpIHtcbiAgICAgICAgdmFyIGtleSA9IGxvZGFzaEZ1bmMubmFtZSArICcnO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCBrZXkpKSB7XG4gICAgICAgICAgcmVhbE5hbWVzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZWFsTmFtZXNba2V5XS5wdXNoKHsgJ25hbWUnOiBtZXRob2ROYW1lLCAnZnVuYyc6IGxvZGFzaEZ1bmMgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZWFsTmFtZXNbY3JlYXRlSHlicmlkKHVuZGVmaW5lZCwgV1JBUF9CSU5EX0tFWV9GTEFHKS5uYW1lXSA9IFt7XG4gICAgICAnbmFtZSc6ICd3cmFwcGVyJyxcbiAgICAgICdmdW5jJzogdW5kZWZpbmVkXG4gICAgfV07XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGF6eVdyYXBwZXJgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jbG9uZSA9IGxhenlDbG9uZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmV2ZXJzZSA9IGxhenlSZXZlcnNlO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS52YWx1ZSA9IGxhenlWYWx1ZTtcblxuICAgIC8vIEFkZCBjaGFpbiBzZXF1ZW5jZSBtZXRob2RzIHRvIHRoZSBgbG9kYXNoYCB3cmFwcGVyLlxuICAgIGxvZGFzaC5wcm90b3R5cGUuYXQgPSB3cmFwcGVyQXQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jaGFpbiA9IHdyYXBwZXJDaGFpbjtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbW1pdCA9IHdyYXBwZXJDb21taXQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5uZXh0ID0gd3JhcHBlck5leHQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5wbGFudCA9IHdyYXBwZXJQbGFudDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnJldmVyc2UgPSB3cmFwcGVyUmV2ZXJzZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnRvSlNPTiA9IGxvZGFzaC5wcm90b3R5cGUudmFsdWVPZiA9IGxvZGFzaC5wcm90b3R5cGUudmFsdWUgPSB3cmFwcGVyVmFsdWU7XG5cbiAgICAvLyBBZGQgbGF6eSBhbGlhc2VzLlxuICAgIGxvZGFzaC5wcm90b3R5cGUuZmlyc3QgPSBsb2Rhc2gucHJvdG90eXBlLmhlYWQ7XG5cbiAgICBpZiAoc3ltSXRlcmF0b3IpIHtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbc3ltSXRlcmF0b3JdID0gd3JhcHBlclRvSXRlcmF0b3I7XG4gICAgfVxuICAgIHJldHVybiBsb2Rhc2g7XG4gIH0pO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIEV4cG9ydCBsb2Rhc2guXG4gIHZhciBfID0gcnVuSW5Db250ZXh0KCk7XG5cbiAgLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3IgY29uZGl0aW9uIHBhdHRlcm5zIGxpa2U6XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEV4cG9zZSBMb2Rhc2ggb24gdGhlIGdsb2JhbCBvYmplY3QgdG8gcHJldmVudCBlcnJvcnMgd2hlbiBMb2Rhc2ggaXNcbiAgICAvLyBsb2FkZWQgYnkgYSBzY3JpcHQgdGFnIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTUQgbG9hZGVyLlxuICAgIC8vIFNlZSBodHRwOi8vcmVxdWlyZWpzLm9yZy9kb2NzL2Vycm9ycy5odG1sI21pc21hdGNoIGZvciBtb3JlIGRldGFpbHMuXG4gICAgLy8gVXNlIGBfLm5vQ29uZmxpY3RgIHRvIHJlbW92ZSBMb2Rhc2ggZnJvbSB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuXG4gICAgLy8gRGVmaW5lIGFzIGFuIGFub255bW91cyBtb2R1bGUgc28sIHRocm91Z2ggcGF0aCBtYXBwaW5nLCBpdCBjYW4gYmVcbiAgICAvLyByZWZlcmVuY2VkIGFzIHRoZSBcInVuZGVyc2NvcmVcIiBtb2R1bGUuXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbiAgLy8gQ2hlY2sgZm9yIGBleHBvcnRzYCBhZnRlciBgZGVmaW5lYCBpbiBjYXNlIGEgYnVpbGQgb3B0aW1pemVyIGFkZHMgaXQuXG4gIGVsc2UgaWYgKGZyZWVNb2R1bGUpIHtcbiAgICAvLyBFeHBvcnQgZm9yIE5vZGUuanMuXG4gICAgKGZyZWVNb2R1bGUuZXhwb3J0cyA9IF8pLl8gPSBfO1xuICAgIC8vIEV4cG9ydCBmb3IgQ29tbW9uSlMgc3VwcG9ydC5cbiAgICBmcmVlRXhwb3J0cy5fID0gXztcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBFeHBvcnQgdG8gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcbiAgfVxufS5jYWxsKHRoaXMpKTtcbiIsImltcG9ydCBCYWNrZW5kIGZyb20gXCIuL2JhY2tlbmQuanNcIjtcbmltcG9ydCAqIGFzIENvbG9yIGZyb20gXCIuLi9jb2xvci5qc1wiO1xuZnVuY3Rpb24gY2xlYXJUb0Fuc2koYmcpIHtcbiAgICByZXR1cm4gYFxceDFiWzA7NDg7NTske3Rlcm1jb2xvcihiZyl9bVxceDFiWzJKYDtcbn1cbmZ1bmN0aW9uIGNvbG9yVG9BbnNpKGZnLCBiZykge1xuICAgIHJldHVybiBgXFx4MWJbMDszODs1OyR7dGVybWNvbG9yKGZnKX07NDg7NTske3Rlcm1jb2xvcihiZyl9bWA7XG59XG5mdW5jdGlvbiBwb3NpdGlvblRvQW5zaSh4LCB5KSB7XG4gICAgcmV0dXJuIGBcXHgxYlske3kgKyAxfTske3ggKyAxfUhgO1xufVxuZnVuY3Rpb24gdGVybWNvbG9yKGNvbG9yKSB7XG4gICAgY29uc3QgU1JDX0NPTE9SUyA9IDI1Ni4wO1xuICAgIGNvbnN0IERTVF9DT0xPUlMgPSA2LjA7XG4gICAgY29uc3QgQ09MT1JfUkFUSU8gPSBEU1RfQ09MT1JTIC8gU1JDX0NPTE9SUztcbiAgICBsZXQgcmdiID0gQ29sb3IuZnJvbVN0cmluZyhjb2xvcik7XG4gICAgbGV0IHIgPSBNYXRoLmZsb29yKHJnYlswXSAqIENPTE9SX1JBVElPKTtcbiAgICBsZXQgZyA9IE1hdGguZmxvb3IocmdiWzFdICogQ09MT1JfUkFUSU8pO1xuICAgIGxldCBiID0gTWF0aC5mbG9vcihyZ2JbMl0gKiBDT0xPUl9SQVRJTyk7XG4gICAgcmV0dXJuIHIgKiAzNiArIGcgKiA2ICsgYiAqIDEgKyAxNjtcbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlcm0gZXh0ZW5kcyBCYWNrZW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gWzAsIDBdO1xuICAgICAgICB0aGlzLl9jdXJzb3IgPSBbLTEsIC0xXTtcbiAgICAgICAgdGhpcy5fbGFzdENvbG9yID0gXCJcIjtcbiAgICB9XG4gICAgc2NoZWR1bGUoY2IpIHsgc2V0VGltZW91dChjYiwgMTAwMCAvIDYwKTsgfVxuICAgIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBzdXBlci5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBsZXQgc2l6ZSA9IFtvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodF07XG4gICAgICAgIGxldCBhdmFpbCA9IHRoaXMuY29tcHV0ZVNpemUoKTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gYXZhaWwubWFwKCh2YWwsIGluZGV4KSA9PiBNYXRoLmZsb29yKCh2YWwgLSBzaXplW2luZGV4XSkgLyAyKSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShjbGVhclRvQW5zaSh0aGlzLl9vcHRpb25zLmJnKSk7XG4gICAgfVxuICAgIGRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHdoZXJlIHRvIGRyYXcgd2hhdCB3aXRoIHdoYXQgY29sb3JzXG4gICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICAvLyBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBtb3ZlIHRoZSB0ZXJtaW5hbCBjdXJzb3JcbiAgICAgICAgbGV0IGR4ID0gdGhpcy5fb2Zmc2V0WzBdICsgeDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy5fb2Zmc2V0WzFdICsgeTtcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLmNvbXB1dGVTaXplKCk7XG4gICAgICAgIGlmIChkeCA8IDAgfHwgZHggPj0gc2l6ZVswXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeSA8IDAgfHwgZHkgPj0gc2l6ZVsxXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeCAhPT0gdGhpcy5fY3Vyc29yWzBdIHx8IGR5ICE9PSB0aGlzLl9jdXJzb3JbMV0pIHtcbiAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKHBvc2l0aW9uVG9BbnNpKGR4LCBkeSkpO1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yWzBdID0gZHg7XG4gICAgICAgICAgICB0aGlzLl9jdXJzb3JbMV0gPSBkeTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXJtaW5hbHMgYXV0b21hdGljYWxseSBjbGVhciwgYnV0IGlmIHdlJ3JlIGNsZWFyaW5nIHdoZW4gd2UncmVcbiAgICAgICAgLy8gbm90IG90aGVyd2lzZSBwcm92aWRlZCB3aXRoIGEgY2hhcmFjdGVyLCBqdXN0IHVzZSBhIHNwYWNlIGluc3RlYWRcbiAgICAgICAgaWYgKGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAoIWNoKSB7XG4gICAgICAgICAgICAgICAgY2ggPSBcIiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSdyZSBub3QgY2xlYXJpbmcgYW5kIG5vdCBwcm92aWRlZCB3aXRoIGEgY2hhcmFjdGVyLCBkbyBub3RoaW5nXG4gICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBjaGFuZ2UgY29sb3JzXG4gICAgICAgIGxldCBuZXdDb2xvciA9IGNvbG9yVG9BbnNpKGZnLCBiZyk7XG4gICAgICAgIGlmIChuZXdDb2xvciAhPT0gdGhpcy5fbGFzdENvbG9yKSB7XG4gICAgICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShuZXdDb2xvcik7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q29sb3IgPSBuZXdDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggIT0gJ1xcdCcpIHtcbiAgICAgICAgICAgIC8vIHdyaXRlIHRoZSBwcm92aWRlZCBzeW1ib2wgdG8gdGhlIGRpc3BsYXlcbiAgICAgICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShjaGFyc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIG91ciBwb3NpdGlvbiwgZ2l2ZW4gdGhhdCB3ZSB3cm90ZSBhIGNoYXJhY3RlclxuICAgICAgICB0aGlzLl9jdXJzb3JbMF0rKztcbiAgICAgICAgaWYgKHRoaXMuX2N1cnNvclswXSA+PSBzaXplWzBdKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJzb3JbMF0gPSAwO1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yWzFdKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcHV0ZUZvbnRTaXplKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJUZXJtaW5hbCBiYWNrZW5kIGhhcyBubyBub3Rpb24gb2YgZm9udCBzaXplXCIpOyB9XG4gICAgZXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHsgcmV0dXJuIFt4LCB5XTsgfVxuICAgIGNvbXB1dGVTaXplKCkgeyByZXR1cm4gW3Byb2Nlc3Muc3Rkb3V0LmNvbHVtbnMsIHByb2Nlc3Muc3Rkb3V0LnJvd3NdOyB9XG59XG4iLCIvKiBnbG9iYWxzIF9fd2VicGFja19hbWRfb3B0aW9uc19fICovXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19hbWRfb3B0aW9uc19fO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsImltcG9ydCBCYWNrZW5kIGZyb20gXCIuL2JhY2tlbmQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyBleHRlbmRzIEJhY2tlbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB9XG4gICAgc2NoZWR1bGUoY2IpIHsgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTsgfVxuICAgIGdldENvbnRhaW5lcigpIHsgcmV0dXJuIHRoaXMuX2N0eC5jYW52YXM7IH1cbiAgICBzZXRPcHRpb25zKG9wdHMpIHtcbiAgICAgICAgc3VwZXIuc2V0T3B0aW9ucyhvcHRzKTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSAob3B0cy5mb250U3R5bGUgPyBgJHtvcHRzLmZvbnRTdHlsZX0gYCA6IGBgKTtcbiAgICAgICAgY29uc3QgZm9udCA9IGAke3N0eWxlfSAke29wdHMuZm9udFNpemV9cHggJHtvcHRzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBmb250O1xuICAgICAgICB0aGlzLl91cGRhdGVTaXplKCk7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgIHRoaXMuX2N0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX29wdGlvbnMuYmc7XG4gICAgICAgIHRoaXMuX2N0eC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jdHguY2FudmFzLndpZHRoLCB0aGlzLl9jdHguY2FudmFzLmhlaWdodCk7XG4gICAgfVxuICAgIGV2ZW50VG9Qb3NpdGlvbih4LCB5KSB7XG4gICAgICAgIGxldCBjYW52YXMgPSB0aGlzLl9jdHguY2FudmFzO1xuICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgeCAtPSByZWN0LmxlZnQ7XG4gICAgICAgIHkgLT0gcmVjdC50b3A7XG4gICAgICAgIHggKj0gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aDtcbiAgICAgICAgeSAqPSBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IGNhbnZhcy53aWR0aCB8fCB5ID49IGNhbnZhcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbLTEsIC0xXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbih4LCB5KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2FudmFzIGZyb20gXCIuL2NhbnZhcy5qc1wiO1xuaW1wb3J0IHsgbW9kIH0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbi8qKlxuICogQGNsYXNzIEhleGFnb25hbCBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZXggZXh0ZW5kcyBDYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IDA7XG4gICAgICAgIHRoaXMuX3NwYWNpbmdZID0gMDtcbiAgICAgICAgdGhpcy5faGV4U2l6ZSA9IDA7XG4gICAgfVxuICAgIGRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgIGxldCBweCA9IFtcbiAgICAgICAgICAgICh4ICsgMSkgKiB0aGlzLl9zcGFjaW5nWCxcbiAgICAgICAgICAgIHkgKiB0aGlzLl9zcGFjaW5nWSArIHRoaXMuX2hleFNpemVcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBweC5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICB0aGlzLl9maWxsKHB4WzBdLCBweFsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgbGV0IGNoYXJzID0gW10uY29uY2F0KGNoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxUZXh0KGNoYXJzW2ldLCBweFswXSwgTWF0aC5jZWlsKHB4WzFdKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhdmFpbFdpZHRoICs9IGF2YWlsSGVpZ2h0O1xuICAgICAgICAgICAgYXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG4gICAgICAgICAgICBhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX3NwYWNpbmdYKSAtIDE7XG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmZsb29yKChhdmFpbEhlaWdodCAtIDIgKiB0aGlzLl9oZXhTaXplKSAvIHRoaXMuX3NwYWNpbmdZICsgMSk7XG4gICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgfVxuICAgIGNvbXB1dGVGb250U2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGF2YWlsV2lkdGggKz0gYXZhaWxIZWlnaHQ7XG4gICAgICAgICAgICBhdmFpbEhlaWdodCA9IGF2YWlsV2lkdGggLSBhdmFpbEhlaWdodDtcbiAgICAgICAgICAgIGF2YWlsV2lkdGggLT0gYXZhaWxIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhleFNpemVXaWR0aCA9IDIgKiBhdmFpbFdpZHRoIC8gKCh0aGlzLl9vcHRpb25zLndpZHRoICsgMSkgKiBNYXRoLnNxcnQoMykpIC0gMTtcbiAgICAgICAgbGV0IGhleFNpemVIZWlnaHQgPSBhdmFpbEhlaWdodCAvICgyICsgMS41ICogKHRoaXMuX29wdGlvbnMuaGVpZ2h0IC0gMSkpO1xuICAgICAgICBsZXQgaGV4U2l6ZSA9IE1hdGgubWluKGhleFNpemVXaWR0aCwgaGV4U2l6ZUhlaWdodCk7XG4gICAgICAgIC8vIGNvbXB1dGUgY2hhciByYXRpb1xuICAgICAgICBsZXQgb2xkRm9udCA9IHRoaXMuX2N0eC5mb250O1xuICAgICAgICB0aGlzLl9jdHguZm9udCA9IFwiMTAwcHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jdHgubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcbiAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBvbGRGb250O1xuICAgICAgICBsZXQgcmF0aW8gPSB3aWR0aCAvIDEwMDtcbiAgICAgICAgaGV4U2l6ZSA9IE1hdGguZmxvb3IoaGV4U2l6ZSkgKyAxOyAvLyBjbG9zZXN0IGxhcmdlciBoZXhTaXplXG4gICAgICAgIC8vIEZJWE1FIGNoYXIgc2l6ZSBjb21wdXRhdGlvbiBkb2VzIG5vdCByZXNwZWN0IHRyYW5zcG9zZWQgaGV4ZXNcbiAgICAgICAgbGV0IGZvbnRTaXplID0gMiAqIGhleFNpemUgLyAodGhpcy5fb3B0aW9ucy5zcGFjaW5nICogKDEgKyByYXRpbyAvIE1hdGguc3FydCgzKSkpO1xuICAgICAgICAvLyBjbG9zZXN0IHNtYWxsZXIgZm9udFNpemVcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChmb250U2l6ZSkgLSAxO1xuICAgIH1cbiAgICBfbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbih4LCB5KSB7XG4gICAgICAgIGxldCBub2RlU2l6ZTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICB4ICs9IHk7XG4gICAgICAgICAgICB5ID0geCAtIHk7XG4gICAgICAgICAgICB4IC09IHk7XG4gICAgICAgICAgICBub2RlU2l6ZSA9IHRoaXMuX2N0eC5jYW52YXMud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlU2l6ZSA9IHRoaXMuX2N0eC5jYW52YXMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaXplID0gbm9kZVNpemUgLyB0aGlzLl9vcHRpb25zLmhlaWdodDtcbiAgICAgICAgeSA9IE1hdGguZmxvb3IoeSAvIHNpemUpO1xuICAgICAgICBpZiAobW9kKHksIDIpKSB7IC8qIG9kZCByb3cgKi9cbiAgICAgICAgICAgIHggLT0gdGhpcy5fc3BhY2luZ1g7XG4gICAgICAgICAgICB4ID0gMSArIDIgKiBNYXRoLmZsb29yKHggLyAoMiAqIHRoaXMuX3NwYWNpbmdYKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB4ID0gMiAqIE1hdGguZmxvb3IoeCAvICgyICogdGhpcy5fc3BhY2luZ1gpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3gsIHldO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcmd1bWVudHMgYXJlIHBpeGVsIHZhbHVlcy4gSWYgXCJ0cmFuc3Bvc2VkXCIgbW9kZSBpcyBlbmFibGVkLCB0aGVuIHRoZXNlIHR3byBhcmUgYWxyZWFkeSBzd2FwcGVkLlxuICAgICAqL1xuICAgIF9maWxsKGN4LCBjeSkge1xuICAgICAgICBsZXQgYSA9IHRoaXMuX2hleFNpemU7XG4gICAgICAgIGxldCBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oY3ggLSBhICsgYiwgY3kpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIGEgLyAyICsgYiwgY3kgKyB0aGlzLl9zcGFjaW5nWCAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCArIGEgLyAyIC0gYiwgY3kgKyB0aGlzLl9zcGFjaW5nWCAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCArIGEgLSBiLCBjeSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKGN4ICsgYSAvIDIgLSBiLCBjeSAtIHRoaXMuX3NwYWNpbmdYICsgYik7XG4gICAgICAgICAgICBjdHgubGluZVRvKGN4IC0gYSAvIDIgKyBiLCBjeSAtIHRoaXMuX3NwYWNpbmdYICsgYik7XG4gICAgICAgICAgICBjdHgubGluZVRvKGN4IC0gYSArIGIsIGN5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oY3gsIGN5IC0gYSArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCArIHRoaXMuX3NwYWNpbmdYIC0gYiwgY3kgLSBhIC8gMiArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCArIHRoaXMuX3NwYWNpbmdYIC0gYiwgY3kgKyBhIC8gMiAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCwgY3kgKyBhIC0gYik7XG4gICAgICAgICAgICBjdHgubGluZVRvKGN4IC0gdGhpcy5fc3BhY2luZ1ggKyBiLCBjeSArIGEgLyAyIC0gYik7XG4gICAgICAgICAgICBjdHgubGluZVRvKGN4IC0gdGhpcy5fc3BhY2luZ1ggKyBiLCBjeSAtIGEgLyAyICsgYik7XG4gICAgICAgICAgICBjdHgubGluZVRvKGN4LCBjeSAtIGEgKyBiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbCgpO1xuICAgIH1cbiAgICBfdXBkYXRlU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNoYXJXaWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jdHgubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcbiAgICAgICAgdGhpcy5faGV4U2l6ZSA9IE1hdGguZmxvb3Iob3B0cy5zcGFjaW5nICogKG9wdHMuZm9udFNpemUgKyBjaGFyV2lkdGggLyBNYXRoLnNxcnQoMykpIC8gMik7XG4gICAgICAgIHRoaXMuX3NwYWNpbmdYID0gdGhpcy5faGV4U2l6ZSAqIE1hdGguc3FydCgzKSAvIDI7XG4gICAgICAgIHRoaXMuX3NwYWNpbmdZID0gdGhpcy5faGV4U2l6ZSAqIDEuNTtcbiAgICAgICAgbGV0IHhwcm9wO1xuICAgICAgICBsZXQgeXByb3A7XG4gICAgICAgIGlmIChvcHRzLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgeHByb3AgPSBcImhlaWdodFwiO1xuICAgICAgICAgICAgeXByb3AgPSBcIndpZHRoXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB4cHJvcCA9IFwid2lkdGhcIjtcbiAgICAgICAgICAgIHlwcm9wID0gXCJoZWlnaHRcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdHguY2FudmFzW3hwcm9wXSA9IE1hdGguY2VpbCgob3B0cy53aWR0aCArIDEpICogdGhpcy5fc3BhY2luZ1gpO1xuICAgICAgICB0aGlzLl9jdHguY2FudmFzW3lwcm9wXSA9IE1hdGguY2VpbCgob3B0cy5oZWlnaHQgLSAxKSAqIHRoaXMuX3NwYWNpbmdZICsgMiAqIHRoaXMuX2hleFNpemUpO1xuICAgIH1cbn1cbiIsImltcG9ydCBDYW52YXMgZnJvbSBcIi4vY2FudmFzLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBSZWN0YW5ndWxhciBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5sZXQgUmVjdCA9IC8qKiBAY2xhc3MgKi8gKCgpID0+IHtcbiAgICBjbGFzcyBSZWN0IGV4dGVuZHMgQ2FudmFzIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5fc3BhY2luZ1ggPSAwO1xuICAgICAgICAgICAgdGhpcy5fc3BhY2luZ1kgPSAwO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzQ2FjaGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGlmIChSZWN0LmNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhd1dpdGhDYWNoZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdOb0NhY2hlKGRhdGEsIGNsZWFyQmVmb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfZHJhd1dpdGhDYWNoZShkYXRhKSB7XG4gICAgICAgICAgICBsZXQgW3gsIHksIGNoLCBmZywgYmddID0gZGF0YTtcbiAgICAgICAgICAgIGxldCBoYXNoID0gXCJcIiArIGNoICsgZmcgKyBiZztcbiAgICAgICAgICAgIGxldCBjYW52YXM7XG4gICAgICAgICAgICBpZiAoaGFzaCBpbiB0aGlzLl9jYW52YXNDYWNoZSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IHRoaXMuX2NhbnZhc0NhY2hlW2hhc2hdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRoaXMuX3NwYWNpbmdYO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9zcGFjaW5nWTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGIsIGIsIGNhbnZhcy53aWR0aCAtIGIsIGNhbnZhcy5oZWlnaHQgLSBiKTtcbiAgICAgICAgICAgICAgICBpZiAoY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZnO1xuICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9IHRoaXMuX2N0eC5mb250O1xuICAgICAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChjaGFyc1tpXSwgdGhpcy5fc3BhY2luZ1ggLyAyLCBNYXRoLmNlaWwodGhpcy5fc3BhY2luZ1kgLyAyKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FudmFzQ2FjaGVbaGFzaF0gPSBjYW52YXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKGNhbnZhcywgeCAqIHRoaXMuX3NwYWNpbmdYLCB5ICogdGhpcy5fc3BhY2luZ1kpO1xuICAgICAgICB9XG4gICAgICAgIF9kcmF3Tm9DYWNoZShkYXRhLCBjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgICAgICBpZiAoY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSBiZztcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZmlsbFJlY3QoeCAqIHRoaXMuX3NwYWNpbmdYICsgYiwgeSAqIHRoaXMuX3NwYWNpbmdZICsgYiwgdGhpcy5fc3BhY2luZ1ggLSBiLCB0aGlzLl9zcGFjaW5nWSAtIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxUZXh0KGNoYXJzW2ldLCAoeCArIDAuNSkgKiB0aGlzLl9zcGFjaW5nWCwgTWF0aC5jZWlsKCh5ICsgMC41KSAqIHRoaXMuX3NwYWNpbmdZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX3NwYWNpbmdYKTtcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fc3BhY2luZ1kpO1xuICAgICAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgfVxuICAgICAgICBjb21wdXRlRm9udFNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCBib3hXaWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuICAgICAgICAgICAgbGV0IGJveEhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG4gICAgICAgICAgICAvKiBjb21wdXRlIGNoYXIgcmF0aW8gKi9cbiAgICAgICAgICAgIGxldCBvbGRGb250ID0gdGhpcy5fY3R4LmZvbnQ7XG4gICAgICAgICAgICB0aGlzLl9jdHguZm9udCA9IFwiMTAwcHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgICAgICB0aGlzLl9jdHguZm9udCA9IG9sZEZvbnQ7XG4gICAgICAgICAgICBsZXQgcmF0aW8gPSB3aWR0aCAvIDEwMDtcbiAgICAgICAgICAgIGxldCB3aWR0aEZyYWN0aW9uID0gcmF0aW8gKiBib3hIZWlnaHQgLyBib3hXaWR0aDtcbiAgICAgICAgICAgIGlmICh3aWR0aEZyYWN0aW9uID4gMSkgeyAvKiB0b28gd2lkZSB3aXRoIGN1cnJlbnQgYXNwZWN0IHJhdGlvICovXG4gICAgICAgICAgICAgICAgYm94SGVpZ2h0ID0gTWF0aC5mbG9vcihib3hIZWlnaHQgLyB3aWR0aEZyYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKGJveEhlaWdodCAvIHRoaXMuX29wdGlvbnMuc3BhY2luZyk7XG4gICAgICAgIH1cbiAgICAgICAgX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKHggLyB0aGlzLl9zcGFjaW5nWCksIE1hdGguZmxvb3IoeSAvIHRoaXMuX3NwYWNpbmdZKV07XG4gICAgICAgIH1cbiAgICAgICAgX3VwZGF0ZVNpemUoKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IGNoYXJXaWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jdHgubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcbiAgICAgICAgICAgIHRoaXMuX3NwYWNpbmdYID0gTWF0aC5jZWlsKG9wdHMuc3BhY2luZyAqIGNoYXJXaWR0aCk7XG4gICAgICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IE1hdGguY2VpbChvcHRzLnNwYWNpbmcgKiBvcHRzLmZvbnRTaXplKTtcbiAgICAgICAgICAgIGlmIChvcHRzLmZvcmNlU3F1YXJlUmF0aW8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX3NwYWNpbmdZID0gTWF0aC5tYXgodGhpcy5fc3BhY2luZ1gsIHRoaXMuX3NwYWNpbmdZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2N0eC5jYW52YXMud2lkdGggPSBvcHRzLndpZHRoICogdGhpcy5fc3BhY2luZ1g7XG4gICAgICAgICAgICB0aGlzLl9jdHguY2FudmFzLmhlaWdodCA9IG9wdHMuaGVpZ2h0ICogdGhpcy5fc3BhY2luZ1k7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmVjdC5jYWNoZSA9IGZhbHNlO1xuICAgIHJldHVybiBSZWN0O1xufSkoKTtcbmV4cG9ydCBkZWZhdWx0IFJlY3Q7XG4iLCJpbXBvcnQgQ2FudmFzIGZyb20gXCIuL2NhbnZhcy5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgVGlsZSBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlIGV4dGVuZHMgQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY29sb3JDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICBsZXQgdGlsZVdpZHRoID0gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGg7XG4gICAgICAgIGxldCB0aWxlSGVpZ2h0ID0gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0O1xuICAgICAgICBpZiAoY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRpbGVDb2xvcml6ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5jbGVhclJlY3QoeCAqIHRpbGVXaWR0aCwgeSAqIHRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxSZWN0KHggKiB0aWxlV2lkdGgsIHkgKiB0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICBsZXQgZmdzID0gW10uY29uY2F0KGZnKTtcbiAgICAgICAgbGV0IGJncyA9IFtdLmNvbmNhdChiZyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0aWxlID0gdGhpcy5fb3B0aW9ucy50aWxlTWFwW2NoYXJzW2ldXTtcbiAgICAgICAgICAgIGlmICghdGlsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhciBcIiR7Y2hhcnNbaV19XCIgbm90IGZvdW5kIGluIHRpbGVNYXBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRpbGVDb2xvcml6ZSkgeyAvLyBhcHBseSBjb2xvcml6YXRpb25cbiAgICAgICAgICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5fY29sb3JDYW52YXM7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgbGV0IGZnID0gZmdzW2ldO1xuICAgICAgICAgICAgICAgIGxldCBiZyA9IGJnc1tpXTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLl9vcHRpb25zLnRpbGVTZXQsIHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCwgMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAoZmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2UtYXRvcFwiO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBiZztcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLW92ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKGNhbnZhcywgeCAqIHRpbGVXaWR0aCwgeSAqIHRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHsgLy8gbm8gY29sb3JpemluZywgZWFzeVxuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UodGhpcy5fb3B0aW9ucy50aWxlU2V0LCB0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsIHggKiB0aWxlV2lkdGgsIHkgKiB0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKTtcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpO1xuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cbiAgICBjb21wdXRlRm9udFNpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRpbGUgYmFja2VuZCBkb2VzIG5vdCB1bmRlcnN0YW5kIGZvbnQgc2l6ZVwiKTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICByZXR1cm4gW01hdGguZmxvb3IoeCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKSwgTWF0aC5mbG9vcih5IC8gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KV07XG4gICAgfVxuICAgIF91cGRhdGVTaXplKCkge1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhcy53aWR0aCA9IG9wdHMud2lkdGggKiBvcHRzLnRpbGVXaWR0aDtcbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhcy5oZWlnaHQgPSBvcHRzLmhlaWdodCAqIG9wdHMudGlsZUhlaWdodDtcbiAgICAgICAgdGhpcy5fY29sb3JDYW52YXMud2lkdGggPSBvcHRzLnRpbGVXaWR0aDtcbiAgICAgICAgdGhpcy5fY29sb3JDYW52YXMuaGVpZ2h0ID0gb3B0cy50aWxlSGVpZ2h0O1xuICAgIH1cbn1cbiIsImltcG9ydCBCYWNrZW5kIGZyb20gXCIuL2JhY2tlbmQuanNcIjtcbmltcG9ydCAqIGFzIENvbG9yIGZyb20gXCIuLi9jb2xvci5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgVGlsZSBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlR0wgZXh0ZW5kcyBCYWNrZW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdW5pZm9ybXMgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX2dsID0gdGhpcy5faW5pdFdlYkdMKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGFsZXJ0KGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICByZXR1cm4gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCJ3ZWJnbDJcIiwgeyBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUgfSk7XG4gICAgfVxuICAgIHNjaGVkdWxlKGNiKSB7IHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7IH1cbiAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiB0aGlzLl9nbC5jYW52YXM7IH1cbiAgICBzZXRPcHRpb25zKG9wdHMpIHtcbiAgICAgICAgc3VwZXIuc2V0T3B0aW9ucyhvcHRzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2l6ZSgpO1xuICAgICAgICBsZXQgdGlsZVNldCA9IHRoaXMuX29wdGlvbnMudGlsZVNldDtcbiAgICAgICAgaWYgKHRpbGVTZXQgJiYgXCJjb21wbGV0ZVwiIGluIHRpbGVTZXQgJiYgIXRpbGVTZXQuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRpbGVTZXQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4gdGhpcy5fdXBkYXRlVGV4dHVyZSh0aWxlU2V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVUZXh0dXJlKHRpbGVTZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLl9nbDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICBsZXQgc2Npc3NvclkgPSBnbC5jYW52YXMuaGVpZ2h0IC0gKHkgKyAxKSAqIG9wdHMudGlsZUhlaWdodDtcbiAgICAgICAgZ2wuc2Npc3Nvcih4ICogb3B0cy50aWxlV2lkdGgsIHNjaXNzb3JZLCBvcHRzLnRpbGVXaWR0aCwgb3B0cy50aWxlSGVpZ2h0KTtcbiAgICAgICAgaWYgKGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAob3B0cy50aWxlQ29sb3JpemUpIHtcbiAgICAgICAgICAgICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuY2xlYXJDb2xvciguLi5wYXJzZUNvbG9yKGJnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoYXJzID0gW10uY29uY2F0KGNoKTtcbiAgICAgICAgbGV0IGJncyA9IFtdLmNvbmNhdChiZyk7XG4gICAgICAgIGxldCBmZ3MgPSBbXS5jb25jYXQoZmcpO1xuICAgICAgICBnbC51bmlmb3JtMmZ2KHRoaXMuX3VuaWZvcm1zW1widGFyZ2V0UG9zUmVsXCJdLCBbeCwgeV0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGlsZSA9IHRoaXMuX29wdGlvbnMudGlsZU1hcFtjaGFyc1tpXV07XG4gICAgICAgICAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYXIgXCIke2NoYXJzW2ldfVwiIG5vdCBmb3VuZCBpbiB0aWxlTWFwYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC51bmlmb3JtMWYodGhpcy5fdW5pZm9ybXNbXCJjb2xvcml6ZVwiXSwgb3B0cy50aWxlQ29sb3JpemUgPyAxIDogMCk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHRoaXMuX3VuaWZvcm1zW1widGlsZXNldFBvc0Fic1wiXSwgdGlsZSk7XG4gICAgICAgICAgICBpZiAob3B0cy50aWxlQ29sb3JpemUpIHtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHRoaXMuX3VuaWZvcm1zW1widGludFwiXSwgcGFyc2VDb2xvcihmZ3NbaV0pKTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHRoaXMuX3VuaWZvcm1zW1wiYmdcIl0sIHBhcnNlQ29sb3IoYmdzW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudGlsZUNvbG9yaXplKSB7IC8vIGFwcGx5IGNvbG9yaXphdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuX2NvbG9yQ2FudmFzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmcgPSBmZ3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmcgPSBiZ3NbaV07XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy50aWxlU2V0ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2UtYXRvcFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBiZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tb3ZlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKGNhbnZhcywgeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gbm8gY29sb3JpemluZywgZWFzeVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLnRpbGVTZXQhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAqL1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLl9nbDtcbiAgICAgICAgZ2wuY2xlYXJDb2xvciguLi5wYXJzZUNvbG9yKHRoaXMuX29wdGlvbnMuYmcpKTtcbiAgICAgICAgZ2wuc2Npc3NvcigwLCAwLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgICB9XG4gICAgY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCk7XG4gICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgfVxuICAgIGNvbXB1dGVGb250U2l6ZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGlsZSBiYWNrZW5kIGRvZXMgbm90IHVuZGVyc3RhbmQgZm9udCBzaXplXCIpO1xuICAgIH1cbiAgICBldmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5fZ2wuY2FudmFzO1xuICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgeCAtPSByZWN0LmxlZnQ7XG4gICAgICAgIHkgLT0gcmVjdC50b3A7XG4gICAgICAgIHggKj0gY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aDtcbiAgICAgICAgeSAqPSBjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQ7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IGNhbnZhcy53aWR0aCB8fCB5ID49IGNhbnZhcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbLTEsIC0xXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbih4LCB5KTtcbiAgICB9XG4gICAgX2luaXRXZWJHTCgpIHtcbiAgICAgICAgbGV0IGdsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwid2ViZ2wyXCIsIHsgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlIH0pO1xuICAgICAgICB3aW5kb3cuZ2wgPSBnbDtcbiAgICAgICAgbGV0IHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKGdsLCBWUywgRlMpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBjcmVhdGVRdWFkKGdsKTtcbiAgICAgICAgVU5JRk9STVMuZm9yRWFjaChuYW1lID0+IHRoaXMuX3VuaWZvcm1zW25hbWVdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIG5hbWUpKTtcbiAgICAgICAgdGhpcy5fcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgIGdsLmJsZW5kRnVuY1NlcGFyYXRlKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIHJldHVybiBnbDtcbiAgICB9XG4gICAgX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICByZXR1cm4gW01hdGguZmxvb3IoeCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKSwgTWF0aC5mbG9vcih5IC8gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KV07XG4gICAgfVxuICAgIF91cGRhdGVTaXplKCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuX2dsO1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgY29uc3QgY2FudmFzU2l6ZSA9IFtvcHRzLndpZHRoICogb3B0cy50aWxlV2lkdGgsIG9wdHMuaGVpZ2h0ICogb3B0cy50aWxlSGVpZ2h0XTtcbiAgICAgICAgZ2wuY2FudmFzLndpZHRoID0gY2FudmFzU2l6ZVswXTtcbiAgICAgICAgZ2wuY2FudmFzLmhlaWdodCA9IGNhbnZhc1NpemVbMV07XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIGNhbnZhc1NpemVbMF0sIGNhbnZhc1NpemVbMV0pO1xuICAgICAgICBnbC51bmlmb3JtMmZ2KHRoaXMuX3VuaWZvcm1zW1widGlsZVNpemVcIl0sIFtvcHRzLnRpbGVXaWR0aCwgb3B0cy50aWxlSGVpZ2h0XSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZnYodGhpcy5fdW5pZm9ybXNbXCJ0YXJnZXRTaXplXCJdLCBjYW52YXNTaXplKTtcbiAgICB9XG4gICAgX3VwZGF0ZVRleHR1cmUodGlsZVNldCkge1xuICAgICAgICBjcmVhdGVUZXh0dXJlKHRoaXMuX2dsLCB0aWxlU2V0KTtcbiAgICB9XG59XG5jb25zdCBVTklGT1JNUyA9IFtcInRhcmdldFBvc1JlbFwiLCBcInRpbGVzZXRQb3NBYnNcIiwgXCJ0aWxlU2l6ZVwiLCBcInRhcmdldFNpemVcIiwgXCJjb2xvcml6ZVwiLCBcImJnXCIsIFwidGludFwiXTtcbmNvbnN0IFZTID0gYFxuI3ZlcnNpb24gMzAwIGVzXG5cbmluIHZlYzIgdGlsZVBvc1JlbDtcbm91dCB2ZWMyIHRpbGVzZXRQb3NQeDtcblxudW5pZm9ybSB2ZWMyIHRpbGVzZXRQb3NBYnM7XG51bmlmb3JtIHZlYzIgdGlsZVNpemU7XG51bmlmb3JtIHZlYzIgdGFyZ2V0U2l6ZTtcbnVuaWZvcm0gdmVjMiB0YXJnZXRQb3NSZWw7XG5cbnZvaWQgbWFpbigpIHtcblx0dmVjMiB0YXJnZXRQb3NQeCA9ICh0YXJnZXRQb3NSZWwgKyB0aWxlUG9zUmVsKSAqIHRpbGVTaXplO1xuXHR2ZWMyIHRhcmdldFBvc05kYyA9ICgodGFyZ2V0UG9zUHggLyB0YXJnZXRTaXplKS0wLjUpKjIuMDtcblx0dGFyZ2V0UG9zTmRjLnkgKj0gLTEuMDtcblxuXHRnbF9Qb3NpdGlvbiA9IHZlYzQodGFyZ2V0UG9zTmRjLCAwLjAsIDEuMCk7XG5cdHRpbGVzZXRQb3NQeCA9IHRpbGVzZXRQb3NBYnMgKyB0aWxlUG9zUmVsICogdGlsZVNpemU7XG59YC50cmltKCk7XG5jb25zdCBGUyA9IGBcbiN2ZXJzaW9uIDMwMCBlc1xucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG5pbiB2ZWMyIHRpbGVzZXRQb3NQeDtcbm91dCB2ZWM0IGZyYWdDb2xvcjtcbnVuaWZvcm0gc2FtcGxlcjJEIGltYWdlO1xudW5pZm9ybSBib29sIGNvbG9yaXplO1xudW5pZm9ybSB2ZWM0IGJnO1xudW5pZm9ybSB2ZWM0IHRpbnQ7XG5cbnZvaWQgbWFpbigpIHtcblx0ZnJhZ0NvbG9yID0gdmVjNCgwLCAwLCAwLCAxKTtcblxuXHR2ZWM0IHRleGVsID0gdGV4ZWxGZXRjaChpbWFnZSwgaXZlYzIodGlsZXNldFBvc1B4KSwgMCk7XG5cblx0aWYgKGNvbG9yaXplKSB7XG5cdFx0dGV4ZWwucmdiID0gdGludC5hICogdGludC5yZ2IgKyAoMS4wLXRpbnQuYSkgKiB0ZXhlbC5yZ2I7XG5cdFx0ZnJhZ0NvbG9yLnJnYiA9IHRleGVsLmEqdGV4ZWwucmdiICsgKDEuMC10ZXhlbC5hKSpiZy5yZ2I7XG5cdFx0ZnJhZ0NvbG9yLmEgPSB0ZXhlbC5hICsgKDEuMC10ZXhlbC5hKSpiZy5hO1xuXHR9IGVsc2Uge1xuXHRcdGZyYWdDb2xvciA9IHRleGVsO1xuXHR9XG59YC50cmltKCk7XG5mdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsLCB2c3MsIGZzcykge1xuICAgIGNvbnN0IHZzID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpO1xuICAgIGdsLnNoYWRlclNvdXJjZSh2cywgdnNzKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHZzKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcih2cywgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKHZzKSB8fCBcIlwiKTtcbiAgICB9XG4gICAgY29uc3QgZnMgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UoZnMsIGZzcyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihmcyk7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZnMsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhmcykgfHwgXCJcIik7XG4gICAgfVxuICAgIGNvbnN0IHAgPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHAsIHZzKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocCwgZnMpO1xuICAgIGdsLmxpbmtQcm9ncmFtKHApO1xuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdsLmdldFByb2dyYW1JbmZvTG9nKHApIHx8IFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVF1YWQoZ2wpIHtcbiAgICBjb25zdCBwb3MgPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAwLCAxLCAxLCAxXSk7XG4gICAgY29uc3QgYnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1Zik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHBvcywgZ2wuU1RBVElDX0RSQVcpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KDApO1xuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoMCwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGRhdGEpIHtcbiAgICBsZXQgdCA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0KTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuUkVQRUFUKTtcbiAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCAwKTtcbiAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xuICAgIHJldHVybiB0O1xufVxubGV0IGNvbG9yQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIHBhcnNlQ29sb3IoY29sb3IpIHtcbiAgICBpZiAoIShjb2xvciBpbiBjb2xvckNhY2hlKSkge1xuICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICBpZiAoY29sb3IgPT0gXCJ0cmFuc3BhcmVudFwiKSB7XG4gICAgICAgICAgICBwYXJzZWQgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29sb3IuaW5kZXhPZihcInJnYmFcIikgPiAtMSkge1xuICAgICAgICAgICAgcGFyc2VkID0gKGNvbG9yLm1hdGNoKC9bXFxkLl0rL2cpIHx8IFtdKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkW2ldID0gcGFyc2VkW2ldIC8gMjU1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkID0gQ29sb3IuZnJvbVN0cmluZyhjb2xvcikubWFwKCQgPT4gJCAvIDI1NSk7XG4gICAgICAgICAgICBwYXJzZWQucHVzaCgxKTtcbiAgICAgICAgfVxuICAgICAgICBjb2xvckNhY2hlW2NvbG9yXSA9IHBhcnNlZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yQ2FjaGVbY29sb3JdO1xufVxuIiwiLyoqXG4gKiBAbmFtZXNwYWNlXG4gKiBDb250YWlucyB0ZXh0IHRva2VuaXphdGlvbiBhbmQgYnJlYWtpbmcgcm91dGluZXNcbiAqL1xuY29uc3QgUkVfQ09MT1JTID0gLyUoW2JjXSl7KFtefV0qKX0vZztcbi8vIHRva2VuIHR5cGVzXG5leHBvcnQgY29uc3QgVFlQRV9URVhUID0gMDtcbmV4cG9ydCBjb25zdCBUWVBFX05FV0xJTkUgPSAxO1xuZXhwb3J0IGNvbnN0IFRZUEVfRkcgPSAyO1xuZXhwb3J0IGNvbnN0IFRZUEVfQkcgPSAzO1xuLyoqXG4gKiBNZWFzdXJlIHNpemUgb2YgYSByZXN1bHRpbmcgdGV4dCBibG9ja1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZShzdHIsIG1heFdpZHRoKSB7XG4gICAgbGV0IHJlc3VsdCA9IHsgd2lkdGg6IDAsIGhlaWdodDogMSB9O1xuICAgIGxldCB0b2tlbnMgPSB0b2tlbml6ZShzdHIsIG1heFdpZHRoKTtcbiAgICBsZXQgbGluZVdpZHRoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUWVBFX1RFWFQ6XG4gICAgICAgICAgICAgICAgbGluZVdpZHRoICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVFlQRV9ORVdMSU5FOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5oZWlnaHQrKztcbiAgICAgICAgICAgICAgICByZXN1bHQud2lkdGggPSBNYXRoLm1heChyZXN1bHQud2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQud2lkdGggPSBNYXRoLm1heChyZXN1bHQud2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQ29udmVydCBzdHJpbmcgdG8gYSBzZXJpZXMgb2YgYSBmb3JtYXR0aW5nIGNvbW1hbmRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2tlbml6ZShzdHIsIG1heFdpZHRoKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIC8qIGZpcnN0IHRva2VuaXphdGlvbiBwYXNzIC0gc3BsaXQgdGV4dHMgYW5kIGNvbG9yIGZvcm1hdHRpbmcgY29tbWFuZHMgKi9cbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBzdHIucmVwbGFjZShSRV9DT0xPUlMsIGZ1bmN0aW9uIChtYXRjaCwgdHlwZSwgbmFtZSwgaW5kZXgpIHtcbiAgICAgICAgLyogc3RyaW5nIGJlZm9yZSAqL1xuICAgICAgICBsZXQgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0LCBpbmRleCk7XG4gICAgICAgIGlmIChwYXJ0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFRZUEVfVEVYVCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFydFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogY29sb3IgY29tbWFuZCAqL1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAodHlwZSA9PSBcImNcIiA/IFRZUEVfRkcgOiBUWVBFX0JHKSxcbiAgICAgICAgICAgIHZhbHVlOiBuYW1lLnRyaW0oKVxuICAgICAgICB9KTtcbiAgICAgICAgb2Zmc2V0ID0gaW5kZXggKyBtYXRjaC5sZW5ndGg7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH0pO1xuICAgIC8qIGxhc3QgcmVtYWluaW5nIHBhcnQgKi9cbiAgICBsZXQgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0KTtcbiAgICBpZiAocGFydC5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgdHlwZTogVFlQRV9URVhULFxuICAgICAgICAgICAgdmFsdWU6IHBhcnRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBicmVha0xpbmVzKHJlc3VsdCwgbWF4V2lkdGgpO1xufVxuLyogaW5zZXJ0IGxpbmUgYnJlYWtzIGludG8gZmlyc3QtcGFzcyB0b2tlbml6ZWQgZGF0YSAqL1xuZnVuY3Rpb24gYnJlYWtMaW5lcyh0b2tlbnMsIG1heFdpZHRoKSB7XG4gICAgaWYgKCFtYXhXaWR0aCkge1xuICAgICAgICBtYXhXaWR0aCA9IEluZmluaXR5O1xuICAgIH1cbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGxpbmVMZW5ndGggPSAwO1xuICAgIGxldCBsYXN0VG9rZW5XaXRoU3BhY2UgPSAtMTtcbiAgICB3aGlsZSAoaSA8IHRva2Vucy5sZW5ndGgpIHsgLyogdGFrZSBhbGwgdGV4dCB0b2tlbnMsIHJlbW92ZSBzcGFjZSwgYXBwbHkgbGluZWJyZWFrcyAqL1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09IFRZUEVfTkVXTElORSkgeyAvKiByZXNldCAqL1xuICAgICAgICAgICAgbGluZUxlbmd0aCA9IDA7XG4gICAgICAgICAgICBsYXN0VG9rZW5XaXRoU3BhY2UgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4udHlwZSAhPSBUWVBFX1RFWFQpIHsgLyogc2tpcCBub24tdGV4dCB0b2tlbnMgKi9cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qIHJlbW92ZSBzcGFjZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBsaW5lICovXG4gICAgICAgIHdoaWxlIChsaW5lTGVuZ3RoID09IDAgJiYgdG9rZW4udmFsdWUuY2hhckF0KDApID09IFwiIFwiKSB7XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHRva2VuLnZhbHVlLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBmb3JjZWQgbmV3bGluZT8gaW5zZXJ0IHR3byBuZXcgdG9rZW5zIGFmdGVyIHRoaXMgb25lICovXG4gICAgICAgIGxldCBpbmRleCA9IHRva2VuLnZhbHVlLmluZGV4T2YoXCJcXG5cIik7XG4gICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBicmVha0luc2lkZVRva2VuKHRva2VucywgaSwgaW5kZXgsIHRydWUpO1xuICAgICAgICAgICAgLyogaWYgdGhlcmUgYXJlIHNwYWNlcyBhdCB0aGUgZW5kLCB3ZSBtdXN0IHJlbW92ZSB0aGVtICh3ZSBkbyBub3Qgd2FudCB0aGUgbGluZSB0b28gbG9uZykgKi9cbiAgICAgICAgICAgIGxldCBhcnIgPSB0b2tlbi52YWx1ZS5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgIHdoaWxlIChhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0gPT0gXCIgXCIpIHtcbiAgICAgICAgICAgICAgICBhcnIucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IGFyci5qb2luKFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qIHRva2VuIGRlZ2VuZXJhdGVkPyAqL1xuICAgICAgICBpZiAoIXRva2VuLnZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdG9rZW5zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lTGVuZ3RoICsgdG9rZW4udmFsdWUubGVuZ3RoID4gbWF4V2lkdGgpIHsgLyogbGluZSB0b28gbG9uZywgZmluZCBhIHN1aXRhYmxlIGJyZWFraW5nIHNwb3QgKi9cbiAgICAgICAgICAgIC8qIGlzIGl0IHBvc3NpYmxlIHRvIGJyZWFrIHdpdGhpbiB0aGlzIHRva2VuPyAqL1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0SW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsaW5lTGVuZ3RoICsgbmV4dEluZGV4ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7IC8qIGJyZWFrIGF0IHNwYWNlIHdpdGhpbiB0aGlzIG9uZSAqL1xuICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIGluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RUb2tlbldpdGhTcGFjZSAhPSAtMSkgeyAvKiBpcyB0aGVyZSBhIHByZXZpb3VzIHRva2VuIHdoZXJlIGEgYnJlYWsgY2FuIG9jY3VyPyAqL1xuICAgICAgICAgICAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tsYXN0VG9rZW5XaXRoU3BhY2VdO1xuICAgICAgICAgICAgICAgIGxldCBicmVha0luZGV4ID0gdG9rZW4udmFsdWUubGFzdEluZGV4T2YoXCIgXCIpO1xuICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGxhc3RUb2tlbldpdGhTcGFjZSwgYnJlYWtJbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RUb2tlbldpdGhTcGFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvKiBmb3JjZSBicmVhayBpbiB0aGlzIHRva2VuICovXG4gICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBicmVha0luc2lkZVRva2VuKHRva2VucywgaSwgbWF4V2lkdGggLSBsaW5lTGVuZ3RoLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8qIGxpbmUgbm90IGxvbmcsIGNvbnRpbnVlICovXG4gICAgICAgICAgICBsaW5lTGVuZ3RoICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIGxhc3RUb2tlbldpdGhTcGFjZSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSsrOyAvKiBhZHZhbmNlIHRvIG5leHQgdG9rZW4gKi9cbiAgICB9XG4gICAgdG9rZW5zLnB1c2goeyB0eXBlOiBUWVBFX05FV0xJTkUgfSk7IC8qIGluc2VydCBmYWtlIG5ld2xpbmUgdG8gZml4IHRoZSBsYXN0IHRleHQgbGluZSAqL1xuICAgIC8qIHJlbW92ZSB0cmFpbGluZyBzcGFjZSBmcm9tIHRleHQgdG9rZW5zIGJlZm9yZSBuZXdsaW5lcyAqL1xuICAgIGxldCBsYXN0VGV4dFRva2VuID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUWVBFX1RFWFQ6XG4gICAgICAgICAgICAgICAgbGFzdFRleHRUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUWVBFX05FV0xJTkU6XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RUZXh0VG9rZW4pIHsgLyogcmVtb3ZlIHRyYWlsaW5nIHNwYWNlICovXG4gICAgICAgICAgICAgICAgICAgIGxldCBhcnIgPSBsYXN0VGV4dFRva2VuLnZhbHVlLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYXJyLmxlbmd0aCAmJiBhcnJbYXJyLmxlbmd0aCAtIDFdID09IFwiIFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdFRleHRUb2tlbi52YWx1ZSA9IGFyci5qb2luKFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0VGV4dFRva2VuID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlbnMucG9wKCk7IC8qIHJlbW92ZSBmYWtlIHRva2VuICovXG4gICAgcmV0dXJuIHRva2Vucztcbn1cbi8qKlxuICogQ3JlYXRlIG5ldyB0b2tlbnMgYW5kIGluc2VydCB0aGVtIGludG8gdGhlIHN0cmVhbVxuICogQHBhcmFtIHtvYmplY3RbXX0gdG9rZW5zXG4gKiBAcGFyYW0ge2ludH0gdG9rZW5JbmRleCBUb2tlbiBiZWluZyBwcm9jZXNzZWRcbiAqIEBwYXJhbSB7aW50fSBicmVha0luZGV4IEluZGV4IHdpdGhpbiBjdXJyZW50IHRva2VuJ3MgdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbH0gcmVtb3ZlQnJlYWtDaGFyIERvIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBicmVha2luZyBjaGFyYWN0ZXI/XG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZW1haW5pbmcgdW5icm9rZW4gdG9rZW4gdmFsdWVcbiAqL1xuZnVuY3Rpb24gYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIHRva2VuSW5kZXgsIGJyZWFrSW5kZXgsIHJlbW92ZUJyZWFrQ2hhcikge1xuICAgIGxldCBuZXdCcmVha1Rva2VuID0ge1xuICAgICAgICB0eXBlOiBUWVBFX05FV0xJTkVcbiAgICB9O1xuICAgIGxldCBuZXdUZXh0VG9rZW4gPSB7XG4gICAgICAgIHR5cGU6IFRZUEVfVEVYVCxcbiAgICAgICAgdmFsdWU6IHRva2Vuc1t0b2tlbkluZGV4XS52YWx1ZS5zdWJzdHJpbmcoYnJlYWtJbmRleCArIChyZW1vdmVCcmVha0NoYXIgPyAxIDogMCkpXG4gICAgfTtcbiAgICB0b2tlbnMuc3BsaWNlKHRva2VuSW5kZXggKyAxLCAwLCBuZXdCcmVha1Rva2VuLCBuZXdUZXh0VG9rZW4pO1xuICAgIHJldHVybiB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWUuc3Vic3RyaW5nKDAsIGJyZWFrSW5kZXgpO1xufVxuIiwiLyoqIERlZmF1bHQgd2l0aCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cbmV4cG9ydCBsZXQgREVGQVVMVF9XSURUSCA9IDgwO1xuLyoqIERlZmF1bHQgaGVpZ2h0IGZvciBkaXNwbGF5IGFuZCBtYXAgZ2VuZXJhdG9ycyAqL1xuZXhwb3J0IGxldCBERUZBVUxUX0hFSUdIVCA9IDI1O1xuZXhwb3J0IGNvbnN0IERJUlMgPSB7XG4gICAgNDogW1swLCAtMV0sIFsxLCAwXSwgWzAsIDFdLCBbLTEsIDBdXSxcbiAgICA4OiBbWzAsIC0xXSwgWzEsIC0xXSwgWzEsIDBdLCBbMSwgMV0sIFswLCAxXSwgWy0xLCAxXSwgWy0xLCAwXSwgWy0xLCAtMV1dLFxuICAgIDY6IFtbLTEsIC0xXSwgWzEsIC0xXSwgWzIsIDBdLCBbMSwgMV0sIFstMSwgMV0sIFstMiwgMF1dXG59O1xuZXhwb3J0IGNvbnN0IEtFWVMgPSB7XG4gICAgLyoqIENhbmNlbCBrZXkuICovXG4gICAgVktfQ0FOQ0VMOiAzLFxuICAgIC8qKiBIZWxwIGtleS4gKi9cbiAgICBWS19IRUxQOiA2LFxuICAgIC8qKiBCYWNrc3BhY2Uga2V5LiAqL1xuICAgIFZLX0JBQ0tfU1BBQ0U6IDgsXG4gICAgLyoqIFRhYiBrZXkuICovXG4gICAgVktfVEFCOiA5LFxuICAgIC8qKiA1IGtleSBvbiBOdW1wYWQgd2hlbiBOdW1Mb2NrIGlzIHVubG9ja2VkLiBPciBvbiBNYWMsIGNsZWFyIGtleSB3aGljaCBpcyBwb3NpdGlvbmVkIGF0IE51bUxvY2sga2V5LiAqL1xuICAgIFZLX0NMRUFSOiAxMixcbiAgICAvKiogUmV0dXJuL2VudGVyIGtleSBvbiB0aGUgbWFpbiBrZXlib2FyZC4gKi9cbiAgICBWS19SRVRVUk46IDEzLFxuICAgIC8qKiBSZXNlcnZlZCwgYnV0IG5vdCB1c2VkLiAqL1xuICAgIFZLX0VOVEVSOiAxNCxcbiAgICAvKiogU2hpZnQga2V5LiAqL1xuICAgIFZLX1NISUZUOiAxNixcbiAgICAvKiogQ29udHJvbCBrZXkuICovXG4gICAgVktfQ09OVFJPTDogMTcsXG4gICAgLyoqIEFsdCAoT3B0aW9uIG9uIE1hYykga2V5LiAqL1xuICAgIFZLX0FMVDogMTgsXG4gICAgLyoqIFBhdXNlIGtleS4gKi9cbiAgICBWS19QQVVTRTogMTksXG4gICAgLyoqIENhcHMgbG9jay4gKi9cbiAgICBWS19DQVBTX0xPQ0s6IDIwLFxuICAgIC8qKiBFc2NhcGUga2V5LiAqL1xuICAgIFZLX0VTQ0FQRTogMjcsXG4gICAgLyoqIFNwYWNlIGJhci4gKi9cbiAgICBWS19TUEFDRTogMzIsXG4gICAgLyoqIFBhZ2UgVXAga2V5LiAqL1xuICAgIFZLX1BBR0VfVVA6IDMzLFxuICAgIC8qKiBQYWdlIERvd24ga2V5LiAqL1xuICAgIFZLX1BBR0VfRE9XTjogMzQsXG4gICAgLyoqIEVuZCBrZXkuICovXG4gICAgVktfRU5EOiAzNSxcbiAgICAvKiogSG9tZSBrZXkuICovXG4gICAgVktfSE9NRTogMzYsXG4gICAgLyoqIExlZnQgYXJyb3cuICovXG4gICAgVktfTEVGVDogMzcsXG4gICAgLyoqIFVwIGFycm93LiAqL1xuICAgIFZLX1VQOiAzOCxcbiAgICAvKiogUmlnaHQgYXJyb3cuICovXG4gICAgVktfUklHSFQ6IDM5LFxuICAgIC8qKiBEb3duIGFycm93LiAqL1xuICAgIFZLX0RPV046IDQwLFxuICAgIC8qKiBQcmludCBTY3JlZW4ga2V5LiAqL1xuICAgIFZLX1BSSU5UU0NSRUVOOiA0NCxcbiAgICAvKiogSW5zKGVydCkga2V5LiAqL1xuICAgIFZLX0lOU0VSVDogNDUsXG4gICAgLyoqIERlbChldGUpIGtleS4gKi9cbiAgICBWS19ERUxFVEU6IDQ2LFxuICAgIC8qKiovXG4gICAgVktfMDogNDgsXG4gICAgLyoqKi9cbiAgICBWS18xOiA0OSxcbiAgICAvKioqL1xuICAgIFZLXzI6IDUwLFxuICAgIC8qKiovXG4gICAgVktfMzogNTEsXG4gICAgLyoqKi9cbiAgICBWS180OiA1MixcbiAgICAvKioqL1xuICAgIFZLXzU6IDUzLFxuICAgIC8qKiovXG4gICAgVktfNjogNTQsXG4gICAgLyoqKi9cbiAgICBWS183OiA1NSxcbiAgICAvKioqL1xuICAgIFZLXzg6IDU2LFxuICAgIC8qKiovXG4gICAgVktfOTogNTcsXG4gICAgLyoqIENvbG9uICg6KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19DT0xPTjogNTgsXG4gICAgLyoqIFNlbWljb2xvbiAoOykga2V5LiAqL1xuICAgIFZLX1NFTUlDT0xPTjogNTksXG4gICAgLyoqIExlc3MtdGhhbiAoPCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfTEVTU19USEFOOiA2MCxcbiAgICAvKiogRXF1YWxzICg9KSBrZXkuICovXG4gICAgVktfRVFVQUxTOiA2MSxcbiAgICAvKiogR3JlYXRlci10aGFuICg+KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19HUkVBVEVSX1RIQU46IDYyLFxuICAgIC8qKiBRdWVzdGlvbiBtYXJrICg/KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19RVUVTVElPTl9NQVJLOiA2MyxcbiAgICAvKiogQXRtYXJrIChAKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19BVDogNjQsXG4gICAgLyoqKi9cbiAgICBWS19BOiA2NSxcbiAgICAvKioqL1xuICAgIFZLX0I6IDY2LFxuICAgIC8qKiovXG4gICAgVktfQzogNjcsXG4gICAgLyoqKi9cbiAgICBWS19EOiA2OCxcbiAgICAvKioqL1xuICAgIFZLX0U6IDY5LFxuICAgIC8qKiovXG4gICAgVktfRjogNzAsXG4gICAgLyoqKi9cbiAgICBWS19HOiA3MSxcbiAgICAvKioqL1xuICAgIFZLX0g6IDcyLFxuICAgIC8qKiovXG4gICAgVktfSTogNzMsXG4gICAgLyoqKi9cbiAgICBWS19KOiA3NCxcbiAgICAvKioqL1xuICAgIFZLX0s6IDc1LFxuICAgIC8qKiovXG4gICAgVktfTDogNzYsXG4gICAgLyoqKi9cbiAgICBWS19NOiA3NyxcbiAgICAvKioqL1xuICAgIFZLX046IDc4LFxuICAgIC8qKiovXG4gICAgVktfTzogNzksXG4gICAgLyoqKi9cbiAgICBWS19QOiA4MCxcbiAgICAvKioqL1xuICAgIFZLX1E6IDgxLFxuICAgIC8qKiovXG4gICAgVktfUjogODIsXG4gICAgLyoqKi9cbiAgICBWS19TOiA4MyxcbiAgICAvKioqL1xuICAgIFZLX1Q6IDg0LFxuICAgIC8qKiovXG4gICAgVktfVTogODUsXG4gICAgLyoqKi9cbiAgICBWS19WOiA4NixcbiAgICAvKioqL1xuICAgIFZLX1c6IDg3LFxuICAgIC8qKiovXG4gICAgVktfWDogODgsXG4gICAgLyoqKi9cbiAgICBWS19ZOiA4OSxcbiAgICAvKioqL1xuICAgIFZLX1o6IDkwLFxuICAgIC8qKiovXG4gICAgVktfQ09OVEVYVF9NRU5VOiA5MyxcbiAgICAvKiogMCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEMDogOTYsXG4gICAgLyoqIDEgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDE6IDk3LFxuICAgIC8qKiAyIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQyOiA5OCxcbiAgICAvKiogMyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEMzogOTksXG4gICAgLyoqIDQgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDQ6IDEwMCxcbiAgICAvKiogNSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFENTogMTAxLFxuICAgIC8qKiA2IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ2OiAxMDIsXG4gICAgLyoqIDcgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDc6IDEwMyxcbiAgICAvKiogOCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEODogMTA0LFxuICAgIC8qKiA5IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ5OiAxMDUsXG4gICAgLyoqICogb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX01VTFRJUExZOiAxMDYsXG4gICAgLyoqICsgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX0FERDogMTA3LFxuICAgIC8qKiovXG4gICAgVktfU0VQQVJBVE9SOiAxMDgsXG4gICAgLyoqIC0gb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX1NVQlRSQUNUOiAxMDksXG4gICAgLyoqIERlY2ltYWwgcG9pbnQgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX0RFQ0lNQUw6IDExMCxcbiAgICAvKiogLyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfRElWSURFOiAxMTEsXG4gICAgLyoqIEYxIGtleS4gKi9cbiAgICBWS19GMTogMTEyLFxuICAgIC8qKiBGMiBrZXkuICovXG4gICAgVktfRjI6IDExMyxcbiAgICAvKiogRjMga2V5LiAqL1xuICAgIFZLX0YzOiAxMTQsXG4gICAgLyoqIEY0IGtleS4gKi9cbiAgICBWS19GNDogMTE1LFxuICAgIC8qKiBGNSBrZXkuICovXG4gICAgVktfRjU6IDExNixcbiAgICAvKiogRjYga2V5LiAqL1xuICAgIFZLX0Y2OiAxMTcsXG4gICAgLyoqIEY3IGtleS4gKi9cbiAgICBWS19GNzogMTE4LFxuICAgIC8qKiBGOCBrZXkuICovXG4gICAgVktfRjg6IDExOSxcbiAgICAvKiogRjkga2V5LiAqL1xuICAgIFZLX0Y5OiAxMjAsXG4gICAgLyoqIEYxMCBrZXkuICovXG4gICAgVktfRjEwOiAxMjEsXG4gICAgLyoqIEYxMSBrZXkuICovXG4gICAgVktfRjExOiAxMjIsXG4gICAgLyoqIEYxMiBrZXkuICovXG4gICAgVktfRjEyOiAxMjMsXG4gICAgLyoqIEYxMyBrZXkuICovXG4gICAgVktfRjEzOiAxMjQsXG4gICAgLyoqIEYxNCBrZXkuICovXG4gICAgVktfRjE0OiAxMjUsXG4gICAgLyoqIEYxNSBrZXkuICovXG4gICAgVktfRjE1OiAxMjYsXG4gICAgLyoqIEYxNiBrZXkuICovXG4gICAgVktfRjE2OiAxMjcsXG4gICAgLyoqIEYxNyBrZXkuICovXG4gICAgVktfRjE3OiAxMjgsXG4gICAgLyoqIEYxOCBrZXkuICovXG4gICAgVktfRjE4OiAxMjksXG4gICAgLyoqIEYxOSBrZXkuICovXG4gICAgVktfRjE5OiAxMzAsXG4gICAgLyoqIEYyMCBrZXkuICovXG4gICAgVktfRjIwOiAxMzEsXG4gICAgLyoqIEYyMSBrZXkuICovXG4gICAgVktfRjIxOiAxMzIsXG4gICAgLyoqIEYyMiBrZXkuICovXG4gICAgVktfRjIyOiAxMzMsXG4gICAgLyoqIEYyMyBrZXkuICovXG4gICAgVktfRjIzOiAxMzQsXG4gICAgLyoqIEYyNCBrZXkuICovXG4gICAgVktfRjI0OiAxMzUsXG4gICAgLyoqIE51bSBMb2NrIGtleS4gKi9cbiAgICBWS19OVU1fTE9DSzogMTQ0LFxuICAgIC8qKiBTY3JvbGwgTG9jayBrZXkuICovXG4gICAgVktfU0NST0xMX0xPQ0s6IDE0NSxcbiAgICAvKiogQ2lyY3VtZmxleCAoXikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQ0lSQ1VNRkxFWDogMTYwLFxuICAgIC8qKiBFeGNsYW1hdGlvbiAoISkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfRVhDTEFNQVRJT046IDE2MSxcbiAgICAvKiogRG91YmxlIHF1b3RlICgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0RPVUJMRV9RVU9URTogMTYyLFxuICAgIC8qKiBIYXNoICgjKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19IQVNIOiAxNjMsXG4gICAgLyoqIERvbGxhciBzaWduICgkKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19ET0xMQVI6IDE2NCxcbiAgICAvKiogUGVyY2VudCAoJSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfUEVSQ0VOVDogMTY1LFxuICAgIC8qKiBBbXBlcnNhbmQgKCYpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0FNUEVSU0FORDogMTY2LFxuICAgIC8qKiBVbmRlcnNjb3JlIChfKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19VTkRFUlNDT1JFOiAxNjcsXG4gICAgLyoqIE9wZW4gcGFyZW50aGVzaXMgKCgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX09QRU5fUEFSRU46IDE2OCxcbiAgICAvKiogQ2xvc2UgcGFyZW50aGVzaXMgKCkpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0NMT1NFX1BBUkVOOiAxNjksXG4gICAgLyogQXN0ZXJpc2sgKCopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0FTVEVSSVNLOiAxNzAsXG4gICAgLyoqIFBsdXMgKCspIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1BMVVM6IDE3MSxcbiAgICAvKiogUGlwZSAofCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfUElQRTogMTcyLFxuICAgIC8qKiBIeXBoZW4tVVMvZG9jcy9NaW51cyAoLSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfSFlQSEVOX01JTlVTOiAxNzMsXG4gICAgLyoqIE9wZW4gY3VybHkgYnJhY2tldCAoeykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfT1BFTl9DVVJMWV9CUkFDS0VUOiAxNzQsXG4gICAgLyoqIENsb3NlIGN1cmx5IGJyYWNrZXQgKH0pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0NMT1NFX0NVUkxZX0JSQUNLRVQ6IDE3NSxcbiAgICAvKiogVGlsZGUgKH4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1RJTERFOiAxNzYsXG4gICAgLyoqIENvbW1hICgsKSBrZXkuICovXG4gICAgVktfQ09NTUE6IDE4OCxcbiAgICAvKiogUGVyaW9kICguKSBrZXkuICovXG4gICAgVktfUEVSSU9EOiAxOTAsXG4gICAgLyoqIFNsYXNoICgvKSBrZXkuICovXG4gICAgVktfU0xBU0g6IDE5MSxcbiAgICAvKiogQmFjayB0aWNrIChgKSBrZXkuICovXG4gICAgVktfQkFDS19RVU9URTogMTkyLFxuICAgIC8qKiBPcGVuIHNxdWFyZSBicmFja2V0IChbKSBrZXkuICovXG4gICAgVktfT1BFTl9CUkFDS0VUOiAyMTksXG4gICAgLyoqIEJhY2sgc2xhc2ggKFxcKSBrZXkuICovXG4gICAgVktfQkFDS19TTEFTSDogMjIwLFxuICAgIC8qKiBDbG9zZSBzcXVhcmUgYnJhY2tldCAoXSkga2V5LiAqL1xuICAgIFZLX0NMT1NFX0JSQUNLRVQ6IDIyMSxcbiAgICAvKiogUXVvdGUgKCcnJykga2V5LiAqL1xuICAgIFZLX1FVT1RFOiAyMjIsXG4gICAgLyoqIE1ldGEga2V5IG9uIExpbnV4LCBDb21tYW5kIGtleSBvbiBNYWMuICovXG4gICAgVktfTUVUQTogMjI0LFxuICAgIC8qKiBBbHRHciBrZXkgb24gTGludXguIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19BTFRHUjogMjI1LFxuICAgIC8qKiBXaW5kb3dzIGxvZ28ga2V5IG9uIFdpbmRvd3MuIE9yIFN1cGVyIG9yIEh5cGVyIGtleSBvbiBMaW51eC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1dJTjogOTEsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0tBTkE6IDIxLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19IQU5HVUw6IDIxLFxuICAgIC8qKiDoi7HmlbAga2V5IG9uIEphcGFuZXNlIE1hYyBrZXlib2FyZC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0VJU1U6IDIyLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19KVU5KQTogMjMsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0ZJTkFMOiAyNCxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfSEFOSkE6IDI1LFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19LQU5KSTogMjUsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0NPTlZFUlQ6IDI4LFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19OT05DT05WRVJUOiAyOSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfQUNDRVBUOiAzMCxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfTU9ERUNIQU5HRTogMzEsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX1NFTEVDVDogNDEsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX1BSSU5UOiA0MixcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfRVhFQ1VURTogNDMsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLlx0ICovXG4gICAgVktfU0xFRVA6IDk1XG59O1xuIiwiaW1wb3J0IEhleCBmcm9tIFwiLi9oZXguanNcIjtcbmltcG9ydCBSZWN0IGZyb20gXCIuL3JlY3QuanNcIjtcbmltcG9ydCBUaWxlIGZyb20gXCIuL3RpbGUuanNcIjtcbmltcG9ydCBUaWxlR0wgZnJvbSBcIi4vdGlsZS1nbC5qc1wiO1xuaW1wb3J0IFRlcm0gZnJvbSBcIi4vdGVybS5qc1wiO1xuaW1wb3J0ICogYXMgVGV4dCBmcm9tIFwiLi4vdGV4dC5qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9XSURUSCwgREVGQVVMVF9IRUlHSFQgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5jb25zdCBCQUNLRU5EUyA9IHtcbiAgICBcImhleFwiOiBIZXgsXG4gICAgXCJyZWN0XCI6IFJlY3QsXG4gICAgXCJ0aWxlXCI6IFRpbGUsXG4gICAgXCJ0aWxlLWdsXCI6IFRpbGVHTCxcbiAgICBcInRlcm1cIjogVGVybVxufTtcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICB3aWR0aDogREVGQVVMVF9XSURUSCxcbiAgICBoZWlnaHQ6IERFRkFVTFRfSEVJR0hULFxuICAgIHRyYW5zcG9zZTogZmFsc2UsXG4gICAgbGF5b3V0OiBcInJlY3RcIixcbiAgICBmb250U2l6ZTogMTUsXG4gICAgc3BhY2luZzogMSxcbiAgICBib3JkZXI6IDAsXG4gICAgZm9yY2VTcXVhcmVSYXRpbzogZmFsc2UsXG4gICAgZm9udEZhbWlseTogXCJtb25vc3BhY2VcIixcbiAgICBmb250U3R5bGU6IFwiXCIsXG4gICAgZmc6IFwiI2NjY1wiLFxuICAgIGJnOiBcIiMwMDBcIixcbiAgICB0aWxlV2lkdGg6IDMyLFxuICAgIHRpbGVIZWlnaHQ6IDMyLFxuICAgIHRpbGVNYXA6IHt9LFxuICAgIHRpbGVTZXQ6IG51bGwsXG4gICAgdGlsZUNvbG9yaXplOiBmYWxzZVxufTtcbi8qKlxuICogQGNsYXNzIFZpc3VhbCBtYXAgZGlzcGxheVxuICovXG5sZXQgRGlzcGxheSA9IC8qKiBAY2xhc3MgKi8gKCgpID0+IHtcbiAgICBjbGFzcyBEaXNwbGF5IHtcbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlOyAvLyBmYWxzZSA9IG5vdGhpbmcsIHRydWUgPSBhbGwsIG9iamVjdCA9IGRpcnR5IGNlbGxzXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0ge307XG4gICAgICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuREVCVUcgPSB0aGlzLkRFQlVHLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl90aWNrID0gdGhpcy5fdGljay5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fYmFja2VuZC5zY2hlZHVsZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRGVidWcgaGVscGVyLCBpZGVhbCBhcyBhIG1hcCBnZW5lcmF0b3IgY2FsbGJhY2suIEFsd2F5cyBib3VuZCB0byB0aGlzLlxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geFxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geVxuICAgICAgICAgKiBAcGFyYW0ge2ludH0gd2hhdFxuICAgICAgICAgKi9cbiAgICAgICAgREVCVUcoeCwgeSwgd2hhdCkge1xuICAgICAgICAgICAgbGV0IGNvbG9ycyA9IFt0aGlzLl9vcHRpb25zLmJnLCB0aGlzLl9vcHRpb25zLmZnXTtcbiAgICAgICAgICAgIHRoaXMuZHJhdyh4LCB5LCBudWxsLCBudWxsLCBjb2xvcnNbd2hhdCAlIGNvbG9ycy5sZW5ndGhdKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xlYXIgdGhlIHdob2xlIGRpc3BsYXkgKGNvdmVyIGl0IHdpdGggYmFja2dyb3VuZCBjb2xvcilcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyKCkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc2VlIFJPVC5EaXNwbGF5XG4gICAgICAgICAqL1xuICAgICAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy53aWR0aCB8fCBvcHRpb25zLmhlaWdodCB8fCBvcHRpb25zLmZvbnRTaXplIHx8IG9wdGlvbnMuZm9udEZhbWlseSB8fCBvcHRpb25zLnNwYWNpbmcgfHwgb3B0aW9ucy5sYXlvdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sYXlvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN0b3IgPSBCQUNLRU5EU1tvcHRpb25zLmxheW91dF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQgPSBuZXcgY3RvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9iYWNrZW5kLnNldE9wdGlvbnModGhpcy5fb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgY3VycmVudGx5IHNldCBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBnZXRPcHRpb25zKCkgeyByZXR1cm4gdGhpcy5fb3B0aW9uczsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgRE9NIG5vZGUgb2YgdGhpcyBkaXNwbGF5XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiB0aGlzLl9iYWNrZW5kLmdldENvbnRhaW5lcigpOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wdXRlIHRoZSBtYXhpbXVtIHdpZHRoL2hlaWdodCB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICAgICAgICAgKiBAcGFyYW0ge2ludH0gYXZhaWxXaWR0aCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgd2lkdGhcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IGF2YWlsSGVpZ2h0IE1heGltdW0gYWxsb3dlZCBwaXhlbCBoZWlnaHRcbiAgICAgICAgICogQHJldHVybnMge2ludFsyXX0gY2VsbFdpZHRoLGNlbGxIZWlnaHRcbiAgICAgICAgICovXG4gICAgICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFja2VuZC5jb21wdXRlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXB1dGUgdGhlIG1heGltdW0gZm9udCBzaXplIHRvIGZpdCBpbnRvIGEgc2V0IG9mIGdpdmVuIGNvbnN0cmFpbnRzXG4gICAgICAgICAqIEBwYXJhbSB7aW50fSBhdmFpbFdpZHRoIE1heGltdW0gYWxsb3dlZCBwaXhlbCB3aWR0aFxuICAgICAgICAgKiBAcGFyYW0ge2ludH0gYXZhaWxIZWlnaHQgTWF4aW11bSBhbGxvd2VkIHBpeGVsIGhlaWdodFxuICAgICAgICAgKiBAcmV0dXJucyB7aW50fSBmb250U2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFja2VuZC5jb21wdXRlRm9udFNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXB1dGVUaWxlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy53aWR0aCk7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlcnQgYSBET00gZXZlbnQgKG1vdXNlIG9yIHRvdWNoKSB0byBtYXAgY29vcmRpbmF0ZXMuIFVzZXMgZmlyc3QgdG91Y2ggZm9yIG11bHRpLXRvdWNoLlxuICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIGV2ZW50XG4gICAgICAgICAqIEByZXR1cm5zIHtpbnRbMl19IC0xIGZvciB2YWx1ZXMgb3V0c2lkZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAqL1xuICAgICAgICBldmVudFRvUG9zaXRpb24oZSkge1xuICAgICAgICAgICAgbGV0IHgsIHk7XG4gICAgICAgICAgICBpZiAoXCJ0b3VjaGVzXCIgaW4gZSkge1xuICAgICAgICAgICAgICAgIHggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgICAgICAgICB5ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHkgPSBlLmNsaWVudFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFja2VuZC5ldmVudFRvUG9zaXRpb24oeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7aW50fSB4XG4gICAgICAgICAqIEBwYXJhbSB7aW50fSB5XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nIHx8IHN0cmluZ1tdfSBjaCBPbmUgb3IgbW9yZSBjaGFycyAod2lsbCBiZSBvdmVybGFwcGluZyB0aGVtc2VsdmVzKVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZnXSBmb3JlZ3JvdW5kIGNvbG9yXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmddIGJhY2tncm91bmQgY29sb3JcbiAgICAgICAgICovXG4gICAgICAgIGRyYXcoeCwgeSwgY2gsIGZnLCBiZykge1xuICAgICAgICAgICAgaWYgKCFmZykge1xuICAgICAgICAgICAgICAgIGZnID0gdGhpcy5fb3B0aW9ucy5mZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYmcpIHtcbiAgICAgICAgICAgICAgICBiZyA9IHRoaXMuX29wdGlvbnMuYmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQga2V5ID0gYCR7eH0sJHt5fWA7XG4gICAgICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSBbeCwgeSwgY2gsIGZnLCBiZ107XG4gICAgICAgICAgICBpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIHdpbGwgYWxyZWFkeSByZWRyYXcgZXZlcnl0aGluZyBcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHt9O1xuICAgICAgICAgICAgfSAvLyBmaXJzdCFcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5W2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEcmF3cyBhIHRleHQgYXQgZ2l2ZW4gcG9zaXRpb24uIE9wdGlvbmFsbHkgd3JhcHMgYXQgYSBtYXhpbXVtIGxlbmd0aC4gQ3VycmVudGx5IGRvZXMgbm90IHdvcmsgd2l0aCBoZXggbGF5b3V0LlxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geFxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBNYXkgY29udGFpbiBjb2xvci9iYWNrZ3JvdW5kIGZvcm1hdCBzcGVjaWZpZXJzLCAlY3tuYW1lfS8lYntuYW1lfSwgYm90aCBvcHRpb25hbC4gJWN7fS8lYnt9IHJlc2V0cyB0byBkZWZhdWx0LlxuICAgICAgICAgKiBAcGFyYW0ge2ludH0gW21heFdpZHRoXSB3cmFwIGF0IHdoYXQgd2lkdGg/XG4gICAgICAgICAqIEByZXR1cm5zIHtpbnR9IGxpbmVzIGRyYXduXG4gICAgICAgICAqL1xuICAgICAgICBkcmF3VGV4dCh4LCB5LCB0ZXh0LCBtYXhXaWR0aCkge1xuICAgICAgICAgICAgbGV0IGZnID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBiZyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY3ggPSB4O1xuICAgICAgICAgICAgbGV0IGN5ID0geTtcbiAgICAgICAgICAgIGxldCBsaW5lcyA9IDE7XG4gICAgICAgICAgICBpZiAoIW1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGggPSB0aGlzLl9vcHRpb25zLndpZHRoIC0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0b2tlbnMgPSBUZXh0LnRva2VuaXplKHRleHQsIG1heFdpZHRoKTtcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbnMubGVuZ3RoKSB7IC8vIGludGVycHJldCB0b2tlbml6ZWQgb3Bjb2RlIHN0cmVhbVxuICAgICAgICAgICAgICAgIGxldCB0b2tlbiA9IHRva2Vucy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFRleHQuVFlQRV9URVhUOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzU3BhY2UgPSBmYWxzZSwgaXNQcmV2U3BhY2UgPSBmYWxzZSwgaXNGdWxsV2lkdGggPSBmYWxzZSwgaXNQcmV2RnVsbFdpZHRoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2VuLnZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNjID0gdG9rZW4udmFsdWUuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYyA9IHRva2VuLnZhbHVlLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5sYXlvdXQgPT09IFwidGVybVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjY2ggPSBjYyA+PiA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNDSksgPSBjY2ggPT09IDB4MTEgfHwgKGNjaCA+PSAweDJlICYmIGNjaCA8PSAweDlmKSB8fCAoY2NoID49IDB4YWMgJiYgY2NoIDw9IDB4ZDcpIHx8IChjYyA+PSAweEE5NjAgJiYgY2MgPD0gMHhBOTdGKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ0pLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY3ggKyAwLCBjeSwgYywgZmcsIGJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdyhjeCArIDEsIGN5LCBcIlxcdFwiLCBmZywgYmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3ggKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzc2lnbiB0byBgdHJ1ZWAgd2hlbiB0aGUgY3VycmVudCBjaGFyIGlzIGZ1bGwtd2lkdGguXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdWxsV2lkdGggPSAoY2MgPiAweGZmMDAgJiYgY2MgPCAweGZmNjEpIHx8IChjYyA+IDB4ZmZkYyAmJiBjYyA8IDB4ZmZlOCkgfHwgY2MgPiAweGZmZWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3VycmVudCBjaGFyIGlzIHNwYWNlLCB3aGF0ZXZlciBmdWxsLXdpZHRoIG9yIGhhbGYtd2lkdGggYm90aCBhcmUgT0suXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTcGFjZSA9IChjLmNoYXJDb2RlQXQoMCkgPT0gMHgyMCB8fCBjLmNoYXJDb2RlQXQoMCkgPT0gMHgzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcHJldmlvdXMgY2hhciBpcyBmdWxsLXdpZHRoIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgY2hhciBpcyBuZXRoZXIgaGFsZi13aWR0aCBub3IgYSBzcGFjZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmV2RnVsbFdpZHRoICYmICFpc0Z1bGxXaWR0aCAmJiAhaXNTcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gYWRkIGFuIGV4dHJhIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwcmV2aW91cyBjaGFyIGlzIG5vdCBhIHNwYWNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bGxXaWR0aCAmJiAhaXNQcmV2U3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3grKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdyhjeCsrLCBjeSwgYywgZmcsIGJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ByZXZTcGFjZSA9IGlzU3BhY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmV2RnVsbFdpZHRoID0gaXNGdWxsV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0LlRZUEVfRkc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmZyA9IHRva2VuLnZhbHVlIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0LlRZUEVfQkc6XG4gICAgICAgICAgICAgICAgICAgICAgICBiZyA9IHRva2VuLnZhbHVlIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0LlRZUEVfTkVXTElORTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4ID0geDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN5Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lciB0aWNrOiB1cGRhdGUgZGlydHkgcGFydHNcbiAgICAgICAgICovXG4gICAgICAgIF90aWNrKCkge1xuICAgICAgICAgICAgdGhpcy5fYmFja2VuZC5zY2hlZHVsZSh0aGlzLl90aWNrKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHsgLy8gZHJhdyBhbGxcbiAgICAgICAgICAgICAgICB0aGlzLl9iYWNrZW5kLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5fZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3KGlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSAvLyByZWRyYXcgY2FjaGVkIGRhdGEgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHsgLy8gZHJhdyBvbmx5IGRpcnR5IFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3KGtleSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBXaGF0IHRvIGRyYXdcbiAgICAgICAgICogQHBhcmFtIHtib29sfSBjbGVhckJlZm9yZSBJcyBpdCBuZWNlc3NhcnkgdG8gY2xlYW4gYmVmb3JlP1xuICAgICAgICAgKi9cbiAgICAgICAgX2RyYXcoa2V5LCBjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9kYXRhW2tleV07XG4gICAgICAgICAgICBpZiAoZGF0YVs0XSAhPSB0aGlzLl9vcHRpb25zLmJnKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJCZWZvcmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYmFja2VuZC5kcmF3KGRhdGEsIGNsZWFyQmVmb3JlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBEaXNwbGF5LlJlY3QgPSBSZWN0O1xuICAgIERpc3BsYXkuSGV4ID0gSGV4O1xuICAgIERpc3BsYXkuVGlsZSA9IFRpbGU7XG4gICAgRGlzcGxheS5UaWxlR0wgPSBUaWxlR0w7XG4gICAgRGlzcGxheS5UZXJtID0gVGVybTtcbiAgICByZXR1cm4gRGlzcGxheTtcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBEaXNwbGF5O1xuIiwiaW1wb3J0IHsgREVGQVVMVF9XSURUSCwgREVGQVVMVF9IRUlHSFQgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG47XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXAge1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCYXNlIG1hcCBnZW5lcmF0b3JcbiAgICAgKiBAcGFyYW0ge2ludH0gW3dpZHRoPVJPVC5ERUZBVUxUX1dJRFRIXVxuICAgICAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IERFRkFVTFRfV0lEVEgsIGhlaWdodCA9IERFRkFVTFRfSEVJR0hUKSB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICB9XG4gICAgO1xuICAgIF9maWxsTWFwKHZhbHVlKSB7XG4gICAgICAgIGxldCBtYXAgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICBtYXAucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbWFwW2ldLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfVxufVxuIiwiaW1wb3J0IE1hcCBmcm9tIFwiLi9tYXAuanNcIjtcbi8qKlxuICogQGNsYXNzIFNpbXBsZSBlbXB0eSByZWN0YW5ndWxhciByb29tXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcmVuYSBleHRlbmRzIE1hcCB7XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5fd2lkdGggLSAxO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodCAtIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHc7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gaDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVtcHR5ID0gKGkgJiYgaiAmJiBpIDwgdyAmJiBqIDwgaCk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaSwgaiwgZW1wdHkgPyAwIDogMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IE1hcCBmcm9tIFwiLi9tYXAuanNcIjtcbi8qKlxuICogQGNsYXNzIER1bmdlb24gbWFwOiBoYXMgcm9vbXMgYW5kIGNvcnJpZG9yc1xuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHVuZ2VvbiBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fcm9vbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29ycmlkb3JzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZ2VuZXJhdGVkIHJvb21zXG4gICAgICogQHJldHVybnMge1JPVC5NYXAuRmVhdHVyZS5Sb29tW119XG4gICAgICovXG4gICAgZ2V0Um9vbXMoKSB7IHJldHVybiB0aGlzLl9yb29tczsgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgZ2VuZXJhdGVkIGNvcnJpZG9yc1xuICAgICAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3JbXX1cbiAgICAgKi9cbiAgICBnZXRDb3JyaWRvcnMoKSB7IHJldHVybiB0aGlzLl9jb3JyaWRvcnM7IH1cbn1cbiIsImltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuO1xuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBmZWF0dXJlOyBoYXMgb3duIC5jcmVhdGUoKSBtZXRob2RcbiAqL1xuY2xhc3MgRmVhdHVyZSB7XG59XG4vKipcbiAqIEBjbGFzcyBSb29tXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5GZWF0dXJlXG4gKiBAcGFyYW0ge2ludH0geDFcbiAqIEBwYXJhbSB7aW50fSB5MVxuICogQHBhcmFtIHtpbnR9IHgyXG4gKiBAcGFyYW0ge2ludH0geTJcbiAqIEBwYXJhbSB7aW50fSBbZG9vclhdXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JZXVxuICovXG5leHBvcnQgY2xhc3MgUm9vbSBleHRlbmRzIEZlYXR1cmUge1xuICAgIGNvbnN0cnVjdG9yKHgxLCB5MSwgeDIsIHkyLCBkb29yWCwgZG9vclkpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5feDEgPSB4MTtcbiAgICAgICAgdGhpcy5feTEgPSB5MTtcbiAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgdGhpcy5feTIgPSB5MjtcbiAgICAgICAgdGhpcy5fZG9vcnMgPSB7fTtcbiAgICAgICAgaWYgKGRvb3JYICE9PSB1bmRlZmluZWQgJiYgZG9vclkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hZGREb29yKGRvb3JYLCBkb29yWSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIFJvb20gb2YgcmFuZG9tIHNpemUsIHdpdGggYSBnaXZlbiBkb29ycyBhbmQgZGlyZWN0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVJhbmRvbUF0KHgsIHksIGR4LCBkeSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG4gICAgICAgIGxldCBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcbiAgICAgICAgbGV0IHdpZHRoID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG4gICAgICAgIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcbiAgICAgICAgbGV0IGhlaWdodCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgaWYgKGR4ID09IDEpIHsgLyogdG8gdGhlIHJpZ2h0ICovXG4gICAgICAgICAgICBsZXQgeTIgPSB5IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyh4ICsgMSwgeTIsIHggKyB3aWR0aCwgeTIgKyBoZWlnaHQgLSAxLCB4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHggPT0gLTEpIHsgLyogdG8gdGhlIGxlZnQgKi9cbiAgICAgICAgICAgIGxldCB5MiA9IHkgLSBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiBoZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHggLSB3aWR0aCwgeTIsIHggLSAxLCB5MiArIGhlaWdodCAtIDEsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeSA9PSAxKSB7IC8qIHRvIHRoZSBib3R0b20gKi9cbiAgICAgICAgICAgIGxldCB4MiA9IHggLSBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiB3aWR0aCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMoeDIsIHkgKyAxLCB4MiArIHdpZHRoIC0gMSwgeSArIGhlaWdodCwgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR5ID09IC0xKSB7IC8qIHRvIHRoZSB0b3AgKi9cbiAgICAgICAgICAgIGxldCB4MiA9IHggLSBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiB3aWR0aCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMoeDIsIHkgLSBoZWlnaHQsIHgyICsgd2lkdGggLSAxLCB5IC0gMSwgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZHggb3IgZHkgbXVzdCBiZSAxIG9yIC0xXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb29tIG9mIHJhbmRvbSBzaXplLCBwb3NpdGlvbmVkIGFyb3VuZCBjZW50ZXIgY29vcmRzXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVJhbmRvbUNlbnRlcihjeCwgY3ksIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuICAgICAgICBsZXQgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG4gICAgICAgIGxldCB3aWR0aCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuICAgICAgICBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG4gICAgICAgIGxldCBoZWlnaHQgPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIGxldCB4MSA9IGN4IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuICAgICAgICBsZXQgeTEgPSBjeSAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG4gICAgICAgIGxldCB4MiA9IHgxICsgd2lkdGggLSAxO1xuICAgICAgICBsZXQgeTIgPSB5MSArIGhlaWdodCAtIDE7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh4MSwgeTEsIHgyLCB5Mik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvb20gb2YgcmFuZG9tIHNpemUgd2l0aGluIGEgZ2l2ZW4gZGltZW5zaW9uc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSYW5kb20oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuICAgICAgICBsZXQgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG4gICAgICAgIGxldCB3aWR0aCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuICAgICAgICBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG4gICAgICAgIGxldCBoZWlnaHQgPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIGxldCBsZWZ0ID0gYXZhaWxXaWR0aCAtIHdpZHRoIC0gMTtcbiAgICAgICAgbGV0IHRvcCA9IGF2YWlsSGVpZ2h0IC0gaGVpZ2h0IC0gMTtcbiAgICAgICAgbGV0IHgxID0gMSArIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIGxlZnQpO1xuICAgICAgICBsZXQgeTEgPSAxICsgTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogdG9wKTtcbiAgICAgICAgbGV0IHgyID0geDEgKyB3aWR0aCAtIDE7XG4gICAgICAgIGxldCB5MiA9IHkxICsgaGVpZ2h0IC0gMTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgxLCB5MSwgeDIsIHkyKTtcbiAgICB9XG4gICAgYWRkRG9vcih4LCB5KSB7XG4gICAgICAgIHRoaXMuX2Rvb3JzW3ggKyBcIixcIiArIHldID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259XG4gICAgICovXG4gICAgZ2V0RG9vcnMoY2IpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2Rvb3JzKSB7XG4gICAgICAgICAgICBsZXQgcGFydHMgPSBrZXkuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgY2IocGFyc2VJbnQocGFydHNbMF0pLCBwYXJzZUludChwYXJ0c1sxXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbGVhckRvb3JzKCkge1xuICAgICAgICB0aGlzLl9kb29ycyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYWRkRG9vcnMoaXNXYWxsQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGxlZnQgPSB0aGlzLl94MSAtIDE7XG4gICAgICAgIGxldCByaWdodCA9IHRoaXMuX3gyICsgMTtcbiAgICAgICAgbGV0IHRvcCA9IHRoaXMuX3kxIC0gMTtcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMuX3kyICsgMTtcbiAgICAgICAgZm9yIChsZXQgeCA9IGxlZnQ7IHggPD0gcmlnaHQ7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IHRvcDsgeSA8PSBib3R0b207IHkrKykge1xuICAgICAgICAgICAgICAgIGlmICh4ICE9IGxlZnQgJiYgeCAhPSByaWdodCAmJiB5ICE9IHRvcCAmJiB5ICE9IGJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzV2FsbENhbGxiYWNrKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZERvb3IoeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRlYnVnKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInJvb21cIiwgdGhpcy5feDEsIHRoaXMuX3kxLCB0aGlzLl94MiwgdGhpcy5feTIpO1xuICAgIH1cbiAgICBpc1ZhbGlkKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5feDEgLSAxO1xuICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLl94MiArIDE7XG4gICAgICAgIGxldCB0b3AgPSB0aGlzLl95MSAtIDE7XG4gICAgICAgIGxldCBib3R0b20gPSB0aGlzLl95MiArIDE7XG4gICAgICAgIGZvciAobGV0IHggPSBsZWZ0OyB4IDw9IHJpZ2h0OyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSB0b3A7IHkgPD0gYm90dG9tOyB5KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PSBsZWZ0IHx8IHggPT0gcmlnaHQgfHwgeSA9PSB0b3AgfHwgeSA9PSBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1dhbGxDYWxsYmFjayh4LCB5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbkJlRHVnQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHksIDEgPSB3YWxsLCAyID0gZG9vci4gTXVsdGlwbGUgZG9vcnMgYXJlIGFsbG93ZWQuXG4gICAgICovXG4gICAgY3JlYXRlKGRpZ0NhbGxiYWNrKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5feDEgLSAxO1xuICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLl94MiArIDE7XG4gICAgICAgIGxldCB0b3AgPSB0aGlzLl95MSAtIDE7XG4gICAgICAgIGxldCBib3R0b20gPSB0aGlzLl95MiArIDE7XG4gICAgICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgICAgIGZvciAobGV0IHggPSBsZWZ0OyB4IDw9IHJpZ2h0OyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSB0b3A7IHkgPD0gYm90dG9tOyB5KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoeCArIFwiLFwiICsgeSBpbiB0aGlzLl9kb29ycykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlnQ2FsbGJhY2soeCwgeSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLnJvdW5kKCh0aGlzLl94MSArIHRoaXMuX3gyKSAvIDIpLCBNYXRoLnJvdW5kKCh0aGlzLl95MSArIHRoaXMuX3kyKSAvIDIpXTtcbiAgICB9XG4gICAgZ2V0TGVmdCgpIHsgcmV0dXJuIHRoaXMuX3gxOyB9XG4gICAgZ2V0UmlnaHQoKSB7IHJldHVybiB0aGlzLl94MjsgfVxuICAgIGdldFRvcCgpIHsgcmV0dXJuIHRoaXMuX3kxOyB9XG4gICAgZ2V0Qm90dG9tKCkgeyByZXR1cm4gdGhpcy5feTI7IH1cbn1cbi8qKlxuICogQGNsYXNzIENvcnJpZG9yXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5GZWF0dXJlXG4gKiBAcGFyYW0ge2ludH0gc3RhcnRYXG4gKiBAcGFyYW0ge2ludH0gc3RhcnRZXG4gKiBAcGFyYW0ge2ludH0gZW5kWFxuICogQHBhcmFtIHtpbnR9IGVuZFlcbiAqL1xuZXhwb3J0IGNsYXNzIENvcnJpZG9yIGV4dGVuZHMgRmVhdHVyZSB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fc3RhcnRYID0gc3RhcnRYO1xuICAgICAgICB0aGlzLl9zdGFydFkgPSBzdGFydFk7XG4gICAgICAgIHRoaXMuX2VuZFggPSBlbmRYO1xuICAgICAgICB0aGlzLl9lbmRZID0gZW5kWTtcbiAgICAgICAgdGhpcy5fZW5kc1dpdGhBV2FsbCA9IHRydWU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVSYW5kb21BdCh4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1pbiA9IG9wdGlvbnMuY29ycmlkb3JMZW5ndGhbMF07XG4gICAgICAgIGxldCBtYXggPSBvcHRpb25zLmNvcnJpZG9yTGVuZ3RoWzFdO1xuICAgICAgICBsZXQgbGVuZ3RoID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoeCwgeSwgeCArIGR4ICogbGVuZ3RoLCB5ICsgZHkgKiBsZW5ndGgpO1xuICAgIH1cbiAgICBkZWJ1ZygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjb3JyaWRvclwiLCB0aGlzLl9zdGFydFgsIHRoaXMuX3N0YXJ0WSwgdGhpcy5fZW5kWCwgdGhpcy5fZW5kWSk7XG4gICAgfVxuICAgIGlzVmFsaWQoaXNXYWxsQ2FsbGJhY2ssIGNhbkJlRHVnQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHN4ID0gdGhpcy5fc3RhcnRYO1xuICAgICAgICBsZXQgc3kgPSB0aGlzLl9zdGFydFk7XG4gICAgICAgIGxldCBkeCA9IHRoaXMuX2VuZFggLSBzeDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy5fZW5kWSAtIHN5O1xuICAgICAgICBsZXQgbGVuZ3RoID0gMSArIE1hdGgubWF4KE1hdGguYWJzKGR4KSwgTWF0aC5hYnMoZHkpKTtcbiAgICAgICAgaWYgKGR4KSB7XG4gICAgICAgICAgICBkeCA9IGR4IC8gTWF0aC5hYnMoZHgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeSkge1xuICAgICAgICAgICAgZHkgPSBkeSAvIE1hdGguYWJzKGR5KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbnggPSBkeTtcbiAgICAgICAgbGV0IG55ID0gLWR4O1xuICAgICAgICBsZXQgb2sgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeCA9IHN4ICsgaSAqIGR4O1xuICAgICAgICAgICAgbGV0IHkgPSBzeSArIGkgKiBkeTtcbiAgICAgICAgICAgIGlmICghY2FuQmVEdWdDYWxsYmFjayh4LCB5KSkge1xuICAgICAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzV2FsbENhbGxiYWNrKHggKyBueCwgeSArIG55KSkge1xuICAgICAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzV2FsbENhbGxiYWNrKHggLSBueCwgeSAtIG55KSkge1xuICAgICAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gaTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRYID0geCAtIGR4O1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuZFkgPSB5IC0gZHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBsZW5ndGggZGVnZW5lcmF0ZWQsIHRoaXMgY29ycmlkb3IgbWlnaHQgYmUgaW52YWxpZFxuICAgICAgICAgKi9cbiAgICAgICAgLyogbm90IHN1cHBvcnRlZCAqL1xuICAgICAgICBpZiAobGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKiBsZW5ndGggMSBhbGxvd2VkIG9ubHkgaWYgdGhlIG5leHQgc3BhY2UgaXMgZW1wdHkgKi9cbiAgICAgICAgaWYgKGxlbmd0aCA9PSAxICYmIGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBkbyBub3Qgd2FudCB0aGUgY29ycmlkb3IgdG8gY3Jhc2ggaW50byBhIGNvcm5lciBvZiBhIHJvb207XG4gICAgICAgICAqIGlmIGFueSBvZiB0aGUgZW5kaW5nIGNvcm5lcnMgaXMgZW1wdHksIHRoZSBOKzF0aCBjZWxsIG9mIHRoaXMgY29ycmlkb3IgbXVzdCBiZSBlbXB0eSB0b28uXG4gICAgICAgICAqXG4gICAgICAgICAqIFNpdHVhdGlvbjpcbiAgICAgICAgICogIyMjIyMjIzFcbiAgICAgICAgICogLi4uLi4uLj9cbiAgICAgICAgICogIyMjIyMjIzJcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNvcnJpZG9yIHdhcyBkdWcgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAgICAgKiAxLCAyIC0gcHJvYmxlbWF0aWMgY29ybmVycywgPyA9IE4rMXRoIGNlbGwgKG5vdCBkdWcpXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgZmlyc3RDb3JuZXJCYWQgPSAhaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4ICsgbngsIHRoaXMuX2VuZFkgKyBkeSArIG55KTtcbiAgICAgICAgbGV0IHNlY29uZENvcm5lckJhZCA9ICFpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHggLSBueCwgdGhpcy5fZW5kWSArIGR5IC0gbnkpO1xuICAgICAgICB0aGlzLl9lbmRzV2l0aEFXYWxsID0gaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpO1xuICAgICAgICBpZiAoKGZpcnN0Q29ybmVyQmFkIHx8IHNlY29uZENvcm5lckJhZCkgJiYgdGhpcy5fZW5kc1dpdGhBV2FsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaWdDYWxsYmFjayBEaWcgY2FsbGJhY2sgd2l0aCBhIHNpZ25hdHVyZSAoeCwgeSwgdmFsdWUpLiBWYWx1ZXM6IDAgPSBlbXB0eS5cbiAgICAgKi9cbiAgICBjcmVhdGUoZGlnQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHN4ID0gdGhpcy5fc3RhcnRYO1xuICAgICAgICBsZXQgc3kgPSB0aGlzLl9zdGFydFk7XG4gICAgICAgIGxldCBkeCA9IHRoaXMuX2VuZFggLSBzeDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy5fZW5kWSAtIHN5O1xuICAgICAgICBsZXQgbGVuZ3RoID0gMSArIE1hdGgubWF4KE1hdGguYWJzKGR4KSwgTWF0aC5hYnMoZHkpKTtcbiAgICAgICAgaWYgKGR4KSB7XG4gICAgICAgICAgICBkeCA9IGR4IC8gTWF0aC5hYnMoZHgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeSkge1xuICAgICAgICAgICAgZHkgPSBkeSAvIE1hdGguYWJzKGR5KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeCA9IHN4ICsgaSAqIGR4O1xuICAgICAgICAgICAgbGV0IHkgPSBzeSArIGkgKiBkeTtcbiAgICAgICAgICAgIGRpZ0NhbGxiYWNrKHgsIHksIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjcmVhdGVQcmlvcml0eVdhbGxzKHByaW9yaXR5V2FsbENhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5fZW5kc1dpdGhBV2FsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzeCA9IHRoaXMuX3N0YXJ0WDtcbiAgICAgICAgbGV0IHN5ID0gdGhpcy5fc3RhcnRZO1xuICAgICAgICBsZXQgZHggPSB0aGlzLl9lbmRYIC0gc3g7XG4gICAgICAgIGxldCBkeSA9IHRoaXMuX2VuZFkgLSBzeTtcbiAgICAgICAgaWYgKGR4KSB7XG4gICAgICAgICAgICBkeCA9IGR4IC8gTWF0aC5hYnMoZHgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeSkge1xuICAgICAgICAgICAgZHkgPSBkeSAvIE1hdGguYWJzKGR5KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbnggPSBkeTtcbiAgICAgICAgbGV0IG55ID0gLWR4O1xuICAgICAgICBwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSk7XG4gICAgICAgIHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBueCwgdGhpcy5fZW5kWSArIG55KTtcbiAgICAgICAgcHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCAtIG54LCB0aGlzLl9lbmRZIC0gbnkpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEdW5nZW9uIGZyb20gXCIuL2R1bmdlb24uanNcIjtcbmltcG9ydCB7IFJvb20sIENvcnJpZG9yIH0gZnJvbSBcIi4vZmVhdHVyZXMuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuO1xuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBnZW5lcmF0b3Igd2hpY2ggdHJpZXMgdG8gZmlsbCB0aGUgc3BhY2UgZXZlbmx5LiBHZW5lcmF0ZXMgaW5kZXBlbmRlbnQgcm9vbXMgYW5kIHRyaWVzIHRvIGNvbm5lY3QgdGhlbS5cbiAqIEBhdWdtZW50cyBST1QuTWFwLkR1bmdlb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5pZm9ybSBleHRlbmRzIER1bmdlb24ge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAgICAgICByb29tV2lkdGg6IFszLCA5XSxcbiAgICAgICAgICAgIHJvb21IZWlnaHQ6IFszLCA1XSxcbiAgICAgICAgICAgIHJvb21EdWdQZXJjZW50YWdlOiAwLjEsXG4gICAgICAgICAgICB0aW1lTGltaXQ6IDEwMDAgLyogd2Ugc3RvcCBhZnRlciB0aGlzIG11Y2ggdGltZSBoYXMgcGFzc2VkIChtc2VjKSAqL1xuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICAgICAgdGhpcy5fZHVnID0gMDtcbiAgICAgICAgdGhpcy5fcm9vbUF0dGVtcHRzID0gMjA7IC8qIG5ldyByb29tIGlzIGNyZWF0ZWQgTi10aW1lcyB1bnRpbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gZ2VuZXJhdGUgKi9cbiAgICAgICAgdGhpcy5fY29ycmlkb3JBdHRlbXB0cyA9IDIwOyAvKiBjb3JyaWRvcnMgYXJlIHRyaWVkIE4tdGltZXMgdW50aWwgdGhlIGxldmVsIGlzIGNvbnNpZGVyZWQgYXMgaW1wb3NzaWJsZSB0byBjb25uZWN0ICovXG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIGFscmVhZHkgY29ubmVjdGVkIHJvb21zICovXG4gICAgICAgIHRoaXMuX3VuY29ubmVjdGVkID0gW107IC8qIGxpc3Qgb2YgcmVtYWluaW5nIHVuY29ubmVjdGVkIHJvb21zICovXG4gICAgICAgIHRoaXMuX2RpZ0NhbGxiYWNrID0gdGhpcy5fZGlnQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY2FuQmVEdWdDYWxsYmFjayA9IHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5faXNXYWxsQ2FsbGJhY2sgPSB0aGlzLl9pc1dhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBtYXAuIElmIHRoZSB0aW1lIGxpbWl0IGhhcyBiZWVuIGhpdCwgcmV0dXJucyBudWxsLlxuICAgICAqIEBzZWUgUk9ULk1hcCNjcmVhdGVcbiAgICAgKi9cbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHQxID0gRGF0ZS5ub3coKTtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIGxldCB0MiA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBpZiAodDIgLSB0MSA+IHRoaXMuX29wdGlvbnMudGltZUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IC8qIHRpbWUgbGltaXQhICovXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICAgICAgdGhpcy5fZHVnID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3Jvb21zID0gW107XG4gICAgICAgICAgICB0aGlzLl91bmNvbm5lY3RlZCA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVSb29tcygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jvb21zLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9nZW5lcmF0ZUNvcnJpZG9ycygpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBzdWl0YWJsZSBhbW91bnQgb2Ygcm9vbXNcbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVSb29tcygpIHtcbiAgICAgICAgbGV0IHcgPSB0aGlzLl93aWR0aCAtIDI7XG4gICAgICAgIGxldCBoID0gdGhpcy5faGVpZ2h0IC0gMjtcbiAgICAgICAgbGV0IHJvb207XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHJvb20gPSB0aGlzLl9nZW5lcmF0ZVJvb20oKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kdWcgLyAodyAqIGgpID4gdGhpcy5fb3B0aW9ucy5yb29tRHVnUGVyY2VudGFnZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSAvKiBhY2hpZXZlZCByZXF1ZXN0ZWQgYW1vdW50IG9mIGZyZWUgc3BhY2UgKi9cbiAgICAgICAgfSB3aGlsZSAocm9vbSk7XG4gICAgICAgIC8qIGVpdGhlciBlbm91Z2ggcm9vbXMsIG9yIG5vdCBhYmxlIHRvIGdlbmVyYXRlIG1vcmUgb2YgdGhlbSA6KSAqL1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcnkgdG8gZ2VuZXJhdGUgb25lIHJvb21cbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVSb29tKCkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICB3aGlsZSAoY291bnQgPCB0aGlzLl9yb29tQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICBsZXQgcm9vbSA9IFJvb20uY3JlYXRlUmFuZG9tKHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQsIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFyb29tLmlzVmFsaWQodGhpcy5faXNXYWxsQ2FsbGJhY2ssIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLl9yb29tcy5wdXNoKHJvb20pO1xuICAgICAgICAgICAgcmV0dXJuIHJvb207XG4gICAgICAgIH1cbiAgICAgICAgLyogbm8gcm9vbSB3YXMgZ2VuZXJhdGVkIGluIGEgZ2l2ZW4gbnVtYmVyIG9mIGF0dGVtcHRzICovXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgY29ubmVjdG9ycyBiZXdlZW4gcm9vbXNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2VzcyBXYXMgdGhpcyBhdHRlbXB0IHN1Y2Nlc3NmdWxsP1xuICAgICAqL1xuICAgIF9nZW5lcmF0ZUNvcnJpZG9ycygpIHtcbiAgICAgICAgbGV0IGNudCA9IDA7XG4gICAgICAgIHdoaWxlIChjbnQgPCB0aGlzLl9jb3JyaWRvckF0dGVtcHRzKSB7XG4gICAgICAgICAgICBjbnQrKztcbiAgICAgICAgICAgIHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuICAgICAgICAgICAgLyogZGlnIHJvb21zIGludG8gYSBjbGVhciBtYXAgKi9cbiAgICAgICAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Jvb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJvb20gPSB0aGlzLl9yb29tc1tpXTtcbiAgICAgICAgICAgICAgICByb29tLmNsZWFyRG9vcnMoKTtcbiAgICAgICAgICAgICAgICByb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91bmNvbm5lY3RlZCA9IFJORy5zaHVmZmxlKHRoaXMuX3Jvb21zLnNsaWNlKCkpO1xuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkID0gW107XG4gICAgICAgICAgICBpZiAodGhpcy5fdW5jb25uZWN0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkLnB1c2godGhpcy5fdW5jb25uZWN0ZWQucG9wKCkpO1xuICAgICAgICAgICAgfSAvKiBmaXJzdCBvbmUgaXMgYWx3YXlzIGNvbm5lY3RlZCAqL1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAvKiAxLiBwaWNrIHJhbmRvbSBjb25uZWN0ZWQgcm9vbSAqL1xuICAgICAgICAgICAgICAgIGxldCBjb25uZWN0ZWQgPSBSTkcuZ2V0SXRlbSh0aGlzLl9jb25uZWN0ZWQpO1xuICAgICAgICAgICAgICAgIGlmICghY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiAyLiBmaW5kIGNsb3Nlc3QgdW5jb25uZWN0ZWQgKi9cbiAgICAgICAgICAgICAgICBsZXQgcm9vbTEgPSB0aGlzLl9jbG9zZXN0Um9vbSh0aGlzLl91bmNvbm5lY3RlZCwgY29ubmVjdGVkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJvb20xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiAzLiBjb25uZWN0IGl0IHRvIGNsb3Nlc3QgY29ubmVjdGVkICovXG4gICAgICAgICAgICAgICAgbGV0IHJvb20yID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fY29ubmVjdGVkLCByb29tMSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyb29tMikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG9rID0gdGhpcy5fY29ubmVjdFJvb21zKHJvb20xLCByb29tMik7XG4gICAgICAgICAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IC8qIHN0b3AgY29ubmVjdGluZywgcmUtc2h1ZmZsZSAqL1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fdW5jb25uZWN0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gLyogZG9uZTsgbm8gcm9vbXMgcmVtYWluICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogRm9yIGEgZ2l2ZW4gcm9vbSwgZmluZCB0aGUgY2xvc2VzdCBvbmUgZnJvbSB0aGUgbGlzdFxuICAgICAqL1xuICAgIF9jbG9zZXN0Um9vbShyb29tcywgcm9vbSkge1xuICAgICAgICBsZXQgZGlzdCA9IEluZmluaXR5O1xuICAgICAgICBsZXQgY2VudGVyID0gcm9vbS5nZXRDZW50ZXIoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm9vbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByID0gcm9vbXNbaV07XG4gICAgICAgICAgICBsZXQgYyA9IHIuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICBsZXQgZHggPSBjWzBdIC0gY2VudGVyWzBdO1xuICAgICAgICAgICAgbGV0IGR5ID0gY1sxXSAtIGNlbnRlclsxXTtcbiAgICAgICAgICAgIGxldCBkID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICAgICAgICBpZiAoZCA8IGRpc3QpIHtcbiAgICAgICAgICAgICAgICBkaXN0ID0gZDtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9jb25uZWN0Um9vbXMocm9vbTEsIHJvb20yKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgICByb29tMS5kZWJ1ZygpO1xuICAgICAgICAgICAgcm9vbTIuZGVidWcoKTtcbiAgICAgICAgKi9cbiAgICAgICAgbGV0IGNlbnRlcjEgPSByb29tMS5nZXRDZW50ZXIoKTtcbiAgICAgICAgbGV0IGNlbnRlcjIgPSByb29tMi5nZXRDZW50ZXIoKTtcbiAgICAgICAgbGV0IGRpZmZYID0gY2VudGVyMlswXSAtIGNlbnRlcjFbMF07XG4gICAgICAgIGxldCBkaWZmWSA9IGNlbnRlcjJbMV0gLSBjZW50ZXIxWzFdO1xuICAgICAgICBsZXQgc3RhcnQ7XG4gICAgICAgIGxldCBlbmQ7XG4gICAgICAgIGxldCBkaXJJbmRleDEsIGRpckluZGV4MiwgbWluLCBtYXgsIGluZGV4O1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlmZlgpIDwgTWF0aC5hYnMoZGlmZlkpKSB7IC8qIGZpcnN0IHRyeSBjb25uZWN0aW5nIG5vcnRoLXNvdXRoIHdhbGxzICovXG4gICAgICAgICAgICBkaXJJbmRleDEgPSAoZGlmZlkgPiAwID8gMiA6IDApO1xuICAgICAgICAgICAgZGlySW5kZXgyID0gKGRpckluZGV4MSArIDIpICUgNDtcbiAgICAgICAgICAgIG1pbiA9IHJvb20yLmdldExlZnQoKTtcbiAgICAgICAgICAgIG1heCA9IHJvb20yLmdldFJpZ2h0KCk7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8qIGZpcnN0IHRyeSBjb25uZWN0aW5nIGVhc3Qtd2VzdCB3YWxscyAqL1xuICAgICAgICAgICAgZGlySW5kZXgxID0gKGRpZmZYID4gMCA/IDEgOiAzKTtcbiAgICAgICAgICAgIGRpckluZGV4MiA9IChkaXJJbmRleDEgKyAyKSAlIDQ7XG4gICAgICAgICAgICBtaW4gPSByb29tMi5nZXRUb3AoKTtcbiAgICAgICAgICAgIG1heCA9IHJvb20yLmdldEJvdHRvbSgpO1xuICAgICAgICAgICAgaW5kZXggPSAxO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0ID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTEsIGRpckluZGV4MSk7IC8qIGNvcnJpZG9yIHdpbGwgc3RhcnQgaGVyZSAqL1xuICAgICAgICBpZiAoIXN0YXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0W2luZGV4XSA+PSBtaW4gJiYgc3RhcnRbaW5kZXhdIDw9IG1heCkgeyAvKiBwb3NzaWJsZSB0byBjb25uZWN0IHdpdGggc3RyYWlnaHQgbGluZSAoSS1saWtlKSAqL1xuICAgICAgICAgICAgZW5kID0gc3RhcnQuc2xpY2UoKTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgICAgICAgICBzd2l0Y2ggKGRpckluZGV4Mikge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRUb3AoKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRSaWdodCgpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHJvb20yLmdldEJvdHRvbSgpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHJvb20yLmdldExlZnQoKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kWyhpbmRleCArIDEpICUgMl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydFtpbmRleF0gPCBtaW4gLSAxIHx8IHN0YXJ0W2luZGV4XSA+IG1heCArIDEpIHsgLyogbmVlZCB0byBzd2l0Y2ggdGFyZ2V0IHdhbGwgKEwtbGlrZSkgKi9cbiAgICAgICAgICAgIGxldCBkaWZmID0gc3RhcnRbaW5kZXhdIC0gY2VudGVyMltpbmRleF07XG4gICAgICAgICAgICBsZXQgcm90YXRpb24gPSAwO1xuICAgICAgICAgICAgc3dpdGNoIChkaXJJbmRleDIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbiA9IChkaWZmIDwgMCA/IDMgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAxIDogMyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlySW5kZXgyID0gKGRpckluZGV4MiArIHJvdGF0aW9uKSAlIDQ7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLl9wbGFjZUluV2FsbChyb29tMiwgZGlySW5kZXgyKTtcbiAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1pZCA9IFswLCAwXTtcbiAgICAgICAgICAgIG1pZFtpbmRleF0gPSBzdGFydFtpbmRleF07XG4gICAgICAgICAgICBsZXQgaW5kZXgyID0gKGluZGV4ICsgMSkgJSAyO1xuICAgICAgICAgICAgbWlkW2luZGV4Ml0gPSBlbmRbaW5kZXgyXTtcbiAgICAgICAgICAgIHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQsIGVuZF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvKiB1c2UgY3VycmVudCB3YWxsIHBhaXIsIGJ1dCBhZGp1c3QgdGhlIGxpbmUgaW4gdGhlIG1pZGRsZSAoUy1saWtlKSAqL1xuICAgICAgICAgICAgbGV0IGluZGV4MiA9IChpbmRleCArIDEpICUgMjtcbiAgICAgICAgICAgIGVuZCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20yLCBkaXJJbmRleDIpO1xuICAgICAgICAgICAgaWYgKCFlbmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWlkID0gTWF0aC5yb3VuZCgoZW5kW2luZGV4Ml0gKyBzdGFydFtpbmRleDJdKSAvIDIpO1xuICAgICAgICAgICAgbGV0IG1pZDEgPSBbMCwgMF07XG4gICAgICAgICAgICBsZXQgbWlkMiA9IFswLCAwXTtcbiAgICAgICAgICAgIG1pZDFbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuICAgICAgICAgICAgbWlkMVtpbmRleDJdID0gbWlkO1xuICAgICAgICAgICAgbWlkMltpbmRleF0gPSBlbmRbaW5kZXhdO1xuICAgICAgICAgICAgbWlkMltpbmRleDJdID0gbWlkO1xuICAgICAgICAgICAgdGhpcy5fZGlnTGluZShbc3RhcnQsIG1pZDEsIG1pZDIsIGVuZF0pO1xuICAgICAgICB9XG4gICAgICAgIHJvb20xLmFkZERvb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdKTtcbiAgICAgICAgcm9vbTIuYWRkRG9vcihlbmRbMF0sIGVuZFsxXSk7XG4gICAgICAgIGluZGV4ID0gdGhpcy5fdW5jb25uZWN0ZWQuaW5kZXhPZihyb29tMSk7XG4gICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fdW5jb25uZWN0ZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHJvb20xKTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTIpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0ZWQucHVzaChyb29tMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9wbGFjZUluV2FsbChyb29tLCBkaXJJbmRleCkge1xuICAgICAgICBsZXQgc3RhcnQgPSBbMCwgMF07XG4gICAgICAgIGxldCBkaXIgPSBbMCwgMF07XG4gICAgICAgIGxldCBsZW5ndGggPSAwO1xuICAgICAgICBzd2l0Y2ggKGRpckluZGV4KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGlyID0gWzEsIDBdO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLCByb29tLmdldFRvcCgpIC0gMV07XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcm9vbS5nZXRSaWdodCgpIC0gcm9vbS5nZXRMZWZ0KCkgKyAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGRpciA9IFswLCAxXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldFJpZ2h0KCkgKyAxLCByb29tLmdldFRvcCgpXTtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSByb29tLmdldEJvdHRvbSgpIC0gcm9vbS5nZXRUb3AoKSArIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGlyID0gWzEsIDBdO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLCByb29tLmdldEJvdHRvbSgpICsgMV07XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcm9vbS5nZXRSaWdodCgpIC0gcm9vbS5nZXRMZWZ0KCkgKyAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGRpciA9IFswLCAxXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldExlZnQoKSAtIDEsIHJvb20uZ2V0VG9wKCldO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJvb20uZ2V0Qm90dG9tKCkgLSByb29tLmdldFRvcCgpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXZhaWwgPSBbXTtcbiAgICAgICAgbGV0IGxhc3RCYWRJbmRleCA9IC0yO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeCA9IHN0YXJ0WzBdICsgaSAqIGRpclswXTtcbiAgICAgICAgICAgIGxldCB5ID0gc3RhcnRbMV0gKyBpICogZGlyWzFdO1xuICAgICAgICAgICAgYXZhaWwucHVzaChudWxsKTtcbiAgICAgICAgICAgIGxldCBpc1dhbGwgPSAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgICAgICAgICAgaWYgKGlzV2FsbCkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QmFkSW5kZXggIT0gaSAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxbaV0gPSBbeCwgeV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFzdEJhZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBhdmFpbFtpIC0gMV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gYXZhaWwubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICghYXZhaWxbaV0pIHtcbiAgICAgICAgICAgICAgICBhdmFpbC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChhdmFpbC5sZW5ndGggPyBSTkcuZ2V0SXRlbShhdmFpbCkgOiBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlnIGEgcG9seWxpbmUuXG4gICAgICovXG4gICAgX2RpZ0xpbmUocG9pbnRzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBwb2ludHNbaSAtIDFdO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGxldCBjb3JyaWRvciA9IG5ldyBDb3JyaWRvcihzdGFydFswXSwgc3RhcnRbMV0sIGVuZFswXSwgZW5kWzFdKTtcbiAgICAgICAgICAgIGNvcnJpZG9yLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLl9jb3JyaWRvcnMucHVzaChjb3JyaWRvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2RpZ0NhbGxiYWNrKHgsIHksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZHVnKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2lzV2FsbENhbGxiYWNrKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA+PSB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbiAgICB9XG4gICAgX2NhbkJlRHVnQ2FsbGJhY2soeCwgeSkge1xuICAgICAgICBpZiAoeCA8IDEgfHwgeSA8IDEgfHwgeCArIDEgPj0gdGhpcy5fd2lkdGggfHwgeSArIDEgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IER1bmdlb24gZnJvbSBcIi4vZHVuZ2Vvbi5qc1wiO1xuaW1wb3J0IHsgUm9vbSwgQ29ycmlkb3IgfSBmcm9tIFwiLi9mZWF0dXJlcy5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG5pbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuY29uc3QgRkVBVFVSRVMgPSB7XG4gICAgXCJyb29tXCI6IFJvb20sXG4gICAgXCJjb3JyaWRvclwiOiBDb3JyaWRvclxufTtcbi8qKlxuICogUmFuZG9tIGR1bmdlb24gZ2VuZXJhdG9yIHVzaW5nIGh1bWFuLWxpa2UgZGlnZ2luZyBwYXR0ZXJucy5cbiAqIEhlYXZpbHkgYmFzZWQgb24gTWlrZSBBbmRlcnNvbidzIGlkZWFzIGZyb20gdGhlIFwiVHlyYW50XCIgYWxnbywgbWVudGlvbmVkIGF0XG4gKiBodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1EdW5nZW9uLUJ1aWxkaW5nX0FsZ29yaXRobS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlnZ2VyIGV4dGVuZHMgRHVuZ2VvbiB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICByb29tV2lkdGg6IFszLCA5XSxcbiAgICAgICAgICAgIHJvb21IZWlnaHQ6IFszLCA1XSxcbiAgICAgICAgICAgIGNvcnJpZG9yTGVuZ3RoOiBbMywgMTBdLFxuICAgICAgICAgICAgZHVnUGVyY2VudGFnZTogMC4yLFxuICAgICAgICAgICAgdGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmVzID0ge1xuICAgICAgICAgICAgXCJyb29tXCI6IDQsXG4gICAgICAgICAgICBcImNvcnJpZG9yXCI6IDRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHRoaXMuX2ZlYXR1cmVBdHRlbXB0cyA9IDIwOyAvKiBob3cgbWFueSB0aW1lcyBkbyB3ZSB0cnkgdG8gY3JlYXRlIGEgZmVhdHVyZSBvbiBhIHN1aXRhYmxlIHdhbGwgKi9cbiAgICAgICAgdGhpcy5fd2FsbHMgPSB7fTsgLyogdGhlc2UgYXJlIGF2YWlsYWJsZSBmb3IgZGlnZ2luZyAqL1xuICAgICAgICB0aGlzLl9kdWcgPSAwO1xuICAgICAgICB0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2sgPSB0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fcm9vbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29ycmlkb3JzID0gW107XG4gICAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG4gICAgICAgIHRoaXMuX3dhbGxzID0ge307XG4gICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgIGxldCBhcmVhID0gKHRoaXMuX3dpZHRoIC0gMikgKiAodGhpcy5faGVpZ2h0IC0gMik7XG4gICAgICAgIHRoaXMuX2ZpcnN0Um9vbSgpO1xuICAgICAgICBsZXQgdDEgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgcHJpb3JpdHlXYWxscztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcHJpb3JpdHlXYWxscyA9IDA7XG4gICAgICAgICAgICBsZXQgdDIgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogZmluZCBhIGdvb2Qgd2FsbCAqL1xuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLl9maW5kV2FsbCgpO1xuICAgICAgICAgICAgaWYgKCF3YWxsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IC8qIG5vIG1vcmUgd2FsbHMgKi9cbiAgICAgICAgICAgIGxldCBwYXJ0cyA9IHdhbGwuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgbGV0IHggPSBwYXJzZUludChwYXJ0c1swXSk7XG4gICAgICAgICAgICBsZXQgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcbiAgICAgICAgICAgIGxldCBkaXIgPSB0aGlzLl9nZXREaWdnaW5nRGlyZWN0aW9uKHgsIHkpO1xuICAgICAgICAgICAgaWYgKCFkaXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gLyogdGhpcyB3YWxsIGlzIG5vdCBzdWl0YWJsZSAqL1xuICAgICAgICAgICAgLy9cdFx0Y29uc29sZS5sb2coXCJ3YWxsXCIsIHgsIHkpO1xuICAgICAgICAgICAgLyogdHJ5IGFkZGluZyBhIGZlYXR1cmUgKi9cbiAgICAgICAgICAgIGxldCBmZWF0dXJlQXR0ZW1wdHMgPSAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVBdHRlbXB0cysrO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90cnlGZWF0dXJlKHgsIHksIGRpclswXSwgZGlyWzFdKSkgeyAvKiBmZWF0dXJlIGFkZGVkICovXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuX3Jvb21zLmxlbmd0aCArIHRoaXMuX2NvcnJpZG9ycy5sZW5ndGggPT0gMikgeyB0aGlzLl9yb29tc1swXS5hZGREb29yKHgsIHkpOyB9IC8qIGZpcnN0IHJvb20gb2ZpY2lhbGx5IGhhcyBkb29ycyAqL1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKHggLSBkaXJbMF0sIHkgLSBkaXJbMV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChmZWF0dXJlQXR0ZW1wdHMgPCB0aGlzLl9mZWF0dXJlQXR0ZW1wdHMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5fd2FsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fd2FsbHNbaWRdID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eVdhbGxzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0aGlzLl9kdWcgLyBhcmVhIDwgdGhpcy5fb3B0aW9ucy5kdWdQZXJjZW50YWdlIHx8IHByaW9yaXR5V2FsbHMpOyAvKiBmaXhtZSBudW1iZXIgb2YgcHJpb3JpdHkgd2FsbHMgKi9cbiAgICAgICAgdGhpcy5fYWRkRG9vcnMoKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhbGxzID0ge307XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2RpZ0NhbGxiYWNrKHgsIHksIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSAwIHx8IHZhbHVlID09IDIpIHsgLyogZW1wdHkgKi9cbiAgICAgICAgICAgIHRoaXMuX21hcFt4XVt5XSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9kdWcrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLyogd2FsbCAqL1xuICAgICAgICAgICAgdGhpcy5fd2FsbHNbeCArIFwiLFwiICsgeV0gPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc1dhbGxDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG4gICAgfVxuICAgIF9jYW5CZUR1Z0NhbGxiYWNrKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPCAxIHx8IHkgPCAxIHx8IHggKyAxID49IHRoaXMuX3dpZHRoIHx8IHkgKyAxID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgIH1cbiAgICBfcHJpb3JpdHlXYWxsQ2FsbGJhY2soeCwgeSkgeyB0aGlzLl93YWxsc1t4ICsgXCIsXCIgKyB5XSA9IDI7IH1cbiAgICA7XG4gICAgX2ZpcnN0Um9vbSgpIHtcbiAgICAgICAgbGV0IGN4ID0gTWF0aC5mbG9vcih0aGlzLl93aWR0aCAvIDIpO1xuICAgICAgICBsZXQgY3kgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodCAvIDIpO1xuICAgICAgICBsZXQgcm9vbSA9IFJvb20uY3JlYXRlUmFuZG9tQ2VudGVyKGN4LCBjeSwgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3Jvb21zLnB1c2gocm9vbSk7XG4gICAgICAgIHJvb20uY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3VpdGFibGUgd2FsbFxuICAgICAqL1xuICAgIF9maW5kV2FsbCgpIHtcbiAgICAgICAgbGV0IHByaW8xID0gW107XG4gICAgICAgIGxldCBwcmlvMiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiB0aGlzLl93YWxscykge1xuICAgICAgICAgICAgbGV0IHByaW8gPSB0aGlzLl93YWxsc1tpZF07XG4gICAgICAgICAgICBpZiAocHJpbyA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcHJpbzIucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmlvMS5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYXJyID0gKHByaW8yLmxlbmd0aCA/IHByaW8yIDogcHJpbzEpO1xuICAgICAgICBpZiAoIWFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IC8qIG5vIHdhbGxzIDovICovXG4gICAgICAgIGxldCBpZCA9IFJORy5nZXRJdGVtKGFyci5zb3J0KCkpOyAvLyBzb3J0IHRvIG1ha2UgdGhlIG9yZGVyIGRldGVybWluaXN0aWNcbiAgICAgICAgZGVsZXRlIHRoaXMuX3dhbGxzW2lkXTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmllcyBhZGRpbmcgYSBmZWF0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2x9IHdhcyB0aGlzIGEgc3VjY2Vzc2Z1bCB0cnk/XG4gICAgICovXG4gICAgX3RyeUZlYXR1cmUoeCwgeSwgZHgsIGR5KSB7XG4gICAgICAgIGxldCBmZWF0dXJlTmFtZSA9IFJORy5nZXRXZWlnaHRlZFZhbHVlKHRoaXMuX2ZlYXR1cmVzKTtcbiAgICAgICAgbGV0IGN0b3IgPSBGRUFUVVJFU1tmZWF0dXJlTmFtZV07XG4gICAgICAgIGxldCBmZWF0dXJlID0gY3Rvci5jcmVhdGVSYW5kb21BdCh4LCB5LCBkeCwgZHksIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICBpZiAoIWZlYXR1cmUuaXNWYWxpZCh0aGlzLl9pc1dhbGxDYWxsYmFjaywgdGhpcy5fY2FuQmVEdWdDYWxsYmFjaykpIHtcbiAgICAgICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwibm90IHZhbGlkXCIpO1xuICAgICAgICAgICAgLy9cdFx0ZmVhdHVyZS5kZWJ1ZygpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZlYXR1cmUuY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcbiAgICAgICAgLy9cdGZlYXR1cmUuZGVidWcoKTtcbiAgICAgICAgaWYgKGZlYXR1cmUgaW5zdGFuY2VvZiBSb29tKSB7XG4gICAgICAgICAgICB0aGlzLl9yb29tcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmZWF0dXJlIGluc3RhbmNlb2YgQ29ycmlkb3IpIHtcbiAgICAgICAgICAgIGZlYXR1cmUuY3JlYXRlUHJpb3JpdHlXYWxscyh0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLl9jb3JyaWRvcnMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoY3gsIGN5KSB7XG4gICAgICAgIGxldCBkZWx0YXMgPSBESVJTWzRdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbHRhcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gZGVsdGFzW2ldO1xuICAgICAgICAgICAgbGV0IHggPSBjeCArIGRlbHRhWzBdO1xuICAgICAgICAgICAgbGV0IHkgPSBjeSArIGRlbHRhWzFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3dhbGxzW3ggKyBcIixcIiArIHldO1xuICAgICAgICAgICAgeCA9IGN4ICsgMiAqIGRlbHRhWzBdO1xuICAgICAgICAgICAgeSA9IGN5ICsgMiAqIGRlbHRhWzFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3dhbGxzW3ggKyBcIixcIiArIHldO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdmVjdG9yIGluIFwiZGlnZ2luZ1wiIGRpcmVjdGlvbiwgb3IgZmFsc2UsIGlmIHRoaXMgZG9lcyBub3QgZXhpc3QgKG9yIGlzIG5vdCB1bmlxdWUpXG4gICAgICovXG4gICAgX2dldERpZ2dpbmdEaXJlY3Rpb24oY3gsIGN5KSB7XG4gICAgICAgIGlmIChjeCA8PSAwIHx8IGN5IDw9IDAgfHwgY3ggPj0gdGhpcy5fd2lkdGggLSAxIHx8IGN5ID49IHRoaXMuX2hlaWdodCAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgICAgICBsZXQgZGVsdGFzID0gRElSU1s0XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGxldCB4ID0gY3ggKyBkZWx0YVswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkZWx0YVsxXTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbWFwW3hdW3ldKSB7IC8qIHRoZXJlIGFscmVhZHkgaXMgYW5vdGhlciBlbXB0eSBuZWlnaGJvciEgKi9cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBubyBlbXB0eSBuZWlnaGJvciAqL1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFstcmVzdWx0WzBdLCAtcmVzdWx0WzFdXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBlbXB0eSBzcGFjZXMgc3Vycm91bmRpbmcgcm9vbXMsIGFuZCBhcHBseSBkb29ycy5cbiAgICAgKi9cbiAgICBfYWRkRG9vcnMoKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fbWFwO1xuICAgICAgICBmdW5jdGlvbiBpc1dhbGxDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgICAgICByZXR1cm4gKGRhdGFbeF1beV0gPT0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Jvb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcm9vbSA9IHRoaXMuX3Jvb21zW2ldO1xuICAgICAgICAgICAgcm9vbS5jbGVhckRvb3JzKCk7XG4gICAgICAgICAgICByb29tLmFkZERvb3JzKGlzV2FsbENhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbi8qKlxuICogSm9pbiBsaXN0cyB3aXRoIFwiaVwiIGFuZCBcImkrMVwiXG4gKi9cbmZ1bmN0aW9uIGFkZFRvTGlzdChpLCBMLCBSKSB7XG4gICAgUltMW2kgKyAxXV0gPSBSW2ldO1xuICAgIExbUltpXV0gPSBMW2kgKyAxXTtcbiAgICBSW2ldID0gaSArIDE7XG4gICAgTFtpICsgMV0gPSBpO1xufVxuLyoqXG4gKiBSZW1vdmUgXCJpXCIgZnJvbSBpdHMgbGlzdFxuICovXG5mdW5jdGlvbiByZW1vdmVGcm9tTGlzdChpLCBMLCBSKSB7XG4gICAgUltMW2ldXSA9IFJbaV07XG4gICAgTFtSW2ldXSA9IExbaV07XG4gICAgUltpXSA9IGk7XG4gICAgTFtpXSA9IGk7XG59XG4vKipcbiAqIE1hemUgZ2VuZXJhdG9yIC0gRWxsZXIncyBhbGdvcml0aG1cbiAqIFNlZSBodHRwOi8vaG9tZXBhZ2VzLmN3aS5ubC9+dHJvbXAvbWF6ZS5odG1sIGZvciBleHBsYW5hdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbGxlck1hemUgZXh0ZW5kcyBNYXAge1xuICAgIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgbGV0IHcgPSBNYXRoLmNlaWwoKHRoaXMuX3dpZHRoIC0gMikgLyAyKTtcbiAgICAgICAgbGV0IHJhbmQgPSA5IC8gMjQ7XG4gICAgICAgIGxldCBMID0gW107XG4gICAgICAgIGxldCBSID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSsrKSB7XG4gICAgICAgICAgICBMLnB1c2goaSk7XG4gICAgICAgICAgICBSLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgTC5wdXNoKHcgLSAxKTsgLyogZmFrZSBzdG9wLWJsb2NrIGF0IHRoZSByaWdodCBzaWRlICovXG4gICAgICAgIGxldCBqO1xuICAgICAgICBmb3IgKGogPSAxOyBqICsgMyA8IHRoaXMuX2hlaWdodDsgaiArPSAyKSB7XG4gICAgICAgICAgICAvKiBvbmUgcm93ICovXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgICAgIC8qIGNlbGwgY29vcmRzICh3aWxsIGJlIGFsd2F5cyBlbXB0eSkgKi9cbiAgICAgICAgICAgICAgICBsZXQgeCA9IDIgKiBpICsgMTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IGo7XG4gICAgICAgICAgICAgICAgbWFwW3hdW3ldID0gMDtcbiAgICAgICAgICAgICAgICAvKiByaWdodCBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gTFtpICsgMV0gJiYgUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9MaXN0KGksIEwsIFIpO1xuICAgICAgICAgICAgICAgICAgICBtYXBbeCArIDFdW3ldID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogYm90dG9tIGNvbm5lY3Rpb24gKi9cbiAgICAgICAgICAgICAgICBpZiAoaSAhPSBMW2ldICYmIFJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHJlbW92ZSBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21MaXN0KGksIEwsIFIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogY3JlYXRlIGNvbm5lY3Rpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgbWFwW3hdW3kgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIGxhc3Qgcm93ICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSsrKSB7XG4gICAgICAgICAgICAvKiBjZWxsIGNvb3JkcyAod2lsbCBiZSBhbHdheXMgZW1wdHkpICovXG4gICAgICAgICAgICBsZXQgeCA9IDIgKiBpICsgMTtcbiAgICAgICAgICAgIGxldCB5ID0gajtcbiAgICAgICAgICAgIG1hcFt4XVt5XSA9IDA7XG4gICAgICAgICAgICAvKiByaWdodCBjb25uZWN0aW9uICovXG4gICAgICAgICAgICBpZiAoaSAhPSBMW2kgKyAxXSAmJiAoaSA9PSBMW2ldIHx8IFJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSkge1xuICAgICAgICAgICAgICAgIC8qIGRpZyByaWdodCBhbHNvIGlmIHRoZSBjZWxsIGlzIHNlcGFyYXRlZCwgc28gaXQgZ2V0cyBjb25uZWN0ZWQgdG8gdGhlIHJlc3Qgb2YgbWF6ZSAqL1xuICAgICAgICAgICAgICAgIGFkZFRvTGlzdChpLCBMLCBSKTtcbiAgICAgICAgICAgICAgICBtYXBbeCArIDFdW3ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZUZyb21MaXN0KGksIEwsIFIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIG1hcFtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IEFyZW5hIGZyb20gXCIuL2FyZW5hLmpzXCI7XG5pbXBvcnQgVW5pZm9ybSBmcm9tIFwiLi91bmlmb3JtLmpzXCI7XG5pbXBvcnQgQ2VsbHVsYXIgZnJvbSBcIi4vY2VsbHVsYXIuanNcIjtcbmltcG9ydCBEaWdnZXIgZnJvbSBcIi4vZGlnZ2VyLmpzXCI7XG5pbXBvcnQgRWxsZXJNYXplIGZyb20gXCIuL2VsbGVybWF6ZS5qc1wiO1xuaW1wb3J0IERpdmlkZWRNYXplIGZyb20gXCIuL2RpdmlkZWRtYXplLmpzXCI7XG5pbXBvcnQgSWNleU1hemUgZnJvbSBcIi4vaWNleW1hemUuanNcIjtcbmltcG9ydCBSb2d1ZSBmcm9tIFwiLi9yb2d1ZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgeyBBcmVuYSwgVW5pZm9ybSwgQ2VsbHVsYXIsIERpZ2dlciwgRWxsZXJNYXplLCBEaXZpZGVkTWF6ZSwgSWNleU1hemUsIFJvZ3VlIH07XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IHsgRElSUyB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuO1xuLyoqXG4gKiBAY2xhc3MgQ2VsbHVsYXIgYXV0b21hdG9uIG1hcCBnZW5lcmF0b3JcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKiBAcGFyYW0ge2ludH0gW3dpZHRoPVJPVC5ERUZBVUxUX1dJRFRIXVxuICogQHBhcmFtIHtpbnR9IFtoZWlnaHQ9Uk9ULkRFRkFVTFRfSEVJR0hUXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zXG4gKiBAcGFyYW0ge2ludFtdfSBbb3B0aW9ucy5ib3JuXSBMaXN0IG9mIG5laWdoYm9yIGNvdW50cyBmb3IgYSBuZXcgY2VsbCB0byBiZSBib3JuIGluIGVtcHR5IHNwYWNlXG4gKiBAcGFyYW0ge2ludFtdfSBbb3B0aW9ucy5zdXJ2aXZlXSBMaXN0IG9mIG5laWdoYm9yIGNvdW50cyBmb3IgYW4gZXhpc3RpbmcgIGNlbGwgdG8gc3Vydml2ZVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5XSBUb3BvbG9neSA0IG9yIDYgb3IgOFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDZWxsdWxhciBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgICAgICAgYm9ybjogWzUsIDYsIDcsIDhdLFxuICAgICAgICAgICAgc3Vydml2ZTogWzQsIDUsIDYsIDcsIDhdLFxuICAgICAgICAgICAgdG9wb2xvZ3k6IDhcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9kaXJzID0gRElSU1t0aGlzLl9vcHRpb25zLnRvcG9sb2d5XTtcbiAgICAgICAgdGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlsbCB0aGUgbWFwIHdpdGggcmFuZG9tIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7ZmxvYXR9IHByb2JhYmlsaXR5IFByb2JhYmlsaXR5IGZvciBhIGNlbGwgdG8gYmVjb21lIGFsaXZlOyAwID0gYWxsIGVtcHR5LCAxID0gYWxsIGZ1bGxcbiAgICAgKi9cbiAgICByYW5kb21pemUocHJvYmFiaWxpdHkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwW2ldW2pdID0gKFJORy5nZXRVbmlmb3JtKCkgPCBwcm9iYWJpbGl0eSA/IDEgOiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIG9wdGlvbnMuXG4gICAgICogQHNlZSBST1QuTWFwLkNlbGx1bGFyXG4gICAgICovXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7IE9iamVjdC5hc3NpZ24odGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7IH1cbiAgICBzZXQoeCwgeSwgdmFsdWUpIHsgdGhpcy5fbWFwW3hdW3ldID0gdmFsdWU7IH1cbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG5ld01hcCA9IHRoaXMuX2ZpbGxNYXAoMCk7XG4gICAgICAgIGxldCBib3JuID0gdGhpcy5fb3B0aW9ucy5ib3JuO1xuICAgICAgICBsZXQgc3Vydml2ZSA9IHRoaXMuX29wdGlvbnMuc3Vydml2ZTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgbGV0IHdpZHRoU3RlcCA9IDE7XG4gICAgICAgICAgICBsZXQgd2lkdGhTdGFydCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7XG4gICAgICAgICAgICAgICAgd2lkdGhTdGVwID0gMjtcbiAgICAgICAgICAgICAgICB3aWR0aFN0YXJ0ID0gaiAlIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gd2lkdGhTdGFydDsgaSA8IHRoaXMuX3dpZHRoOyBpICs9IHdpZHRoU3RlcCkge1xuICAgICAgICAgICAgICAgIGxldCBjdXIgPSB0aGlzLl9tYXBbaV1bal07XG4gICAgICAgICAgICAgICAgbGV0IG5jb3VudCA9IHRoaXMuX2dldE5laWdoYm9ycyhpLCBqKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyICYmIHN1cnZpdmUuaW5kZXhPZihuY291bnQpICE9IC0xKSB7IC8qIHN1cnZpdmUgKi9cbiAgICAgICAgICAgICAgICAgICAgbmV3TWFwW2ldW2pdID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWN1ciAmJiBib3JuLmluZGV4T2YobmNvdW50KSAhPSAtMSkgeyAvKiBib3JuICovXG4gICAgICAgICAgICAgICAgICAgIG5ld01hcFtpXVtqXSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgICAgY2FsbGJhY2sgJiYgdGhpcy5fc2VydmljZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgX3NlcnZpY2VDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgd2lkdGhTdGVwID0gMTtcbiAgICAgICAgICAgIGxldCB3aWR0aFN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHtcbiAgICAgICAgICAgICAgICB3aWR0aFN0ZXAgPSAyO1xuICAgICAgICAgICAgICAgIHdpZHRoU3RhcnQgPSBqICUgMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB3aWR0aFN0YXJ0OyBpIDwgdGhpcy5fd2lkdGg7IGkgKz0gd2lkdGhTdGVwKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgbmVpZ2hib3IgY291bnQgYXQgW2ksal0gaW4gdGhpcy5fbWFwXG4gICAgICovXG4gICAgX2dldE5laWdoYm9ycyhjeCwgY3kpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGRpciA9IHRoaXMuX2RpcnNbaV07XG4gICAgICAgICAgICBsZXQgeCA9IGN4ICsgZGlyWzBdO1xuICAgICAgICAgICAgbGV0IHkgPSBjeSArIGRpclsxXTtcbiAgICAgICAgICAgIGlmICh4IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPCAwIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgKz0gKHRoaXMuX21hcFt4XVt5XSA9PSAxID8gMSA6IDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2Ugc3VyZSBldmVyeSBub24td2FsbCBzcGFjZSBpcyBhY2Nlc3NpYmxlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIHRvIGNhbGwgdG8gZGlzcGxheSBtYXAgd2hlbiBkb1xuICAgICAqIEBwYXJhbSB7aW50fSB2YWx1ZSB0byBjb25zaWRlciBlbXB0eSBzcGFjZSAtIGRlZmF1bHRzIHRvIDBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayB0byBjYWxsIHdoZW4gYSBuZXcgY29ubmVjdGlvbiBpcyBtYWRlXG4gICAgICovXG4gICAgY29ubmVjdChjYWxsYmFjaywgdmFsdWUsIGNvbm5lY3Rpb25DYWxsYmFjaykge1xuICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICBsZXQgYWxsRnJlZVNwYWNlID0gW107XG4gICAgICAgIGxldCBub3RDb25uZWN0ZWQgPSB7fTtcbiAgICAgICAgLy8gZmluZCBhbGwgZnJlZSBzcGFjZVxuICAgICAgICBsZXQgd2lkdGhTdGVwID0gMTtcbiAgICAgICAgbGV0IHdpZHRoU3RhcnRzID0gWzAsIDBdO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7XG4gICAgICAgICAgICB3aWR0aFN0ZXAgPSAyO1xuICAgICAgICAgICAgd2lkdGhTdGFydHMgPSBbMCwgMV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLl9oZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IHdpZHRoU3RhcnRzW3kgJSAyXTsgeCA8IHRoaXMuX3dpZHRoOyB4ICs9IHdpZHRoU3RlcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9mcmVlU3BhY2UoeCwgeSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwID0gW3gsIHldO1xuICAgICAgICAgICAgICAgICAgICBub3RDb25uZWN0ZWRbdGhpcy5fcG9pbnRLZXkocCldID0gcDtcbiAgICAgICAgICAgICAgICAgICAgYWxsRnJlZVNwYWNlLnB1c2goW3gsIHldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0ID0gYWxsRnJlZVNwYWNlW1JORy5nZXRVbmlmb3JtSW50KDAsIGFsbEZyZWVTcGFjZS5sZW5ndGggLSAxKV07XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLl9wb2ludEtleShzdGFydCk7XG4gICAgICAgIGxldCBjb25uZWN0ZWQgPSB7fTtcbiAgICAgICAgY29ubmVjdGVkW2tleV0gPSBzdGFydDtcbiAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtrZXldO1xuICAgICAgICAvLyBmaW5kIHdoYXQncyBjb25uZWN0ZWQgdG8gdGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgIHRoaXMuX2ZpbmRDb25uZWN0ZWQoY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIFtzdGFydF0sIGZhbHNlLCB2YWx1ZSk7XG4gICAgICAgIHdoaWxlIChPYmplY3Qua2V5cyhub3RDb25uZWN0ZWQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGZpbmQgdHdvIHBvaW50cyBmcm9tIG5vdENvbm5lY3RlZCB0byBjb25uZWN0ZWRcbiAgICAgICAgICAgIGxldCBwID0gdGhpcy5fZ2V0RnJvbVRvKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKTtcbiAgICAgICAgICAgIGxldCBmcm9tID0gcFswXTsgLy8gbm90Q29ubmVjdGVkXG4gICAgICAgICAgICBsZXQgdG8gPSBwWzFdOyAvLyBjb25uZWN0ZWRcbiAgICAgICAgICAgIC8vIGZpbmQgZXZlcnl0aGluZyBjb25uZWN0ZWQgdG8gdGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICBsZXQgbG9jYWwgPSB7fTtcbiAgICAgICAgICAgIGxvY2FsW3RoaXMuX3BvaW50S2V5KGZyb20pXSA9IGZyb207XG4gICAgICAgICAgICB0aGlzLl9maW5kQ29ubmVjdGVkKGxvY2FsLCBub3RDb25uZWN0ZWQsIFtmcm9tXSwgdHJ1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgLy8gY29ubmVjdCB0byBhIGNvbm5lY3RlZCBjZWxsXG4gICAgICAgICAgICBsZXQgdHVubmVsRm4gPSAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2ID8gdGhpcy5fdHVubmVsVG9Db25uZWN0ZWQ2IDogdGhpcy5fdHVubmVsVG9Db25uZWN0ZWQpO1xuICAgICAgICAgICAgdHVubmVsRm4uY2FsbCh0aGlzLCB0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIHZhbHVlLCBjb25uZWN0aW9uQ2FsbGJhY2spO1xuICAgICAgICAgICAgLy8gbm93IGFsbCBvZiBsb2NhbCBpcyBjb25uZWN0ZWRcbiAgICAgICAgICAgIGZvciAobGV0IGsgaW4gbG9jYWwpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHAgPSBsb2NhbFtrXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBbcHBbMF1dW3BwWzFdXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbm5lY3RlZFtrXSA9IHBwO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRba107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgJiYgdGhpcy5fc2VydmljZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCByYW5kb20gcG9pbnRzIHRvIGNvbm5lY3QuIFNlYXJjaCBmb3IgdGhlIGNsb3Nlc3QgcG9pbnQgaW4gdGhlIGxhcmdlciBzcGFjZS5cbiAgICAgKiBUaGlzIGlzIHRvIG1pbmltaXplIHRoZSBsZW5ndGggb2YgdGhlIHBhc3NhZ2Ugd2hpbGUgbWFpbnRhaW5pbmcgZ29vZCBwZXJmb3JtYW5jZS5cbiAgICAgKi9cbiAgICBfZ2V0RnJvbVRvKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKSB7XG4gICAgICAgIGxldCBmcm9tID0gWzAsIDBdLCB0byA9IFswLCAwXSwgZDtcbiAgICAgICAgbGV0IGNvbm5lY3RlZEtleXMgPSBPYmplY3Qua2V5cyhjb25uZWN0ZWQpO1xuICAgICAgICBsZXQgbm90Q29ubmVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGVkS2V5cy5sZW5ndGggPCBub3RDb25uZWN0ZWRLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBrZXlzID0gY29ubmVjdGVkS2V5cztcbiAgICAgICAgICAgICAgICB0byA9IGNvbm5lY3RlZFtrZXlzW1JORy5nZXRVbmlmb3JtSW50KDAsIGtleXMubGVuZ3RoIC0gMSldXTtcbiAgICAgICAgICAgICAgICBmcm9tID0gdGhpcy5fZ2V0Q2xvc2VzdCh0bywgbm90Q29ubmVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBrZXlzID0gbm90Q29ubmVjdGVkS2V5cztcbiAgICAgICAgICAgICAgICBmcm9tID0gbm90Q29ubmVjdGVkW2tleXNbUk5HLmdldFVuaWZvcm1JbnQoMCwga2V5cy5sZW5ndGggLSAxKV1dO1xuICAgICAgICAgICAgICAgIHRvID0gdGhpcy5fZ2V0Q2xvc2VzdChmcm9tLCBjb25uZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZCA9IChmcm9tWzBdIC0gdG9bMF0pICogKGZyb21bMF0gLSB0b1swXSkgKyAoZnJvbVsxXSAtIHRvWzFdKSAqIChmcm9tWzFdIC0gdG9bMV0pO1xuICAgICAgICAgICAgaWYgKGQgPCA2NCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPj4+IGNvbm5lY3RlZD1cIiArIHRvICsgXCIgbm90Q29ubmVjdGVkPVwiICsgZnJvbSArIFwiIGRpc3Q9XCIgKyBkKTtcbiAgICAgICAgcmV0dXJuIFtmcm9tLCB0b107XG4gICAgfVxuICAgIF9nZXRDbG9zZXN0KHBvaW50LCBzcGFjZSkge1xuICAgICAgICBsZXQgbWluUG9pbnQgPSBudWxsO1xuICAgICAgICBsZXQgbWluRGlzdCA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGsgaW4gc3BhY2UpIHtcbiAgICAgICAgICAgIGxldCBwID0gc3BhY2Vba107XG4gICAgICAgICAgICBsZXQgZCA9IChwWzBdIC0gcG9pbnRbMF0pICogKHBbMF0gLSBwb2ludFswXSkgKyAocFsxXSAtIHBvaW50WzFdKSAqIChwWzFdIC0gcG9pbnRbMV0pO1xuICAgICAgICAgICAgaWYgKG1pbkRpc3QgPT0gbnVsbCB8fCBkIDwgbWluRGlzdCkge1xuICAgICAgICAgICAgICAgIG1pbkRpc3QgPSBkO1xuICAgICAgICAgICAgICAgIG1pblBvaW50ID0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluUG9pbnQ7XG4gICAgfVxuICAgIF9maW5kQ29ubmVjdGVkKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBzdGFjaywga2VlcE5vdENvbm5lY3RlZCwgdmFsdWUpIHtcbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBwID0gc3RhY2suc3BsaWNlKDAsIDEpWzBdO1xuICAgICAgICAgICAgbGV0IHRlc3RzO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikge1xuICAgICAgICAgICAgICAgIHRlc3RzID0gW1xuICAgICAgICAgICAgICAgICAgICBbcFswXSArIDIsIHBbMV1dLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSArIDEsIHBbMV0gLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gLSAxLCBwWzFdIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdIC0gMiwgcFsxXV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdIC0gMSwgcFsxXSArIDFdLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSArIDEsIHBbMV0gKyAxXSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVzdHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdICsgMSwgcFsxXV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdIC0gMSwgcFsxXV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdLCBwWzFdICsgMV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdLCBwWzFdIC0gMV1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBrZXkgPSB0aGlzLl9wb2ludEtleSh0ZXN0c1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3RlZFtrZXldID09IG51bGwgJiYgdGhpcy5fZnJlZVNwYWNlKHRlc3RzW2ldWzBdLCB0ZXN0c1tpXVsxXSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RlZFtrZXldID0gdGVzdHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICgha2VlcE5vdENvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2godGVzdHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfdHVubmVsVG9Db25uZWN0ZWQodG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCB2YWx1ZSwgY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBhLCBiO1xuICAgICAgICBpZiAoZnJvbVswXSA8IHRvWzBdKSB7XG4gICAgICAgICAgICBhID0gZnJvbTtcbiAgICAgICAgICAgIGIgPSB0bztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGEgPSB0bztcbiAgICAgICAgICAgIGIgPSBmcm9tO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHh4ID0gYVswXTsgeHggPD0gYlswXTsgeHgrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW3h4XVthWzFdXSA9IHZhbHVlO1xuICAgICAgICAgICAgbGV0IHAgPSBbeHgsIGFbMV1dO1xuICAgICAgICAgICAgbGV0IHBrZXkgPSB0aGlzLl9wb2ludEtleShwKTtcbiAgICAgICAgICAgIGNvbm5lY3RlZFtwa2V5XSA9IHA7XG4gICAgICAgICAgICBkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25uZWN0aW9uQ2FsbGJhY2sgJiYgYVswXSA8IGJbMF0pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25DYWxsYmFjayhhLCBbYlswXSwgYVsxXV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHggaXMgbm93IGZpeGVkXG4gICAgICAgIGxldCB4ID0gYlswXTtcbiAgICAgICAgaWYgKGZyb21bMV0gPCB0b1sxXSkge1xuICAgICAgICAgICAgYSA9IGZyb207XG4gICAgICAgICAgICBiID0gdG87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhID0gdG87XG4gICAgICAgICAgICBiID0gZnJvbTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB5eSA9IGFbMV07IHl5IDwgYlsxXTsgeXkrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW3hdW3l5XSA9IHZhbHVlO1xuICAgICAgICAgICAgbGV0IHAgPSBbeCwgeXldO1xuICAgICAgICAgICAgbGV0IHBrZXkgPSB0aGlzLl9wb2ludEtleShwKTtcbiAgICAgICAgICAgIGNvbm5lY3RlZFtwa2V5XSA9IHA7XG4gICAgICAgICAgICBkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25uZWN0aW9uQ2FsbGJhY2sgJiYgYVsxXSA8IGJbMV0pIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25DYWxsYmFjayhbYlswXSwgYVsxXV0sIFtiWzBdLCBiWzFdXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3R1bm5lbFRvQ29ubmVjdGVkNih0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIHZhbHVlLCBjb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGEsIGI7XG4gICAgICAgIGlmIChmcm9tWzBdIDwgdG9bMF0pIHtcbiAgICAgICAgICAgIGEgPSBmcm9tO1xuICAgICAgICAgICAgYiA9IHRvO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYSA9IHRvO1xuICAgICAgICAgICAgYiA9IGZyb207XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHVubmVsIGRpYWdvbmFsbHkgdW50aWwgaG9yaXpvbnRhbGx5IGxldmVsXG4gICAgICAgIGxldCB4eCA9IGFbMF07XG4gICAgICAgIGxldCB5eSA9IGFbMV07XG4gICAgICAgIHdoaWxlICghKHh4ID09IGJbMF0gJiYgeXkgPT0gYlsxXSkpIHtcbiAgICAgICAgICAgIGxldCBzdGVwV2lkdGggPSAyO1xuICAgICAgICAgICAgaWYgKHl5IDwgYlsxXSkge1xuICAgICAgICAgICAgICAgIHl5Kys7XG4gICAgICAgICAgICAgICAgc3RlcFdpZHRoID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHl5ID4gYlsxXSkge1xuICAgICAgICAgICAgICAgIHl5LS07XG4gICAgICAgICAgICAgICAgc3RlcFdpZHRoID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4eCA8IGJbMF0pIHtcbiAgICAgICAgICAgICAgICB4eCArPSBzdGVwV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4eCA+IGJbMF0pIHtcbiAgICAgICAgICAgICAgICB4eCAtPSBzdGVwV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiWzFdICUgMikge1xuICAgICAgICAgICAgICAgIC8vIFdvbid0IHN0ZXAgb3V0c2lkZSBtYXAgaWYgZGVzdGluYXRpb24gb24gaXMgbWFwJ3MgcmlnaHQgZWRnZVxuICAgICAgICAgICAgICAgIHh4IC09IHN0ZXBXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRpdHRvIGZvciBsZWZ0IGVkZ2VcbiAgICAgICAgICAgICAgICB4eCArPSBzdGVwV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXBbeHhdW3l5XSA9IHZhbHVlO1xuICAgICAgICAgICAgbGV0IHAgPSBbeHgsIHl5XTtcbiAgICAgICAgICAgIGxldCBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG4gICAgICAgICAgICBjb25uZWN0ZWRbcGtleV0gPSBwO1xuICAgICAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtwa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uQ2FsbGJhY2soZnJvbSwgdG8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9mcmVlU3BhY2UoeCwgeSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHggPj0gMCAmJiB4IDwgdGhpcy5fd2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLl9oZWlnaHQgJiYgdGhpcy5fbWFwW3hdW3ldID09IHZhbHVlO1xuICAgIH1cbiAgICBfcG9pbnRLZXkocCkgeyByZXR1cm4gcFswXSArIFwiLlwiICsgcFsxXTsgfVxufVxuIiwiaW1wb3J0IE1hcCBmcm9tIFwiLi9tYXAuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgUmVjdXJzaXZlbHkgZGl2aWRlZCBtYXplLCBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hemVfZ2VuZXJhdGlvbl9hbGdvcml0aG0jUmVjdXJzaXZlX2RpdmlzaW9uX21ldGhvZFxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGl2aWRlZE1hemUgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9zdGFjayA9IFtdO1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIGxldCBoID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5wdXNoKFtdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJvcmRlciA9IChpID09IDAgfHwgaiA9PSAwIHx8IGkgKyAxID09IHcgfHwgaiArIDEgPT0gaCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwW2ldLnB1c2goYm9yZGVyID8gMSA6IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YWNrID0gW1xuICAgICAgICAgICAgWzEsIDEsIHcgLSAyLCBoIC0gMl1cbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5fcHJvY2VzcygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3Byb2Nlc3MoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl9zdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByb29tID0gdGhpcy5fc3RhY2suc2hpZnQoKTsgLyogW2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbV0gKi9cbiAgICAgICAgICAgIHRoaXMuX3BhcnRpdGlvblJvb20ocm9vbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3BhcnRpdGlvblJvb20ocm9vbSkge1xuICAgICAgICBsZXQgYXZhaWxYID0gW107XG4gICAgICAgIGxldCBhdmFpbFkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHJvb21bMF0gKyAxOyBpIDwgcm9vbVsyXTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdG9wID0gdGhpcy5fbWFwW2ldW3Jvb21bMV0gLSAxXTtcbiAgICAgICAgICAgIGxldCBib3R0b20gPSB0aGlzLl9tYXBbaV1bcm9vbVszXSArIDFdO1xuICAgICAgICAgICAgaWYgKHRvcCAmJiBib3R0b20gJiYgIShpICUgMikpIHtcbiAgICAgICAgICAgICAgICBhdmFpbFgucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gcm9vbVsxXSArIDE7IGogPCByb29tWzNdOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gdGhpcy5fbWFwW3Jvb21bMF0gLSAxXVtqXTtcbiAgICAgICAgICAgIGxldCByaWdodCA9IHRoaXMuX21hcFtyb29tWzJdICsgMV1bal07XG4gICAgICAgICAgICBpZiAobGVmdCAmJiByaWdodCAmJiAhKGogJSAyKSkge1xuICAgICAgICAgICAgICAgIGF2YWlsWS5wdXNoKGopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYXZhaWxYLmxlbmd0aCB8fCAhYXZhaWxZLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB4ID0gUk5HLmdldEl0ZW0oYXZhaWxYKTtcbiAgICAgICAgbGV0IHkgPSBSTkcuZ2V0SXRlbShhdmFpbFkpO1xuICAgICAgICB0aGlzLl9tYXBbeF1beV0gPSAxO1xuICAgICAgICBsZXQgd2FsbHMgPSBbXTtcbiAgICAgICAgbGV0IHcgPSBbXTtcbiAgICAgICAgd2FsbHMucHVzaCh3KTsgLyogbGVmdCBwYXJ0ICovXG4gICAgICAgIGZvciAobGV0IGkgPSByb29tWzBdOyBpIDwgeDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbaV1beV0gPSAxO1xuICAgICAgICAgICAgaWYgKGkgJSAyKVxuICAgICAgICAgICAgICAgIHcucHVzaChbaSwgeV0pO1xuICAgICAgICB9XG4gICAgICAgIHcgPSBbXTtcbiAgICAgICAgd2FsbHMucHVzaCh3KTsgLyogcmlnaHQgcGFydCAqL1xuICAgICAgICBmb3IgKGxldCBpID0geCArIDE7IGkgPD0gcm9vbVsyXTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbaV1beV0gPSAxO1xuICAgICAgICAgICAgaWYgKGkgJSAyKVxuICAgICAgICAgICAgICAgIHcucHVzaChbaSwgeV0pO1xuICAgICAgICB9XG4gICAgICAgIHcgPSBbXTtcbiAgICAgICAgd2FsbHMucHVzaCh3KTsgLyogdG9wIHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaiA9IHJvb21bMV07IGogPCB5OyBqKyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt4XVtqXSA9IDE7XG4gICAgICAgICAgICBpZiAoaiAlIDIpXG4gICAgICAgICAgICAgICAgdy5wdXNoKFt4LCBqXSk7XG4gICAgICAgIH1cbiAgICAgICAgdyA9IFtdO1xuICAgICAgICB3YWxscy5wdXNoKHcpOyAvKiBib3R0b20gcGFydCAqL1xuICAgICAgICBmb3IgKGxldCBqID0geSArIDE7IGogPD0gcm9vbVszXTsgaisrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeF1bal0gPSAxO1xuICAgICAgICAgICAgaWYgKGogJSAyKVxuICAgICAgICAgICAgICAgIHcucHVzaChbeCwgal0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzb2xpZCA9IFJORy5nZXRJdGVtKHdhbGxzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3YWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHcgPSB3YWxsc1tpXTtcbiAgICAgICAgICAgIGlmICh3ID09IHNvbGlkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaG9sZSA9IFJORy5nZXRJdGVtKHcpO1xuICAgICAgICAgICAgdGhpcy5fbWFwW2hvbGVbMF1dW2hvbGVbMV1dID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFjay5wdXNoKFtyb29tWzBdLCByb29tWzFdLCB4IC0gMSwgeSAtIDFdKTsgLyogbGVmdCB0b3AgKi9cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbeCArIDEsIHJvb21bMV0sIHJvb21bMl0sIHkgLSAxXSk7IC8qIHJpZ2h0IHRvcCAqL1xuICAgICAgICB0aGlzLl9zdGFjay5wdXNoKFtyb29tWzBdLCB5ICsgMSwgeCAtIDEsIHJvb21bM11dKTsgLyogbGVmdCBib3R0b20gKi9cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbeCArIDEsIHkgKyAxLCByb29tWzJdLCByb29tWzNdXSk7IC8qIHJpZ2h0IGJvdHRvbSAqL1xuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbi8qKlxuICogSWNleSdzIE1hemUgZ2VuZXJhdG9yXG4gKiBTZWUgaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9U2ltcGxlX21hemUgZm9yIGV4cGxhbmF0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljZXlNYXplIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCByZWd1bGFyaXR5ID0gMCkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fcmVndWxhcml0eSA9IHJlZ3VsYXJpdHk7XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgIH1cbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICB3aWR0aCAtPSAod2lkdGggJSAyID8gMSA6IDIpO1xuICAgICAgICBoZWlnaHQgLT0gKGhlaWdodCAlIDIgPyAxIDogMik7XG4gICAgICAgIGxldCBjeCA9IDA7XG4gICAgICAgIGxldCBjeSA9IDA7XG4gICAgICAgIGxldCBueCA9IDA7XG4gICAgICAgIGxldCBueSA9IDA7XG4gICAgICAgIGxldCBkb25lID0gMDtcbiAgICAgICAgbGV0IGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRpcnMgPSBbXG4gICAgICAgICAgICBbMCwgMF0sXG4gICAgICAgICAgICBbMCwgMF0sXG4gICAgICAgICAgICBbMCwgMF0sXG4gICAgICAgICAgICBbMCwgMF1cbiAgICAgICAgXTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY3ggPSAxICsgMiAqIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqICh3aWR0aCAtIDEpIC8gMik7XG4gICAgICAgICAgICBjeSA9IDEgKyAyICogTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogKGhlaWdodCAtIDEpIC8gMik7XG4gICAgICAgICAgICBpZiAoIWRvbmUpIHtcbiAgICAgICAgICAgICAgICBtYXBbY3hdW2N5XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1hcFtjeF1bY3ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmFuZG9taXplKGRpcnMpO1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqICh0aGlzLl9yZWd1bGFyaXR5ICsgMSkpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JhbmRvbWl6ZShkaXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG54ID0gY3ggKyBkaXJzW2ldWzBdICogMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG55ID0gY3kgKyBkaXJzW2ldWzFdICogMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0ZyZWUobWFwLCBueCwgbnksIHdpZHRoLCBoZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwW254XVtueV0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtjeCArIGRpcnNbaV1bMF1dW2N5ICsgZGlyc1tpXVsxXV0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4ID0gbng7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3kgPSBueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoIWJsb2NrZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkb25lICsgMSA8IHdpZHRoICogaGVpZ2h0IC8gNCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIG1hcFtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfcmFuZG9taXplKGRpcnMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIGRpcnNbaV1bMF0gPSAwO1xuICAgICAgICAgICAgZGlyc1tpXVsxXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiA0KSkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRpcnNbMF1bMF0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzBdID0gMTtcbiAgICAgICAgICAgICAgICBkaXJzWzJdWzFdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1szXVsxXSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgZGlyc1szXVswXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbMl1bMF0gPSAxO1xuICAgICAgICAgICAgICAgIGRpcnNbMV1bMV0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzBdWzFdID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBkaXJzWzJdWzBdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1szXVswXSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyc1swXVsxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbMV1bMV0gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGRpcnNbMV1bMF0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzBdWzBdID0gMTtcbiAgICAgICAgICAgICAgICBkaXJzWzNdWzFdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1syXVsxXSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2lzRnJlZShtYXAsIHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHggPCAxIHx8IHkgPCAxIHx8IHggPj0gd2lkdGggfHwgeSA+PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwW3hdW3ldO1xuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbmltcG9ydCB7IERJUlMgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG4vKipcbiAqIER1bmdlb24gZ2VuZXJhdG9yIHdoaWNoIHVzZXMgdGhlIFwib3JnaW5hbFwiIFJvZ3VlIGR1bmdlb24gZ2VuZXJhdGlvbiBhbGdvcml0aG0uIFNlZSBodHRwOi8va3VvaS5jb20vfmthbWlrYXplL0dhbWVEZXNpZ24vYXJ0MDdfcm9ndWVfZHVuZ2Vvbi5waHBcbiAqIEBhdXRob3IgaHlha3VnZWlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9ndWUgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMubWFwID0gW107XG4gICAgICAgIHRoaXMucm9vbXMgPSBbXTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDZWxscyA9IFtdO1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBjZWxsV2lkdGg6IDMsXG4gICAgICAgICAgICBjZWxsSGVpZ2h0OiAzIC8vICAgICBpZS4gYXMgYW4gYXJyYXkgd2l0aCBtaW4tbWF4IHZhbHVlcyBmb3IgZWFjaCBkaXJlY3Rpb24uLi4uXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvKlxuICAgICAgICBTZXQgdGhlIHJvb20gc2l6ZXMgYWNjb3JkaW5nIHRvIHRoZSBvdmVyLWFsbCB3aWR0aCBvZiB0aGUgbWFwLFxuICAgICAgICBhbmQgdGhlIGNlbGwgc2l6ZXMuXG4gICAgICAgICovXG4gICAgICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcInJvb21XaWR0aFwiKSkge1xuICAgICAgICAgICAgb3B0aW9uc1tcInJvb21XaWR0aFwiXSA9IHRoaXMuX2NhbGN1bGF0ZVJvb21TaXplKHRoaXMuX3dpZHRoLCBvcHRpb25zW1wiY2VsbFdpZHRoXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tSGVpZ2h0XCIpKSB7XG4gICAgICAgICAgICBvcHRpb25zW1wicm9vbUhlaWdodFwiXSA9IHRoaXMuX2NhbGN1bGF0ZVJvb21TaXplKHRoaXMuX2hlaWdodCwgb3B0aW9uc1tcImNlbGxIZWlnaHRcIl0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICB0aGlzLnJvb21zID0gW107XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ2VsbHMgPSBbXTtcbiAgICAgICAgdGhpcy5faW5pdFJvb21zKCk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RSb29tcygpO1xuICAgICAgICB0aGlzLl9jb25uZWN0VW5jb25uZWN0ZWRSb29tcygpO1xuICAgICAgICB0aGlzLl9jcmVhdGVSYW5kb21Sb29tQ29ubmVjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlUm9vbXMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlQ29ycmlkb3JzKCk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLm1hcFtpXVtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfY2FsY3VsYXRlUm9vbVNpemUoc2l6ZSwgY2VsbCkge1xuICAgICAgICBsZXQgbWF4ID0gTWF0aC5mbG9vcigoc2l6ZSAvIGNlbGwpICogMC44KTtcbiAgICAgICAgbGV0IG1pbiA9IE1hdGguZmxvb3IoKHNpemUgLyBjZWxsKSAqIDAuMjUpO1xuICAgICAgICBpZiAobWluIDwgMikge1xuICAgICAgICAgICAgbWluID0gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4IDwgMikge1xuICAgICAgICAgICAgbWF4ID0gMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW21pbiwgbWF4XTtcbiAgICB9XG4gICAgX2luaXRSb29tcygpIHtcbiAgICAgICAgLy8gY3JlYXRlIHJvb21zIGFycmF5LiBUaGlzIGlzIHRoZSBcImdyaWRcIiBsaXN0IGZyb20gdGhlIGFsZ28uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yb29tcy5wdXNoKFtdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb21zW2ldLnB1c2goeyBcInhcIjogMCwgXCJ5XCI6IDAsIFwid2lkdGhcIjogMCwgXCJoZWlnaHRcIjogMCwgXCJjb25uZWN0aW9uc1wiOiBbXSwgXCJjZWxseFwiOiBpLCBcImNlbGx5XCI6IGogfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Nvbm5lY3RSb29tcygpIHtcbiAgICAgICAgLy9waWNrIHJhbmRvbSBzdGFydGluZyBncmlkXG4gICAgICAgIGxldCBjZ3ggPSBSTkcuZ2V0VW5pZm9ybUludCgwLCB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aCAtIDEpO1xuICAgICAgICBsZXQgY2d5ID0gUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0IC0gMSk7XG4gICAgICAgIGxldCBpZHg7XG4gICAgICAgIGxldCBuY2d4O1xuICAgICAgICBsZXQgbmNneTtcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBsZXQgb3RoZXJSb29tO1xuICAgICAgICBsZXQgZGlyVG9DaGVjaztcbiAgICAgICAgLy8gZmluZCAgdW5jb25uZWN0ZWQgbmVpZ2hib3VyIGNlbGxzXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vZGlyVG9DaGVjayA9IFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3XTtcbiAgICAgICAgICAgIGRpclRvQ2hlY2sgPSBbMCwgMiwgNCwgNl07XG4gICAgICAgICAgICBkaXJUb0NoZWNrID0gUk5HLnNodWZmbGUoZGlyVG9DaGVjayk7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZHggPSBkaXJUb0NoZWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIG5jZ3ggPSBjZ3ggKyBESVJTWzhdW2lkeF1bMF07XG4gICAgICAgICAgICAgICAgbmNneSA9IGNneSArIERJUlNbOF1baWR4XVsxXTtcbiAgICAgICAgICAgICAgICBpZiAobmNneCA8IDAgfHwgbmNneCA+PSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5jZ3kgPCAwIHx8IG5jZ3kgPj0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb29tID0gdGhpcy5yb29tc1tjZ3hdW2NneV07XG4gICAgICAgICAgICAgICAgaWYgKHJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGxvbmcgYXMgdGhpcyByb29tIGRvZXNuJ3QgYWxyZWFkeSBjb29uZWN0IHRvIG1lLCB3ZSBhcmUgb2sgd2l0aCBpdC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb21bXCJjb25uZWN0aW9uc1wiXVswXVswXSA9PSBuY2d4ICYmIHJvb21bXCJjb25uZWN0aW9uc1wiXVswXVsxXSA9PSBuY2d5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdGhlclJvb20gPSB0aGlzLnJvb21zW25jZ3hdW25jZ3ldO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5wdXNoKFtjZ3gsIGNneV0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RlZENlbGxzLnB1c2goW25jZ3gsIG5jZ3ldKTtcbiAgICAgICAgICAgICAgICAgICAgY2d4ID0gbmNneDtcbiAgICAgICAgICAgICAgICAgICAgY2d5ID0gbmNneTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKGRpclRvQ2hlY2subGVuZ3RoID4gMCAmJiBmb3VuZCA9PSBmYWxzZSk7XG4gICAgICAgIH0gd2hpbGUgKGRpclRvQ2hlY2subGVuZ3RoID4gMCk7XG4gICAgfVxuICAgIF9jb25uZWN0VW5jb25uZWN0ZWRSb29tcygpIHtcbiAgICAgICAgLy9XaGlsZSB0aGVyZSBhcmUgdW5jb25uZWN0ZWQgcm9vbXMsIHRyeSB0byBjb25uZWN0IHRoZW0gdG8gYSByYW5kb20gY29ubmVjdGVkIG5laWdoYm9yXG4gICAgICAgIC8vKGlmIGEgcm9vbSBoYXMgbm8gY29ubmVjdGVkIG5laWdoYm9ycyB5ZXQsIGp1c3Qga2VlcCBjeWNsaW5nLCB5b3UnbGwgZmlsbCBvdXQgdG8gaXQgZXZlbnR1YWxseSkuXG4gICAgICAgIGxldCBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuICAgICAgICBsZXQgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ2VsbHMgPSBSTkcuc2h1ZmZsZSh0aGlzLmNvbm5lY3RlZENlbGxzKTtcbiAgICAgICAgbGV0IHJvb207XG4gICAgICAgIGxldCBvdGhlclJvb207XG4gICAgICAgIGxldCB2YWxpZFJvb207XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuICAgICAgICAgICAgICAgIGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcmVjdGlvbnMgPSBbMCwgMiwgNCwgNl07XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMgPSBSTkcuc2h1ZmZsZShkaXJlY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRSb29tID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXJJZHggPSBkaXJlY3Rpb25zLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0kgPSBpICsgRElSU1s4XVtkaXJJZHhdWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0ogPSBqICsgRElSU1s4XVtkaXJJZHhdWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0kgPCAwIHx8IG5ld0kgPj0gY3cgfHwgbmV3SiA8IDAgfHwgbmV3SiA+PSBjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tuZXdJXVtuZXdKXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUm9vbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMF0gPT0gaSAmJiBvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXVtrXVsxXSA9PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUm9vbSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRSb29tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGRpcmVjdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUm9vbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbVtcImNvbm5lY3Rpb25zXCJdLnB1c2goW290aGVyUm9vbVtcImNlbGx4XCJdLCBvdGhlclJvb21bXCJjZWxseVwiXV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCItLSBVbmFibGUgdG8gY29ubmVjdCByb29tLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zKCkge1xuICAgICAgICAvLyBFbXB0eSBmb3Igbm93LlxuICAgIH1cbiAgICBfY3JlYXRlUm9vbXMoKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIGxldCBoID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBsZXQgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuICAgICAgICBsZXQgY3dwID0gTWF0aC5mbG9vcih0aGlzLl93aWR0aCAvIGN3KTtcbiAgICAgICAgbGV0IGNocCA9IE1hdGguZmxvb3IodGhpcy5faGVpZ2h0IC8gY2gpO1xuICAgICAgICBsZXQgcm9vbXc7XG4gICAgICAgIGxldCByb29taDtcbiAgICAgICAgbGV0IHJvb21XaWR0aCA9IHRoaXMuX29wdGlvbnNbXCJyb29tV2lkdGhcIl07XG4gICAgICAgIGxldCByb29tSGVpZ2h0ID0gdGhpcy5fb3B0aW9uc1tcInJvb21IZWlnaHRcIl07XG4gICAgICAgIGxldCBzeDtcbiAgICAgICAgbGV0IHN5O1xuICAgICAgICBsZXQgb3RoZXJSb29tO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2g7IGorKykge1xuICAgICAgICAgICAgICAgIHN4ID0gY3dwICogaTtcbiAgICAgICAgICAgICAgICBzeSA9IGNocCAqIGo7XG4gICAgICAgICAgICAgICAgaWYgKHN4ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3ggPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3kgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzeSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvb213ID0gUk5HLmdldFVuaWZvcm1JbnQocm9vbVdpZHRoWzBdLCByb29tV2lkdGhbMV0pO1xuICAgICAgICAgICAgICAgIHJvb21oID0gUk5HLmdldFVuaWZvcm1JbnQocm9vbUhlaWdodFswXSwgcm9vbUhlaWdodFsxXSk7XG4gICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyUm9vbSA9IHRoaXMucm9vbXNbaV1baiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3kgLSAob3RoZXJSb29tW1wieVwiXSArIG90aGVyUm9vbVtcImhlaWdodFwiXSkgPCAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdGhlclJvb20gPSB0aGlzLnJvb21zW2kgLSAxXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN4IC0gKG90aGVyUm9vbVtcInhcIl0gKyBvdGhlclJvb21bXCJ3aWR0aFwiXSkgPCAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBzeE9mZnNldCA9IE1hdGgucm91bmQoUk5HLmdldFVuaWZvcm1JbnQoMCwgY3dwIC0gcm9vbXcpIC8gMik7XG4gICAgICAgICAgICAgICAgbGV0IHN5T2Zmc2V0ID0gTWF0aC5yb3VuZChSTkcuZ2V0VW5pZm9ybUludCgwLCBjaHAgLSByb29taCkgLyAyKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3ggKyBzeE9mZnNldCArIHJvb213ID49IHcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN4T2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeE9mZnNldC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbXctLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoc3kgKyBzeU9mZnNldCArIHJvb21oID49IGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN5T2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeU9mZnNldC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbWgtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzeCA9IHN4ICsgc3hPZmZzZXQ7XG4gICAgICAgICAgICAgICAgc3kgPSBzeSArIHN5T2Zmc2V0O1xuICAgICAgICAgICAgICAgIHRoaXMucm9vbXNbaV1bal1bXCJ4XCJdID0gc3g7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXVtqXVtcInlcIl0gPSBzeTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb21zW2ldW2pdW1wid2lkdGhcIl0gPSByb29tdztcbiAgICAgICAgICAgICAgICB0aGlzLnJvb21zW2ldW2pdW1wiaGVpZ2h0XCJdID0gcm9vbWg7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSBzeDsgaWkgPCBzeCArIHJvb213OyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGpqID0gc3k7IGpqIDwgc3kgKyByb29taDsgamorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaWldW2pqXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldFdhbGxQb3NpdGlvbihhUm9vbSwgYURpcmVjdGlvbikge1xuICAgICAgICBsZXQgcng7XG4gICAgICAgIGxldCByeTtcbiAgICAgICAgbGV0IGRvb3I7XG4gICAgICAgIGlmIChhRGlyZWN0aW9uID09IDEgfHwgYURpcmVjdGlvbiA9PSAzKSB7XG4gICAgICAgICAgICByeCA9IFJORy5nZXRVbmlmb3JtSW50KGFSb29tW1wieFwiXSArIDEsIGFSb29tW1wieFwiXSArIGFSb29tW1wid2lkdGhcIl0gLSAyKTtcbiAgICAgICAgICAgIGlmIChhRGlyZWN0aW9uID09IDEpIHtcbiAgICAgICAgICAgICAgICByeSA9IGFSb29tW1wieVwiXSAtIDI7XG4gICAgICAgICAgICAgICAgZG9vciA9IHJ5ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJ5ID0gYVJvb21bXCJ5XCJdICsgYVJvb21bXCJoZWlnaHRcIl0gKyAxO1xuICAgICAgICAgICAgICAgIGRvb3IgPSByeSAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcFtyeF1bZG9vcl0gPSAwOyAvLyBpJ20gbm90IHNldHRpbmcgYSBzcGVjaWZpYyAnZG9vcicgdGlsZSB2YWx1ZSByaWdodCBub3csIGp1c3QgZW1wdHkgc3BhY2UuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByeSA9IFJORy5nZXRVbmlmb3JtSW50KGFSb29tW1wieVwiXSArIDEsIGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdIC0gMik7XG4gICAgICAgICAgICBpZiAoYURpcmVjdGlvbiA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcnggPSBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdICsgMTtcbiAgICAgICAgICAgICAgICBkb29yID0gcnggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcnggPSBhUm9vbVtcInhcIl0gLSAyO1xuICAgICAgICAgICAgICAgIGRvb3IgPSByeCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcFtkb29yXVtyeV0gPSAwOyAvLyBpJ20gbm90IHNldHRpbmcgYSBzcGVjaWZpYyAnZG9vcicgdGlsZSB2YWx1ZSByaWdodCBub3csIGp1c3QgZW1wdHkgc3BhY2UuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyeCwgcnldO1xuICAgIH1cbiAgICBfZHJhd0NvcnJpZG9yKHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uKSB7XG4gICAgICAgIGxldCB4T2Zmc2V0ID0gZW5kUG9zaXRpb25bMF0gLSBzdGFydFBvc2l0aW9uWzBdO1xuICAgICAgICBsZXQgeU9mZnNldCA9IGVuZFBvc2l0aW9uWzFdIC0gc3RhcnRQb3NpdGlvblsxXTtcbiAgICAgICAgbGV0IHhwb3MgPSBzdGFydFBvc2l0aW9uWzBdO1xuICAgICAgICBsZXQgeXBvcyA9IHN0YXJ0UG9zaXRpb25bMV07XG4gICAgICAgIGxldCB0ZW1wRGlzdDtcbiAgICAgICAgbGV0IHhEaXI7XG4gICAgICAgIGxldCB5RGlyO1xuICAgICAgICBsZXQgbW92ZTsgLy8gMiBlbGVtZW50IGFycmF5LCBlbGVtZW50IDAgaXMgdGhlIGRpcmVjdGlvbiwgZWxlbWVudCAxIGlzIHRoZSB0b3RhbCB2YWx1ZSB0byBtb3ZlLlxuICAgICAgICBsZXQgbW92ZXMgPSBbXTsgLy8gYSBsaXN0IG9mIDIgZWxlbWVudCBhcnJheXNcbiAgICAgICAgbGV0IHhBYnMgPSBNYXRoLmFicyh4T2Zmc2V0KTtcbiAgICAgICAgbGV0IHlBYnMgPSBNYXRoLmFicyh5T2Zmc2V0KTtcbiAgICAgICAgbGV0IHBlcmNlbnQgPSBSTkcuZ2V0VW5pZm9ybSgpOyAvLyB1c2VkIHRvIHNwbGl0IHRoZSBtb3ZlIGF0IGRpZmZlcmVudCBwbGFjZXMgYWxvbmcgdGhlIGxvbmcgYXhpc1xuICAgICAgICBsZXQgZmlyc3RIYWxmID0gcGVyY2VudDtcbiAgICAgICAgbGV0IHNlY29uZEhhbGYgPSAxIC0gcGVyY2VudDtcbiAgICAgICAgeERpciA9IHhPZmZzZXQgPiAwID8gMiA6IDY7XG4gICAgICAgIHlEaXIgPSB5T2Zmc2V0ID4gMCA/IDQgOiAwO1xuICAgICAgICBpZiAoeEFicyA8IHlBYnMpIHtcbiAgICAgICAgICAgIC8vIG1vdmUgZmlyc3RIYWxmIG9mIHRoZSB5IG9mZnNldFxuICAgICAgICAgICAgdGVtcERpc3QgPSBNYXRoLmNlaWwoeUFicyAqIGZpcnN0SGFsZik7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt5RGlyLCB0ZW1wRGlzdF0pO1xuICAgICAgICAgICAgLy8gbW92ZSBhbGwgdGhlIHggb2Zmc2V0XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt4RGlyLCB4QWJzXSk7XG4gICAgICAgICAgICAvLyBtb3ZlIHNlbmRIYWxmIG9mIHRoZSAgeSBvZmZzZXRcbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5mbG9vcih5QWJzICogc2Vjb25kSGFsZik7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt5RGlyLCB0ZW1wRGlzdF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gIG1vdmUgZmlyc3RIYWxmIG9mIHRoZSB4IG9mZnNldFxuICAgICAgICAgICAgdGVtcERpc3QgPSBNYXRoLmNlaWwoeEFicyAqIGZpcnN0SGFsZik7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt4RGlyLCB0ZW1wRGlzdF0pO1xuICAgICAgICAgICAgLy8gbW92ZSBhbGwgdGhlIHkgb2Zmc2V0XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt5RGlyLCB5QWJzXSk7XG4gICAgICAgICAgICAvLyBtb3ZlIHNlY29uZEhhbGYgb2YgdGhlIHggb2Zmc2V0LlxuICAgICAgICAgICAgdGVtcERpc3QgPSBNYXRoLmZsb29yKHhBYnMgKiBzZWNvbmRIYWxmKTtcbiAgICAgICAgICAgIG1vdmVzLnB1c2goW3hEaXIsIHRlbXBEaXN0XSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuICAgICAgICB3aGlsZSAobW92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbW92ZSA9IG1vdmVzLnBvcCgpO1xuICAgICAgICAgICAgd2hpbGUgKG1vdmVbMV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgeHBvcyArPSBESVJTWzhdW21vdmVbMF1dWzBdO1xuICAgICAgICAgICAgICAgIHlwb3MgKz0gRElSU1s4XVttb3ZlWzBdXVsxXTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcFt4cG9zXVt5cG9zXSA9IDA7XG4gICAgICAgICAgICAgICAgbW92ZVsxXSA9IG1vdmVbMV0gLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jcmVhdGVDb3JyaWRvcnMoKSB7XG4gICAgICAgIC8vIERyYXcgQ29ycmlkb3JzIGJldHdlZW4gY29ubmVjdGVkIHJvb21zXG4gICAgICAgIGxldCBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuICAgICAgICBsZXQgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBsZXQgY29ubmVjdGlvbjtcbiAgICAgICAgbGV0IG90aGVyUm9vbTtcbiAgICAgICAgbGV0IHdhbGw7XG4gICAgICAgIGxldCBvdGhlcldhbGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3c7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcm9vbSA9IHRoaXMucm9vbXNbaV1bal07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IHJvb21bXCJjb25uZWN0aW9uc1wiXVtrXTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tjb25uZWN0aW9uWzBdXVtjb25uZWN0aW9uWzFdXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlndXJlIG91dCB3aGF0IHdhbGwgb3VyIGNvcnJpZG9yIHdpbGwgc3RhcnQgb25lLlxuICAgICAgICAgICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHdoYXQgd2FsbCBvdXIgY29ycmlkb3Igd2lsbCBlbmQgb24uXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA+IHJvb21bXCJjZWxseFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FsbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlcldhbGwgPSA0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG90aGVyUm9vbVtcImNlbGx4XCJdIDwgcm9vbVtcImNlbGx4XCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyV2FsbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3RoZXJSb29tW1wiY2VsbHlcIl0gPiByb29tW1wiY2VsbHlcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGwgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJXYWxsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGwgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJXYWxsID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3Q29ycmlkb3IodGhpcy5fZ2V0V2FsbFBvc2l0aW9uKHJvb20sIHdhbGwpLCB0aGlzLl9nZXRXYWxsUG9zaXRpb24ob3RoZXJSb29tLCBvdGhlcldhbGwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgTm9pc2UgZnJvbSBcIi4vbm9pc2UuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuaW1wb3J0IHsgbW9kIH0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbmNvbnN0IEYyID0gMC41ICogKE1hdGguc3FydCgzKSAtIDEpO1xuY29uc3QgRzIgPSAoMyAtIE1hdGguc3FydCgzKSkgLyA2O1xuLyoqXG4gKiBBIHNpbXBsZSAyZCBpbXBsZW1lbnRhdGlvbiBvZiBzaW1wbGV4IG5vaXNlIGJ5IE9uZHJlaiBaYXJhXG4gKlxuICogQmFzZWQgb24gYSBzcGVlZC1pbXByb3ZlZCBzaW1wbGV4IG5vaXNlIGFsZ29yaXRobSBmb3IgMkQsIDNEIGFuZCA0RCBpbiBKYXZhLlxuICogV2hpY2ggaXMgYmFzZWQgb24gZXhhbXBsZSBjb2RlIGJ5IFN0ZWZhbiBHdXN0YXZzb24gKHN0ZWd1QGl0bi5saXUuc2UpLlxuICogV2l0aCBPcHRpbWlzYXRpb25zIGJ5IFBldGVyIEVhc3RtYW4gKHBlYXN0bWFuQGRyaXp6bGUuc3RhbmZvcmQuZWR1KS5cbiAqIEJldHRlciByYW5rIG9yZGVyaW5nIG1ldGhvZCBieSBTdGVmYW4gR3VzdGF2c29uIGluIDIwMTIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZXggZXh0ZW5kcyBOb2lzZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGdyYWRpZW50cyBSYW5kb20gZ3JhZGllbnRzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ3JhZGllbnRzID0gMjU2KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2dyYWRpZW50cyA9IFtcbiAgICAgICAgICAgIFswLCAtMV0sXG4gICAgICAgICAgICBbMSwgLTFdLFxuICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgWzAsIDFdLFxuICAgICAgICAgICAgWy0xLCAxXSxcbiAgICAgICAgICAgIFstMSwgMF0sXG4gICAgICAgICAgICBbLTEsIC0xXVxuICAgICAgICBdO1xuICAgICAgICBsZXQgcGVybXV0YXRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JhZGllbnRzOyBpKyspIHtcbiAgICAgICAgICAgIHBlcm11dGF0aW9ucy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIHBlcm11dGF0aW9ucyA9IFJORy5zaHVmZmxlKHBlcm11dGF0aW9ucyk7XG4gICAgICAgIHRoaXMuX3Blcm1zID0gW107XG4gICAgICAgIHRoaXMuX2luZGV4ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyICogZ3JhZGllbnRzOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3Blcm1zLnB1c2gocGVybXV0YXRpb25zW2kgJSBncmFkaWVudHNdKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ZXMucHVzaCh0aGlzLl9wZXJtc1tpXSAlIHRoaXMuX2dyYWRpZW50cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCh4aW4sIHlpbikge1xuICAgICAgICBsZXQgcGVybXMgPSB0aGlzLl9wZXJtcztcbiAgICAgICAgbGV0IGluZGV4ZXMgPSB0aGlzLl9pbmRleGVzO1xuICAgICAgICBsZXQgY291bnQgPSBwZXJtcy5sZW5ndGggLyAyO1xuICAgICAgICBsZXQgbjAgPSAwLCBuMSA9IDAsIG4yID0gMCwgZ2k7IC8vIE5vaXNlIGNvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuICAgICAgICAvLyBTa2V3IHRoZSBpbnB1dCBzcGFjZSB0byBkZXRlcm1pbmUgd2hpY2ggc2ltcGxleCBjZWxsIHdlJ3JlIGluXG4gICAgICAgIGxldCBzID0gKHhpbiArIHlpbikgKiBGMjsgLy8gSGFpcnkgZmFjdG9yIGZvciAyRFxuICAgICAgICBsZXQgaSA9IE1hdGguZmxvb3IoeGluICsgcyk7XG4gICAgICAgIGxldCBqID0gTWF0aC5mbG9vcih5aW4gKyBzKTtcbiAgICAgICAgbGV0IHQgPSAoaSArIGopICogRzI7XG4gICAgICAgIGxldCBYMCA9IGkgLSB0OyAvLyBVbnNrZXcgdGhlIGNlbGwgb3JpZ2luIGJhY2sgdG8gKHgseSkgc3BhY2VcbiAgICAgICAgbGV0IFkwID0gaiAtIHQ7XG4gICAgICAgIGxldCB4MCA9IHhpbiAtIFgwOyAvLyBUaGUgeCx5IGRpc3RhbmNlcyBmcm9tIHRoZSBjZWxsIG9yaWdpblxuICAgICAgICBsZXQgeTAgPSB5aW4gLSBZMDtcbiAgICAgICAgLy8gRm9yIHRoZSAyRCBjYXNlLCB0aGUgc2ltcGxleCBzaGFwZSBpcyBhbiBlcXVpbGF0ZXJhbCB0cmlhbmdsZS5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpbXBsZXggd2UgYXJlIGluLlxuICAgICAgICBsZXQgaTEsIGoxOyAvLyBPZmZzZXRzIGZvciBzZWNvbmQgKG1pZGRsZSkgY29ybmVyIG9mIHNpbXBsZXggaW4gKGksaikgY29vcmRzXG4gICAgICAgIGlmICh4MCA+IHkwKSB7XG4gICAgICAgICAgICBpMSA9IDE7XG4gICAgICAgICAgICBqMSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIGxvd2VyIHRyaWFuZ2xlLCBYWSBvcmRlcjogKDAsMCktPigxLDApLT4oMSwxKVxuICAgICAgICAgICAgaTEgPSAwO1xuICAgICAgICAgICAgajEgPSAxO1xuICAgICAgICB9IC8vIHVwcGVyIHRyaWFuZ2xlLCBZWCBvcmRlcjogKDAsMCktPigwLDEpLT4oMSwxKVxuICAgICAgICAvLyBBIHN0ZXAgb2YgKDEsMCkgaW4gKGksaikgbWVhbnMgYSBzdGVwIG9mICgxLWMsLWMpIGluICh4LHkpLCBhbmRcbiAgICAgICAgLy8gYSBzdGVwIG9mICgwLDEpIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoLWMsMS1jKSBpbiAoeCx5KSwgd2hlcmVcbiAgICAgICAgLy8gYyA9ICgzLXNxcnQoMykpLzZcbiAgICAgICAgbGV0IHgxID0geDAgLSBpMSArIEcyOyAvLyBPZmZzZXRzIGZvciBtaWRkbGUgY29ybmVyIGluICh4LHkpIHVuc2tld2VkIGNvb3Jkc1xuICAgICAgICBsZXQgeTEgPSB5MCAtIGoxICsgRzI7XG4gICAgICAgIGxldCB4MiA9IHgwIC0gMSArIDIgKiBHMjsgLy8gT2Zmc2V0cyBmb3IgbGFzdCBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG4gICAgICAgIGxldCB5MiA9IHkwIC0gMSArIDIgKiBHMjtcbiAgICAgICAgLy8gV29yayBvdXQgdGhlIGhhc2hlZCBncmFkaWVudCBpbmRpY2VzIG9mIHRoZSB0aHJlZSBzaW1wbGV4IGNvcm5lcnNcbiAgICAgICAgbGV0IGlpID0gbW9kKGksIGNvdW50KTtcbiAgICAgICAgbGV0IGpqID0gbW9kKGosIGNvdW50KTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBjb250cmlidXRpb24gZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuICAgICAgICBsZXQgdDAgPSAwLjUgLSB4MCAqIHgwIC0geTAgKiB5MDtcbiAgICAgICAgaWYgKHQwID49IDApIHtcbiAgICAgICAgICAgIHQwICo9IHQwO1xuICAgICAgICAgICAgZ2kgPSBpbmRleGVzW2lpICsgcGVybXNbampdXTtcbiAgICAgICAgICAgIGxldCBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcbiAgICAgICAgICAgIG4wID0gdDAgKiB0MCAqIChncmFkWzBdICogeDAgKyBncmFkWzFdICogeTApO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0MSA9IDAuNSAtIHgxICogeDEgLSB5MSAqIHkxO1xuICAgICAgICBpZiAodDEgPj0gMCkge1xuICAgICAgICAgICAgdDEgKj0gdDE7XG4gICAgICAgICAgICBnaSA9IGluZGV4ZXNbaWkgKyBpMSArIHBlcm1zW2pqICsgajFdXTtcbiAgICAgICAgICAgIGxldCBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcbiAgICAgICAgICAgIG4xID0gdDEgKiB0MSAqIChncmFkWzBdICogeDEgKyBncmFkWzFdICogeTEpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0MiA9IDAuNSAtIHgyICogeDIgLSB5MiAqIHkyO1xuICAgICAgICBpZiAodDIgPj0gMCkge1xuICAgICAgICAgICAgdDIgKj0gdDI7XG4gICAgICAgICAgICBnaSA9IGluZGV4ZXNbaWkgKyAxICsgcGVybXNbamogKyAxXV07XG4gICAgICAgICAgICBsZXQgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG4gICAgICAgICAgICBuMiA9IHQyICogdDIgKiAoZ3JhZFswXSAqIHgyICsgZ3JhZFsxXSAqIHkyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgY29udHJpYnV0aW9ucyBmcm9tIGVhY2ggY29ybmVyIHRvIGdldCB0aGUgZmluYWwgbm9pc2UgdmFsdWUuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgc2NhbGVkIHRvIHJldHVybiB2YWx1ZXMgaW4gdGhlIGludGVydmFsIFstMSwxXS5cbiAgICAgICAgcmV0dXJuIDcwICogKG4wICsgbjEgKyBuMik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRElSUyB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHBhdGhmaW5kZXJcbiAqIEBwYXJhbSB7aW50fSB0b1ggVGFyZ2V0IFggY29vcmRcbiAqIEBwYXJhbSB7aW50fSB0b1kgVGFyZ2V0IFkgY29vcmRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhc3NhYmxlQ2FsbGJhY2sgQ2FsbGJhY2sgdG8gZGV0ZXJtaW5lIG1hcCBwYXNzYWJpbGl0eVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5PThdXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5fdG9YID0gdG9YO1xuICAgICAgICB0aGlzLl90b1kgPSB0b1k7XG4gICAgICAgIHRoaXMuX3Bhc3NhYmxlQ2FsbGJhY2sgPSBwYXNzYWJsZUNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0b3BvbG9neTogOFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fZGlycyA9IERJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDgpIHsgLyogcmVvcmRlciBkaXJzIGZvciBtb3JlIGFlc3RoZXRpYyByZXN1bHQgKHZlcnRpY2FsL2hvcml6b250YWwgZmlyc3QpICovXG4gICAgICAgICAgICB0aGlzLl9kaXJzID0gW1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbMF0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1syXSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzRdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbNl0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1sxXSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzNdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbNV0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1s3XVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0TmVpZ2hib3JzKGN4LCBjeSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGRpciA9IHRoaXMuX2RpcnNbaV07XG4gICAgICAgICAgICBsZXQgeCA9IGN4ICsgZGlyWzBdO1xuICAgICAgICAgICAgbGV0IHkgPSBjeSArIGRpclsxXTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fcGFzc2FibGVDYWxsYmFjayh4LCB5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3gsIHldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsImltcG9ydCBEaWprc3RyYSBmcm9tIFwiLi9kaWprc3RyYS5qc1wiO1xuaW1wb3J0IEFTdGFyIGZyb20gXCIuL2FzdGFyLmpzXCI7XG5leHBvcnQgZGVmYXVsdCB7IERpamtzdHJhLCBBU3RhciB9O1xuIiwiaW1wb3J0IFBhdGggZnJvbSBcIi4vcGF0aC5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgU2ltcGxpZmllZCBEaWprc3RyYSdzIGFsZ29yaXRobTogYWxsIGVkZ2VzIGhhdmUgYSB2YWx1ZSBvZiAxXG4gKiBAYXVnbWVudHMgUk9ULlBhdGhcbiAqIEBzZWUgUk9ULlBhdGhcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlqa3N0cmEgZXh0ZW5kcyBQYXRoIHtcbiAgICBjb25zdHJ1Y3Rvcih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2NvbXB1dGVkID0ge307XG4gICAgICAgIHRoaXMuX3RvZG8gPSBbXTtcbiAgICAgICAgdGhpcy5fYWRkKHRvWCwgdG9ZLCBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gICAgICogQHNlZSBST1QuUGF0aCNjb21wdXRlXG4gICAgICovXG4gICAgY29tcHV0ZShmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBrZXkgPSBmcm9tWCArIFwiLFwiICsgZnJvbVk7XG4gICAgICAgIGlmICghKGtleSBpbiB0aGlzLl9jb21wdXRlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXB1dGUoZnJvbVgsIGZyb21ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShrZXkgaW4gdGhpcy5fY29tcHV0ZWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl9jb21wdXRlZFtrZXldO1xuICAgICAgICB3aGlsZSAoaXRlbSkge1xuICAgICAgICAgICAgY2FsbGJhY2soaXRlbS54LCBpdGVtLnkpO1xuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucHJldjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgbm9uLWNhY2hlZCB2YWx1ZVxuICAgICAqL1xuICAgIF9jb21wdXRlKGZyb21YLCBmcm9tWSkge1xuICAgICAgICB3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5fdG9kby5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKGl0ZW0ueCA9PSBmcm9tWCAmJiBpdGVtLnkgPT0gZnJvbVkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmVpZ2hib3JzID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGl0ZW0ueCwgaXRlbS55KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuICAgICAgICAgICAgICAgIGxldCB4ID0gbmVpZ2hib3JbMF07XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBuZWlnaGJvclsxXTtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSB4ICsgXCIsXCIgKyB5O1xuICAgICAgICAgICAgICAgIGlmIChpZCBpbiB0aGlzLl9jb21wdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IC8qIGFscmVhZHkgZG9uZSAqL1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZCh4LCB5LCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWRkKHgsIHksIHByZXYpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgcHJldjogcHJldlxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jb21wdXRlZFt4ICsgXCIsXCIgKyB5XSA9IG9iajtcbiAgICAgICAgdGhpcy5fdG9kby5wdXNoKG9iaik7XG4gICAgfVxufVxuIiwiaW1wb3J0IFBhdGggZnJvbSBcIi4vcGF0aC5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgU2ltcGxpZmllZCBBKiBhbGdvcml0aG06IGFsbCBlZGdlcyBoYXZlIGEgdmFsdWUgb2YgMVxuICogQGF1Z21lbnRzIFJPVC5QYXRoXG4gKiBAc2VlIFJPVC5QYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFTdGFyIGV4dGVuZHMgUGF0aCB7XG4gICAgY29uc3RydWN0b3IodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RvZG8gPSBbXTtcbiAgICAgICAgdGhpcy5fZG9uZSA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gcG9pbnRcbiAgICAgKiBAc2VlIFJPVC5QYXRoI2NvbXB1dGVcbiAgICAgKi9cbiAgICBjb21wdXRlKGZyb21YLCBmcm9tWSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fdG9kbyA9IFtdO1xuICAgICAgICB0aGlzLl9kb25lID0ge307XG4gICAgICAgIHRoaXMuX2Zyb21YID0gZnJvbVg7XG4gICAgICAgIHRoaXMuX2Zyb21ZID0gZnJvbVk7XG4gICAgICAgIHRoaXMuX2FkZCh0aGlzLl90b1gsIHRoaXMuX3RvWSwgbnVsbCk7XG4gICAgICAgIHdoaWxlICh0aGlzLl90b2RvLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl90b2RvLnNoaWZ0KCk7XG4gICAgICAgICAgICBsZXQgaWQgPSBpdGVtLnggKyBcIixcIiArIGl0ZW0ueTtcbiAgICAgICAgICAgIGlmIChpZCBpbiB0aGlzLl9kb25lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kb25lW2lkXSA9IGl0ZW07XG4gICAgICAgICAgICBpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5laWdoYm9ycyA9IHRoaXMuX2dldE5laWdoYm9ycyhpdGVtLngsIGl0ZW0ueSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IG5laWdoYm9yWzBdO1xuICAgICAgICAgICAgICAgIGxldCB5ID0gbmVpZ2hib3JbMV07XG4gICAgICAgICAgICAgICAgbGV0IGlkID0geCArIFwiLFwiICsgeTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgaW4gdGhpcy5fZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkKHgsIHksIGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5fZG9uZVtmcm9tWCArIFwiLFwiICsgZnJvbVldO1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaXRlbSkge1xuICAgICAgICAgICAgY2FsbGJhY2soaXRlbS54LCBpdGVtLnkpO1xuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucHJldjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWRkKHgsIHksIHByZXYpIHtcbiAgICAgICAgbGV0IGggPSB0aGlzLl9kaXN0YW5jZSh4LCB5KTtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgcHJldjogcHJldixcbiAgICAgICAgICAgIGc6IChwcmV2ID8gcHJldi5nICsgMSA6IDApLFxuICAgICAgICAgICAgaDogaFxuICAgICAgICB9O1xuICAgICAgICAvKiBpbnNlcnQgaW50byBwcmlvcml0eSBxdWV1ZSAqL1xuICAgICAgICBsZXQgZiA9IG9iai5nICsgb2JqLmg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdG9kby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl90b2RvW2ldO1xuICAgICAgICAgICAgbGV0IGl0ZW1GID0gaXRlbS5nICsgaXRlbS5oO1xuICAgICAgICAgICAgaWYgKGYgPCBpdGVtRiB8fCAoZiA9PSBpdGVtRiAmJiBoIDwgaXRlbS5oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvZG8uc3BsaWNlKGksIDAsIG9iaik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RvZG8ucHVzaChvYmopO1xuICAgIH1cbiAgICBfZGlzdGFuY2UoeCwgeSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKE1hdGguYWJzKHggLSB0aGlzLl9mcm9tWCkgKyBNYXRoLmFicyh5IC0gdGhpcy5fZnJvbVkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBsZXQgZHggPSBNYXRoLmFicyh4IC0gdGhpcy5fZnJvbVgpO1xuICAgICAgICAgICAgICAgIGxldCBkeSA9IE1hdGguYWJzKHkgLSB0aGlzLl9mcm9tWSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGR5ICsgTWF0aC5tYXgoMCwgKGR4IC0gZHkpIC8gMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKHggLSB0aGlzLl9mcm9tWCksIE1hdGguYWJzKHkgLSB0aGlzLl9mcm9tWSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiY29uc3QgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FtZVwiKTtcclxuaW1wb3J0ICogYXMgUk9UIGZyb20gXCJyb3QtanNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBncmlkID0ge1xyXG4gICAgd2lkdGg6IDUwLFxyXG4gICAgaGVpZ2h0OiAzNCxcclxuICBcclxuICAgIG1hcDoge1xyXG4gICAgICB3aWR0aDogMjAsXHJcbiAgICAgIGhlaWdodDogMTAsXHJcbiAgICAgIHg6IDEwLFxyXG4gICAgICB5OiAzLFxyXG4gICAgfSxcclxuXHJcbiAgICBlbmVtaWVzOiB7XHJcbiAgICAgIHdpZHRoOjEwLFxyXG4gICAgICBoZWlnaHQ6MTAsXHJcbiAgICAgIHg6IDMxLFxyXG4gICAgICB5OiAzXHJcbiAgICB9LFxyXG5cclxuICAgIGFjdGl2ZVBsYXllcjoge1xyXG4gICAgICB3aWR0aDogMTAsXHJcbiAgICAgIGhlaWdodDogMixcclxuICAgICAgeDoxLFxyXG4gICAgICB5OjNcclxuICAgIH0sXHJcblxyXG4gICAgZGllTWVudToge1xyXG4gICAgICB3aWR0aDo1MCxcclxuICAgICAgaGVpZ2h0OjIsXHJcbiAgICAgIHg6IDEwLFxyXG4gICAgICB5OiAxNFxyXG4gICAgfSxcclxuXHJcbiAgICBhYmlsaXR5TWVudToge1xyXG4gICAgICB3aWR0aDozMCxcclxuICAgICAgaGVpZ2h0OjEsXHJcbiAgICAgIHg6MTAsXHJcbiAgICAgIHk6MTZcclxuICAgIH0sXHJcblxyXG4gICAgcGhhc2VNZW51OiB7XHJcbiAgICAgIHdpZHRoOiAyMCxcclxuICAgICAgaGVpZ2h0OjEsXHJcbiAgICAgIHg6IDEyLFxyXG4gICAgICB5OiAyXHJcbiAgICB9LFxyXG5cclxuICAgIGhlbHBNZW51OiB7XHJcbiAgICAgIHdpZHRoOjQwLFxyXG4gICAgICBoZWlnaHQ6MzBcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGlzcGxheU9wdGlvbnMgPSB7XHJcbiAgICAvLyBDb25maWd1cmUgdGhlIGRpc3BsYXlcclxuICAgIGJnOiBcImJsYWNrXCIsIC8vIGJhY2tncm91bmRcclxuICAgIGZnOiBcIkdyZXlcIiwgLy8gZm9yZWdyb3VuZFxyXG4gICAgZm9udEZhbWlseTogXCJGaXJhIE1vbm9cIiwgLy8gZm9udCAodXNlIGEgbW9ub3NwYWNlIGZvciBlc3RoZXRpY3MpXHJcbiAgICB3aWR0aDogZ3JpZC53aWR0aCxcclxuICAgIGhlaWdodDogZ3JpZC5oZWlnaHQsIC8vIGNhbnZhcyBoZWlnaHQgYW5kIHdpZHRoXHJcbiAgICBmb250U2l6ZTogMTgsIC8vIGNhbnZhcyBmb250c2l6ZVxyXG4gICAgZm9yY2VTcXVhcmVSYXRpbzogdHJ1ZSAvLyBtYWtlIHRoZSBjYW52YXMgc3F1YXJlZCByYXRpb1xyXG4gIH07XHJcblxyXG5leHBvcnQgY29uc3QgZGlzcGxheSA9IG5ldyBST1QuRGlzcGxheShkaXNwbGF5T3B0aW9ucyk7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGlzcGxheS5nZXRDb250YWluZXIoKSk7XHJcblxyXG5jb25zdCBkaXNwbGF5T3B0aW9uc0hlbHAgPSB7XHJcbiAgLy8gQ29uZmlndXJlIHRoZSBkaXNwbGF5XHJcbiAgYmc6IFwiYmxhY2tcIiwgLy8gYmFja2dyb3VuZFxyXG4gIGZnOiBcIkdyZXlcIiwgLy8gZm9yZWdyb3VuZFxyXG4gIGZvbnRGYW1pbHk6IFwiRmlyYSBNb25vXCIsIC8vIGZvbnQgKHVzZSBhIG1vbm9zcGFjZSBmb3IgZXN0aGV0aWNzKVxyXG4gIHdpZHRoOiBncmlkLmhlbHBNZW51LndpZHRoLFxyXG4gIGhlaWdodDogZ3JpZC5oZWxwTWVudS5oZWlnaHQsIC8vIGNhbnZhcyBoZWlnaHQgYW5kIHdpZHRoXHJcbiAgZm9udFNpemU6IDE4LCAvLyBjYW52YXMgZm9udHNpemVcclxuICBmb3JjZVNxdWFyZVJhdGlvOiB0cnVlIC8vIG1ha2UgdGhlIGNhbnZhcyBzcXVhcmVkIHJhdGlvXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCAgZGl2SGVscCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5kaXZIZWxwLmlkID0gJ2hlbHBNZW51JztcclxuXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2SGVscCk7XHJcblxyXG5leHBvcnQgY29uc3QgZGlzcGxheUhlbHAgPSBuZXcgUk9ULkRpc3BsYXkoZGlzcGxheU9wdGlvbnNIZWxwKTtcclxuZGl2SGVscC5hcHBlbmRDaGlsZChkaXNwbGF5SGVscC5nZXRDb250YWluZXIoKSlcclxuZGlzcGxheUhlbHAuZHJhd1RleHQoMCwwLFwiSEVMTE8gQ0FOIFlPVSBTRUUgVEhJU1wiKVxyXG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHByZXNlcnZlQ2FtZWxDYXNlID0gc3RyaW5nID0+IHtcblx0bGV0IGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdGxldCBpc0xhc3RMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjaGFyYWN0ZXIgPSBzdHJpbmdbaV07XG5cblx0XHRpZiAoaXNMYXN0Q2hhckxvd2VyICYmIC9bXFxwe0x1fV0vdS50ZXN0KGNoYXJhY3RlcikpIHtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zbGljZSgwLCBpKSArICctJyArIHN0cmluZy5zbGljZShpKTtcblx0XHRcdGlzTGFzdENoYXJMb3dlciA9IGZhbHNlO1xuXHRcdFx0aXNMYXN0TGFzdENoYXJVcHBlciA9IGlzTGFzdENoYXJVcHBlcjtcblx0XHRcdGlzTGFzdENoYXJVcHBlciA9IHRydWU7XG5cdFx0XHRpKys7XG5cdFx0fSBlbHNlIGlmIChpc0xhc3RDaGFyVXBwZXIgJiYgaXNMYXN0TGFzdENoYXJVcHBlciAmJiAvW1xccHtMbH1dL3UudGVzdChjaGFyYWN0ZXIpKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSAtIDEpICsgJy0nICsgc3RyaW5nLnNsaWNlKGkgLSAxKTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdENoYXJMb3dlciA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlzTGFzdENoYXJMb3dlciA9IGNoYXJhY3Rlci50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBjaGFyYWN0ZXIgJiYgY2hhcmFjdGVyLnRvTG9jYWxlVXBwZXJDYXNlKCkgIT09IGNoYXJhY3Rlcjtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSBjaGFyYWN0ZXIudG9Mb2NhbGVVcHBlckNhc2UoKSA9PT0gY2hhcmFjdGVyICYmIGNoYXJhY3Rlci50b0xvY2FsZUxvd2VyQ2FzZSgpICE9PSBjaGFyYWN0ZXI7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cmluZztcbn07XG5cbmNvbnN0IGNhbWVsQ2FzZSA9IChpbnB1dCwgb3B0aW9ucykgPT4ge1xuXHRpZiAoISh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IEFycmF5LmlzQXJyYXkoaW5wdXQpKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBpbnB1dCB0byBiZSBgc3RyaW5nIHwgc3RyaW5nW11gJyk7XG5cdH1cblxuXHRvcHRpb25zID0ge1xuXHRcdC4uLntwYXNjYWxDYXNlOiBmYWxzZX0sXG5cdFx0Li4ub3B0aW9uc1xuXHR9O1xuXG5cdGNvbnN0IHBvc3RQcm9jZXNzID0geCA9PiBvcHRpb25zLnBhc2NhbENhc2UgPyB4LmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgeC5zbGljZSgxKSA6IHg7XG5cblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdFx0aW5wdXQgPSBpbnB1dC5tYXAoeCA9PiB4LnRyaW0oKSlcblx0XHRcdC5maWx0ZXIoeCA9PiB4Lmxlbmd0aClcblx0XHRcdC5qb2luKCctJyk7XG5cdH0gZWxzZSB7XG5cdFx0aW5wdXQgPSBpbnB1dC50cmltKCk7XG5cdH1cblxuXHRpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0aWYgKGlucHV0Lmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBvcHRpb25zLnBhc2NhbENhc2UgPyBpbnB1dC50b0xvY2FsZVVwcGVyQ2FzZSgpIDogaW5wdXQudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0fVxuXG5cdGNvbnN0IGhhc1VwcGVyQ2FzZSA9IGlucHV0ICE9PSBpbnB1dC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXG5cdGlmIChoYXNVcHBlckNhc2UpIHtcblx0XHRpbnB1dCA9IHByZXNlcnZlQ2FtZWxDYXNlKGlucHV0KTtcblx0fVxuXG5cdGlucHV0ID0gaW5wdXRcblx0XHQucmVwbGFjZSgvXltfLlxcLSBdKy8sICcnKVxuXHRcdC50b0xvY2FsZUxvd2VyQ2FzZSgpXG5cdFx0LnJlcGxhY2UoL1tfLlxcLSBdKyhbXFxwe0FscGhhfVxccHtOfV9dfCQpL2d1LCAoXywgcDEpID0+IHAxLnRvTG9jYWxlVXBwZXJDYXNlKCkpXG5cdFx0LnJlcGxhY2UoL1xcZCsoW1xccHtBbHBoYX1cXHB7Tn1fXXwkKS9ndSwgbSA9PiBtLnRvTG9jYWxlVXBwZXJDYXNlKCkpO1xuXG5cdHJldHVybiBwb3N0UHJvY2VzcyhpbnB1dCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNhbWVsQ2FzZTtcbi8vIFRPRE86IFJlbW92ZSB0aGlzIGZvciB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gY2FtZWxDYXNlO1xuIiwiaW1wb3J0IGNhbWVsY2FzZVNsb3cgZnJvbSAnY2FtZWxjYXNlJztcclxuXHJcbmNvbnN0IGNhbWVsQ2FjaGUgPSB7fTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYW1lbFN0cmluZyA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gY2FtZWxDYWNoZVt2YWx1ZV07XHJcblxyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICBjYW1lbENhY2hlW3ZhbHVlXSA9IGNhbWVsY2FzZVNsb3codmFsdWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2FtZWxDYWNoZVt2YWx1ZV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuIiwiaW1wb3J0IHsgY2FtZWxTdHJpbmcgfSBmcm9tICcuL3V0aWwvc3RyaW5nLXV0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudFJlZ2lzdHJ5IHtcclxuICAgIF9jYml0ID0gMDtcclxuICAgIF9tYXAgPSB7fTtcclxuXHJcbiAgICByZWdpc3RlcihjbGF6eikge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGNhbWVsU3RyaW5nKGNsYXp6Lm5hbWUpO1xyXG5cclxuICAgICAgICBjbGF6ei5wcm90b3R5cGUuX2NrZXkgPSBrZXk7XHJcbiAgICAgICAgY2xhenoucHJvdG90eXBlLl9jYml0ID0gQmlnSW50KCsrdGhpcy5fY2JpdCk7XHJcblxyXG4gICAgICAgIHRoaXMuX21hcFtrZXldID0gY2xheno7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXBba2V5XTtcclxuICAgIH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc01lcmdlYWJsZU9iamVjdCA9IGZ1bmN0aW9uIGlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSB7XG5cdHJldHVybiBpc05vbk51bGxPYmplY3QodmFsdWUpXG5cdFx0JiYgIWlzU3BlY2lhbCh2YWx1ZSlcbn07XG5cbmZ1bmN0aW9uIGlzTm9uTnVsbE9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG59XG5cbmZ1bmN0aW9uIGlzU3BlY2lhbCh2YWx1ZSkge1xuXHR2YXIgc3RyaW5nVmFsdWUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG5cdHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgUmVnRXhwXSdcblx0XHR8fCBzdHJpbmdWYWx1ZSA9PT0gJ1tvYmplY3QgRGF0ZV0nXG5cdFx0fHwgaXNSZWFjdEVsZW1lbnQodmFsdWUpXG59XG5cbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9iNWFjOTYzZmI3OTFkMTI5OGU3ZjM5NjIzNjM4M2JjOTU1ZjkxNmMxL3NyYy9pc29tb3JwaGljL2NsYXNzaWMvZWxlbWVudC9SZWFjdEVsZW1lbnQuanMjTDIxLUwyNVxudmFyIGNhblVzZVN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmZvcjtcbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBjYW5Vc2VTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG5cbmZ1bmN0aW9uIGlzUmVhY3RFbGVtZW50KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG59XG5cbmZ1bmN0aW9uIGVtcHR5VGFyZ2V0KHZhbCkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gW10gOiB7fVxufVxuXG5mdW5jdGlvbiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZCh2YWx1ZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gKG9wdGlvbnMuY2xvbmUgIT09IGZhbHNlICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodmFsdWUpKVxuXHRcdD8gZGVlcG1lcmdlKGVtcHR5VGFyZ2V0KHZhbHVlKSwgdmFsdWUsIG9wdGlvbnMpXG5cdFx0OiB2YWx1ZVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QXJyYXlNZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRyZXR1cm4gdGFyZ2V0LmNvbmNhdChzb3VyY2UpLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0cmV0dXJuIGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKGVsZW1lbnQsIG9wdGlvbnMpXG5cdH0pXG59XG5cbmZ1bmN0aW9uIGdldE1lcmdlRnVuY3Rpb24oa2V5LCBvcHRpb25zKSB7XG5cdGlmICghb3B0aW9ucy5jdXN0b21NZXJnZSkge1xuXHRcdHJldHVybiBkZWVwbWVyZ2Vcblx0fVxuXHR2YXIgY3VzdG9tTWVyZ2UgPSBvcHRpb25zLmN1c3RvbU1lcmdlKGtleSk7XG5cdHJldHVybiB0eXBlb2YgY3VzdG9tTWVyZ2UgPT09ICdmdW5jdGlvbicgPyBjdXN0b21NZXJnZSA6IGRlZXBtZXJnZVxufVxuXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlT3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkge1xuXHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc1xuXHRcdD8gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpLmZpbHRlcihmdW5jdGlvbihzeW1ib2wpIHtcblx0XHRcdHJldHVybiB0YXJnZXQucHJvcGVydHlJc0VudW1lcmFibGUoc3ltYm9sKVxuXHRcdH0pXG5cdFx0OiBbXVxufVxuXG5mdW5jdGlvbiBnZXRLZXlzKHRhcmdldCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXModGFyZ2V0KS5jb25jYXQoZ2V0RW51bWVyYWJsZU93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKVxufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUlzT25PYmplY3Qob2JqZWN0LCBwcm9wZXJ0eSkge1xuXHR0cnkge1xuXHRcdHJldHVybiBwcm9wZXJ0eSBpbiBvYmplY3Rcblx0fSBjYXRjaChfKSB7XG5cdFx0cmV0dXJuIGZhbHNlXG5cdH1cbn1cblxuLy8gUHJvdGVjdHMgZnJvbSBwcm90b3R5cGUgcG9pc29uaW5nIGFuZCB1bmV4cGVjdGVkIG1lcmdpbmcgdXAgdGhlIHByb3RvdHlwZSBjaGFpbi5cbmZ1bmN0aW9uIHByb3BlcnR5SXNVbnNhZmUodGFyZ2V0LCBrZXkpIHtcblx0cmV0dXJuIHByb3BlcnR5SXNPbk9iamVjdCh0YXJnZXQsIGtleSkgLy8gUHJvcGVydGllcyBhcmUgc2FmZSB0byBtZXJnZSBpZiB0aGV5IGRvbid0IGV4aXN0IGluIHRoZSB0YXJnZXQgeWV0LFxuXHRcdCYmICEoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpIC8vIHVuc2FmZSBpZiB0aGV5IGV4aXN0IHVwIHRoZSBwcm90b3R5cGUgY2hhaW4sXG5cdFx0XHQmJiBPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0YXJnZXQsIGtleSkpIC8vIGFuZCBhbHNvIHVuc2FmZSBpZiB0aGV5J3JlIG5vbmVudW1lcmFibGUuXG59XG5cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0KHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG5cdHZhciBkZXN0aW5hdGlvbiA9IHt9O1xuXHRpZiAob3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCh0YXJnZXQpKSB7XG5cdFx0Z2V0S2V5cyh0YXJnZXQpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQodGFyZ2V0W2tleV0sIG9wdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG5cdGdldEtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdGlmIChwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSkge1xuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0aWYgKHByb3BlcnR5SXNPbk9iamVjdCh0YXJnZXQsIGtleSkgJiYgb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdChzb3VyY2Vba2V5XSkpIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBnZXRNZXJnZUZ1bmN0aW9uKGtleSwgb3B0aW9ucykodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldLCBvcHRpb25zKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHNvdXJjZVtrZXldLCBvcHRpb25zKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gZGVzdGluYXRpb25cbn1cblxuZnVuY3Rpb24gZGVlcG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRvcHRpb25zLmFycmF5TWVyZ2UgPSBvcHRpb25zLmFycmF5TWVyZ2UgfHwgZGVmYXVsdEFycmF5TWVyZ2U7XG5cdG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QgPSBvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0IHx8IGlzTWVyZ2VhYmxlT2JqZWN0O1xuXHQvLyBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZCBpcyBhZGRlZCB0byBgb3B0aW9uc2Agc28gdGhhdCBjdXN0b20gYXJyYXlNZXJnZSgpXG5cdC8vIGltcGxlbWVudGF0aW9ucyBjYW4gdXNlIGl0LiBUaGUgY2FsbGVyIG1heSBub3QgcmVwbGFjZSBpdC5cblx0b3B0aW9ucy5jbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZCA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkO1xuXG5cdHZhciBzb3VyY2VJc0FycmF5ID0gQXJyYXkuaXNBcnJheShzb3VyY2UpO1xuXHR2YXIgdGFyZ2V0SXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KTtcblx0dmFyIHNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2ggPSBzb3VyY2VJc0FycmF5ID09PSB0YXJnZXRJc0FycmF5O1xuXG5cdGlmICghc291cmNlQW5kVGFyZ2V0VHlwZXNNYXRjaCkge1xuXHRcdHJldHVybiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2UsIG9wdGlvbnMpXG5cdH0gZWxzZSBpZiAoc291cmNlSXNBcnJheSkge1xuXHRcdHJldHVybiBvcHRpb25zLmFycmF5TWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpXG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIG1lcmdlT2JqZWN0KHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9XG59XG5cbmRlZXBtZXJnZS5hbGwgPSBmdW5jdGlvbiBkZWVwbWVyZ2VBbGwoYXJyYXksIG9wdGlvbnMpIHtcblx0aWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignZmlyc3QgYXJndW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5Jylcblx0fVxuXG5cdHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgbmV4dCkge1xuXHRcdHJldHVybiBkZWVwbWVyZ2UocHJldiwgbmV4dCwgb3B0aW9ucylcblx0fSwge30pXG59O1xuXG52YXIgZGVlcG1lcmdlXzEgPSBkZWVwbWVyZ2U7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVlcG1lcmdlXzE7XG4iLCJpbXBvcnQgbWVyZ2UgZnJvbSAnZGVlcG1lcmdlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWZhYkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihjbGF6eiwgcHJvcGVydGllcyA9IHt9LCBvdmVyd3JpdGUgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5jbGF6eiA9IGNsYXp6O1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XHJcbiAgICAgICAgdGhpcy5vdmVyd3JpdGUgPSBvdmVyd3JpdGU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlUb0VudGl0eShlbnRpdHksIGluaXRpYWxQcm9wcyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNsYXp6LmFsbG93TXVsdGlwbGUgJiYgZW50aXR5Lmhhcyh0aGlzLmNsYXp6KSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMub3ZlcndyaXRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSBlbnRpdHlbdGhpcy5jbGF6ei5wcm90b3R5cGUuX2NrZXldO1xyXG5cclxuICAgICAgICAgICAgZW50aXR5LnJlbW92ZShjb21wKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByb3BzID0gbWVyZ2UodGhpcy5wcm9wZXJ0aWVzLCBpbml0aWFsUHJvcHMpO1xyXG5cclxuICAgICAgICBlbnRpdHkuYWRkKHRoaXMuY2xhenosIHByb3BzKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVmYWIge1xyXG4gICAgbmFtZSA9ICcnO1xyXG4gICAgaW5oZXJpdCA9IFtdO1xyXG4gICAgY29tcG9uZW50cyA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbXBvbmVudChwcmVmYWJDb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMucHVzaChwcmVmYWJDb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5VG9FbnRpdHkoZW50aXR5LCBwcmVmYWJQcm9wcyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5pbmhlcml0LmZvckVhY2goKHBhcmVudCkgPT4ge1xyXG4gICAgICAgICAgICBwYXJlbnQuYXBwbHlUb0VudGl0eShlbnRpdHksIHByZWZhYlByb3BzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYXJyQ29tcHMgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjbGF6eiA9IGNvbXBvbmVudC5jbGF6ejtcclxuICAgICAgICAgICAgY29uc3QgY2tleSA9IGNsYXp6LnByb3RvdHlwZS5fY2tleTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpbml0aWFsQ29tcFByb3BzID0ge307XHJcblxyXG4gICAgICAgICAgICBpZiAoY2xhenouYWxsb3dNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXp6LmtleVByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gY29tcG9uZW50LnByb3BlcnRpZXNbY2xhenoua2V5UHJvcGVydHldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJlZmFiUHJvcHNbY2tleV0gJiYgcHJlZmFiUHJvcHNbY2tleV1ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsQ29tcFByb3BzID0gcHJlZmFiUHJvcHNbY2tleV1ba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYXJyQ29tcHNbY2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyQ29tcHNbY2tleV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmYWJQcm9wc1tja2V5XSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmYWJQcm9wc1tja2V5XVthcnJDb21wc1tja2V5XV1cclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbENvbXBQcm9wcyA9IHByZWZhYlByb3BzW2NrZXldW2FyckNvbXBzW2NrZXldXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFyckNvbXBzW2NrZXldKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsQ29tcFByb3BzID0gcHJlZmFiUHJvcHNbY2tleV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5hcHBseVRvRW50aXR5KGVudGl0eSwgaW5pdGlhbENvbXBQcm9wcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFByZWZhYkNvbXBvbmVudCBmcm9tICcuL1ByZWZhYkNvbXBvbmVudCc7XHJcbmltcG9ydCBQcmVmYWIgZnJvbSAnLi9QcmVmYWInO1xyXG5pbXBvcnQgeyBjYW1lbFN0cmluZyB9IGZyb20gJy4vdXRpbC9zdHJpbmctdXRpbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJlZmFiUmVnaXN0cnkge1xyXG4gICAgX3ByZWZhYnMgPSB7fTtcclxuICAgIF9lbmdpbmUgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgIH1cclxuXHJcbiAgICBkZXNlcmlhbGl6ZShkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJlZCA9IHRoaXMuZ2V0KGRhdGEubmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChyZWdpc3RlcmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcHJlZmFiID0gbmV3IFByZWZhYihkYXRhLm5hbWUpO1xyXG5cclxuICAgICAgICBsZXQgaW5oZXJpdDtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5pbmhlcml0KSkge1xyXG4gICAgICAgICAgICBpbmhlcml0ID0gZGF0YS5pbmhlcml0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEuaW5oZXJpdCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgaW5oZXJpdCA9IFtkYXRhLmluaGVyaXRdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluaGVyaXQgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZWZhYi5pbmhlcml0ID0gaW5oZXJpdC5tYXAoKHBhcmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZWYgPSB0aGlzLmdldChwYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFyZWYpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgICAgICBgUHJlZmFiIFwiJHtkYXRhLm5hbWV9XCIgY2Fubm90IGluaGVyaXQgZnJvbSBQcmVmYWIgXCIke3BhcmVudH1cIiBiZWNhdXNlIGlzIG5vdCByZWdpc3RlcmVkIHlldCEgUHJlZmFicyBtdXN0IGJlIHJlZ2lzdGVyZWQgaW4gdGhlIHJpZ2h0IG9yZGVyLmBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVmO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjb21wcyA9IGRhdGEuY29tcG9uZW50cyB8fCBbXTtcclxuXHJcbiAgICAgICAgY29tcHMuZm9yRWFjaCgoY29tcG9uZW50RGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudERhdGEgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBja2V5ID0gY2FtZWxTdHJpbmcoY29tcG9uZW50RGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGF6eiA9IHRoaXMuX2VuZ2luZS5fY29tcG9uZW50cy5nZXQoY2tleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXp6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZmFiLmFkZENvbXBvbmVudChuZXcgUHJlZmFiQ29tcG9uZW50KGNsYXp6KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnREYXRhID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2tleSA9IGNhbWVsU3RyaW5nKGNvbXBvbmVudERhdGEudHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGF6eiA9IHRoaXMuX2VuZ2luZS5fY29tcG9uZW50cy5nZXQoY2tleSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXp6KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZmFiLmFkZENvbXBvbmVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByZWZhYkNvbXBvbmVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXp6LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RGF0YS5wcm9wZXJ0aWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RGF0YS5vdmVyd3JpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgYFVucmVjb2duaXplZCBjb21wb25lbnQgcmVmZXJlbmNlIFwiJHtjb21wb25lbnREYXRhfVwiIGluIHByZWZhYiBcIiR7ZGF0YS5uYW1lfVwiLiBFbnN1cmUgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIGJlZm9yZSB0aGUgcHJlZmFiLmBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByZWZhYjtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlcihkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgcHJlZmFiID0gdGhpcy5kZXNlcmlhbGl6ZShkYXRhKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcHJlZmFic1twcmVmYWIubmFtZV0gPSBwcmVmYWI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlZmFic1tuYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUod29ybGQsIG5hbWUsIHByb3BlcnRpZXMgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHByZWZhYiA9IHRoaXMuZ2V0KG5hbWUpO1xyXG5cclxuICAgICAgICBpZiAoIXByZWZhYikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICBgQ291bGQgbm90IGluc3RhbnRpYXRlIHByZWZhYiBcIiR7bmFtZX1cIiBzaW5jZSBpdCBpcyBub3QgcmVnaXN0ZXJlZGBcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHdvcmxkLmNyZWF0ZUVudGl0eSgpO1xyXG5cclxuICAgICAgICBlbnRpdHkuX3FlbGlnaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBwcmVmYWIuYXBwbHlUb0VudGl0eShlbnRpdHksIHByb3BlcnRpZXMpO1xyXG5cclxuICAgICAgICBlbnRpdHkuX3FlbGlnaWJsZSA9IHRydWU7XHJcbiAgICAgICAgZW50aXR5Ll9jYW5kaWRhY3koKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBhbGxvd011bHRpcGxlID0gZmFsc2U7XHJcbiAgICBzdGF0aWMga2V5UHJvcGVydHkgPSBudWxsO1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7fTtcclxuXHJcbiAgICBnZXQgd29ybGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5LndvcmxkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhbGxvd011bHRpcGxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmFsbG93TXVsdGlwbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGtleVByb3BlcnR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmtleVByb3BlcnR5O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMgPSB7fSkge1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgdGhpcy5jb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZW50aXR5LnJlbW92ZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBfb25EZXN0cm95ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5vbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmVudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBfb25FdmVudChldnQpIHtcclxuICAgICAgICB0aGlzLm9uRXZlbnQoZXZ0KTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzW2V2dC5oYW5kbGVyTmFtZV0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpc1tldnQuaGFuZGxlck5hbWVdKGV2dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9vbkF0dGFjaGVkKGVudGl0eSkge1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMub25BdHRhY2hlZChlbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICBjb25zdCBvYiA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNvbnN0cnVjdG9yLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgb2Jba2V5XSA9IHRoaXNba2V5XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYjtcclxuICAgIH1cclxuXHJcbiAgICBvbkF0dGFjaGVkKGVudGl0eSkge31cclxuICAgIG9uRGVzdHJveWVkKCkge31cclxuICAgIG9uRXZlbnQoZXZ0KSB7fVxyXG59XHJcbiIsImltcG9ydCB7IGNhbWVsU3RyaW5nIH0gZnJvbSAnLi91dGlsL3N0cmluZy11dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHlFdmVudCB7XHJcbiAgICBkYXRhID0ge307XHJcbiAgICBwcmV2ZW50ZWQgPSBmYWxzZTtcclxuICAgIGhhbmRsZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkYXRhID0ge30pIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyTmFtZSA9IGNhbWVsU3RyaW5nKGBvbiAke3RoaXMubmFtZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICBpcyhuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSA9PT0gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGUoKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnByZXZlbnRlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJldmVudCgpIHtcclxuICAgICAgICB0aGlzLnByZXZlbnRlZCA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuIiwiY29uc3QgT05FID0gMW47XHJcblxyXG5leHBvcnQgY29uc3Qgc3VidHJhY3RCaXQgPSAobnVtLCBiaXQpID0+IHtcclxuICAgIHJldHVybiBudW0gJiB+KDFuIDw8IGJpdCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYWRkQml0ID0gKG51bSwgYml0KSA9PiB7XHJcbiAgICByZXR1cm4gbnVtIHwgKE9ORSA8PCBiaXQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhc0JpdCA9IChudW0sIGJpdCkgPT4ge1xyXG4gICAgcmV0dXJuIChudW0gPj4gYml0KSAlIDJuICE9PSAwbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBiaXRJbnRlcnNlY3Rpb24gPSAobjEsIG4yKSA9PiB7XHJcbiAgICByZXR1cm4gbjEgJiBuMjtcclxufTtcclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xyXG5pbXBvcnQgeyBFbnRpdHlFdmVudCB9IGZyb20gJy4vRW50aXR5RXZlbnQnO1xyXG5pbXBvcnQgeyBhZGRCaXQsIGhhc0JpdCwgc3VidHJhY3RCaXQgfSBmcm9tICcuL3V0aWwvYml0LXV0aWwnO1xyXG5cclxuY29uc3QgYXR0YWNoQ29tcG9uZW50ID0gKGVudGl0eSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjb21wb25lbnQuX2NrZXk7XHJcblxyXG4gICAgZW50aXR5W2tleV0gPSBjb21wb25lbnQ7XHJcbiAgICBlbnRpdHkuY29tcG9uZW50c1trZXldID0gY29tcG9uZW50O1xyXG59O1xyXG5cclxuY29uc3QgYXR0YWNoQ29tcG9uZW50S2V5ZWQgPSAoZW50aXR5LCBjb21wb25lbnQpID0+IHtcclxuICAgIGNvbnN0IGtleSA9IGNvbXBvbmVudC5fY2tleTtcclxuXHJcbiAgICBpZiAoIWVudGl0eS5jb21wb25lbnRzW2tleV0pIHtcclxuICAgICAgICBlbnRpdHlba2V5XSA9IHt9O1xyXG4gICAgICAgIGVudGl0eS5jb21wb25lbnRzW2tleV0gPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBlbnRpdHlba2V5XVtjb21wb25lbnRbY29tcG9uZW50LmtleVByb3BlcnR5XV0gPSBjb21wb25lbnQ7XHJcbiAgICBlbnRpdHkuY29tcG9uZW50c1trZXldW2NvbXBvbmVudFtjb21wb25lbnQua2V5UHJvcGVydHldXSA9IGNvbXBvbmVudDtcclxufTtcclxuXHJcbmNvbnN0IGF0dGFjaENvbXBvbmVudEFycmF5ID0gKGVudGl0eSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjb21wb25lbnQuX2NrZXk7XHJcblxyXG4gICAgaWYgKCFlbnRpdHkuY29tcG9uZW50c1trZXldKSB7XHJcbiAgICAgICAgZW50aXR5W2tleV0gPSBbXTtcclxuICAgICAgICBlbnRpdHkuY29tcG9uZW50c1trZXldID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgZW50aXR5W2tleV0ucHVzaChjb21wb25lbnQpO1xyXG4gICAgZW50aXR5LmNvbXBvbmVudHNba2V5XS5wdXNoKGNvbXBvbmVudCk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVDb21wb25lbnQgPSAoZW50aXR5LCBjb21wb25lbnQpID0+IHtcclxuICAgIGNvbnN0IGtleSA9IGNvbXBvbmVudC5fY2tleTtcclxuXHJcbiAgICBkZWxldGUgZW50aXR5W2tleV07XHJcbiAgICBkZWxldGUgZW50aXR5LmNvbXBvbmVudHNba2V5XTtcclxuXHJcbiAgICBlbnRpdHkuX2NiaXRzID0gc3VidHJhY3RCaXQoZW50aXR5Ll9jYml0cywgY29tcG9uZW50Ll9jYml0KTtcclxuICAgIGVudGl0eS5fY2FuZGlkYWN5KCk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVDb21wb25lbnRLZXllZCA9IChlbnRpdHksIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gY29tcG9uZW50Ll9ja2V5O1xyXG4gICAgY29uc3Qga2V5UHJvcCA9IGNvbXBvbmVudFtjb21wb25lbnQua2V5UHJvcGVydHldO1xyXG5cclxuICAgIGRlbGV0ZSBlbnRpdHlba2V5XVtrZXlQcm9wXTtcclxuICAgIGRlbGV0ZSBlbnRpdHkuY29tcG9uZW50c1trZXldW2tleVByb3BdO1xyXG5cclxuICAgIGlmIChPYmplY3Qua2V5cyhlbnRpdHlba2V5XSkubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICBkZWxldGUgZW50aXR5W2tleV07XHJcbiAgICAgICAgZGVsZXRlIGVudGl0eS5jb21wb25lbnRzW2tleV07XHJcbiAgICAgICAgZW50aXR5Ll9jYml0cyA9IHN1YnRyYWN0Qml0KGVudGl0eS5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICAgICAgZW50aXR5Ll9jYW5kaWRhY3koKTtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUNvbXBvbmVudEFycmF5ID0gKGVudGl0eSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjb21wb25lbnQuX2NrZXk7XHJcbiAgICBjb25zdCBpZHggPSBlbnRpdHlba2V5XS5pbmRleE9mKGNvbXBvbmVudCk7XHJcblxyXG4gICAgZW50aXR5W2tleV0uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICBlbnRpdHkuY29tcG9uZW50c1trZXldLnNwbGljZShpZHgsIDEpO1xyXG5cclxuICAgIGlmIChlbnRpdHlba2V5XS5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgIGRlbGV0ZSBlbnRpdHlba2V5XTtcclxuICAgICAgICBkZWxldGUgZW50aXR5LmNvbXBvbmVudHNba2V5XTtcclxuICAgICAgICBlbnRpdHkuX2NiaXRzID0gc3VidHJhY3RCaXQoZW50aXR5Ll9jYml0cywgY29tcG9uZW50Ll9jYml0KTtcclxuICAgICAgICBlbnRpdHkuX2NhbmRpZGFjeSgpXHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBzZXJpYWxpemVDb21wb25lbnQgPSAoY29tcG9uZW50KSA9PiB7XHJcbiAgICByZXR1cm4gY29tcG9uZW50LnNlcmlhbGl6ZSgpO1xyXG59O1xyXG5cclxuY29uc3Qgc2VyaWFsaXplQ29tcG9uZW50QXJyYXkgPSAoYXJyKSA9PiB7XHJcbiAgICByZXR1cm4gYXJyLm1hcChzZXJpYWxpemVDb21wb25lbnQpO1xyXG59O1xyXG5cclxuY29uc3Qgc2VyaWFsaXplQ29tcG9uZW50S2V5ZWQgPSAob2IpID0+IHtcclxuICAgIGNvbnN0IHNlciA9IHt9O1xyXG5cclxuICAgIGZvciAoY29uc3QgayBpbiBvYikge1xyXG4gICAgICAgIHNlcltrXSA9IHNlcmlhbGl6ZUNvbXBvbmVudChvYltrXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbnRpdHkge1xyXG4gICAgX2NiaXRzID0gMG47XHJcbiAgICBfcWVsaWdpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih3b3JsZCwgaWQpIHtcclxuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaXNEZXN0cm95ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBfY2FuZGlkYWN5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9xZWxpZ2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy53b3JsZC5fY2FuZGlkYXRlKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGQoY2xhenosIHByb3BlcnRpZXMpIHtcclxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgY2xhenoocHJvcGVydGllcyk7XHJcblxyXG4gICAgICAgIGlmIChjb21wb25lbnQua2V5UHJvcGVydHkpIHtcclxuICAgICAgICAgICAgYXR0YWNoQ29tcG9uZW50S2V5ZWQodGhpcywgY29tcG9uZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudC5hbGxvd011bHRpcGxlKSB7XHJcbiAgICAgICAgICAgIGF0dGFjaENvbXBvbmVudEFycmF5KHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXR0YWNoQ29tcG9uZW50KHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jYml0cyA9IGFkZEJpdCh0aGlzLl9jYml0cywgY29tcG9uZW50Ll9jYml0KTtcclxuICAgICAgICBjb21wb25lbnQuX29uQXR0YWNoZWQodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhbmRpZGFjeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhcyhjbGF6eikge1xyXG4gICAgICAgIHJldHVybiBoYXNCaXQodGhpcy5fY2JpdHMsIGNsYXp6LnByb3RvdHlwZS5fY2JpdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKGNvbXBvbmVudCkge1xyXG4gICAgICAgIGlmIChjb21wb25lbnQua2V5UHJvcGVydHkpIHtcclxuICAgICAgICAgICAgcmVtb3ZlQ29tcG9uZW50S2V5ZWQodGhpcywgY29tcG9uZW50KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudC5hbGxvd011bHRpcGxlKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNvbXBvbmVudEFycmF5KHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtb3ZlQ29tcG9uZW50KHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb21wb25lbnQuX29uRGVzdHJveWVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmNvbXBvbmVudHNba107XHJcblxyXG4gICAgICAgICAgICBpZiAodiBpbnN0YW5jZW9mIENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2JpdHMgPSBzdWJ0cmFjdEJpdCh0aGlzLl9jYml0cywgdi5fY2JpdCk7XHJcbiAgICAgICAgICAgICAgICB2Ll9vbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHYgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2Ygdikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NiaXRzID0gc3VidHJhY3RCaXQodGhpcy5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Ll9vbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgT2JqZWN0LnZhbHVlcyh2KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NiaXRzID0gc3VidHJhY3RCaXQodGhpcy5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Ll9vbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdGhpc1trXTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tcG9uZW50c1trXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2NhbmRpZGFjeSgpO1xyXG4gICAgICAgIHRoaXMud29ybGQuX2Rlc3Ryb3llZCh0aGlzLmlkKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB7fTtcclxuICAgICAgICB0aGlzLmlzRGVzdHJveWVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmNvbXBvbmVudHNba107XHJcblxyXG4gICAgICAgICAgICBpZiAodiBpbnN0YW5jZW9mIENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50c1trXSA9IHNlcmlhbGl6ZUNvbXBvbmVudCh2KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHNba10gPSBzZXJpYWxpemVDb21wb25lbnRBcnJheSh2KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHNba10gPSBzZXJpYWxpemVDb21wb25lbnRLZXllZCh2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgIC4uLmNvbXBvbmVudHMsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmaXJlRXZlbnQobmFtZSwgZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGV2dCA9IG5ldyBFbnRpdHlFdmVudChuYW1lLCBkYXRhKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmNvbXBvbmVudHNba2V5XTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2IGluc3RhbmNlb2YgQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2Ll9vbkV2ZW50KGV2dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGV2dC5wcmV2ZW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZ0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHYgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdltpXS5fb25FdmVudChldnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZ0LnByZXZlbnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZ0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIE9iamVjdC52YWx1ZXModikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuX29uRXZlbnQoZXZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2dC5wcmV2ZW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldnQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgYWRkQml0LCBiaXRJbnRlcnNlY3Rpb24gfSBmcm9tICcuL3V0aWwvYml0LXV0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFF1ZXJ5IHtcclxuICAgIF9jYWNoZSA9IFtdO1xyXG4gICAgX29uQWRkTGlzdGVuZXJzID0gW107XHJcbiAgICBfb25SZW1vdmVMaXN0ZW5lcnMgPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih3b3JsZCwgZmlsdGVycykge1xyXG4gICAgICAgIHRoaXMuX3dvcmxkID0gd29ybGQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGFueSA9IGZpbHRlcnMuYW55IHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IGFsbCA9IGZpbHRlcnMuYWxsIHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IG5vbmUgPSBmaWx0ZXJzLm5vbmUgfHwgW107XHJcblxyXG4gICAgICAgIHRoaXMuX2FueSA9IGFueS5yZWR1Y2UoKHMsIGMpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGFkZEJpdChzLCBjLnByb3RvdHlwZS5fY2JpdCk7XHJcbiAgICAgICAgfSwgMG4pO1xyXG5cclxuICAgICAgICB0aGlzLl9hbGwgPSBhbGwucmVkdWNlKChzLCBjKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRCaXQocywgYy5wcm90b3R5cGUuX2NiaXQpO1xyXG4gICAgICAgIH0sIDBuKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbm9uZSA9IG5vbmUucmVkdWNlKChzLCBjKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRCaXQocywgYy5wcm90b3R5cGUuX2NiaXQpO1xyXG4gICAgICAgIH0sIDBuKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbnRpdHlBZGRlZChmbikge1xyXG4gICAgICAgIHRoaXMuX29uQWRkTGlzdGVuZXJzLnB1c2goZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW50aXR5UmVtb3ZlZChmbikge1xyXG4gICAgICAgIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXJzLnB1c2goZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhcyhlbnRpdHkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pZHgoZW50aXR5KSA+PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlkeChlbnRpdHkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGUuaW5kZXhPZihlbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIG1hdGNoZXMoZW50aXR5KSB7XHJcbiAgICAgICAgY29uc3QgYml0cyA9IGVudGl0eS5fY2JpdHM7XHJcblxyXG4gICAgICAgIGNvbnN0IGFueSA9IHRoaXMuX2FueSA9PT0gMG4gfHwgYml0SW50ZXJzZWN0aW9uKGJpdHMsIHRoaXMuX2FueSkgPiAwO1xyXG4gICAgICAgIGNvbnN0IGFsbCA9IGJpdEludGVyc2VjdGlvbihiaXRzLCB0aGlzLl9hbGwpID09PSB0aGlzLl9hbGw7XHJcbiAgICAgICAgY29uc3Qgbm9uZSA9IGJpdEludGVyc2VjdGlvbihiaXRzLCB0aGlzLl9ub25lKSA9PT0gMG47XHJcblxyXG4gICAgICAgIHJldHVybiBhbnkgJiYgYWxsICYmIG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY2FuZGlkYXRlKGVudGl0eSkge1xyXG4gICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuaWR4KGVudGl0eSk7XHJcbiAgICAgICAgY29uc3QgaXNUcmFja2luZyA9IGlkeCA+PSAwO1xyXG5cclxuICAgICAgICBpZiAoIWVudGl0eS5pc0Rlc3Ryb3llZCAmJiB0aGlzLm1hdGNoZXMoZW50aXR5KSkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVHJhY2tpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlLnB1c2goZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uQWRkTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiBjYihlbnRpdHkpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNUcmFja2luZykge1xyXG4gICAgICAgICAgICB0aGlzLl9jYWNoZS5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgdGhpcy5fb25SZW1vdmVMaXN0ZW5lcnMuZm9yRWFjaCgoY2IpID0+IGNiKGVudGl0eSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2goKSB7XHJcbiAgICAgICAgdGhpcy5fY2FjaGUgPSBbXTtcclxuICAgICAgICB0aGlzLl93b3JsZC5fZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuZGlkYXRlKGVudGl0eSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tICcuL0VudGl0eSc7XHJcbmltcG9ydCB7IFF1ZXJ5IH0gZnJvbSAnLi9RdWVyeSc7XHJcbmltcG9ydCB7IGNhbWVsU3RyaW5nIH0gZnJvbSAnLi91dGlsL3N0cmluZy11dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBXb3JsZCB7XHJcbiAgICBfaWQgPSAwO1xyXG4gICAgX3F1ZXJpZXMgPSBbXTtcclxuICAgIF9lbnRpdGllcyA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVJZCgpIHtcclxuICAgICAgICByZXR1cm4gKyt0aGlzLl9pZCArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbnRpdHkoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXMuZ2V0KGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbnRpdGllcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXMudmFsdWVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlRW50aXR5KGlkID0gdGhpcy5jcmVhdGVJZCgpKSB7XHJcbiAgICAgICAgY29uc3QgZW50aXR5ID0gbmV3IEVudGl0eSh0aGlzLCBpZCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2VudGl0aWVzLnNldChpZCwgZW50aXR5KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95RW50aXR5KGlkKSB7XHJcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5nZXRFbnRpdHkoaWQpO1xyXG5cclxuICAgICAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgIGVudGl0eS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3lFbnRpdGllcygpIHtcclxuICAgICAgICB0aGlzLl9lbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICAgICAgZW50aXR5LmRlc3Ryb3koKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveUVudGl0aWVzKCk7XHJcbiAgICAgICAgdGhpcy5faWQgPSAwO1xyXG4gICAgICAgIHRoaXMuX3F1ZXJpZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9lbnRpdGllcyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVRdWVyeShmaWx0ZXJzKSB7XHJcbiAgICAgICAgY29uc3QgcXVlcnkgPSBuZXcgUXVlcnkodGhpcywgZmlsdGVycyk7XHJcblxyXG4gICAgICAgIHRoaXMuX3F1ZXJpZXMucHVzaChxdWVyeSk7XHJcblxyXG4gICAgICAgIHJldHVybiBxdWVyeTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQcmVmYWIobmFtZSwgcHJvcGVydGllcyA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5naW5lLl9wcmVmYWJzLmNyZWF0ZSh0aGlzLCBuYW1lLCBwcm9wZXJ0aWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoZW50aXRpZXMpIHtcclxuICAgICAgICBjb25zdCBqc29uID0gW107XHJcbiAgICAgICAgY29uc3QgbGlzdCA9IGVudGl0aWVzIHx8IHRoaXMuX2VudGl0aWVzO1xyXG5cclxuICAgICAgICBsaXN0LmZvckVhY2goKGUpID0+IHtcclxuICAgICAgICAgICAganNvbi5wdXNoKGUuc2VyaWFsaXplKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdGllczoganNvbixcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlc2VyaWFsaXplKGRhdGEpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eURhdGEgb2YgZGF0YS5lbnRpdGllcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVPckdldEVudGl0eUJ5SWQoZW50aXR5RGF0YS5pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eURhdGEgb2YgZGF0YS5lbnRpdGllcykge1xyXG4gICAgICAgICAgICB0aGlzLl9kZXNlcmlhbGl6ZUVudGl0eShlbnRpdHlEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZU9yR2V0RW50aXR5QnlJZChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEVudGl0eShpZCkgfHwgdGhpcy5jcmVhdGVFbnRpdHkoaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9kZXNlcmlhbGl6ZUVudGl0eShkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgeyBpZCwgLi4uY29tcG9uZW50cyB9ID0gZGF0YTtcclxuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLl9jcmVhdGVPckdldEVudGl0eUJ5SWQoaWQpO1xyXG4gICAgICAgIGVudGl0eS5fcWVsaWdpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbXBvbmVudHMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlID0gY2FtZWxTdHJpbmcoa2V5KTtcclxuICAgICAgICAgICAgY29uc3QgZGVmID0gdGhpcy5lbmdpbmUuX2NvbXBvbmVudHMuZ2V0KHR5cGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRlZi5hbGxvd011bHRpcGxlKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKHZhbHVlKS5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmFkZChkZWYsIGQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuYWRkKGRlZiwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVudGl0eS5fcWVsaWdpYmxlID0gdHJ1ZTtcclxuICAgICAgICBlbnRpdHkuX2NhbmRpZGFjeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jYW5kaWRhdGUoZW50aXR5KSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcmllcy5mb3JFYWNoKChxKSA9PiBxLmNhbmRpZGF0ZShlbnRpdHkpKTtcclxuICAgIH1cclxuXHJcbiAgICBfZGVzdHJveWVkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmRlbGV0ZShpZCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50UmVnaXN0cnkgfSBmcm9tICcuL0NvbXBvbmVudFJlZ2lzdHJ5JztcclxuaW1wb3J0IHsgUHJlZmFiUmVnaXN0cnkgfSBmcm9tICcuL1ByZWZhYlJlZ2lzdHJ5JztcclxuaW1wb3J0IHsgV29ybGQgfSBmcm9tICcuL1dvcmxkJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmdpbmUge1xyXG4gICAgX2NvbXBvbmVudHMgPSBuZXcgQ29tcG9uZW50UmVnaXN0cnkoKTtcclxuICAgIF9wcmVmYWJzID0gbmV3IFByZWZhYlJlZ2lzdHJ5KHRoaXMpO1xyXG5cclxuICAgIHJlZ2lzdGVyQ29tcG9uZW50KGNsYXp6KSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cy5yZWdpc3RlcihjbGF6eik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJQcmVmYWIoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3ByZWZhYnMucmVnaXN0ZXIoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlV29ybGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBXb3JsZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95V29ybGQod29ybGQpIHtcclxuICAgICAgICB3b3JsZC5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGNhY2hlID0ge1xyXG4gICAgZW50aXRpZXNBdExvY2F0aW9uOiB7fSxcclxuICB9O1xyXG4gIFxyXG4gIGV4cG9ydCBjb25zdCBhZGRDYWNoZVNldCA9IChuYW1lLCBrZXksIHZhbHVlKSA9PiB7XHJcbiAgICBpZiAoY2FjaGVbbmFtZV1ba2V5XSkge1xyXG4gICAgICBjYWNoZVtuYW1lXVtrZXldLmFkZCh2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjYWNoZVtuYW1lXVtrZXldID0gbmV3IFNldCgpO1xyXG4gICAgICBjYWNoZVtuYW1lXVtrZXldLmFkZCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgY29uc3QgZGVsZXRlQ2FjaGVTZXQgPSAobmFtZSwga2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgaWYgKGNhY2hlW25hbWVdW2tleV0gJiYgY2FjaGVbbmFtZV1ba2V5XS5oYXModmFsdWUpKSB7XHJcbiAgICAgIGNhY2hlW25hbWVdW2tleV0uZGVsZXRlKHZhbHVlKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGV4cG9ydCBjb25zdCByZWFkQ2FjaGVTZXQgPSAobmFtZSwga2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgaWYgKGNhY2hlW25hbWVdW2tleV0pIHtcclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlW25hbWVdW2tleV0uZ2V0KHZhbHVlKTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICByZXR1cm4gY2FjaGVbbmFtZV1ba2V5XTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGV4cG9ydCBkZWZhdWx0IGNhY2hlOyAiLCJleHBvcnQgY29uc3QgQ2hlY2tTaW5nbGVzID0gKGNvdW50cywgQWxsb3dlZCA9IFsxLDIsMyw0LDUsNl0pID0+IHtcclxuICAgIHJldHVybiAoQ2hlY2tTYW1lcyhjb3VudHMsMSwgQWxsb3dlZCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja0RvdWJsZXMgPSAoY291bnRzLCBBbGxvd2VkID0gWzEsMiwzLDQsNSw2XSkgPT4ge1xyXG4gICAgcmV0dXJuIChDaGVja1NhbWVzKGNvdW50cywyLCBBbGxvd2VkKSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrVHJpcGxlcyA9IChjb3VudHMsIEFsbG93ZWQgPSBbMSwyLDMsNCw1LDZdKSA9PiB7XHJcbiAgICByZXR1cm4gKENoZWNrU2FtZXMoY291bnRzLDMsIEFsbG93ZWQpKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ2hlY2tRdWFkcyA9IChjb3VudHMsICBBbGxvd2VkID0gWzEsMiwzLDQsNSw2XSkgPT4ge1xyXG4gICAgcmV0dXJuIChDaGVja1NhbWVzKGNvdW50cyw0LCBBbGxvd2VkKSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrU2FtZXMgPSAoY291bnRzLCBtYXRjaCwgQWxsb3dlZCA9IFsxLDIsMyw0LDUsNl0pID0+IHtcclxuICAgIHZhciBmb3VuZCA9IFtdO1xyXG4gICAgZm9yIChsZXQgeCA9IDE7IHggPCA3OyB4KyspIHtcclxuICAgICAgICBpZihjb3VudHNbeF0gJiYgY291bnRzW3hdID09IG1hdGNoICYmIEFsbG93ZWQuaW5jbHVkZXMoeCkpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmb3VuZCBtYXRjaFwiKVxyXG4gICAgICAgICAgICBmb3VuZC5wdXNoKHgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vaWYgd2Ugd2VudCBvdmVyIGFsbG93ZWQgbGltaXRcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coY291bnRzKVxyXG4gICAgY29uc29sZS5sb2coZm91bmQpXHJcbiAgICBjb25zb2xlLmxvZyhcIm1hdGNoOlwiICsgbWF0Y2gpXHJcbiAgICByZXR1cm4gZm91bmRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrU3RyYWlnaHQgPSAoY291bnRzLCBtYXRjaCkgPT4ge1xyXG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICB2YXIgbWF0Y2hlZCA9IDE7XHJcbiAgICBmb3IodmFyIHggPSAxOyB4IDwgNzsgeCsrKXtcclxuICAgICAgICBpZihjb3VudHNbeF0gfHwgMCkgeyAvL21ha2Ugc3VyZSB0aGlzIGRpZSBleGlzdHNcclxuICAgICAgICAgICAgaWYoY291bnRzW3gtMV0gfHwgMCl7IC8vbWFrZSBzdXJlIHByZXZpb3VzIGRpZSBleGlzdHNcclxuICAgICAgICAgICAgICAgIGlmKGNvdW50c1t4XSA9PSBjb3VudHNbeC0xXSl7IC8vaWYgY3VycmVudCBkaWUgZXF1YWxzIHByZXZpb3VzIGRpZVxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQrKzsgLy93ZSBmb3VuZCBhIG1hdGNoIHNvIHVwIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobWF0Y2hlZCA9PSBtYXRjaCl7IC8vIGlmIG91ciBtYXRjaGVkIGNvdW50IGVxdWFscyBvdXIgc3RyYWlnaHQgdGFyZ2V0IGZvdW5kID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZCA9IDE7IC8vY3VycmVudCBkb2Vzbid0IG1hdGNoIHByZXZpb3VzIHNldCBtYXRjaGVkIGJhY2sgdG8gY291bnQgMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGNvdW50cylcclxuXHJcbiAgICByZXR1cm4gZm91bmRcclxufSIsImV4cG9ydCBjb25zdCB0b0NlbGwgPSAoY2VsbE9ySWQpID0+IHtcclxuICAgIGxldCBjZWxsID0gY2VsbE9ySWQ7XHJcbiAgICBpZiAodHlwZW9mIGNlbGwgPT09IFwic3RyaW5nXCIpIGNlbGwgPSBpZFRvQ2VsbChjZWxsKTtcclxuICBcclxuICAgIHJldHVybiBjZWxsO1xyXG4gIH07XHJcbiAgXHJcbiAgZXhwb3J0IGNvbnN0IHRvTG9jSWQgPSAoY2VsbE9ySWQpID0+IHtcclxuICAgIGxldCBsb2NJZCA9IGNlbGxPcklkO1xyXG4gICAgaWYgKHR5cGVvZiBsb2NJZCAhPT0gXCJzdHJpbmdcIikgbG9jSWQgPSBjZWxsVG9JZChsb2NJZCk7XHJcbiAgXHJcbiAgICByZXR1cm4gbG9jSWQ7XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IGlkVG9DZWxsID0gKGlkKSA9PiB7XHJcbiAgICBjb25zdCBjb29yZHMgPSBpZC5zcGxpdChcIixcIik7XHJcbiAgICByZXR1cm4geyB4OiBwYXJzZUludChjb29yZHNbMF0sIDEwKSwgeTogcGFyc2VJbnQoY29vcmRzWzFdLCAxMCkgfTtcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGNlbGxUb0lkID0gKHsgeCwgeSB9KSA9PiBgJHt4fSwke3l9YDsiLCJpbXBvcnQgd29ybGQgZnJvbSBcIi4uL3N0YXRlL2Vjc1wiO1xyXG5pbXBvcnQgKiBhcyB5YWh0emVlIGZyb20gXCIuL3lhaHR6ZWVcIlxyXG5pbXBvcnQge2dhbWVTdGF0ZSwgdGFyZ2V0RW50aXR5LCBTZXRRdWV1ZWRBYmlsaXR5LCBFeGFtaW5lVGFyZ2V0RW5hYmxlLCBTZXRRdWV1ZWRFbnRpdHl9IGZyb20gXCIuLi9pbmRleFwiXHJcbmltcG9ydCB7IHJlYWRDYWNoZVNldCB9IGZyb20gXCIuLi9zdGF0ZS9jYWNoZVwiO1xyXG5pbXBvcnQge3RvTG9jSWR9IGZyb20gXCIuLi9saWIvZ3JpZFwiXHJcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSBcIi4uL3N0YXRlL2NvbXBvbmVudFwiXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHkgPSB7XHJcbiAgICBjYW5Vc2U6IChhYmlsaXR5LGVudGl0eSwgZGljZSA9IEdldFNlbGVjdGVkRGllKGVudGl0eSkpID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdjYW5Vc2UnKVxyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrU2luZ2xlcyhkaWNlKVxyXG4gICAgfSxcclxuICAgIG9uVXNlOiAoYWJpbGl0eSwgZW50aXR5LCB0YXJnZXQ9IG51bGwpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygndXNlZCcpXHJcbiAgICAgICAgY29uc29sZS5sb2coYWJpbGl0eSlcclxuICAgICAgICBjb25zb2xlLmxvZyhhYmlsaXR5LmFiaWxpdHlQaGFzZS5waGFzZSlcclxuICAgICAgICBHZXRTZWxlY3RlZERpZShlbnRpdHkpXHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImdhaW4tbW92ZW1lbnRcIiwgMylcclxuICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG4gICAgICAgIFxyXG4gICAgfSxcclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eU1vdmUgPSB7XHJcbiAgICBjYW5Vc2U6IChhYmlsaXR5LGVudGl0eSwgZGljZSA9IEdldFNlbGVjdGVkRGllKGVudGl0eSkpID0+IHtcclxuICAgICAgICByZXR1cm4geWFodHplZS5DaGVja1NpbmdsZXMoZGljZSlcclxuICAgIH0sXHJcbiAgICBvblVzZTogKGFiaWxpdHksIGVudGl0eSx0YXJnZXQgPSBudWxsKSA9PiB7XHJcbiAgICAgICAgLy9nZXQgc2VsZWN0ZWQgZGllXHJcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KVxyXG4gICAgICAgIHZhciB0b0dhaW4gPSAwXHJcbiAgICAgICAgZm9yKHZhciB4ID0gMTsgeDwgNzt4Kyspe1xyXG4gICAgICAgICAgICBpZihzZWxlY3RlZFt4XSAmJiBzZWxlY3RlZFt4XSA9PSAxKXtcclxuICAgICAgICAgICAgICAgIHRvR2FpbiA9IHhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZ2Fpbi1tb3ZlbWVudFwiLCB0b0dhaW4pO1xyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJleGhhdXN0LXNlbGVjdGVkXCIpXHJcbiAgICB9LFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eURvZGdlID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tEb3VibGVzKGRpY2UpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6IChhYmlsaXR5LCBlbnRpdHksdGFyZ2V0PSBudWxsKSA9PiB7XHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImdhaW4tZG9kZ2VcIiwgMSk7XHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5U3dvcmRKYWIgPSB7XHJcbiAgICBjYW5Vc2U6IChhYmlsaXR5LGVudGl0eSwgZGljZSA9IEdldFNlbGVjdGVkRGllKGVudGl0eSkpID0+IHtcclxuICAgICAgICBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuSXNUdXJuRW5kKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geWFodHplZS5DaGVja1NpbmdsZXMoZGljZSwgYWJpbGl0eS5hYmlsaXR5QWxsb3dlZERpZS5hbGxvd2VkKVxyXG4gICAgfSxcclxuICAgIG9uVXNlOihhYmlsaXR5LGVudGl0eSwgdGFyZ2V0ID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIC8vZ2V0IHRhcmdldCFcclxuICAgICAgICAvLyB2YXIgZ2V0RW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OnRhcmdldEVudGl0eS5wb3NpdGlvbi54LHk6dGFyZ2V0RW50aXR5LnBvc2l0aW9uLnl9KSlcclxuICAgICAgICAvLyAvL2FwcGx5IGF0ayB0byBlYWNoIHRpbGUgd2l0aGluIHRoaXMgYXR0YWNrcyBjb29yZHNcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhnZXRFbnRpdGllc0F0TG9jKVxyXG4gICAgICAgIC8vIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaChlaWQgPT4ge1xyXG4gICAgICAgIC8vICAgICB2YXIgZmV0Y2hlZEVudCA9IHdvcmxkLmdldEVudGl0eShlaWQpXHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGZldGNoZWRFbnQpXHJcbiAgICAgICAgLy8gICAgIGlmKGZldGNoZWRFbnQuaGFzKGNvbXBvbmVudHMuTGF5ZXJNYXApKXtcclxuICAgICAgICAvLyAgICAgICAgIC8vdGhpcyBpcyBvdXIgbWFwIHRpbGUgP1xyXG4gICAgICAgIC8vICAgICB9ICAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvL2RvIGFiaWxpdHlcclxuICAgICAgICAvL2ZvciBlYWNoIHRhcmdldCBjcmVhdGUgZG1nIHRpbGVcclxuICAgICAgICBjb25zb2xlLmxvZyhhYmlsaXR5KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFiaWxpdHkuYWJpbGl0eVRhcmdldC5jb29yZHMpXHJcblxyXG4gICAgICAgIHZhciBjb29yZHMgPSBSb3RhdGVDb29yZHMoYWJpbGl0eSwgZW50aXR5LCB0YXJnZXQpXHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vY3JlYXRlIGRtZyB0aWxlc1xyXG4gICAgICAgIGNvb3Jkcy5mb3JFYWNoKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29vcmQpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldC54ICsgXCIsXCIrdGFyZ2V0LnkpXHJcbiAgICAgICAgICAgIHZhciBuZXdEbWdUaWxlID0gIHdvcmxkLmNyZWF0ZUVudGl0eSgpXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OnRhcmdldC54ICsgY29vcmRbMF0seTp0YXJnZXQueSArIGNvb3JkWzFdfSApXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuRmFzdEF0dGFjaylcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5EbWdUaWxlKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgICAgICBpZihhYmlsaXR5Lmhhcyhjb21wb25lbnRzLkFiaWxpdHlFbmRzVHVybikpe1xyXG4gICAgICAgICAgICBlbnRpdHkuYWRkKGNvbXBvbmVudHMuSXNUdXJuRW5kKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3NldCBnYW1lc3RhdGUgYmFja1xyXG4gICAgfSwgXHJcbiAgICBvblRhcmdldDogKGFiaWxpdHksZW50aXR5KSA9PiB7XHJcbiAgICAgICAgLy9zZXQgZ2FtZVN0YXRlIHRvIHRhcmdldGluZ1xyXG4gICAgICAgIC8vY29uc29sZS5sb2cocXVldWVkQWJpbGl0eSlcclxuICAgICAgICBTZXRRdWV1ZWRBYmlsaXR5KGFiaWxpdHkpXHJcbiAgICAgICAgU2V0UXVldWVkRW50aXR5KGVudGl0eSlcclxuICAgICAgICAvL3F1ZXVlZEFiaWxpdHkgPSBhYmlsaXR5XHJcbiAgICAgICAgRXhhbWluZVRhcmdldEVuYWJsZShcInRhcmdldGluZ1wiKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVN3b3JkU3dpbmcgPSB7XHJcbiAgICBjYW5Vc2U6IChhYmlsaXR5LGVudGl0eSwgZGljZSA9IEdldFNlbGVjdGVkRGllKGVudGl0eSkpID0+IHtcclxuICAgICAgICBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuSXNUdXJuRW5kKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geWFodHplZS5DaGVja1NpbmdsZXMoZGljZSwgYWJpbGl0eS5hYmlsaXR5QWxsb3dlZERpZS5hbGxvd2VkKVxyXG4gICAgfSxcclxuICAgIG9uVXNlOihhYmlsaXR5LGVudGl0eSx0YXJnZXQ9IG51bGwpID0+IHtcclxuICAgICAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSx0YXJnZXQpXHJcbiAgICAgICAgLy9kbyBhYmlsaXR5XHJcbiAgICAgICAgLy9mb3IgZWFjaCB0YXJnZXQgY3JlYXRlIGRtZyB0aWxlXHJcbiAgICAgICAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb29yZClcclxuICAgICAgICAgICAgdmFyIG5ld0RtZ1RpbGUgPSAgd29ybGQuY3JlYXRlRW50aXR5KClcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6dGFyZ2V0LnggKyBjb29yZFswXSx5OnRhcmdldC55ICsgY29vcmRbMV19IClcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5TbG93QXR0YWNrKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkRtZ1RpbGUpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG4gICAgICAgIGlmKGFiaWxpdHkuaGFzKGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKSl7XHJcbiAgICAgICAgICAgIGVudGl0eS5hZGQoY29tcG9uZW50cy5Jc1R1cm5FbmQpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgXHJcbiAgICBvblRhcmdldDogKGFiaWxpdHksZW50aXR5KSA9PiB7XHJcbiAgICAgICAgU2V0UXVldWVkQWJpbGl0eShhYmlsaXR5KVxyXG4gICAgICAgIFNldFF1ZXVlZEVudGl0eShlbnRpdHkpXHJcbiAgICAgICAgLy9xdWV1ZWRBYmlsaXR5ID0gYWJpbGl0eVxyXG4gICAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJ0YXJnZXRpbmdcIilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlTcGVhclRocnVzdCA9IHtcclxuICAgIGNhblVzZTogKGFiaWxpdHksZW50aXR5LCBkaWNlID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KSkgPT4ge1xyXG4gICAgICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5Jc1R1cm5FbmQpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrU2luZ2xlcyhkaWNlLCBhYmlsaXR5LmFiaWxpdHlBbGxvd2VkRGllLmFsbG93ZWQpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6KGFiaWxpdHksZW50aXR5LHRhcmdldD0gbnVsbCkgPT4ge1xyXG4gICAgICAgIHZhciBjb29yZHMgPSBSb3RhdGVDb29yZHMoYWJpbGl0eSwgZW50aXR5LHRhcmdldClcclxuICAgICAgICAvL2RvIGFiaWxpdHlcclxuICAgICAgICAvL2ZvciBlYWNoIHRhcmdldCBjcmVhdGUgZG1nIHRpbGVcclxuICAgICAgICBjb29yZHMuZm9yRWFjaChjb29yZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvb3JkKVxyXG4gICAgICAgICAgICB2YXIgbmV3RG1nVGlsZSA9ICB3b3JsZC5jcmVhdGVFbnRpdHkoKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDp0YXJnZXQueCArIGNvb3JkWzBdLHk6dGFyZ2V0LnkgKyBjb29yZFsxXX0gKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLlNsb3dBdHRhY2spXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuRG1nVGlsZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJleGhhdXN0LXNlbGVjdGVkXCIpXHJcbiAgICAgICAgaWYoYWJpbGl0eS5oYXMoY29tcG9uZW50cy5BYmlsaXR5RW5kc1R1cm4pKXtcclxuICAgICAgICAgICAgZW50aXR5LmFkZChjb21wb25lbnRzLklzVHVybkVuZClcclxuICAgICAgICB9XHJcbiAgICB9LCBcclxuICAgIG9uVGFyZ2V0OiAoYWJpbGl0eSxlbnRpdHkpID0+IHtcclxuICAgICAgICBTZXRRdWV1ZWRBYmlsaXR5KGFiaWxpdHkpXHJcbiAgICAgICAgU2V0UXVldWVkRW50aXR5KGVudGl0eSlcclxuICAgICAgICAvL3F1ZXVlZEFiaWxpdHkgPSBhYmlsaXR5XHJcbiAgICAgICAgRXhhbWluZVRhcmdldEVuYWJsZShcInRhcmdldGluZ1wiKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eURvdWJsZUF4ZVN3aW5nID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzVHVybkVuZCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tEb3VibGVzKGRpY2UsIGFiaWxpdHkuYWJpbGl0eUFsbG93ZWREaWUuYWxsb3dlZClcclxuICAgIH0sXHJcbiAgICBvblVzZTpHZW5lcmljU2xvd0F0dGFjaywgXHJcbiAgICBvblRhcmdldDogKGFiaWxpdHksZW50aXR5KSA9PiB7XHJcbiAgICAgICAgU2V0UXVldWVkQWJpbGl0eShhYmlsaXR5KVxyXG4gICAgICAgIFNldFF1ZXVlZEVudGl0eShlbnRpdHkpXHJcbiAgICAgICAgLy9xdWV1ZWRBYmlsaXR5ID0gYWJpbGl0eVxyXG4gICAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJ0YXJnZXRpbmdcIilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlBeGVEZWNhcGl0YXRlID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzVHVybkVuZCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tEb3VibGVzKGRpY2UsIGFiaWxpdHkuYWJpbGl0eUFsbG93ZWREaWUuYWxsb3dlZClcclxuICAgIH0sXHJcbiAgICBvblVzZTpHZW5lcmljRmFzdEF0dGFjaywgXHJcbiAgICBvblRhcmdldDogKGFiaWxpdHksZW50aXR5KSA9PiB7XHJcbiAgICAgICAgU2V0UXVldWVkQWJpbGl0eShhYmlsaXR5KVxyXG4gICAgICAgIFNldFF1ZXVlZEVudGl0eShlbnRpdHkpXHJcbiAgICAgICAgLy9xdWV1ZWRBYmlsaXR5ID0gYWJpbGl0eVxyXG4gICAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJ0YXJnZXRpbmdcIilcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gR2VuZXJpY1Nsb3dBdHRhY2soYWJpbGl0eSxlbnRpdHksdGFyZ2V0PSBudWxsKSB7XHJcbiAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSx0YXJnZXQpXHJcbiAgICAvL2RvIGFiaWxpdHlcclxuICAgIC8vZm9yIGVhY2ggdGFyZ2V0IGNyZWF0ZSBkbWcgdGlsZVxyXG4gICAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNvb3JkKVxyXG4gICAgICAgIHZhciBuZXdEbWdUaWxlID0gIHdvcmxkLmNyZWF0ZUVudGl0eSgpXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6dGFyZ2V0LnggKyBjb29yZFswXSx5OnRhcmdldC55ICsgY29vcmRbMV19IClcclxuICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLlNsb3dBdHRhY2spXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5EbWdUaWxlLCB7ZG1nOiBhYmlsaXR5LmFiaWxpdHlEYW1hZ2UuZG1nfSlcclxuICAgIH0pXHJcbiAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG4gICAgaWYoYWJpbGl0eS5oYXMoY29tcG9uZW50cy5BYmlsaXR5RW5kc1R1cm4pKXtcclxuICAgICAgICBlbnRpdHkuYWRkKGNvbXBvbmVudHMuSXNUdXJuRW5kKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBHZW5lcmljRmFzdEF0dGFjayhhYmlsaXR5LGVudGl0eSx0YXJnZXQ9IG51bGwpIHtcclxuICAgIHZhciBjb29yZHMgPSBSb3RhdGVDb29yZHMoYWJpbGl0eSwgZW50aXR5LHRhcmdldClcclxuICAgIC8vZG8gYWJpbGl0eVxyXG4gICAgLy9mb3IgZWFjaCB0YXJnZXQgY3JlYXRlIGRtZyB0aWxlXHJcbiAgICBjb29yZHMuZm9yRWFjaChjb29yZCA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coY29vcmQpXHJcbiAgICAgICAgdmFyIG5ld0RtZ1RpbGUgPSAgd29ybGQuY3JlYXRlRW50aXR5KClcclxuICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDp0YXJnZXQueCArIGNvb3JkWzBdLHk6dGFyZ2V0LnkgKyBjb29yZFsxXX0gKVxyXG4gICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuRmFzdEF0dGFjaylcclxuICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkRtZ1RpbGUsIHtkbWc6IGFiaWxpdHkuYWJpbGl0eURhbWFnZS5kbWd9KVxyXG4gICAgfSlcclxuICAgIGVudGl0eS5maXJlRXZlbnQoXCJleGhhdXN0LXNlbGVjdGVkXCIpXHJcblxyXG4gICAgaWYoYWJpbGl0eS5oYXMoY29tcG9uZW50cy5BYmlsaXR5RW5kc1R1cm4pKXtcclxuICAgICAgICBlbnRpdHkuYWRkKGNvbXBvbmVudHMuSXNUdXJuRW5kKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgR2V0U2VsZWN0ZWREaWUgPSAoZW50aXR5KSA9PiB7XHJcbiAgICBsZXQgZGllTGlzdCA9IFtdXHJcbiAgICBmb3IodmFyIHggPSAwO3ggPCBlbnRpdHkuZGllLmxlbmd0aDsgeCsrKXtcclxuICAgICAgICBpZihlbnRpdHkuZGllW3hdLnNlbGVjdGVkICYmICFlbnRpdHkuZGllW3hdLmV4aGF1c3RlZCl7XHJcbiAgICAgICAgICAgIGRpZUxpc3QucHVzaChlbnRpdHkuZGllW3hdLm51bWJlcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGllTGlzdC5zb3J0KClcclxuICAgIHZhciBjb3VudHMgPSB7fTtcclxuICAgIGRpZUxpc3QuZm9yRWFjaChmdW5jdGlvbih4KSB7IGNvdW50c1t4XSA9IChjb3VudHNbeF0gfHwgMCkrMTsgfSk7XHJcbiAgICAvL2NvbnNvbGUubG9nKGNvdW50cylcclxuICAgIHJldHVybiBjb3VudHM7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBHZXRBbGxEaWUgPSAoZW50aXR5KSA9PiB7XHJcbiAgICBsZXQgZGllTGlzdCA9IFtdXHJcbiAgICBjb25zb2xlLmxvZyhcIkFJIERJQ0VcIilcclxuICAgIGZvcih2YXIgeCA9IDA7eCA8IGVudGl0eS5kaWUubGVuZ3RoOyB4Kyspe1xyXG4gICAgICAgIGlmKCFlbnRpdHkuZGllW3hdLmV4aGF1c3RlZCl7XHJcbiAgICAgICAgICAgIGRpZUxpc3QucHVzaChlbnRpdHkuZGllW3hdLm51bWJlcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGllTGlzdC5zb3J0KClcclxuICAgIGNvbnNvbGUubG9nKGRpZUxpc3QudG9TdHJpbmcoKSlcclxuICAgIHZhciBjb3VudHMgPSB7fTtcclxuICAgIGRpZUxpc3QuZm9yRWFjaChmdW5jdGlvbih4KSB7IGNvdW50c1t4XSA9IChjb3VudHNbeF0gfHwgMCkrMTsgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhjb3VudHMpXHJcbiAgICByZXR1cm4gY291bnRzO1xyXG59XHJcblxyXG5jb25zdCBSb3RhdGVDb29yZHMgPSAoYWJpbGl0eSwgZW50aXR5LCB0YXJnZXQpID0+IHtcclxuICAgIC8vZG8gd2UgbmVlZCB0byByb3RhdGUgY29vcmRzP1xyXG4gICAgdmFyIGRpZmZYID0gdGFyZ2V0LnggLSBlbnRpdHkucG9zaXRpb24ueCAgXHJcbiAgICB2YXIgZGlmZlkgPSB0YXJnZXQueSAtIGVudGl0eS5wb3NpdGlvbi55O1xyXG4gICAgdmFyIGNvb3JkcyA9IGFiaWxpdHkuYWJpbGl0eVRhcmdldC5jb29yZHM7XHJcbiAgICBjb25zb2xlLmxvZyhcImJlZm9yZSByb3RhdGVcIilcclxuICAgIGNvbnNvbGUubG9nKGNvb3JkcylcclxuICAgIGNvbnNvbGUubG9nKFwiZGlyZWN0aW9uXCIpXHJcbiAgICBpZihkaWZmWSA8PSAtMSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1cFwiKVxyXG4gICAgfWVsc2UgaWYoZGlmZlkgPj0gMSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJkb3duXCIpXHJcbiAgICAgICAgY29vcmRzID0gQ29udmVydENvb3Jkc0Rvd24oY29vcmRzKVxyXG4gICAgfWVsc2UgaWYoZGlmZlggPD0gLTEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibGVmdFwiKVxyXG4gICAgICAgIGNvb3JkcyA9IENvbnZlcnRDb29yZHNMZWZ0KGNvb3JkcylcclxuICAgIH1lbHNlIGlmKGRpZmZYID49IDEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicmlnaHRcIilcclxuICAgICAgICBjb29yZHMgPSBDb252ZXJ0Q29vcmRzUmlnaHQoY29vcmRzKVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJhZnRlciByb3RhdGVcIilcclxuICAgIGNvbnNvbGUubG9nKGNvb3JkcylcclxuICAgIHJldHVybiBjb29yZHNcclxufVxyXG5cclxuY29uc3QgQ29udmVydENvb3Jkc1JpZ2h0ID0gKGNvb3JkcykgPT4ge1xyXG4gICAgdmFyIG5ld1JpZ2h0ID0gW11cclxuICAgIGNvb3Jkcy5mb3JFYWNoKCAoY28pID0+IHtcclxuICAgICAgICB2YXIgaG9sZGVyID0gW11cclxuICAgICAgICBob2xkZXIucHVzaChjb1sxXSlcclxuICAgICAgICBob2xkZXIucHVzaChjb1swXSlcclxuICAgICAgICBob2xkZXJbMF0gPSBob2xkZXJbMF0gKiAtMVxyXG4gICAgICAgIGhvbGRlclsxXSA9IGhvbGRlclsxXSAqIDFcclxuICAgICAgICBuZXdSaWdodC5wdXNoKGhvbGRlcilcclxuICAgIH0pXHJcbiAgICByZXR1cm4gbmV3UmlnaHRcclxufVxyXG5cclxuY29uc3QgQ29udmVydENvb3Jkc0xlZnQgPSAoY29vcmRzKSA9PiB7XHJcbiAgICB2YXIgbmV3UmlnaHQgPSBbXVxyXG4gICAgY29vcmRzLmZvckVhY2goIChjbykgPT4ge1xyXG4gICAgICAgIHZhciBob2xkZXIgPSBbXVxyXG4gICAgICAgIGhvbGRlci5wdXNoKGNvWzFdKVxyXG4gICAgICAgIGhvbGRlci5wdXNoKGNvWzBdKVxyXG4gICAgICAgIC8vaG9sZGVyWzBdID0gaG9sZGVyWzBdICogLTFcclxuICAgICAgICBob2xkZXJbMV0gPSBob2xkZXJbMV0gKiAtMVxyXG4gICAgICAgIG5ld1JpZ2h0LnB1c2goaG9sZGVyKVxyXG4gICAgfSlcclxuICAgIHJldHVybiBuZXdSaWdodFxyXG59XHJcblxyXG5jb25zdCBDb252ZXJ0Q29vcmRzRG93biA9IChjb29yZHMpID0+IHtcclxuICAgIHZhciBuZXdSaWdodCA9IFtdXHJcbiAgICBjb29yZHMuZm9yRWFjaCggKGNvKSA9PiB7XHJcbiAgICAgICAgdmFyIGhvbGRlciA9IFtdXHJcbiAgICAgICAgaG9sZGVyID0gWy4uLmNvXVxyXG4gICAgICAgIGhvbGRlclswXSA9IGhvbGRlclswXSAqIC0xXHJcbiAgICAgICAgaG9sZGVyWzFdID0gaG9sZGVyWzFdICogLTFcclxuICAgICAgICBuZXdSaWdodC5wdXNoKGhvbGRlcilcclxuICAgIH0pXHJcbiAgICByZXR1cm4gbmV3UmlnaHRcclxufSIsImltcG9ydCB3b3JsZCBmcm9tIFwiLi9lY3NcIlxyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcImdlb3RpY1wiO1xyXG5pbXBvcnQgeyByYW5kb20sIGNvbXBhY3QgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCB7YWRkQ2FjaGVTZXQsIGRlbGV0ZUNhY2hlU2V0fSBmcm9tIFwiLi9jYWNoZVwiXHJcbmltcG9ydCAqIGFzIEFiaWxpdGllcyBmcm9tIFwiLi4vc3lzdGVtcy9hYmlsaXRpZXNcIlxyXG5pbXBvcnQgKiBhcyBNb3ZlbWVudHMgZnJvbSBcIi4uL3N5c3RlbXMvbW92ZW1lbnRcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcGVhcmFuY2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7XHJcbiAgICAgIGNvbG9yOiBcIiNmZjAwNzdcIixcclxuICAgICAgY2hhcjogXCI/XCIsXHJcbiAgICAgIGJhY2tncm91bmQ6IFwiIzAwMFwiLFxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERlc2NyaXB0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0geyBcclxuICAgICAgICBuYW1lOiBcIk5vIE5hbWVcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJub3RoaW5nXCJcclxuICAgICB9O1xyXG4gIH1cclxuZXhwb3J0IGNsYXNzIElzQmxvY2tpbmcgZXh0ZW5kcyBDb21wb25lbnQge31cclxuXHJcbmV4cG9ydCBjbGFzcyBQb3NpdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHsgeDogMCwgeTogMCB9O1xyXG4gIFxyXG4gICAgb25BdHRhY2hlZCgpIHtcclxuICAgICAgY29uc3QgbG9jSWQgPSBgJHt0aGlzLmVudGl0eS5wb3NpdGlvbi54fSwke3RoaXMuZW50aXR5LnBvc2l0aW9uLnl9YDtcclxuICAgICAgYWRkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgbG9jSWQsIHRoaXMuZW50aXR5LmlkKTtcclxuICAgIH1cclxuICBcclxuICAgIG9uRGVzdHJveWVkKCkgeyAgICAgIFxyXG4gICAgICAgIGNvbnN0IGxvY0lkID0gYCR7dGhpcy54fSwke3RoaXMueX1gO1xyXG4gICAgICAgIGRlbGV0ZUNhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIGxvY0lkLCB0aGlzLmVudGl0eS5pZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuZXhwb3J0IGNsYXNzIEhlYWx0aCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHsgbWF4OiA0LCBjdXJyZW50OiA0IH07XHJcbiAgXHJcbiAgICBvblRha2VEYW1hZ2UoZXZ0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpJ3ZlIGJlZW4gaGl0IVwiKVxyXG4gICAgICAgIHRoaXMuY3VycmVudCAtPSBldnQuZGF0YS5hbW91bnQ7XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib3dcIilcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50IDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5lbnRpdHkucmVtb3ZlKHRoaXMuZW50aXR5LnBvc2l0aW9uKVxyXG4gICAgICAgICAgICB0aGlzLmVudGl0eS5hZGQoSXNEZWFkKVxyXG4gICAgICAgICAgICAvLyB0aGlzLmVudGl0eS5hcHBlYXJhbmNlLmNoYXIgPSBcIiVcIjtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkucmVtb3ZlKHRoaXMuZW50aXR5LmFpKVxyXG4gICAgICAgICAgICAvLyB0aGlzLmVudGl0eS5yZW1vdmUodGhpcy5lbnRpdHkuaXNCbG9ja2luZylcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkucmVtb3ZlKHRoaXMuZW50aXR5LmxheWVyNDAwKVxyXG4gICAgICAgICAgICAvLyB0aGlzLmVudGl0eS5hZGQoSXNEZWFkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuYWRkKExheWVyMzAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgIGV2dC5oYW5kbGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBNb3ZlbWVudCBleHRlbmRzIENvbXBvbmVudHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge21vdmVtZW50OiAwLCBkb2RnZTogMCwgeDogMCwgeTogMH1cclxuXHJcbiAgICBvbkdhaW5Nb3ZlbWVudChldnQpIHtcclxuICAgICAgdGhpcy5tb3ZlbWVudCArPSBldnQuZGF0YTtcclxuICAgICAgY29uc29sZS5sb2coXCJuZXcgbW92ZW1lbnQ6IFwiICsgdGhpcy5tb3ZlbWVudClcclxuICAgICAgZXZ0LmhhbmRsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uR2FpbkRvZGdlKGV2dCl7XHJcbiAgICAgIHRoaXMuZG9kZ2UgKz0gZXZ0LmRhdGE7XHJcbiAgICAgIGV2dC5oYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblR1cm5FbmQoZXZ0KXtcclxuICAgICAgY29uc29sZS5sb2coJ2VuZGVkIGluIG1vdmUnKVxyXG4gICAgICB0aGlzLm1vdmVtZW50ID0gMFxyXG4gICAgICB0aGlzLmRvZGdlID0gMFxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hhbmdlUG9zaXRpb24oZXZ0KXtcclxuICAgICAgdGhpcy54ID0gZXZ0LmRhdGEueFxyXG4gICAgICB0aGlzLnkgPSBldnQuZGF0YS55XHJcbiAgICAgIGV2dC5oYW5kbGUoKVxyXG4gICAgfVxyXG4gIFxyXG4gICAgb25BdHRlbXB0TW92ZShldnQpe1xyXG4gICAgICBpZih0aGlzLm1vdmVtZW50IDw9IDAgJiYgdGhpcy5kb2RnZSA8PSAwKXtcclxuICAgICAgICBldnQuaGFuZGxlKClcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIHZhciBzdWNjZXNzID0gTW92ZW1lbnRzLkF0dGVtcHRNb3ZlKHRoaXMsIHRoaXMuZW50aXR5KVxyXG4gICAgICAgIGlmKHN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgLy9jaGVjayBpZiB3ZSB1c2VkIG1vdmVtZW50IG9yIGRvZGdlXHJcbiAgICAgICAgICBpZih0aGlzLmRvZGdlID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZG9kZ2UgPSBNYXRoLm1heCgwLHRoaXMuZG9kZ2UgLSAxKVxyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50IC09IDFcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy54ID0gMFxyXG4gICAgICB0aGlzLnkgPSAwXHJcbiAgICAgIGV2dC5oYW5kbGUoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGNsYXNzIEdhaW5Nb3ZlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHthbW91bnQ6M31cclxuXHJcbiAgICBvblR1cm5TdGFydChldnQpe1xyXG4gICAgICB0aGlzLmVudGl0eS5maXJlRXZlbnQoXCJnYWluLW1vdmVtZW50XCIsIHRoaXMuYW1vdW50KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGNsYXNzIEFybW91ciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHsgbWF4OiAwLCBjdXJyZW50OiAwfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGNsYXNzIFN0YW1pbmEgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7IG1heDogNSwgY3VycmVudDogNSwgdXNlZDogMCwgcmVnZW46IDR9XHJcbiAgICBvbkF0dGFjaGVkKCl7XHJcbiAgICAgIC8vY29uc29sZS5sb2coXCJmaXJlZCBzdGFtaW5hXCIpXHJcbiAgICAgIC8vYWRkIGRpZSB0byB0aGlzIGVudGl0eVxyXG4gICAgICBmb3IodmFyIHggPSAwOyB4IDwgdGhpcy5tYXg7eCsrKXtcclxuICAgICAgICB0aGlzLmVudGl0eS5hZGQoRGllKVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMub25Sb2xsRGljZSgpXHJcbiAgICB9XHJcblxyXG4gICAgb25UdXJuRW5kKGV2dCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnZG9pbmcgdHVybiBlbmQnKVxyXG4gICAgICAvL2dhaW4gc3RhbWluYSBiYWNrIDQtdXNlZCBzdGFtaW5hIHRoaXMgdHVyblxyXG4gICAgICAvL3RoaXMub25VcGRhdGVTdGFtaW5hKClcclxuICAgICAgdGhpcy5jdXJyZW50ID0gTWF0aC5taW4odGhpcy5tYXgsIHRoaXMuY3VycmVudCArIE1hdGgubWF4KDAsdGhpcy5yZWdlbi10aGlzLnVzZWQpKVxyXG4gICAgICB0aGlzLnVzZWQgPSAwO1xyXG4gICAgICB0aGlzLm9uUm9sbERpY2UoKVxyXG4gICAgICAvL2V2dC5oYW5kbGUoKVxyXG4gICAgfVxyXG5cclxuICAgIG9uUm9sbERpY2UoKXtcclxuICAgICAgLy9sb29wIG92ZXIgYWxsIGRpZSBhbmQgc2h1ZmZsZSB0aGVtIGFuZCBleGhhdXN0IG9uZXMgdGhhdCBhcmUgcGFzdCBtYXhcclxuICAgICAgZm9yKHZhciB4ID0gMDsgeCA8IHRoaXMubWF4OyB4Kyspe1xyXG4gICAgICAgIHRoaXMuZW50aXR5LmRpZVt4XS5zZWxlY3RlZCA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5lbnRpdHkuZGllW3hdLmV4aGF1c3RlZCA9ICh4Pj10aGlzLmN1cnJlbnQpXHJcbiAgICAgICAgdGhpcy5lbnRpdHkuZGllW3hdLm51bWJlciA9IHJhbmRvbSgxLCA2KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXNlU3RhbWluYShldnQpe1xyXG4gICAgICB0aGlzLmN1cnJlbnQgPSBNYXRoLm1heCh0aGlzLmN1cnJlbnQgLSBldnQuZGF0YSwgMClcclxuICAgIH1cclxuXHJcbiAgICBvbkFpVXNlU3RhbWluYShldnQpe1xyXG4gICAgICB0aGlzLnVzZWQgKz0gZXZ0LmRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGVTdGFtaW5hKCl7XHJcbiAgICAgIC8vdGhpcy5jdXJyZW50ID0gTWF0aC5taW4oMCwgdGhpcy5jdXJyZW50Kz0gTWF0aC5tYXgoNC10aGlzLnVzZWQsdGhpcy5tYXgpKVxyXG4gICAgICAvL3RoaXMuY3VycmVudCA9IHRoaXMuY3VycmVudCAtIHRoaXMudXNlZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBEaWUgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIGFsbG93TXVsdGlwbGUgPSB0cnVlO1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7bnVtYmVyOiAwLCBzZWxlY3RlZDogZmFsc2UsIGV4aGF1c3RlZDogZmFsc2V9XHJcblxyXG4gICAgXHJcbiAgICBvbkV4aGF1c3RTZWxlY3RlZChldnQpe1xyXG4gICAgICBpZih0aGlzLnNlbGVjdGVkKXtcclxuICAgICAgICB0aGlzLmVudGl0eS5zdGFtaW5hLnVzZWQrKztcclxuICAgICAgICB0aGlzLmVudGl0eS5zdGFtaW5hLmN1cnJlbnQtLTtcclxuICAgICAgICB0aGlzLmV4aGF1c3RlZCA9IHRydWVcclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2VcclxuXHJcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZUV2ZW50KFwidXBkYXRlLXN0YW1pbmFcIilcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGNsYXNzIElzVHVybkVuZCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBvblR1cm5FbmQoZXZ0KSB7XHJcbiAgICAgIHRoaXMuZGVzdHJveSgpXHJcbiAgICB9XHJcbiAgfVxyXG4gIGV4cG9ydCBjbGFzcyBJc1BsYXllckNvbnRyb2xsZWQgZXh0ZW5kcyBDb21wb25lbnR7fVxyXG4gIGV4cG9ydCBjbGFzcyBJc0VuZW15IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2VuZW15OiB0cnVlfVxyXG4gIH1cclxuICBleHBvcnQgY2xhc3MgQWkgZXh0ZW5kcyBDb21wb25lbnQge31cclxuXHJcbiAgZXhwb3J0IGNsYXNzIExheWVyTWFwIGV4dGVuZHMgQ29tcG9uZW50IHt9XHJcbiAgZXhwb3J0IGNsYXNzIExheWVyVW5pdCBleHRlbmRzIENvbXBvbmVudCB7fVxyXG5cclxuICBleHBvcnQgY2xhc3MgU2xvd0F0dGFjayBleHRlbmRzIENvbXBvbmVudCB7fVxyXG4gIGV4cG9ydCBjbGFzcyBGYXN0QXR0YWNrIGV4dGVuZHMgQ29tcG9uZW50IHt9XHJcbiAgZXhwb3J0IGNsYXNzIElzRGVhZCBleHRlbmRzIENvbXBvbmVudCB7fSAvL25lZWRzIHRvIHJlbW92ZSBpcyBibG9jayBhbmQgY2hhbmdlIGFwcGVhcmFuY2UgdG8gY29ycHNlIGFuZCBzdWNoP1xyXG4gIGV4cG9ydCBjbGFzcyBEbWdUaWxlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2RtZzogMX1cclxuICB9XHJcblxyXG4gIC8vYWJpbGl0aWVzXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5TGlzdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7YWJpbGl0aWVzOiBbXX1cclxuXHJcbiAgb25BdHRhY2hlZCgpe1xyXG4gICAgLy91cG9uIGNyZWF0aW9uIGdlbmVyYXRlIHRoZSBwcmVmYWJzIGFuZCBmaWxsIHRoaXMgbGlzdFxyXG4gICAgdmFyIGFiaWxpdGllcyA9IFtdXHJcblxyXG4gICAgdGhpcy5hYmlsaXRpZXMuZm9yRWFjaCggKGFiaWwpID0+IHtcclxuICAgICAgYWJpbGl0aWVzLnB1c2god29ybGQuY3JlYXRlUHJlZmFiKGFiaWwpKVxyXG4gICAgfSlcclxuICAgIHRoaXMuYWJpbGl0aWVzPWFiaWxpdGllc1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlUYXJnZXQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2Nvb3JkczogW1swLDBdXX1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlBbGxvd2VkRGllIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcGVydGllcyA9IHthbGxvd2VkOiBbMSwyLDMsNCw1LDZdfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eUZ1bmN0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2Z1bmN0aW9uOiBBYmlsaXRpZXMuQWJpbGl0eX0gXHJcbn1cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlQaGFzZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7cGhhc2U6IFwiQW55XCJ9XHJcbn1cclxuICBcclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlTcGVlZCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7c3BlZWQ6IFwiSW5zdGFudFwifVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eVN0YW1pbmFDb3N0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcGVydGllcyA9IHthbW91bnQ6IDF9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5U21hbGxOYW1lIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcGVydGllcyA9IHtzbWFsbE5hbWU6IFwiYWJsXCJ9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5UmFuZ2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge3JhbmdlOiAxfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eURhbWFnZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7ZG1nOiAxfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eUVuZHNUdXJuIGV4dGVuZHMgQ29tcG9uZW50IHt9IiwiaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIjtcclxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tIFwiLi4vc3RhdGUvY29tcG9uZW50XCJcclxuaW1wb3J0IHsgZ3JpZCB9IGZyb20gXCIuLi9saWIvY2FudmFzXCI7XHJcbmltcG9ydCB7IGFkZENhY2hlU2V0LCBkZWxldGVDYWNoZVNldCwgcmVhZENhY2hlU2V0IH0gZnJvbSBcIi4uL3N0YXRlL2NhY2hlXCI7XHJcbmltcG9ydCB7dG9DZWxsLCB0b0xvY0lkfSBmcm9tIFwiLi4vbGliL2dyaWRcIlxyXG5cclxuZXhwb3J0IGNvbnN0IEF0dGVtcHRNb3ZlID0gKG1vdmVDb21wLCBlbnRpdHkpID0+IHtcclxuICAgIC8vbW92ZSBjb21wIHdpbGwgY29udGFpbiBhbiB4L3kgY2hhbmdlXHJcblxyXG4gICAgLy9lbnRpdHkgaXMgdGhlIG1vdmluZyBlbnRpdHlcclxuICAgIGNvbnNvbGUubG9nKFwiY2hlY2sgaGVyZVwiKVxyXG4gICAgY29uc29sZS5sb2cobW92ZUNvbXApXHJcbiAgICBjb25zb2xlLmxvZyhlbnRpdHkpXHJcblxyXG4gICAgbGV0IG14ID0gbW92ZUNvbXAueDtcclxuICAgIGxldCBteSA9IG1vdmVDb21wLnk7XHJcblxyXG4gICAgbXggPSBlbnRpdHkucG9zaXRpb24ueCArIG14O1xyXG4gICAgbXkgPSBlbnRpdHkucG9zaXRpb24ueSArIG15O1xyXG5cclxuICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugd2lsbCBydW4gYW55IGNoZWNrcyB0byBzZWUgaWYgZW50aXR5IGNhbiBtb3ZlIHRvIG5ldyBsb2NhdGlvblxyXG4gICAgLy8gb2JzZXJ2ZSBtYXAgYm91bmRhcmllc1xyXG4gICAgLy9teCA9IE1hdGgubWluKDAsIE1hdGgubWF4KGdyaWQubWFwLndpZHRoLTEsIG14KSlcclxuICAgIC8vbXkgPSBNYXRoLm1pbigwLCBNYXRoLm1heChncmlkLm1hcC5oZWlnaHQtMSwgbXkpKVxyXG4gICAgXHJcbiAgICAvLyBteCA9IE1hdGgubWluKGdyaWQubWFwLndpZHRoICsgZ3JpZC5tYXAueCAtIDEsIE1hdGgubWF4KGdyaWQubWFwLndpZHRoLCBteCkpO1xyXG4gICAgLy8gbXkgPSBNYXRoLm1pbihncmlkLm1hcC5oZWlnaHQgKyBncmlkLm1hcC55IC0gMSwgTWF0aC5tYXgoZ3JpZC5tYXAuaGVpZ2h0LCBteSkpO1xyXG5cclxuICAgIC8vIGNoZWNrIGZvciBibG9ja2Vyc1xyXG4gICAgY29uc3QgYmxvY2tlcnMgPSBbXTtcclxuICAgIGNvbnN0IGZhc3RBdHRhY2tzID0gW107XHJcbiAgICAvLyByZWFkIGZyb20gY2FjaGVcclxuICAgIGNvbnNvbGUubG9nKGAke214fSwke215fWApXHJcbiAgICBjb25zdCBlbnRpdGllc0F0TG9jID0gcmVhZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIGAke214fSwke215fWApO1xyXG4gICAgY29uc29sZS5sb2coZW50aXRpZXNBdExvYylcclxuICAgIGZvciAoY29uc3QgZUlkIG9mIGVudGl0aWVzQXRMb2MpIHtcclxuICAgICAgICBpZiAod29ybGQuZ2V0RW50aXR5KGVJZCkuaXNCbG9ja2luZykge1xyXG4gICAgICAgICAgYmxvY2tlcnMucHVzaChlSWQpO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgaWYoYmxvY2tlcnMubGVuZ3RoID49IDEpe1xyXG4gICAgICAgIC8vd2UgY2FuJ3QgbW92ZSBoZXJlXHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Jsb2NrZWQnKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvL2NoZWNrIGN1cnJlbnQgdGlsZSBmb3IgZmFzdCBhdHRhY2tzXHJcbiAgICBjb25zdCBlbnRpdGllc0F0Q3VycmVudExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OmVudGl0eS5wb3NpdGlvbi54LHk6ZW50aXR5LnBvc2l0aW9uLnl9KSlcclxuICAgIGZvciAoY29uc3QgZUlkIG9mIGVudGl0aWVzQXRDdXJyZW50TG9jKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHdvcmxkLmdldEVudGl0eShlSWQpKVxyXG4gICAgICBpZih3b3JsZC5nZXRFbnRpdHkoZUlkKS5mYXN0QXR0YWNrKSB7XHJcbiAgICAgICAgZmFzdEF0dGFja3MucHVzaChlbnRpdHkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vY2hlY2sgaWYgd2UgZm91bmQgYW55XHJcbiAgICBpZihmYXN0QXR0YWNrcy5sZW5ndGggPj0gMSl7XHJcbiAgICAgIC8vd2UgbmVlZCBkb2RnZSB0byBtb3ZlLlxyXG4gICAgICBpZihlbnRpdHkubW92ZW1lbnQuZG9kZ2UgPCAxKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm5vIGRvZGdlXCIpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgLy9yZW1vdmUgMSBkb2RnZSBmb3IgZ2V0dGluZyBvdXQgb2YgdGlsZVxyXG4gICAgICAgIC8vZW50aXR5Lm1vdmVtZW50LmRvZGdlID0gTWF0aC5tYXgoMCxlbnRpdHkubW92ZW1lbnQuZG9kZ2UgLSAxKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy93ZSBjYW4gbW92ZSB0byB0aGlzIHBvc2l0aW9uXHJcbiAgICBkZWxldGVDYWNoZVNldChcclxuICAgICAgICBcImVudGl0aWVzQXRMb2NhdGlvblwiLFxyXG4gICAgICAgIGAke2VudGl0eS5wb3NpdGlvbi54fSwke2VudGl0eS5wb3NpdGlvbi55fWAsXHJcbiAgICAgICAgZW50aXR5LmlkXHJcbiAgICAgICk7XHJcbiAgICAgIGFkZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIGAke214fSwke215fWAsIGVudGl0eS5pZCk7XHJcbiAgXHJcbiAgICAgIGVudGl0eS5wb3NpdGlvbi54ID0gbXg7XHJcbiAgICAgIGVudGl0eS5wb3NpdGlvbi55ID0gbXk7XHJcbiAgXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG59XHJcbiIsIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuL2NvbXBvbmVudFwiXHJcbmltcG9ydCAqIGFzIEFiaWxpdGllcyBmcm9tIFwiLi4vc3lzdGVtcy9hYmlsaXRpZXNcIlxyXG5cclxuLy8gQmFzZVxyXG5leHBvcnQgY29uc3QgVGlsZSA9IHtcclxuICAgIG5hbWU6IFwiVGlsZVwiLFxyXG4gICAgY29tcG9uZW50czogW1xyXG4gICAgICB7IHR5cGU6IFwiQXBwZWFyYW5jZVwiIH0sXHJcbiAgICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiIH0sXHJcbiAgICAgIHsgdHlwZTogXCJMYXllck1hcFwiIH0sXHJcbiAgICBdLFxyXG4gIH07XHJcblxyXG4gIGV4cG9ydCBjb25zdCBCZWluZyA9IHtcclxuICAgIG5hbWU6IFwiQmVpbmdcIixcclxuICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgeyB0eXBlOiBcIkFwcGVhcmFuY2VcIiB9LFxyXG4gICAgICB7IHR5cGU6IFwiRGVzY3JpcHRpb25cIiB9LFxyXG4gICAgICB7IHR5cGU6IFwiSGVhbHRoXCIgfSxcclxuICAgICAgeyB0eXBlOiBcIklzQmxvY2tpbmdcIiB9LFxyXG4gICAgICB7IHR5cGU6IFwiTGF5ZXJVbml0XCIgfSxcclxuICAgICAgeyB0eXBlOiBcIk1vdmVtZW50XCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQXJtb3VyXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiU3RhbWluYVwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlMaXN0XCJ9XHJcbiAgICBdLFxyXG4gIH07XHJcblxyXG4gIGV4cG9ydCBjb25zdCBBYmlsaXR5ID0ge1xyXG4gICAgbmFtZTogXCJBYmlsaXR5XCIsXHJcbiAgICBjb21wb25lbnRzOltcclxuICAgICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgcHJvcGVydGllczoge25hbWU6IFwiR2VuZXJpYyBBYmlsaXR5XCIsIGRlc2NyaXB0aW9uOiBcInVzZWQgZm9yIHRlc3RpbmcgYXMgYmFzZSB0ZW1wbGF0ZVwifX0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5UGhhc2VcIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5U3BlZWRcIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5U3RhbWluYUNvc3RcIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5RnVuY3Rpb25cIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5U21hbGxOYW1lXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVRhcmdldFwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlBbGxvd2VkRGllXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVJhbmdlXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eURhbWFnZVwifVxyXG4gICAgXVxyXG4gIH1cclxuXHJcblxyXG4gICAgICAvLyBkZXNjcmlwdGlvblxyXG5cdFx0Ly8gbmFtZVxyXG5cdFx0Ly8gcGhhc2UgW0RFRkVOU0UsIEFUVEFDSywgQU5ZXVxyXG5cdFx0Ly8gc3BlZWQgW2luc3RhbnQsIGZhc3Qsc2xvd11cclxuXHRcdC8vIGNhblVzZSgpID17fSAgLT4gZG8gcmVxdWlyZW1lbnRzIGNoZWNrXHJcblx0XHQvLyBvblVzZSgpID17fSAtPiBnaXZlIGluc3RhbnQgcGxheWVyIGJ1ZmYgbGlrZSBtb3ZlIHBvaW50c1xyXG5cdFx0Ly8gXHRcdFx0XHRzdGFydCB0YXJnZXRpbmcgc3lzdGVtXHJcblx0XHQvLyBvblRhcmdldFVzZSgpID17fSAtPiB3aGVuIHRhcmdldCBpcyBnaXZlbiwgaWYgdmFsaWQgdGFyZ2V0IGV4aGF1c3Qgc3RhbWluYSBkaWUgYW5kIGFkZCB0byBzdGFtaW5hUmVnZW4udXNlZFxyXG5cclxuLy9hZHZhbmNlZFxyXG5leHBvcnQgY29uc3QgV2FsbCA9IHtcclxuICAgIG5hbWU6IFwiV2FsbFwiLFxyXG4gICAgaW5oZXJpdDogW1wiVGlsZVwiXSxcclxuICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgeyB0eXBlOiBcIklzQmxvY2tpbmdcIiB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdHlwZTogXCJBcHBlYXJhbmNlXCIsXHJcbiAgICAgICAgcHJvcGVydGllczogeyBjaGFyOiBcIiNcIiwgY29sb3I6IFwiI0FBQVwiIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgcHJvcGVydGllczogeyBuYW1lOiBcIndhbGxcIiB9LFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IEZsb29yID0ge1xyXG4gICAgbmFtZTogXCJGbG9vclwiLFxyXG4gICAgaW5oZXJpdDogW1wiVGlsZVwiXSxcclxuICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFwiQXBwZWFyYW5jZVwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHsgY2hhcjogXCIuXCIsIGNvbG9yOiBcIiNBQUFcIiB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHsgbmFtZTogXCJ3YWxsXCIgfSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgfTtcclxuXHJcbiBleHBvcnQgY29uc3QgUGxheWVyQmVpbmcgPSB7XHJcbiAgIG5hbWU6IFwiUGxheWVyQmVpbmdcIixcclxuICAgaW5oZXJpdDogW1wiQmVpbmdcIl0sXHJcbiAgIGNvbXBvbmVudHM6IFtcclxuICAgICB7XHJcbiAgICAgICB0eXBlOiBcIklzUGxheWVyQ29udHJvbGxlZFwiXHJcbiAgICAgfSxcclxuICAgICB7IHR5cGU6IFwiQXBwZXJhbmNlXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtjaGFyOiBcIkBcIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eUxpc3RcIixcclxuICAgICAgcHJvcGVydGllczoge2FiaWxpdGllczogW1wiQWJpbGl0eU1vdmVcIiwgXCJBYmlsaXR5RG9kZ2VcIiwgXCJBYmlsaXR5U3dvcmRKYWJcIiwgXCJBYmlsaXR5U3dvcmRTd2luZ1wiXSB9XHJcbiAgICB9XHJcbiAgIF1cclxuIH07XHJcblxyXG4gZXhwb3J0IGNvbnN0IE1vYiA9IHtcclxuICBuYW1lOiBcIk1vYlwiLFxyXG4gIGluaGVyaXQ6IFtcIkJlaW5nXCJdLFxyXG4gIGNvbXBvbmVudHM6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBaVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIklzRW5lbXlcIixcclxuICAgIH0sXHJcbiAgICB7dHlwZTogXCJHYWluTW92ZW1lbnRcIn1cclxuICBdXHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IEdvYmxpbiA9IHtcclxuICBuYW1lOiBcIkdvYmxpblwiLFxyXG4gIGluaGVyaXQ6W1wiTW9iXCJdLFxyXG4gIGNvbXBvbmVudHM6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBcHBlYXJhbmNlXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtjaGFyOiBcImdcIiwgY29sb3I6IFwiZ3JlZW5cIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgcHJvcGVydGllczoge25hbWU6IFwiR29ibGluXCIsIGRlc2NyaXB0aW9uOiBcIkEgbG93bHkgR29ibGluXCJ9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFiaWxpdHlMaXN0XCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHthYmlsaXRpZXM6IFtcIkFiaWxpdHlTcGVhclRocnVzdFwiXSB9XHJcbiAgICB9LFxyXG4gICAge3R5cGU6IFwiSGVhbHRoXCIsIHByb3BlcnRpZXM6IHttYXg6MixjdXJyZW50OjJ9fSxcclxuICAgIHsgdHlwZTogXCJTdGFtaW5hXCIsIHByb3BlcnRpZXM6IHsgbWF4OiAyLCBjdXJyZW50OiAyLCB1c2VkOiAwLCByZWdlbjogMn19XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgT3JjV2FycmlvciA9IHtcclxuICBuYW1lOiBcIk9yYyBXYXJyaW9yXCIsXHJcbiAgaW5oZXJpdDpbXCJNb2JcIl0sXHJcbiAgY29tcG9uZW50czogW1xyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFwcGVhcmFuY2VcIixcclxuICAgICAgcHJvcGVydGllczoge2NoYXI6IFwib1wiLCBjb2xvcjogXCJncmVlblwifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7bmFtZTogXCJPcmMgV2FycmlvclwiLCBkZXNjcmlwdGlvbjogXCJBIGZlYXJzb21lIE9yYyB3aWVsZGluZyBheGVlc1wifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5TGlzdFwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7YWJpbGl0aWVzOiBbXCJBYmlsaXR5RG91YmxlQXhlU3dpbmdcIiwgXCJBYmlsaXR5QXhlRGVjYXBpdGF0ZVwiXSB9XHJcbiAgICB9LFxyXG4gICAge3R5cGU6IFwiSGVhbHRoXCIsIHByb3BlcnRpZXM6IHttYXg6OCxjdXJyZW50Ojh9fSxcclxuICAgIHsgdHlwZTogXCJTdGFtaW5hXCIsIHByb3BlcnRpZXM6IHsgbWF4OiA0LCBjdXJyZW50OiA0LCB1c2VkOiAwLCByZWdlbjogNH19XHJcbiAgXVxyXG59XHJcblxyXG5cclxuLy9hYmlsaXRpZXNcclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlNb3ZlID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eU1vdmVcIixcclxuICBpbmhlcml0OltcIkFiaWxpdHlcIl0sXHJcbiAgY29tcG9uZW50czpbXHJcbiAgICB7IHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgcHJvcGVydGllczoge25hbWU6IFwiTW92ZVwiLCBkZXNjcmlwdGlvbjogXCJleGhhdXN0cyAxIGRpZSB0byBnaXZlIGl0J3MgZmFjZSB2YWx1ZSBmb3IgbW92ZW1lbnQgcG9pbnRzXCJ9fSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RnVuY3Rpb25cIixcclxuICAgICAgcHJvcGVydGllczoge2Z1bmN0aW9uOiBBYmlsaXRpZXMuQWJpbGl0eU1vdmV9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFiaWxpdHlTbWFsbE5hbWVcIixcclxuICAgICAgcHJvcGVydGllczoge3NtYWxsTmFtZTogXCJNT1ZcIn1cclxuICAgIH1cclxuICBdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5RG9kZ2UgPSB7XHJcbiAgbmFtZTogXCJBYmlsaXR5RG9kZ2VcIixcclxuICBpbmhlcml0OltcIkFiaWxpdHlcIl0sXHJcbiAgY29tcG9uZW50czpbXHJcbiAgICB7IHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgcHJvcGVydGllczoge25hbWU6IFwiRG9kZ2VcIiwgZGVzY3JpcHRpb246IFwiZXhoYXVzdHMgYSBwYWlyIHRvIGdpdmUgMSBkb2RnZSBwb2ludFwifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlEb2RnZX1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIkRER1wifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5U3RhbWluYUNvc3RcIixcclxuICAgICAgcHJvcGVydGllczoge2Ftb3VudDogMn1cclxuICAgIH1cclxuICBdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5U3BlYXJUaHJ1c3QgPSB7XHJcbiAgbmFtZTogXCJBYmlsaXR5U3BlYXJUaHJ1c3RcIixcclxuICBpbmhlcml0OltcIkFiaWxpdHlcIl0sXHJcbiAgY29tcG9uZW50czpbXHJcbiAgICB7IHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgcHJvcGVydGllczoge25hbWU6IFwiU3BlYXIgVGhydXN0XCIsIGRlc2NyaXB0aW9uOiBcImV4aGF1c3RzIDUsNiB0byBkbyBhIHNsb3cgYXR0YWNrIG9uIGEgMngxIDEgZG1nXCJ9fSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RnVuY3Rpb25cIixcclxuICAgICAgcHJvcGVydGllczoge2Z1bmN0aW9uOiBBYmlsaXRpZXMuQWJpbGl0eVNwZWFyVGhydXN0fVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5UGhhc2VcIixcclxuICAgICAgcHJvcGVydGllczoge3BoYXNlOiBcIkF0dGFja1wifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5U21hbGxOYW1lXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtzbWFsbE5hbWU6IFwiU1RIXCJ9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFiaWxpdHlUYXJnZXRcIixcclxuICAgICAgcHJvcGVydGllczoge2Nvb3JkczogW1swLDBdLFswLC0xXV19XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOlwiQWJpbGl0eUFsbG93ZWREaWVcIixcclxuICAgICAgcHJvcGVydGllczoge2FsbG93ZWQ6WzUsNl19XHJcbiAgICB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlSYW5nZVwiLCBwcm9wZXJ0aWVzOiB7cmFuZ2U6Mn19XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVN3b3JkSmFiID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eVN3b3JkSmFiXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIlN3b3JkIEphYlwiLCBkZXNjcmlwdGlvbjogXCJleGhhdXN0cyBhIDQsNSw2IHRvIGRvIGEgc2xvdyBhdHRhY2sgb24gYSBzaW5nbGUgdGlsZSBmb3IgMSBkbWdcIn19LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlGdW5jdGlvblwiLCBwcm9wZXJ0aWVzOiB7ZnVuY3Rpb246IEFiaWxpdGllcy5BYmlsaXR5U3dvcmRKYWJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVBoYXNlXCIsIHByb3BlcnRpZXM6IHtwaGFzZTogXCJBdHRhY2tcIn0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5U21hbGxOYW1lXCIsIHByb3BlcnRpZXM6IHtzbWFsbE5hbWU6IFwiU0pCXCJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVRhcmdldFwiLCBwcm9wZXJ0aWVzOiB7Y29vcmRzOiBbWzAsMF1dfSB9LFxyXG4gICAgeyB0eXBlOlwiQWJpbGl0eUFsbG93ZWREaWVcIiwgcHJvcGVydGllczoge2FsbG93ZWQ6WzQsNSw2XX0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RW5kc1R1cm5cIn1cclxuICBdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5U3dvcmRTd2luZyA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlTd29yZFN3aW5nXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIlN3b3JkIFN3aW5nXCIsIGRlc2NyaXB0aW9uOiBcImV4aGF1c3RzIDYgdG8gZG8gYSBzbG93IGF0dGFjayBvbiBhIFQgc2hhcGUgZm9yIDEgZG1nXCJ9fSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RnVuY3Rpb25cIiwgcHJvcGVydGllczoge2Z1bmN0aW9uOiBBYmlsaXRpZXMuQWJpbGl0eVN3b3JkU3dpbmd9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVBoYXNlXCIsIHByb3BlcnRpZXM6IHtwaGFzZTogXCJBdHRhY2tcIn0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5U21hbGxOYW1lXCIsIHByb3BlcnRpZXM6IHtzbWFsbE5hbWU6IFwiU1NXXCJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVRhcmdldFwiLCBwcm9wZXJ0aWVzOiB7Y29vcmRzOiBbIFstMSwwXSxbMCwwXSxbMSwwXSxbMCwtMV0gXX0gfSxcclxuICAgIHsgdHlwZTpcIkFiaWxpdHlBbGxvd2VkRGllXCIsIHByb3BlcnRpZXM6IHthbGxvd2VkOls2XX0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RW5kc1R1cm5cIn1cclxuICBdXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eURvdWJsZUF4ZVN3aW5nID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eURvdWJsZUF4ZVN3aW5nXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkRvdWJsZSBBeGUgU3dpbmdcIiwgZGVzY3JpcHRpb246IFwic3dpbmdzIGJvdGggeW91ciBheGVzIGluIHR3byBtYXNzaXZlIGFyY3MgZGVhbGluZyAyIGRtZ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlEb3VibGVBeGVTd2luZ30gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5UGhhc2VcIiwgcHJvcGVydGllczoge3BoYXNlOiBcIkF0dGFja1wifSB9LFxyXG4gICAge3R5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLHByb3BlcnRpZXM6IHtzbWFsbE5hbWU6IFwiREFTXCJ9fSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5VGFyZ2V0XCIsIHByb3BlcnRpZXM6IHtjb29yZHM6IFtbLTEsMF0sWzAsMF0sWzEsMF0sWy0xLDFdLFsxLDFdXX19LFxyXG4gICAgeyB0eXBlOlwiQWJpbGl0eUFsbG93ZWREaWVcIiwgcHJvcGVydGllczoge2FsbG93ZWQ6WzUsNl19ICB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlTdGFtaW5hQ29zdFwiLCBwcm9wZXJ0aWVzOiB7YW1vdW50OiAzfSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlEYW1hZ2VcIiwgcHJvcGVydGllczoge2RtZzoyfSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlFbmRzVHVyblwifVxyXG4gIF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlBeGVEZWNhcGl0YXRlID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eUF4ZURlY2FwaXRhdGVcIixcclxuICBpbmhlcml0OltcIkFiaWxpdHlcIl0sXHJcbiAgY29tcG9uZW50czpbXHJcbiAgICB7IHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgcHJvcGVydGllczoge25hbWU6IFwiQXhlIERlY2FwaXRhdGVcIiwgZGVzY3JpcHRpb246IFwiU3dpbmdzIGFuIGF4ZSBkaXJlY3RseSBhdCB0aGUgdGFyZ2V0cyBoZWFkIGZvciAzIGRtZ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlBeGVEZWNhcGl0YXRlfSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlQaGFzZVwiLCBwcm9wZXJ0aWVzOiB7cGhhc2U6IFwiQXR0YWNrXCJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLHByb3BlcnRpZXM6IHtzbWFsbE5hbWU6IFwiREFDXCJ9fSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5VGFyZ2V0XCIsIHByb3BlcnRpZXM6IHtjb29yZHM6IFtbMCwwXV19IH0sXHJcbiAgICB7IHR5cGU6XCJBYmlsaXR5QWxsb3dlZERpZVwiLCBwcm9wZXJ0aWVzOiB7YWxsb3dlZDpbNl19ICB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlTdGFtaW5hQ29zdFwiLCBwcm9wZXJ0aWVzOiB7YW1vdW50OiA0fSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlEYW1hZ2VcIiwgcHJvcGVydGllczoge2RtZzozfSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlFbmRzVHVyblwifVxyXG4gIF1cclxufSIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCJnZW90aWNcIjtcclxuXHJcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSBcIi4vY29tcG9uZW50XCJcclxuXHJcbmltcG9ydCAqIGFzIHByZWZhYnMgZnJvbSBcIi4vcHJlZmFiXCJcclxuXHJcbmNvbnN0IGVjcyA9IG5ldyBFbmdpbmUoKTtcclxuXHJcbmNvbnN0IHdvcmxkID0gZWNzLmNyZWF0ZVdvcmxkKCk7XHJcbnJlZ2lzdGVyQ29tcHMoKVxyXG5yZWdpc3RlclByZWZhYnMoKVxyXG5cclxuY29uc3QgcmVnaXN0ZXJDb21wcyA9ICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhcImdvdCBoZXJlIGZpcnN0XCIpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQXBwZWFyYW5jZSk7XHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQXJtb3VyKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkRlc2NyaXB0aW9uKTtcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5IZWFsdGgpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuSXNCbG9ja2luZylcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Jc0RlYWQpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuSXNQbGF5ZXJDb250cm9sbGVkKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLklzRW5lbXkpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuTGF5ZXJNYXApO1xyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkxheWVyVW5pdClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Nb3ZlbWVudClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Qb3NpdGlvbilcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5TdGFtaW5hKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkRpZSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5TbG93QXR0YWNrKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkZhc3RBdHRhY2spXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuRG1nVGlsZSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Jc1R1cm5FbmQpXHJcblxyXG4gIC8vYWJpbGl0eVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlMaXN0KVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlGdW5jdGlvbilcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5UGhhc2UpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eVNwZWVkKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlTdGFtaW5hQ29zdClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5U21hbGxOYW1lKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlUYXJnZXQpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eUFsbG93ZWREaWUpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuR2Fpbk1vdmVtZW50KVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlSYW5nZSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5RGFtYWdlKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlFbmRzVHVybilcclxuXHJcbn1cclxuXHJcblxyXG5jb25zdCByZWdpc3RlclByZWZhYnMgPSAoKSA9PiB7XHJcbiAgLy9wcmVmYWJzXHJcblxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLlRpbGUpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQmVpbmcpXHJcblxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLldhbGwpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuRmxvb3IpXHJcblxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLlBsYXllckJlaW5nKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLk1vYilcclxuXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuR29ibGluKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLk9yY1dhcnJpb3IpXHJcblxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHkpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eU1vdmUpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eURvZGdlKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHlTcGVhclRocnVzdClcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5U3dvcmRKYWIpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eVN3b3JkU3dpbmcpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eURvdWJsZUF4ZVN3aW5nKVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHlBeGVEZWNhcGl0YXRlKVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgbWVzc2FnZUxvZyA9IFtcIlwiLCBcIldlbGNvbWUgdG8gR29icyAnTyBHb2JsaW5zIVwiLCBcIlwiXTtcclxuZXhwb3J0IGNvbnN0IGFkZExvZyA9ICh0ZXh0KSA9PiB7XHJcbiAgbWVzc2FnZUxvZy51bnNoaWZ0KHRleHQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgd29ybGQ7IiwiLy91c2VkIGZvciBkcmF3aW5nIHRoZSBoZWxwIG1lbnVcclxuXHJcbmltcG9ydCB7ZGlzcGxheSwgZGlzcGxheUhlbHAsZGl2SGVscCwgZ3JpZCB9IGZyb20gXCIuLi9saWIvY2FudmFzXCJcclxuXHJcbmV4cG9ydCBjb25zdCBEcmF3SGVscE1lbnUgPSAoKSA9PiB7XHJcbiAgICBNYWtlVmlzaWJsZSgpXHJcblxyXG4gICAgdmFyIGhlbHBUZXh0ID0gXCJXZWxjb21lIHRvIG15IGJhZCBnYW1lLCB0aGlzIGlzIGp1c3QgcGxhY2Vob2xkZXIgaGVscCB0ZXh0IGZvciBub3dcIlxyXG5cclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuXFxuRW5lbXkgYXR0YWNrcyBhdCBlbmQgb2YgcGxheWVyIGRlZmVuZCB0dXJuXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxueW91IG5lZWQgdG8gdXNlIGRvZGdlIHRvIGdldCBvdXQgb2YgcmVkIGF0dGFja3NcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5Zb3UgcmVnZW4gNCBzdGFtaW5hIC0gdGhlIGFtb3VudCB1c2VkIHRoaXMgdHVyblwiXHJcblxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5wbGF5ZXIgYXR0YWNrcyByZXNvbHZlIGF0IGVuZCBvZiBwbGF5ZXIgYXR0YWNrIHR1cm5cIlxyXG5cclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuXFxuSE9US0VZUzpcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5BcnJvdyBLZXlzIHRvIG1vdmVcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5FbnRlciB0byBlbmQgdHVybiAvIGNvbmZpcm0gdGFyZ2V0XCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxubjogc2VsZWN0IG5leHQgY2hhcmFjdGVyXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuMS02IGFyZSB0byBzZWxlY3Qgc3RhbWluYSBkaWVcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5xd2VydHkgc2VsZWN0cyBhYmlsaXRlc1wiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbnNoaWZ0K3F3ZXJ0eSBmb3IgaW5mb1wiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbno6IHNob3dzIGVuZW15IG51bWJlcnNcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5jOiBzaG93cyBkbWcgdGhhdCB3aWxsIGhpdCB0aWxlXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuRXNjYXBlIHRvIGV4aXQgdGhpcyBhbmQgbW9zdCBtZW51c1wiXHJcblxyXG4gICAgZGlzcGxheUhlbHAuZHJhd1RleHQoMiw1LGhlbHBUZXh0KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSGlkZUhlbHBNZW51ID0gKCkgPT4ge1xyXG4gICAgZGlzcGxheUhlbHAuY2xlYXIoKVxyXG4gICAgZGl2SGVscC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxufVxyXG5cclxuY29uc3QgTWFrZVZpc2libGUgPSAoKSA9PiB7XHJcbiAgICAvL21ha2UgaXQgdmlzaWJsZVxyXG4gICAgZGl2SGVscC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcblxyXG4gICAgdmFyIGJhbm5lciA9IFwiI1wiLnJlcGVhdChncmlkLmhlbHBNZW51LndpZHRoKTtcclxuICAgIGRpc3BsYXlIZWxwLmRyYXdUZXh0KDAsMCxiYW5uZXIpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTaG93QWJpbGl0eUluZm8gPSAoYWJpbCkgPT4ge1xyXG4gICAgTWFrZVZpc2libGUoKVxyXG4gICAgdmFyIHRvV3JpdGUgPSBXcml0ZUFiaWxpdHkoYWJpbClcclxuICAgIGRpc3BsYXlIZWxwLmRyYXdUZXh0KDIsNSx0b1dyaXRlKVxyXG4gICAgLy9BYmlsaXR5IG5hbWVcclxuICAgIC8vQWJpbGl0eSBzaG9ydCBuYW1lXHJcbiAgICAvL2Rlc2NyaXB0aW9uXHJcbiAgICAvL3BoYXNlXHJcbn1cclxuXHJcbmNvbnN0IFdyaXRlQWJpbGl0eSA9IChhYmlsKSA9PiB7XHJcbiAgICB2YXIgdG9Xcml0ZSA9IFwiXCJcclxuXHJcbiAgICB0b1dyaXRlICs9IFwiXFxuXCIrYWJpbC5kZXNjcmlwdGlvbi5uYW1lXHJcbiAgICB0b1dyaXRlICs9IFwiXFxuXCIrYWJpbC5kZXNjcmlwdGlvbi5kZXNjcmlwdGlvblxyXG4gICAgdG9Xcml0ZSArPSBcIlxcblwiK2FiaWwuYWJpbGl0eVBoYXNlLnBoYXNlXHJcbiAgICB0b1dyaXRlICs9IFwiXFxuXCIrYWJpbC5hYmlsaXR5UGhhc2Uuc3BlZWRcclxuXHJcbiAgICByZXR1cm4gdG9Xcml0ZVxyXG59IiwiaW1wb3J0IHtcclxuICAgIGRpc3BsYXksXHJcbiAgICBncmlkXHJcbiAgfSBmcm9tIFwiLi4vbGliL2NhbnZhc1wiO1xyXG5cclxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tIFwiLi4vc3RhdGUvY29tcG9uZW50XCJcclxuXHJcbmltcG9ydCB3b3JsZCBmcm9tIFwiLi4vc3RhdGUvZWNzXCI7XHJcbmltcG9ydCB7IHJlYWRDYWNoZVNldCB9IGZyb20gXCIuLi9zdGF0ZS9jYWNoZVwiO1xyXG5pbXBvcnQge3RvQ2VsbCwgdG9Mb2NJZH0gZnJvbSBcIi4uL2xpYi9ncmlkXCJcclxuaW1wb3J0IHtDdXJycmVudEFjdGl2ZVBsYXllciwgZ2FtZVN0YXRlLCB0YXJnZXRFbnRpdHl9IGZyb20gXCIuLi9pbmRleFwiXHJcbmltcG9ydCB7RHJhd0hlbHBNZW51LFNob3dBYmlsaXR5SW5mb30gZnJvbSBcIi4uL3N0YXRlL2hlbHBNZW51XCJcclxuXHJcbmNvbnN0IGxheWVyTWFwRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJNYXBdXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGxheWVyVW5pdEVudGl0aWVzID0gd29ybGQuY3JlYXRlUXVlcnkoe1xyXG4gICAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdF1cclxuICB9KTtcclxuXHJcbiAgY29uc3Qgc2xvd0RtZ0VudGl0aWVzID0gd29ybGQuY3JlYXRlUXVlcnkoe1xyXG4gICAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5TbG93QXR0YWNrXVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBmYXN0RG1nRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkZhc3RBdHRhY2tdXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVuZW15RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0LGNvbXBvbmVudHMuSXNFbmVteV0sXHJcbiAgICBub25lOiBbY29tcG9uZW50cy5Jc0RlYWRdXHJcbiAgfSlcclxuXHJcblxyXG5jb25zdCBjbGVhckRpc3BsYXkgPSAoKSA9PiB7XHJcbiAgICBkaXNwbGF5LmNsZWFyKClcclxuICAgIC8vY2xlYXJDYW52YXMoZ3JpZC5tYXAueCAtIDEsIGdyaWQubWFwLnksIGdyaWQubWFwLndpZHRoICsgMSwgZ3JpZC5tYXAuaGVpZ2h0KTtcclxuICAgIFxyXG59O1xyXG5sZXQgRW50aXR5VG9SZW5kZXIgPVwiXCJcclxuXHJcbmV4cG9ydCBjb25zdCBTZXRFbnRpdHlUb1JlbmRlciA9IChlbnRpdHkpID0+IHtcclxuICAgIEVudGl0eVRvUmVuZGVyID0gZW50aXR5XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlck1hcCA9ICgpID0+IHtcclxuICAgIGxheWVyTWFwRW50aXRpZXMuZ2V0KCkuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgRHJhd0NoYXIoZW50aXR5LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueCtncmlkLm1hcC54LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueStncmlkLm1hcC55KVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlckVuZW15UXVpY2tCYXIgPSAoKSA9PiB7XHJcbiAgICB2YXIgY291bnQgPSAxXHJcbiAgICBlbmVteUVudGl0aWVzLmdldCgpLmZvckVhY2goIGVudGl0eSA9PiB7XHJcbiAgICAgICAgdmFyIHRleHQgPSBcIlwiICsgY291bnRcclxuICAgICAgICB0ZXh0ICs9IFwiJWN7XCIrZW50aXR5LmFwcGVhcmFuY2UuY29sb3IrXCJ9IFwiK2VudGl0eS5kZXNjcmlwdGlvbi5uYW1lICsgXCIgXCIgKyBlbnRpdHkuaGVhbHRoLmN1cnJlbnRcclxuICAgICAgICBEcmF3VGV4dCh0ZXh0LCBncmlkLmVuZW1pZXMueCwgZ3JpZC5lbmVtaWVzLnkgKyBjb3VudCAtIDEpXHJcbiAgICAgICAgY291bnQrKztcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IFJlbmRlckRhbWFnZU51bWJlcnMgPSAoKSA9PiB7XHJcbiAgICB2YXIgZG1nVGlsZXMgPSBbXVxyXG4gICAgZG1nVGlsZXMucHVzaC5hcHBseShkbWdUaWxlcywgc2xvd0RtZ0VudGl0aWVzLmdldCgpKTtcclxuICAgIGRtZ1RpbGVzLnB1c2guYXBwbHkoZG1nVGlsZXMsIGZhc3REbWdFbnRpdGllcy5nZXQoKSk7XHJcbiAgICBjb25zb2xlLmxvZyhkbWdUaWxlcylcclxuICAgIHZhciBkbWdDb3VudCA9IFtdXHJcbiAgICBkbWdUaWxlcy5mb3JFYWNoKCBkbWcgPT4ge1xyXG4gICAgICAgIHZhciB0b0xvYyA9IHRvTG9jSWQoe3g6ZG1nLnBvc2l0aW9uLngseTpkbWcucG9zaXRpb24ueX0pXHJcbiAgICAgICAgaWYoIWRtZ0NvdW50W3RvTG9jXSkge1xyXG4gICAgICAgICAgICBkbWdDb3VudFt0b0xvY10gPSAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgICBkbWdDb3VudFt0b0xvY10gKz0gZG1nLmRtZ1RpbGUuZG1nXHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coZG1nQ291bnQpXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkbWdDb3VudCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHtrZXl9OiAke3ZhbHVlfWApO1xyXG4gICAgICAgIHZhciBwb3MgPSB0b0NlbGwoa2V5KVxyXG4gICAgICAgIGRpc3BsYXkuZHJhdyhncmlkLm1hcC54K3Bvcy54LCBncmlkLm1hcC55ICsgcG9zLnksIHZhbHVlKVxyXG4gICAgICB9XHJcbn1cclxuXHJcbmNvbnN0IFJlbmRlckVuZW15TnVtYmVycyA9ICgpID0+IHtcclxuICAgIHZhciBjb3VudCA9IDFcclxuICAgIGVuZW15RW50aXRpZXMuZ2V0KCkuZm9yRWFjaCggZW50aXR5ICA9PiB7XHJcbiAgICAgICAgZGlzcGxheS5kcmF3KGdyaWQubWFwLngrZW50aXR5LnBvc2l0aW9uLngsIGdyaWQubWFwLnkrZW50aXR5LnBvc2l0aW9uLnksIGNvdW50LnRvU3RyaW5nKCkpXHJcbiAgICAgICAgY291bnQrK1xyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgcmVuZGVyT2JqZWN0cyA9ICgpID0+IHtcclxuXHJcbn1cclxuXHJcblxyXG5jb25zdCByZW5kZXJVbml0cyA9ICgpID0+IHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGxheWVyVW5pdEVudGl0aWVzLmdldCgpKVxyXG4gICAgbGF5ZXJVbml0RW50aXRpZXMuZ2V0KCkuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgRHJhd0NoYXIoZW50aXR5LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueCtncmlkLm1hcC54LFxyXG4gICAgICAgICAgICBlbnRpdHkucG9zaXRpb24ueStncmlkLm1hcC55KVxyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgcmVuZGVyQWN0aXZlUGxheWVyID0gKCkgPT4ge1xyXG4gICAgaWYoQ3VycnJlbnRBY3RpdmVQbGF5ZXIpe1xyXG4gICAgICAgIHZhciB0ZXh0ID0gXCJBY3RpdmU6XCJcclxuICAgICAgICBEcmF3VGV4dCh0ZXh0LGdyaWQuYWN0aXZlUGxheWVyLngsZ3JpZC5hY3RpdmVQbGF5ZXIueSApXHJcbiAgICAgICAgRHJhd0NoYXIoQ3VycnJlbnRBY3RpdmVQbGF5ZXIsXHJcbiAgICAgICAgICAgIGdyaWQuYWN0aXZlUGxheWVyLngrIHRleHQubGVuZ3RoLFxyXG4gICAgICAgICAgICBncmlkLmFjdGl2ZVBsYXllci55KVxyXG5cclxuICAgICAgICBEcmF3VGV4dChcIkhwOlwiK0N1cnJyZW50QWN0aXZlUGxheWVyLmhlYWx0aC5jdXJyZW50LnRvU3RyaW5nKCksZ3JpZC5hY3RpdmVQbGF5ZXIueCxncmlkLmFjdGl2ZVBsYXllci55KzEpXHJcbiAgICAgICAgRHJhd1RleHQoXCJTdGFtOlwiK0N1cnJyZW50QWN0aXZlUGxheWVyLnN0YW1pbmEuY3VycmVudC50b1N0cmluZygpK1wiL1wiK0N1cnJyZW50QWN0aXZlUGxheWVyLnN0YW1pbmEubWF4LnRvU3RyaW5nKCksZ3JpZC5hY3RpdmVQbGF5ZXIueCxncmlkLmFjdGl2ZVBsYXllci55KzIpXHJcbiAgICAgICAgRHJhd1RleHQoXCJTdGFtUmduOlwiKyhNYXRoLm1heCgwLDQgLSBDdXJycmVudEFjdGl2ZVBsYXllci5zdGFtaW5hLnVzZWQpKS50b1N0cmluZygpLGdyaWQuYWN0aXZlUGxheWVyLngsZ3JpZC5hY3RpdmVQbGF5ZXIueSszKVxyXG4gICAgICAgIERyYXdUZXh0KFwiTW92ZTpcIitDdXJycmVudEFjdGl2ZVBsYXllci5tb3ZlbWVudC5tb3ZlbWVudC50b1N0cmluZygpLGdyaWQuYWN0aXZlUGxheWVyLngsZ3JpZC5hY3RpdmVQbGF5ZXIueSs0KVxyXG4gICAgICAgIERyYXdUZXh0KFwiRG9kZ2U6XCIrQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQuZG9kZ2UudG9TdHJpbmcoKSxncmlkLmFjdGl2ZVBsYXllci54LGdyaWQuYWN0aXZlUGxheWVyLnkrNSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgcmVuZGVyUGhhc2UgPSAoKSA9PiB7XHJcbiAgICBEcmF3VGV4dChnYW1lU3RhdGUsIGdyaWQucGhhc2VNZW51LngsZ3JpZC5waGFzZU1lbnUueSlcclxufVxyXG5cclxuY29uc3QgcmVuZGVyRGllTWVudSA9ICgpID0+IHtcclxuICAgIGlmKEN1cnJyZW50QWN0aXZlUGxheWVyKXtcclxuICAgICAgICBmb3IodmFyIHggPSAwOyB4IDwgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllLmxlbmd0aDsgeCsrKXtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbeF0pXHJcbiAgICAgICAgICAgIC8vICAxfDN8XHJcbiAgICAgICAgICAgIC8vZ2V0IGNvbG9yXHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9IFwid2hpdGVcIlxyXG4gICAgICAgICAgICBpZihDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbeF0uc2VsZWN0ZWQpe1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBcImdyZWVuXCJcclxuICAgICAgICAgICAgfWVsc2UgaWYoQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3hdLmV4aGF1c3RlZCl7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiZ3JleVwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9kaXNwbGF5LmRyYXcoMitncmlkLmRpZU1lbnUueCArICh4KjUpLCBncmlkLmRpZU1lbnUueS0xLCdfJykgICAgXHJcbiAgICAgICAgICAgIERyYXdUZXh0KCh4KzEpLnRvU3RyaW5nKCkrXCJ8XCIrXCIgXCIrXCJ8XCIsIGdyaWQuZGllTWVudS54KyAoeCo1KSwgZ3JpZC5kaWVNZW51LnkpXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3hdLm51bWJlcilcclxuICAgICAgICAgICAgZGlzcGxheS5kcmF3KDIrZ3JpZC5kaWVNZW51LnggKyAoeCo1KSwgZ3JpZC5kaWVNZW51LnksIEN1cnJyZW50QWN0aXZlUGxheWVyLmRpZVt4XS5udW1iZXIudG9TdHJpbmcoKSwgXCJibGFja1wiLCBjb2xvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGFiaWxpdHlIb3RrZXlzID0gWydxJywndycsJ2UnLCdyJywndCcsJ3knXVxyXG5cclxuY29uc3QgcmVuZGVyQWJpbGl0eU1lbnUgPSAoKSA9PiB7XHJcbiAgICAvL2ZvciBlYWNoIGFiaWxpdHkgbWFrZSBhIGJ1dHRvbiBtYXggb2YgMyBjaGFyIG5hbWUgXHJcbiAgICAvLyBxW212XSB3W2F0a10gZVtkZ11cclxuICAgIFxyXG4gICAgLy9pZiBjYW4gdXNlIHNldCB0byBncmVlbj9cclxuICAgIC8vaWYgYWxyZWFkeSB1c2VkIHNldCB0byBncmV5XHJcbiAgICBcclxuICAgIGZvcih2YXIgeCA9IDA7IHggPCBDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXMubGVuZ3RoO3grKyl7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gXCJncmF5XCJcclxuICAgICAgICB2YXIgY3VycmVudFBoYXNlID0gKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5EZWZlbmRcIikgPyBcIkRlZmVuZFwiIDogXCJBdHRhY2tcIlxyXG4gICAgICAgIGlmKCAoQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW3hdLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkFueVwiIHx8IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllc1t4XS5hYmlsaXR5UGhhc2UucGhhc2UgPT0gY3VycmVudFBoYXNlKVxyXG4gICAgICAgICAmJiBDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbeF0uYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLmNhblVzZShcclxuICAgICAgICAgICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW3hdLFxyXG4gICAgICAgICAgICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIpLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICBjb2xvciA9IFwid2hpdGVcIlxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBsZXQgc21sTmFtZSA9IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllc1t4XS5hYmlsaXR5U21hbGxOYW1lLnNtYWxsTmFtZVxyXG4gICAgICAgIERyYXdUZXh0KGFiaWxpdHlIb3RrZXlzW3hdK1wiWyVje1wiK2NvbG9yK1wifVwiK3NtbE5hbWUrXCIlY3t9XVwiLGdyaWQuYWJpbGl0eU1lbnUueCArICh4KjcpLCBncmlkLmFiaWxpdHlNZW51LnkpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlclRhcmdldCA9ICgpID0+IHtcclxuICAgIC8vZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdGFyZ2V0RW50aXR5XHJcbiAgICAvL2dldCBlbnRpdGllcyBhdCBwb3NpdGlvblxyXG4gICAgLy9mb3Igbm93IGp1c3QgZHJhdyB4IGF0IHBvc2l0aW9uXHJcbiAgICBjb25zb2xlLmxvZyh0YXJnZXRFbnRpdHkpXHJcbiAgICBEcmF3Q2hhcih0YXJnZXRFbnRpdHksIFxyXG4gICAgICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi54K2dyaWQubWFwLngsXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkrZ3JpZC5tYXAueSlcclxuXHJcbiAgICAvLyBkcmF3IHRoZSBhY3R1YWwgdGFyZ2V0IGNvb3Jkc1xyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlclNsb3dBdHRhY2tzID0gKCkgPT4ge1xyXG4gICAgc2xvd0RtZ0VudGl0aWVzLmdldCgpLmZvckVhY2goc2xvdyA9PiB7XHJcbiAgICAvL2NoZWNrIGlmIHVuaXQgZXhpc3RzIG9uIHRoaXMgdGlsZS5cclxuICAgICAgICB2YXIgZ2V0RW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OnNsb3cucG9zaXRpb24ueCx5OnNsb3cucG9zaXRpb24ueX0pKVxyXG4gICAgICAgIHZhciBnb3RVbml0ID0gZmFsc2VcclxuICAgICAgICB2YXIgZmxvb3JcclxuICAgICAgICBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goZWlkID0+IHtcclxuICAgICAgICAgICAgdmFyIGVudHMgPSB3b3JsZC5nZXRFbnRpdHkoZWlkKVxyXG4gICAgICAgICAgICBpZihlbnRzLmhhcyhjb21wb25lbnRzLkxheWVyVW5pdCkpe1xyXG4gICAgICAgICAgICAgICAgZ290VW5pdCA9IHRydWVcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkuZHJhdyhzbG93LnBvc2l0aW9uLnggKyBncmlkLm1hcC54LFxyXG4gICAgICAgICAgICAgICAgICAgIHNsb3cucG9zaXRpb24ueSArIGdyaWQubWFwLnksXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cy5hcHBlYXJhbmNlLmNoYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cy5hcHBlYXJhbmNlLmNvbG9yLCBcInllbGxvd1wiKVxyXG4gICAgICAgICAgICB9ZWxzZSBpZihlbnRzLmhhcyhjb21wb25lbnRzLkxheWVyTWFwKSl7XHJcbiAgICAgICAgICAgICAgICBmbG9vciA9IGVudHNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIWdvdFVuaXQgJiYgZmxvb3Ipe1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5kcmF3KHNsb3cucG9zaXRpb24ueCArIGdyaWQubWFwLngsIFxyXG4gICAgICAgICAgICAgICAgICAgIHNsb3cucG9zaXRpb24ueSArIGdyaWQubWFwLnksIFxyXG4gICAgICAgICAgICAgICAgICAgIGZsb29yLmFwcGVhcmFuY2UuY2hhciwgXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvb3IuYXBwZWFyYW5jZS5jb2xvciwgXCJ5ZWxsb3dcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAvL2lmIHllcyBkcmF3IHRoYXQgdGlsZSB3aXRoIHllbGxvdyBiYWNrZ3JvdW5kXHJcblxyXG4gICAgLy9qdXN0IGRyYXcgdGhlIHRpbGUgd2l0aCB5ZWxsb3cgYmFja2dyb3VuZCAgICBcclxuICAgIH0pXHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgcmVuZGVyRmFzdEF0dGFja3MgPSAoKSA9PiB7XHJcbiAgICBmYXN0RG1nRW50aXRpZXMuZ2V0KCkuZm9yRWFjaChmYXN0ID0+IHtcclxuICAgIC8vY2hlY2sgaWYgdW5pdCBleGlzdHMgb24gdGhpcyB0aWxlLlxyXG4gICAgICAgIHZhciBnZXRFbnRpdGllc0F0TG9jID0gcmVhZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIHRvTG9jSWQoe3g6ZmFzdC5wb3NpdGlvbi54LHk6ZmFzdC5wb3NpdGlvbi55fSkpXHJcbiAgICAgICAgdmFyIGdvdFVuaXQgPSBmYWxzZVxyXG4gICAgICAgIHZhciBmbG9vclxyXG4gICAgICAgIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaChlaWQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZW50cyA9IHdvcmxkLmdldEVudGl0eShlaWQpXHJcbiAgICAgICAgICAgIGlmKGVudHMuaGFzKGNvbXBvbmVudHMuTGF5ZXJVbml0KSl7XHJcbiAgICAgICAgICAgICAgICBnb3RVbml0ID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5kcmF3KGZhc3QucG9zaXRpb24ueCArIGdyaWQubWFwLngsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFzdC5wb3NpdGlvbi55ICsgZ3JpZC5tYXAueSxcclxuICAgICAgICAgICAgICAgICAgICBlbnRzLmFwcGVhcmFuY2UuY2hhcixcclxuICAgICAgICAgICAgICAgICAgICBlbnRzLmFwcGVhcmFuY2UuY29sb3IsIFwicmVkXCIpXHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGVudHMuaGFzKGNvbXBvbmVudHMuTGF5ZXJNYXApKXtcclxuICAgICAgICAgICAgICAgIGZsb29yID0gZW50c1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighZ290VW5pdCAmJiBmbG9vcil7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmRyYXcoZmFzdC5wb3NpdGlvbi54ICsgZ3JpZC5tYXAueCwgXHJcbiAgICAgICAgICAgICAgICAgICAgZmFzdC5wb3NpdGlvbi55ICsgZ3JpZC5tYXAueSwgXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvb3IuYXBwZWFyYW5jZS5jaGFyLCBcclxuICAgICAgICAgICAgICAgICAgICBmbG9vci5hcHBlYXJhbmNlLmNvbG9yLCBcInJlZFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIC8vaWYgeWVzIGRyYXcgdGhhdCB0aWxlIHdpdGggeWVsbG93IGJhY2tncm91bmRcclxuXHJcbiAgICAvL2p1c3QgZHJhdyB0aGUgdGlsZSB3aXRoIHllbGxvdyBiYWNrZ3JvdW5kICAgIFxyXG4gICAgfSlcclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRHJhd1RleHQgPSAodGV4dCwgeCwgeSkgPT4ge1xyXG4gICAgZGlzcGxheS5kcmF3VGV4dCh4LHksdGV4dClcclxufVxyXG5cclxuLy94LHkgYXJlIG9mZnNldHMgZmV0Y2hlZCBmcm9tIGdyaWRcclxuZXhwb3J0IGNvbnN0IERyYXdDaGFyID0gKGVudGl0eSwgeCwgeSkgPT4ge1xyXG4gICAgLy8gZGlzcGxheS5kcmF3KGdyaWQubWFwLnggKyA1LCAgZ3JpZC5tYXAueSArIDQsIFwiQFwiKTtcclxuICAgIGRpc3BsYXkuZHJhdyh4LCB5LGVudGl0eS5hcHBlYXJhbmNlLmNoYXIsIGVudGl0eS5hcHBlYXJhbmNlLmNvbG9yLCBlbnRpdHkuYXBwZWFyYW5jZS5iYWNrZ3JvdW5kIHx8IFwiYmxhY2tcIilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlckJvcmRlciA9ICgpID0+IHtcclxuICAgIGRpc3BsYXkuZHJhdygwLDAsJ08nKVxyXG4gICAgZGlzcGxheS5kcmF3KDAsZ3JpZC5oZWlnaHQtMSwnTycpXHJcbiAgICBkaXNwbGF5LmRyYXcoZ3JpZC53aWR0aC0xLDAsJ08nKVxyXG4gICAgZGlzcGxheS5kcmF3KGdyaWQud2lkdGgtMSxncmlkLmhlaWdodC0xLCdPJylcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlciA9ICgpID0+IHtcclxuICAgIGlmKGdhbWVTdGF0ZSA9PSBcIkhlbHBcIil7XHJcbiAgICAgICAgRHJhd0hlbHBNZW51KClcclxuICAgIH1lbHNlIGlmIChnYW1lU3RhdGUgPT0gXCJBYmlsaXR5SW5mb1wiKXtcclxuICAgICAgICBTaG93QWJpbGl0eUluZm8oRW50aXR5VG9SZW5kZXIpXHJcbiAgICB9ZWxzZSBpZiAoZ2FtZVN0YXRlID09IFwiRW5lbXlOdW1iZXJzXCIpe1xyXG4gICAgICAgIFJlbmRlckVuZW15TnVtYmVycygpXHJcbiAgICB9ZWxzZSBpZiAoIGdhbWVTdGF0ZSA9PSBcIkRhbWFnZVNob3dcIil7XHJcbiAgICAgICAgUmVuZGVyRGFtYWdlTnVtYmVycygpXHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgY2xlYXJEaXNwbGF5KClcclxuICAgICAgICByZW5kZXJNYXAoKVxyXG4gICAgICAgIHJlbmRlck9iamVjdHMoKVxyXG4gICAgICAgIHJlbmRlclVuaXRzKClcclxuICAgICAgICByZW5kZXJBY3RpdmVQbGF5ZXIoKVxyXG4gICAgICAgIHJlbmRlckRpZU1lbnUoKVxyXG4gICAgICAgIHJlbmRlckFiaWxpdHlNZW51KClcclxuICAgICAgICByZW5kZXJQaGFzZSgpXHJcbiAgICAgICAgcmVuZGVyQm9yZGVyKClcclxuICAgICAgICByZW5kZXJFbmVteVF1aWNrQmFyKClcclxuXHJcbiAgICAgICAgcmVuZGVyU2xvd0F0dGFja3MoKVxyXG4gICAgICAgIHJlbmRlckZhc3RBdHRhY2tzKClcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coZ2FtZVN0YXRlKVxyXG4gICAgICAgIGlmKGdhbWVTdGF0ZSA9PT0gXCJleGFtaW5lXCIgfHwgZ2FtZVN0YXRlID09PSBcInRhcmdldGluZ1wiICkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5lZWQgdG8gc2hvdyB0YXJnZXRcIilcclxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgd29ybGQgZnJvbSBcIi4uL3N0YXRlL2Vjc1wiO1xyXG5pbXBvcnQgeyByYW5kb20sIHNhbXBsZSwgdGltZXMgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCB7Z3JpZH0gZnJvbSBcIi4uL2xpYi9jYW52YXNcIlxyXG5pbXBvcnQgKiBhcyBST1QgZnJvbSBcInJvdC1qc1wiO1xyXG5pbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4vY2FjaGVcIlxyXG5pbXBvcnQge0FwcGVhcmFuY2UsIEhlYWx0aCwgTGF5ZXJNYXAsIFBvc2l0aW9ufSBmcm9tIFwiLi9jb21wb25lbnRcIlxyXG5pbXBvcnQge3RvQ2VsbCwgdG9Mb2NJZH0gZnJvbSBcIi4uL2xpYi9ncmlkXCJcclxuXHJcbmNvbnN0IGxheWVyTWFwRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtQb3NpdGlvbiwgQXBwZWFyYW5jZSwgTGF5ZXJNYXBdXHJcbiAgfSk7XHJcblxyXG5jb25zdCBkdW5nZW9uTWFwR2VuID0gbmV3IFJPVC5NYXAuQXJlbmEoZ3JpZC5tYXAud2lkdGgsIGdyaWQubWFwLmhlaWdodCk7XHJcblxyXG5leHBvcnQgY29uc3QgZHVuZ2Vvbk1hcCA9IFtdXHJcblxyXG5leHBvcnQgY29uc3QgbWFrZU1hcCA9ICgpID0+IHtcclxuICAgIGR1bmdlb25NYXBHZW4uY3JlYXRlKGZ1bmN0aW9uKHgsIHksIHdhbGwpIHtcclxuICAgICAgICAvL2Rpc3BsYXkxLmRyYXcoeCwgeSwgd2FsbCA/IFwiI1wiIDogXCIuXCIpO1xyXG4gICAgICAgIGlmKHdhbGwpe1xyXG4gICAgICAgICAgICB3b3JsZC5jcmVhdGVQcmVmYWIoXCJXYWxsXCIpLmFkZChQb3NpdGlvbiwge3gseX0pXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHdvcmxkLmNyZWF0ZVByZWZhYihcIkZsb29yXCIpLmFkZChQb3NpdGlvbiwge3gseX0pXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGZXRjaEZyZWVUaWxlID0gKCkgPT4ge1xyXG4gICAgdmFyIGFueUZyZWUgPSBDcmVhdGVGcmVlU3BhY2VMaXN0KCk7XHJcbiAgICByZXR1cm4gc2FtcGxlKGFueUZyZWUpXHJcbn0gICBcclxuXHJcbmNvbnN0IENyZWF0ZUZyZWVTcGFjZUxpc3QgPSAoKSA9PiB7XHJcbiAgICB2YXIgZW1wdHlUaWxlcyA9IFtdXHJcblxyXG4gICAgbGF5ZXJNYXBFbnRpdGllcy5nZXQoKS5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICBpZihlbnRpdHkuaXNCbG9ja2luZyl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDplbnRpdHkucG9zaXRpb24ueCx5OmVudGl0eS5wb3NpdGlvbi55fSkpXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoZ2V0RW50aXRpZXNBdExvYy5zaXplID09IDEpe1xyXG4gICAgICAgICAgICAvL25vdGhpbmcgYnV0IHRoZSB0aWxlIGhlcmUgc28gY2FuIGFkZCB0byBmcmVlXHJcbiAgICAgICAgICAgIGVtcHR5VGlsZXMucHVzaChlbnRpdHkpXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZW1wdHlUaWxlc1xyXG59XHJcblxyXG4iLCJpbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4uL3N0YXRlL2NhY2hlXCJcclxuaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5pbXBvcnQgKiBhcyBST1QgZnJvbSBcInJvdC1qc1wiO1xyXG5pbXBvcnQge3RvTG9jSWR9IGZyb20gXCIuLi9saWIvZ3JpZFwiXHJcblxyXG5jb25zdCBhbGx5RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0XSxcclxuICAgIG5vbmU6IFtjb21wb25lbnRzLklzRW5lbXldXHJcbn0pXHJcblxyXG5jb25zdCBNYWtlRGlqa3N0cmEgPSAoeCx5KSA9PntcclxuICAgIC8qIHByZXBhcmUgcGF0aCB0byBnaXZlbiBjb29yZHMgKi9cclxuICAgIHZhciBkaWprc3RyYSA9IG5ldyBST1QuUGF0aC5EaWprc3RyYSh4LCB5LCBwYXNzYWJsZUNhbGxiYWNrLCB7dG9wb2xvZ3kgOjR9KTtcclxuICAgIHJldHVybiBkaWprc3RyYVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWlQYXRoZmluZCA9IChlbnRpdHkpID0+IHtcclxuICAgIHZhciBkaWprc3RyYSA9IE1ha2VEaWprc3RyYShlbnRpdHkucG9zaXRpb24ueCxlbnRpdHkucG9zaXRpb24ueSlcclxuICAgIGNvbnNvbGUubG9nKFwicGF0aCBmaW5kZXJcIilcclxuICAgIGNvbnNvbGUubG9nKGRpamtzdHJhKVxyXG4gICAgdmFyIHRhcmdldCA9IEZpbmRDbG9zZXN0VGFyZ2V0KGRpamtzdHJhLCBlbnRpdHkpXHJcbiAgICBjb25zb2xlLmxvZyh0YXJnZXQpXHJcbiAgICAvL3RhcmdldC5yZXZlcnNlKClcclxuICAgIHRhcmdldC5wb3AoKVxyXG4gICAgcmV0dXJuIHRhcmdldFxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFpUGF0aEVtcHR5VGlsZSA9IChlbnRpdHkpID0+IHtcclxuICAgIHZhciBkaWprc3RyYSA9IE1ha2VEaWprc3RyYShlbnRpdHkucG9zaXRpb24ueCxlbnRpdHkucG9zaXRpb24ueSlcclxuICAgIHZhciB0YXJnZXQgPSBGaW5kQ2xvc2VzdEVtcHR5VGlsZShkaWprc3RyYSwgZW50aXR5KVxyXG4gICAgdGFyZ2V0LnBvcCgpXHJcbiAgICByZXR1cm4gdGFyZ2V0XHJcbn1cclxuXHJcbmNvbnN0IEZpbmRDbG9zZXN0RW1wdHlUaWxlID0gKGRpamtzdHJhLCBlbnRpdHkpID0+IHtcclxuXHJcbn1cclxuXHJcbmNvbnN0IEZpbmRDbG9zZXN0VGFyZ2V0ID0gKGRpamtzdHJhLCBlbnRpdHkpID0+IHtcclxuICAgIHZhciB3aW5uZXJcclxuXHJcbiAgICAvL2lmIGVudGl0eSBoYXMgaXNFbmVteSxcclxuICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5Jc0VuZW15KSkge1xyXG4gICAgICAgIC8vbG9vcCB0aHJvdWdoIGFsbCBhbGxpZXMgYW5kIGdldCB0aGVpciBjb29yZHMgYW5kIGNhbGMgcGF0aFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZW5lbWllcyB0byBjaGVjazogXCIgKyBhbGx5RW50aXRpZXMuZ2V0KCkubGVuZ3RoKVxyXG4gICAgICAgIGFsbHlFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCBlbnRpdHkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgY2xvc2VzdCA9IFtdXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVudGl0eSlcclxuICAgICAgICAgICAgZGlqa3N0cmEuY29tcHV0ZShlbnRpdHkucG9zaXRpb24ueCwgZW50aXR5LnBvc2l0aW9uLnksIGZ1bmN0aW9uICh4LHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0ZXN0IHBhdGg/JylcclxuXHJcbiAgICAgICAgICAgICAgICBjbG9zZXN0LnB1c2goW3gseV0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmKCF3aW5uZXIgfHwgY2xvc2VzdC5sZW5ndGggPCB3aW5uZXIubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIHdpbm5lciA9IGNsb3Nlc3RcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyAgXHJcbiAgICAgICAgLy9sb29wIHRocm91Z2ggYWxsIGVuZW1pZXMgYW5kIGdldCB0aGVpciBjb29yZHMgYW5kIGNhbGMgcGF0aFxyXG4gICAgcmV0dXJuIHdpbm5lclxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrU3RyYWlnaHRMaW5lID0gKFsuLi5wYXRoXSwgY3VycmVudFhZKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcImluIHJhbmdlIGNoZWNrXCIpXHJcbiAgICAvL2NoZWNrIGlmIGxlbmd0aCA9IDEgdGhlbiB3ZSBhcmUgcmlnaHQgbmV4dCB0byB0YXJnZXRcclxuICAgIGlmKHBhdGgubGVuZ3RoID09IDEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGF0aCBzaG9ydFwiKVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhciBYcyA9IFtdXHJcbiAgICB2YXIgWXMgPSBbXVxyXG4gICAgcGF0aC5mb3JFYWNoKGNvb3JkcyA9PiB7XHJcbiAgICAgICAgWHMucHVzaChjb29yZHNbMF0pXHJcbiAgICAgICAgWXMucHVzaChjb29yZHNbMV0pXHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coWHMudG9TdHJpbmcoKSlcclxuICAgIGNvbnNvbGUubG9nKFlzLnRvU3RyaW5nKCkpXHJcbiAgICAvL2lmKChhbGxFcXVhbChYcykgfHwgYWxsRXF1YWwoWXMpICkgJiYgKGN1cnJlbnRYWS54ID09IHBhdGhbMF1bMF0gfHwgY3VycmVudFhZLnkgPT0gcGF0aFswXVsxXSkgKXtcclxuICAgIGlmKChjdXJyZW50WFkueCA9PSBwYXRoWzBdWzBdIHx8IGN1cnJlbnRYWS55ID09IHBhdGhbMF1bMV0pICl7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1lbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWxsRXF1YWwgPSBhcnIgPT4gYXJyLmV2ZXJ5KCB2ID0+IHYgPT09IGFyclswXSApXHJcblxyXG5cclxuY29uc3QgdGVzdGluZ0NCID0gKCkgPT4ge1xyXG5cclxufVxyXG5cclxuY29uc3QgcGFzc2FibGVDYWxsYmFjayA9ICh4LHkpID0+IHtcclxuICAgIC8vY29uc29sZS5sb2coXCJjaGVja2luZyBjb29yZHM6IFwiICsgeCArIFwiOlwiICsgeSlcclxuICAgIC8vZ2V0IGVudGl0aWVzIGF0IHgseVxyXG4gICAgdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDp4LHk6eX0pKVxyXG5cclxuICAgIGlmKCFnZXRFbnRpdGllc0F0TG9jKXtcclxuICAgICAgICByZXR1cm4gMFxyXG4gICAgfVxyXG5cclxuICAgIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaCggZWlkID0+IHtcclxuICAgICAgICB2YXIgZW50aXR5ID0gd29ybGQuZ2V0RW50aXR5KGVpZClcclxuXHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzQmxvY2tpbmcpKXtcclxuICAgICAgICAgICAgcmV0dXJuIDBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy9pZiBsZW5ndGggMCwgcmV0dXJuIDFcclxuICAgIC8vaWYgYW55IGlzQmxvY2sgcmV0dXJuIDFcclxuXHJcbiAgICAvL3JldHVybiAwXHJcbiAgICByZXR1cm4gMVxyXG59IiwiaW1wb3J0IHtHZXRTZWxlY3RlZERpZSwgR2V0QWxsRGllfSBmcm9tIFwiLi9hYmlsaXRpZXNcIlxyXG5pbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4uL3N0YXRlL2NhY2hlXCJcclxuaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5pbXBvcnQge0FpUGF0aGZpbmQsQ2hlY2tTdHJhaWdodExpbmV9IGZyb20gXCIuL3BhdGhmaW5kaW5nXCJcclxuaW1wb3J0IHt0b0xvY0lkfSBmcm9tIFwiLi4vbGliL2dyaWRcIlxyXG5cclxuZXhwb3J0IGNvbnN0IERvQWlUdXJuRGVmZW5kID0gKGVudGl0eSkgPT4ge1xyXG4gICAgdmFyIGFiaWxpdGllc0NhblVzZSA9IFtdXHJcbiAgICAvL2ZvciBlYWNoIGRlZmVuc2UgYWJpbGl0eSBjaGVjayBpZiB3ZSBjYW4gdXNlXHJcbiAgICB2YXIgc3RhbWluYSA9IGVudGl0eS5zdGFtaW5hLmN1cnJlbnQ7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKFwiQUkgdXNhYmxlIHN0YW1pbmFcIilcclxuICAgIGNvbnNvbGUubG9nKGVudGl0eSlcclxuICAgIGNvbnNvbGUubG9nKHN0YW1pbmEpXHJcblxyXG4gICAgZW50aXR5LmFiaWxpdHlMaXN0LmFiaWxpdGllcy5mb3JFYWNoKCBhYmlsID0+IHtcclxuICAgICAgICAvL3NwbGl0IHRoZSBkaWNlIGNvdW50cywgaWYgYW55IHJldHVybiB0cnVlIGFkZCB0byBjYW4gdXNlIGFuZCBjb250aW51ZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFiaWwuYWJpbGl0eVN0YW1pbmFDb3N0KVxyXG4gICAgICAgIGlmKCAoYWJpbC5hYmlsaXR5UGhhc2UucGhhc2UgPT0gXCJBbnlcIiB8fCBhYmlsLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkRlZmVuZFwiKSAmJiBzdGFtaW5hID49IGFiaWwuYWJpbGl0eVN0YW1pbmFDb3N0LmFtb3VudCl7XHJcbiAgICAgICAgICAgIC8vd2UgaGF2ZSBlbm91Z2ggdG8gdXNlIHRoaXNcclxuICAgICAgICAgICAgYWJpbGl0aWVzQ2FuVXNlLnB1c2goYWJpbClcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coXCJhaSB1c2FibGUgYWJpbGl0aWVzXCIpXHJcbiAgICBjb25zb2xlLmxvZyhhYmlsaXRpZXNDYW5Vc2UpXHJcbiAgICBDaG9vc2VBaURlZmVuZChlbnRpdHksIGFiaWxpdGllc0NhblVzZSlcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEb0FpVHVybkF0dGFjayA9IChlbnRpdHkpID0+IHtcclxuXHJcbiAgICB2YXIgYWJpbGl0aWVzQ2FuVXNlID0gW11cclxuICAgIC8vZm9yIGVhY2ggZGVmZW5zZSBhYmlsaXR5IGNoZWNrIGlmIHdlIGNhbiB1c2VcclxuICAgIHZhciBzdGFtaW5hID0gZW50aXR5LnN0YW1pbmEuY3VycmVudDtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coXCJBSSB1c2FibGUgc3RhbWluYVwiKVxyXG4gICAgY29uc29sZS5sb2coZW50aXR5KVxyXG4gICAgY29uc29sZS5sb2coc3RhbWluYSlcclxuXHJcbiAgICBlbnRpdHkuYWJpbGl0eUxpc3QuYWJpbGl0aWVzLmZvckVhY2goIGFiaWwgPT4ge1xyXG4gICAgICAgIC8vc3BsaXQgdGhlIGRpY2UgY291bnRzLCBpZiBhbnkgcmV0dXJuIHRydWUgYWRkIHRvIGNhbiB1c2UgYW5kIGNvbnRpbnVlXHJcbiAgICAgICAgaWYoIChhYmlsLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkFueVwiIHx8IGFiaWwuYWJpbGl0eVBoYXNlLnBoYXNlID09IFwiQXR0YWNrXCIpICYmIGFiaWwuYWJpbGl0eVN0YW1pbmFDb3N0LmFtb3VudCA8PSBlbnRpdHkuc3RhbWluYS5jdXJyZW50KXtcclxuICAgICAgICAgICAgLy93ZSBoYXZlIGVub3VnaCB0byB1c2UgdGhpc1xyXG4gICAgICAgICAgICBhYmlsaXRpZXNDYW5Vc2UucHVzaChhYmlsKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyhcImFpIHVzYWJsZSBhYmlsaXRpZXNcIilcclxuICAgIGNvbnNvbGUubG9nKGFiaWxpdGllc0NhblVzZSlcclxuICAgIENob29zZUFpQXR0YWNrKGVudGl0eSwgYWJpbGl0aWVzQ2FuVXNlKVxyXG4gICAgY29uc29sZS5sb2coXCJwYXRoZmluZGluZ1wiKVxyXG4gICAgLy9BaVBhdGhmaW5kKGVudGl0eSlcclxuICAgIC8vIHZhciBhdHRhY2tVc2VkID0gMFxyXG4gICAgLy9mb3IgZWFjaCBhdHRhY2sgYWJpbGl0eSwgY2hlY2sgaWYgd2UgY2FuIHVzZVxyXG5cclxuICAgIC8vY2hlY2sgaWYgd2UgYXJlIGluIHJhbmdlIHRvIHVzZT9cclxuICAgICAgICAvL2lmIG5vdCBpbiByYW5nZVxyXG4gICAgICAgICAgICAvL2F0dGVtcHQgbW92ZT9cclxuICAgICAgICAvL2lmIGluIHJhbmdlICYmIGF0dGFja1VzZWQgPT0gMFxyXG4gICAgICAgICAgICAvL3VzZSBhdHRhY2sgb24gdGFyZ2V0XHJcbiAgICAgICAgICAgIC8vYXR0YWNrVXNlZCA9IDFcclxufVxyXG5cclxudmFyIGJsb2NrZXJzID0gW11cclxuXHJcbmNvbnN0IENob29zZUFpRGVmZW5kID0gKGVudGl0eSwgYWJpbGl0eUxpc3QpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVudGl0eSlcclxuICAgIHZhciBnZXRFbnRpdGllc0F0TG9jID0gcmVhZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIHRvTG9jSWQoe3g6ZW50aXR5LnBvc2l0aW9uLngseTplbnRpdHkucG9zaXRpb24ueX0pKVxyXG4gICAgdmFyIGZhc3RIZXJlID0gZmFsc2VcclxuICAgIHZhciBzbG93SGVyZSA9IGZhbHNlXHJcbiAgICBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goIGVpZCA9PiB7XHJcbiAgICAgICAgdmFyIGVudGl0eSA9IHdvcmxkLmdldEVudGl0eShlaWQpO1xyXG4gICAgLy9jaGVjayBpZiB3ZSBhcmUgb24gYSBmYXN0IHRpbGVcclxuICAgICAgICBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuRmFzdEF0dGFjaykpe1xyXG4gICAgICAgICAgICBmYXN0SGVyZSA9IHRydWVcclxuICAgIC8vY2hlY2sgaWYgd2UgYXJlIG9uIGEgdGlsZSB3aXRoIHNsb3cgYXR0YWNrXHJcbiAgICAgICAgfWVsc2UgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLlNsb3dBdHRhY2spKSB7XHJcbiAgICAgICAgICAgIHNsb3dIZXJlID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICB2YXIgbW92ZWQgPSBmYWxzZVxyXG4gICAgaWYoZmFzdEhlcmUpe1xyXG4gICAgICAgIC8vY2hlY2sgaWYgZG9kZ2UgaW4gdXNhYmxlXHJcbiAgICAgICAgdmFyIGRvZGdlXHJcbiAgICAgICAgYWJpbGl0eUxpc3QuZm9yRWFjaCggYWJpbCA9PiB7XHJcbiAgICAgICAgICAgIGlmKGFiaWwuZGVzY3JpcHRpb24ubmFtZSA9PSBcImRvZGdlXCIpIHtcclxuICAgICAgICAgICAgICAgIGRvZGdlID0gYWJpbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZihkb2RnZSl7XHJcbiAgICAgICAgICAgIC8vd2UgaGF2ZSBkb2RnZSBzbyB3ZSBzaG91bGQgdXNlIGl0IVxyXG4gICAgICAgICAgICBTdGFtaW5hQ29zdChlbnRpdHksIGRvZGdlLmFiaWxpdHlTdGFtaW5hQ29zdC5hbW91bnQpXHJcbiAgICAgICAgICAgIGRvZGdlLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5vblVzZShkb2RnZSwgZW50aXR5KVxyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZSBpZihzbG93SGVyZSl7XHJcbiAgICAgICAgLy9jaGVjayBpZiB3ZSBjYW4gbW92ZVxyXG4gICAgICAgIHZhciBtb3ZlIFxyXG4gICAgICAgIGFiaWxpdHlMaXN0LmZvckVhY2goYWJpbCA9PiB7XHJcbiAgICAgICAgICAgIGlmKGFiaWwuZGVzY3JpcHRpb24ubmFtZSA9PSBcIm1vdmVcIil7XHJcbiAgICAgICAgICAgICAgICBtb3ZlID0gYWJpbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL2lmIG1vdmVcclxuICAgICAgICBpZihtb3ZlKXtcclxuICAgICAgICAgICAgLy91c2UgaXQhXHJcbiAgICAgICAgICAgIFN0YW1pbmFDb3N0KGVudGl0eSwgZG9kZ2UuYWJpbGl0eVN0YW1pbmFDb3N0LmFtb3VudClcclxuICAgICAgICAgICAgbW92ZS5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25Vc2UobW92ZSwgZW50aXR5KVxyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGhlbiBtb3ZlXHJcbiAgICAgICAgICAgIC8vbW92ZWQgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYoIChmYXN0SGVyZSB8fCBzbG93SGVyZSkgJiYgIW1vdmVkKSB7XHJcbiAgICAgICAgLy9jaGVjayBpZiB3ZSBoYXZlIGFueSBibG9jayBza2lsbHNcclxuICAgIH1cclxuIFxyXG59XHJcblxyXG5jb25zdCBDaG9vc2VBaUF0dGFjayA9IChlbnRpdHksYWJpbGl0eUxpc3QpID0+IHtcclxuICAgIC8vZ2V0IGNsb3Nlc3QgdGFyZ2V0IGZvciBub3dcclxuICAgIC8vIHZhciB0YXJnZXQgPSBBaVBhdGhmaW5kKGVudGl0eSlcclxuICAgIHZhciBhdHRhY2tlZCA9IGZhbHNlXHJcbiAgICBhYmlsaXR5TGlzdC5zaHVmZmxlKClcclxuICAgIC8vYWJpbGl0eUxpc3Quc2h1ZmZsZSgpXHJcbiAgICBjb25zb2xlLmxvZyhcIkRvaW5nIG1vYiBhdHRhY2s6IFwiKVxyXG4gICAgZm9yKHZhciB4ID0gMDsgeCA8IDI7eCArKyl7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IEFpUGF0aGZpbmQoZW50aXR5KVxyXG4gICAgICAgIGFiaWxpdHlMaXN0LmZvckVhY2goIGFiaWwgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGFyZ2V0Lmxlbmd0aClcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYodGFyZ2V0Lmxlbmd0aCA+PSAxICYmIHRhcmdldC5sZW5ndGggPD0gYWJpbC5hYmlsaXR5UmFuZ2UucmFuZ2UgJiYgIWF0dGFja2VkICYmIENoZWNrU3RyYWlnaHRMaW5lKHRhcmdldCwge3g6ZW50aXR5LnBvc2l0aW9uLngseTplbnRpdHkucG9zaXRpb24ueX0pKXtcclxuICAgICAgICAgICAgICAgIC8vd2UgYXJlIGluIHJhbmdlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluIFJhbmdlXCIpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnID0gdGFyZ2V0LnBvcCgpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnLnRvU3RyaW5nKCkpXHJcblxyXG4gICAgICAgICAgICAgICAgYWJpbC5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25Vc2UoYWJpbCwgZW50aXR5LCB7eDp0YXJnWzBdLHk6dGFyZ1sxXX0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy91c2Ugc3RhbWluYSB1cFxyXG4gICAgICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcInVzZS1zdGFtaW5hXCIsYWJpbC5hYmlsaXR5U3RhbWluYUNvc3QuYW1vdW50KVxyXG4gICAgICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImFpLXVzZS1zdGFtaW5hXCIsYWJpbC5hYmlsaXR5U3RhbWluYUNvc3QuYW1vdW50KVxyXG4gICAgICAgICAgICAgICAgYXR0YWNrZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmKHRhcmdldC5sZW5ndGggPiAxICYmICFhdHRhY2tlZCl7XHJcbiAgICAgICAgICAgIC8vbW92ZSB0b3dhcmRzIGVuZW15XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90IEluIFJhbmdlIHNvIHdlIG1vdmVcIilcclxuICAgICAgICAgICAgaWYodGFyZ2V0Lmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgICAgICAgTW92ZUZvcndhcmQoZW50aXR5LCB0YXJnZXQpXHJcblxyXG4gICAgICAgICAgICAgICAgLy91c2UgMSBzdGFtaW5hXHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwidXNlLXN0YW1pbmFcIiwxKVxyXG4gICAgICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImFpLXVzZS1zdGFtaW5hXCIsMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcbn1cclxuXHJcbmNvbnN0IE1vdmVGb3J3YXJkID0gKGVudGl0eSwgdGFyZ2V0KSA9PiB7XHJcbiAgICAvL0RFQlVHOiBnaXZlICsxIG1vdmVtZW50XHJcbiAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZ2Fpbi1tb3ZlbWVudFwiLCAyKVxyXG5cclxuICAgIC8vZmluZCBuZWFyZXN0IHBsYXllclxyXG5cclxuICAgIHZhciB5ID0gZW50aXR5Lm1vdmVtZW50Lm1vdmVtZW50XHJcbiAgICBmb3IodmFyIHggPSAwOyB4IDwgeTt4Kyspe1xyXG4gICAgICAgIGlmKHRhcmdldCAmJiB0YXJnZXQubGVuZ3RoID4gMSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtYWluaW5nIHRhcmdldFwiKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgLy9kaWQgd2UgZmluZCBhIHRhcmdldD8gd2FsayB0b3dhcmRzIHRoZSBsYXN0XHJcbiAgICAgICAgICAgIHZhciBuZXh0U3RlcCA9IHRhcmdldC5wb3AoKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5leHQgU3RlcFwiICsgbmV4dFN0ZXAudG9TdHJpbmcoKSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vY29udmVydCB0byBhIHN0ZXAgZnJvbSBwb3NpdGlvblxyXG4gICAgICAgICAgICBlbnRpdHkubW92ZW1lbnQueCA9IG5leHRTdGVwWzBdIC0gZW50aXR5LnBvc2l0aW9uLnhcclxuICAgICAgICAgICAgZW50aXR5Lm1vdmVtZW50LnkgPSAgbmV4dFN0ZXBbMV0gLSBlbnRpdHkucG9zaXRpb24ueSBcclxuICAgICAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImF0dGVtcHQtbW92ZVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgU3RhbWluYUNvc3QgPSAoZW50aXR5LCBhbW91bnQpID0+IHtcclxuICAgIGVudGl0eS5maXJlRXZlbnQoXCJ1c2Utc3RhbWluYVwiLCBhbW91bnQpXHJcbn1cclxuXHJcbmNvbnN0IFNlbGVjdERpZSA9IChlbnRpdHksIGFtb3VudCkgPT4ge1xyXG5cclxufVxyXG5cclxuY29uc3QgR2V0RGllID0gKGVudGl0eSkgPT4ge1xyXG4gICAgbGV0IGRpZUxpc3QgPSBbXVxyXG4gICAgZm9yKHZhciB4ID0gMDt4IDwgZW50aXR5LmRpZS5sZW5ndGg7IHgrKyl7XHJcbiAgICAgICAgaWYoIWVudGl0eS5kaWVbeF0uZXhoYXVzdGVkKXtcclxuICAgICAgICAgICAgZGllTGlzdC5wdXNoKGVudGl0eS5kaWVbeF0ubnVtYmVyKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaWVMaXN0LnNvcnQoKVxyXG4gICAgdmFyIGNvdW50cyA9IHt9O1xyXG4gICAgZGllTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHgpIHsgY291bnRzW3hdID0gKGNvdW50c1t4XSB8fCAwKSsxOyB9KTtcclxuICAgIC8vY29uc29sZS5sb2coY291bnRzKVxyXG4gICAgcmV0dXJuIGNvdW50cztcclxufVxyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ3NodWZmbGUnLCB7XHJcbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIFt0aGlzW2ldLCB0aGlzW2pdXSA9IFt0aGlzW2pdLCB0aGlzW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0pOyIsImltcG9ydCBcIi4vbGliL2NhbnZhcy5qc1wiO1xyXG5pbXBvcnQgd29ybGQgZnJvbSBcIi4vc3RhdGUvZWNzXCI7XHJcbmltcG9ydCAqIGFzIFJPVCBmcm9tIFwicm90LWpzXCI7XHJcbmltcG9ydCB7cmVuZGVyLFNldEVudGl0eVRvUmVuZGVyfSBmcm9tIFwiLi9zeXN0ZW1zL3JlbmRlclwiXHJcbmltcG9ydCB7bWFrZU1hcCxGZXRjaEZyZWVUaWxlfSBmcm9tIFwiLi9zdGF0ZS9kdW5nZW9uXCJcclxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tIFwiLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5pbXBvcnQgeyB0aW1lcyB9IGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IHsgVGlsZSB9IGZyb20gXCIuL3N0YXRlL3ByZWZhYi5qc1wiO1xyXG5pbXBvcnQge3JlYWRDYWNoZVNldH0gZnJvbSBcIi4vc3RhdGUvY2FjaGVcIlxyXG5pbXBvcnQge3RvTG9jSWR9IGZyb20gXCIuL2xpYi9ncmlkXCJcclxuaW1wb3J0ICogYXMgQWJpbGl0aWVzIGZyb20gXCIuL3N5c3RlbXMvYWJpbGl0aWVzXCJcclxuaW1wb3J0ICogYXMgQUkgZnJvbSBcIi4vc3lzdGVtcy9haVwiXHJcbmltcG9ydCB7SGlkZUhlbHBNZW51fSBmcm9tIFwiLi9zdGF0ZS9oZWxwTWVudVwiXHJcblxyXG5leHBvcnQgdmFyIGdhbWVTdGF0ZSA9IFwic2V0dXBcIlxyXG5leHBvcnQgdmFyIHByZXZpb3VzR2FtZVN0YXRlID0gXCJcIlxyXG5cclxudmFyIHF1ZXVlZEFiaWxpdHkgPSBcImhpXCJcclxudmFyIHF1ZXVlZEVudGl0eSA9IFwiaGlcIlxyXG5leHBvcnQgY29uc3QgU2V0UXVldWVkQWJpbGl0eSA9IChhYmlsKSA9PiB7XHJcbiAgcXVldWVkQWJpbGl0eSA9IGFiaWxcclxufVxyXG5leHBvcnQgY29uc3QgU2V0UXVldWVkRW50aXR5ID0gKGVudCkgPT4ge1xyXG4gIHF1ZXVlZEVudGl0eSA9IGVudFxyXG59XHJcblxyXG5leHBvcnQgdmFyIHRhcmdldEVudGl0eSA9IHdvcmxkLmNyZWF0ZUVudGl0eShcInRhcmdldEVudGl0eVwiKVxyXG50YXJnZXRFbnRpdHkuYWRkKGNvbXBvbmVudHMuQXBwZWFyYW5jZSwge2NoYXI6ICdYJywgY29sb3I6IFwiYmxhY2tcIiwgYmFja2dyb3VuZDogXCJncmVlblwifSlcclxuXHJcbnZhciBDdXJycmVudEFjdGl2ZVBsYXllckluZGV4ID0gMFxyXG5leHBvcnQgdmFyIEN1cnJyZW50QWN0aXZlUGxheWVyXHJcbmxldCB1c2VySW5wdXQgPSBudWxsO1xyXG5cclxuY29uc3QgcGxheWVyRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdCwgY29tcG9uZW50cy5Jc1BsYXllckNvbnRyb2xsZWRdLFxyXG4gIG5vbmU6IFtjb21wb25lbnRzLklzRGVhZF1cclxufSk7XHJcblxyXG5jb25zdCBhbGx5RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdF0sXHJcbiAgbm9uZTogW2NvbXBvbmVudHMuSXNFbmVteV1cclxufSlcclxuXHJcbmNvbnN0IGVuZW15RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgYWxsOiBbY29tcG9uZW50cy5Qb3NpdGlvbiwgY29tcG9uZW50cy5BcHBlYXJhbmNlLCBjb21wb25lbnRzLkxheWVyVW5pdCxjb21wb25lbnRzLklzRW5lbXldLFxyXG4gIG5vbmU6IFtjb21wb25lbnRzLklzRGVhZF1cclxufSlcclxuXHJcbmNvbnN0IGRtZ1RpbGVFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICBhbGw6IFtjb21wb25lbnRzLkRtZ1RpbGVdXHJcbn0pXHJcblxyXG5jb25zdCB1cGRhdGUgPSAoKSA9PiB7XHJcbiAgICBpZihnYW1lU3RhdGUgPT0gXCJzZXR1cFwiKXtcclxuICAgICAgZ2FtZVN0YXRlID0gXCJFbmVteVR1cm5EZWZlbmRcIlxyXG4gICAgfWVsc2UgaWYoZ2FtZVN0YXRlID09IFwiRW5lbXlUdXJuRGVmZW5kXCIpIHtcclxuXHJcbiAgICAgIFxyXG4gICAgICAvL0VuZW15RGVmZW5kVHVybigpXHJcblxyXG4gICAgICBnYW1lU3RhdGUgPSBcIkVuZW15VHVybkF0dGFja1wiXHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICAgIC8vc2V0IHRvIHBsYXllcnR1cm5kZWZlbmRcclxuICAgICAgLy9jaGVjayB3aW4vbG9zZSAgXHJcbiAgICB9ZWxzZSBpZihnYW1lU3RhdGUgPT0gXCJFbmVteVR1cm5BdHRhY2tcIil7XHJcbiAgICAgIEVuZW15QXR0YWNrVHVybigpXHJcbiAgICAgIC8vZmlyZSBlbmQgdHVybiBmb3IgYWxsIGVuZW15IHVuaXRzXHJcbiAgICAgIEVuZFR1cm5Qcm9jZXNzKGVuZW15RW50aXRpZXMuZ2V0KCkpXHJcblxyXG4gICAgICBnYW1lU3RhdGUgPSBcIlBsYXllclR1cm5EZWZlbmRcIlxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYoZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkRlZmVuZFwiKSB7XHJcbiAgICAgIHByb2Nlc3NVc2VySW5wdXQoKVxyXG4gICAgICAvL3NldCB0byBwbGF5ZXJ0dXJuYXR0YWNrXHJcbiAgICAgIC8vY2hlY2sgd2luL2xvc2VcclxuICAgIH1lbHNlIGlmKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5BdHRhY2tcIikge1xyXG4gICAgICBwcm9jZXNzVXNlcklucHV0KClcclxuICAgICAgLy9zZXQgdG8gZW5lbXkgdHVyblxyXG4gICAgICAvL2NoZWNrIHdpbi9sb3NlXHJcblxyXG4gICAgICAvL2ZpcmUgZW5kVHVybiBmb3IgYWxsIHBsYXllciB1bml0c1xyXG4gICAgICBcclxuICAgIH1lbHNlIGlmKGdhbWVTdGF0ZT09XCJleGFtaW5lXCIgfHwgZ2FtZVN0YXRlID09XCJ0YXJnZXRpbmdcIiB8fCBnYW1lU3RhdGUgPT0gXCJIZWxwXCIgfHwgZ2FtZVN0YXRlID09IFwiQWJpbGl0eUluZm9cIiB8fCBnYW1lU3RhdGUgPT0gXCJEYW1hZ2VTaG93XCIgfHwgZ2FtZVN0YXRlID09IFwiRW5lbXlOdW1iZXJzXCIpe1xyXG4gICAgICBwcm9jZXNzVXNlcklucHV0KClcclxuICAgICAgLy9yZW5kZXIgZW50aXRpZXMgdW5kZXIgY3VycmVudCByZXRpY2xlXHJcblxyXG4gICAgICBcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5cclxuY29uc3QgcHJvY2Vzc1VzZXJJbnB1dCA9ICgpID0+IHtcclxuLy9zaG93IGhlbHAgc2NyZWVuXHJcbiAgaWYoZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkRlZmVuZFwiIHx8IGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5BdHRhY2tcIil7XHJcbiAgICBpZih1c2VySW5wdXQgPT09IFwiP1wiKSB7XHJcbiAgICAgIFNldFByZXZpb3VzU3RhdGUoXCJIZWxwXCIpXHJcbiAgICAgIHJlbmRlcigpXHJcbi8vc2VsZWN0IG5leHQgcGxheWVyXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIm5cIikge1xyXG4gICAgICAvL2NoYW5nZSBhY3RpdmUgcGxheWVyIHRvIG5leHRcclxuICAgICAgY29uc29sZS5sb2coJ2lucHV0OiAnICsgdXNlcklucHV0KVxyXG4gICAgICBDdXJycmVudEFjdGl2ZVBsYXllciA9IEdldE5leHRBY3RpdmVQbGF5ZXIoKVxyXG5cclxuICAgICAgcmVuZGVyKClcclxuXHJcbi8vZGllIHNlbGVjdFxyXG4gICAgfWVsc2UgaWYodXNlcklucHV0ID09PSBcIjFcIiB8fCB1c2VySW5wdXQgPT09IFwiMlwiIHx8IHVzZXJJbnB1dCA9PT0gXCIzXCIgfHwgdXNlcklucHV0ID09PSBcIjRcIiB8fCB1c2VySW5wdXQgPT09IFwiNVwiIHx8IHVzZXJJbnB1dCA9PT0gXCI2XCIgfHwgdXNlcklucHV0ID09PSBcIjdcIiB8fCB1c2VySW5wdXQgPT09IFwiOFwiIHx8IHVzZXJJbnB1dCA9PT0gXCI5XCIpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJkaWNlIHN3YXBcIilcclxuICAgICAgLy9zZWxlY3QgZGllXHJcbiAgICAgIGlmKHVzZXJJbnB1dCAtIDEgPCBDdXJycmVudEFjdGl2ZVBsYXllci5kaWUubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3VzZXJJbnB1dC0xXSlcclxuICAgICAgICBpZighQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3VzZXJJbnB1dC0xXS5leGhhdXN0ZWQpe1xyXG4gICAgICAgICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3VzZXJJbnB1dC0xXS5zZWxlY3RlZCA9ICFDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbdXNlcklucHV0LTFdLnNlbGVjdGVkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICAgICAgXHJcbiAgICAgIH1cclxuICAgICAgXHJcblxyXG4vL21vdmVtZW50XHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93VXBcIikge1xyXG4gICAgICBQbGF5ZXJBdHRlbXB0TW92ZSgpXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgICBQbGF5ZXJBdHRlbXB0TW92ZSgpXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93RG93blwiKSB7XHJcbiAgICAgIFBsYXllckF0dGVtcHRNb3ZlKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dMZWZ0XCIpIHtcclxuICAgICAgUGxheWVyQXR0ZW1wdE1vdmUoKVxyXG4gICAgXHJcbi8vYWJpbGl0eSB1c2VcclxuICAgIH1lbHNlIGlmKHVzZXJJbnB1dCA9PT0gXCJxXCIgfHwgdXNlcklucHV0ID09PSBcIndcIiB8fCB1c2VySW5wdXQgPT09IFwiZVwiIHx8IHVzZXJJbnB1dCA9PT0gXCJyXCIgfHwgdXNlcklucHV0ID09PSBcInRcIiB8fCB1c2VySW5wdXQgPT09IFwieVwiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiYWJpbGl0eSB1c2VcIilcclxuICAgICAgdmFyIGFiaWxpdHlJbmRleCA9IENvbnZlcnRTa2lsbEhvdGtleSh1c2VySW5wdXQpXHJcblxyXG4gICAgICAvL2NoZWNrIGlmIGFiaWxpdHkgZXhpc3RzXHJcbiAgICAgIGlmKGFiaWxpdHlJbmRleCA8IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllcy5sZW5ndGgpe1xyXG4gICAgICAgIC8vaGl0IGV4aXN0aW5nIGFiaWxpdHkga2V5XHJcbiAgICAgICAgbGV0IGFiaWwgPSBDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbYWJpbGl0eUluZGV4XVxyXG4gICAgICAgIGxldCBjYW5Vc2UgPSBhYmlsLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5jYW5Vc2UoYWJpbCxDdXJycmVudEFjdGl2ZVBsYXllcilcclxuICAgICAgICB2YXIgY3VycmVudFBoYXNlID0gKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5EZWZlbmRcIikgPyBcIkRlZmVuZFwiIDogXCJBdHRhY2tcIlxyXG4gICAgICAgIGlmKGNhblVzZS5sZW5ndGggPiAwICYmIChhYmlsLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkFueVwiIHx8IGFiaWwuYWJpbGl0eVBoYXNlLnBoYXNlID09IGN1cnJlbnRQaGFzZSkpe1xyXG4gICAgICAgICAgLy9jaGVjayBpZiBhYmlsaXR5IGlzIGluc3RhbnQgb3IgdGFyZ2V0ZWRcclxuICAgICAgICAgIGlmKGFiaWwuYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLm9uVGFyZ2V0KXtcclxuICAgICAgICAgICAgYWJpbC5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25UYXJnZXQoYWJpbCwgQ3VycnJlbnRBY3RpdmVQbGF5ZXIpXHJcblxyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBhYmlsLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5vblVzZShhYmlsLCBDdXJycmVudEFjdGl2ZVBsYXllciwgR2V0VGFyZ2V0RW50aXR5UG9zKCkpXHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgXHJcbiAgICB9ZWxzZSBpZih1c2VySW5wdXQgPT09IFwiUVwiIHx8IHVzZXJJbnB1dCA9PT0gXCJXXCIgfHwgdXNlcklucHV0ID09PSBcIkVcIiB8fCB1c2VySW5wdXQgPT09IFwiUlwiIHx8IHVzZXJJbnB1dCA9PT0gXCJUXCIgfHwgdXNlcklucHV0ID09PSBcIllcIikge1xyXG4gIC8vYWJpbGl0eSBpbmZvXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiYWJpbGl0eSBpbmZvXCIpXHJcbiAgICAgIHZhciBhYmlsaXR5SW5kZXggPSBDb252ZXJ0U2tpbGxIb3RrZXkodXNlcklucHV0KVxyXG4gICAgICBTZXRQcmV2aW91c1N0YXRlKFwiQWJpbGl0eUluZm9cIilcclxuICAgICAgY29uc29sZS5sb2coYWJpbGl0eUluZGV4KVxyXG4gICAgICBjb25zb2xlLmxvZyhDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbYWJpbGl0eUluZGV4XSlcclxuICAgICAgU2V0RW50aXR5VG9SZW5kZXIoQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW2FiaWxpdHlJbmRleF0pXHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICBcclxuICAgIH1lbHNlIGlmKHVzZXJJbnB1dD09XCJFbnRlclwiKXtcclxuICAgICAgY29uc29sZS5sb2coXCJFbnRlclwiKVxyXG4gICAgICBpZihnYW1lU3RhdGUgPT0gXCJQbGF5ZXJUdXJuRGVmZW5kXCIpe1xyXG4gICAgICAgIFBsYXllclR1cm5EZWZlbmQoKVxyXG4gICAgICAgIGdhbWVTdGF0ZSA9IFwiUGxheWVyVHVybkF0dGFja1wiXHJcbiAgICAgIH1lbHNlIGlmIChnYW1lU3RhdGUgPT0gXCJQbGF5ZXJUdXJuQXR0YWNrXCIpe1xyXG4gICAgICAgIC8vcHJvY2VzcyBwbGF5ZXJBdHRhY2tcclxuICAgICAgICBQcm9jZXNzRG1nVGlsZXMoKVxyXG5cclxuICAgICAgICBFbmRUdXJuUHJvY2VzcyhhbGx5RW50aXRpZXMuZ2V0KCkpXHJcbiAgICAgICAgZ2FtZVN0YXRlID0gXCJFbmVteVR1cm5EZWZlbmRcIlxyXG4gICAgICB9XHJcblxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gJ3gnKSB7XHJcbiAgICAgIC8vc2V0IGV4YW1pbmUgbW9kZVxyXG4gICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwiZXhhbWluZVwiKVxyXG5cclxuICAgICAgcmVuZGVyKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09ICdjJykge1xyXG4gICAgICBTZXRQcmV2aW91c1N0YXRlKFwiRGFtYWdlU2hvd1wiKVxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gJ3onKSB7XHJcbiAgICAgIFNldFByZXZpb3VzU3RhdGUoXCJFbmVteU51bWJlcnNcIilcclxuICAgICAgcmVuZGVyKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09ICdwJykge1xyXG4gICAgICAvL3VzZWQgZm9yIHRlc3RpbmdcclxuICAgICAgY29uc29sZS5sb2coQ3VycnJlbnRBY3RpdmVQbGF5ZXIpXHJcbiAgICAgIFxyXG4gICAgfVxyXG4gIH1lbHNlIGlmIChnYW1lU3RhdGUgPT09IFwiZXhhbWluZVwiIHx8IGdhbWVTdGF0ZSA9PT0gXCJ0YXJnZXRpbmdcIikge1xyXG4gICAgICBpZiAodXNlcklucHV0ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgRXhhbWluZVRhcmdldERpc2FibGUoKVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dVcFwiIHx8IHVzZXJJbnB1dCA9PT0gXCJBcnJvd1JpZ2h0XCIgfHwgdXNlcklucHV0ID09PSBcIkFycm93RG93blwiIHx8IHVzZXJJbnB1dCA9PT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgICAgIFRhcmdldE1vdmUoKVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICAgIH1lbHNlIGlmKHVzZXJJbnB1dCA9PT0gXCJFbnRlclwiICYmIGdhbWVTdGF0ZSA9PT0gXCJ0YXJnZXRpbmdcIil7XHJcbiAgICAgICAgLy9hY3RpdmF0ZSB0aGUgcXVldWVkIGFiaWxpdHlcclxuICAgICAgICBjb25zb2xlLmxvZyhxdWV1ZWRBYmlsaXR5KVxyXG4gICAgICAgIHF1ZXVlZEFiaWxpdHkuYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLm9uVXNlKHF1ZXVlZEFiaWxpdHksIHF1ZXVlZEVudGl0eSwgR2V0VGFyZ2V0RW50aXR5UG9zKCkpXHJcbiAgICAgICAgRXhhbWluZVRhcmdldERpc2FibGUoKVxyXG4gICAgICAgIHJlbmRlcigpXHJcbiAgICB9XHJcbiAgfWVsc2UgaWYgKGdhbWVTdGF0ZSA9PT0gXCJIZWxwXCIgfHwgZ2FtZVN0YXRlID09IFwiQWJpbGl0eUluZm9cIiB8fCBnYW1lU3RhdGUgPT0gXCJEYW1hZ2VTaG93XCIgfHwgZ2FtZVN0YXRlID09IFwiRW5lbXlOdW1iZXJzXCIgKSB7XHJcbiAgICBpZih1c2VySW5wdXQgPT09XCJFc2NhcGVcIil7XHJcbiAgICAgIEhpZGVIZWxwTWVudSgpXHJcbiAgICAgIFJldHVyblByZXZpb3VzR2FtZVN0YXRlKClcclxuICAgICAgcmVuZGVyKClcclxuICAgIH1cclxuICB9XHJcbiAgICB1c2VySW5wdXQgPSBudWxsXHJcbn1cclxuXHJcbmNvbnN0IENvbnZlcnRTa2lsbEhvdGtleSA9IChob3RrZXkpID0+IHtcclxuICBzd2l0Y2ggKHVzZXJJbnB1dCkge1xyXG4gICAgY2FzZSBcInFcIjpcclxuICAgIGNhc2UgXCJRXCI6XHJcbiAgICAgIHJldHVybiAwXHJcbiAgICBjYXNlIFwid1wiOlxyXG4gICAgY2FzZSBcIldcIjpcclxuICAgICAgcmV0dXJuIDFcclxuICAgIGNhc2UgXCJlXCI6XHJcbiAgICBjYXNlIFwiRVwiOlxyXG4gICAgICByZXR1cm4gMlxyXG4gICAgY2FzZSBcInJcIjpcclxuICAgIGNhc2UgXCJSXCI6XHJcbiAgICAgIHJldHVybiAzXHJcbiAgICBjYXNlIFwidFwiOlxyXG4gICAgY2FzZSBcIlRcIjpcclxuICAgICAgcmV0dXJuIDRcclxuICAgIGNhc2UgXCJ5XCI6XHJcbiAgICBjYXNlIFwiWVwiOlxyXG4gICAgICByZXR1cm4gNVxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIDBcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEdldFRhcmdldEVudGl0eVBvcyA9ICgpID0+IHtcclxuICBpZih0YXJnZXRFbnRpdHkuaGFzKGNvbXBvbmVudHMuUG9zaXRpb24pKXtcclxuICAgIHJldHVybiB7eDp0YXJnZXRFbnRpdHkucG9zaXRpb24ueCx5OnRhcmdldEVudGl0eS5wb3NpdGlvbi55fVxyXG4gIH1lbHNlIHtcclxuICAgIHJldHVybiB7eDowLHk6MH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFeGFtaW5lVGFyZ2V0RW5hYmxlID0gKHN0YXRlKSA9PiB7XHJcbiAgU2V0UHJldmlvdXNTdGF0ZShzdGF0ZSlcclxuXHJcbiAgLy9zZXQgZXhhbWluZSBiYXNlIHBvc2l0aW9uIHRvIGN1cnJlbnQgYWN0aXZlIHBsYXllciBwb3NpdGlvblxyXG4gIHRhcmdldEVudGl0eS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLngseTogQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueX0pXHJcbn1cclxuXHJcbmNvbnN0IFNldFByZXZpb3VzU3RhdGUgPSAoc3RhdGUpID0+IHtcclxuICBwcmV2aW91c0dhbWVTdGF0ZSA9IGdhbWVTdGF0ZVxyXG4gIGdhbWVTdGF0ZSA9IHN0YXRlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFeGFtaW5lVGFyZ2V0RGlzYWJsZT0gKCkgPT4ge1xyXG4gIFJldHVyblByZXZpb3VzR2FtZVN0YXRlKClcclxuICB0YXJnZXRFbnRpdHkucmVtb3ZlKHRhcmdldEVudGl0eS5wb3NpdGlvbilcclxufVxyXG5cclxuY29uc3QgUmV0dXJuUHJldmlvdXNHYW1lU3RhdGUgPSAoKSA9PiB7XHJcbiAgZ2FtZVN0YXRlID0gcHJldmlvdXNHYW1lU3RhdGVcclxufVxyXG5cclxuY29uc3QgRXhhbWluZyA9ICgpID0+IHtcclxuXHJcbn1cclxuXHJcbmNvbnN0IFRhcmdldGluZyA9ICgpID0+IHtcclxuXHJcbn1cclxuXHJcbmNvbnN0IFBsYXllckF0dGVtcHRNb3ZlID0gKCkgPT4ge1xyXG4gIC8vIHBsYXllci5hZGQoTW92ZSwgeyB4OiAwLCB5OiAtMSB9KTsgdVxyXG5cclxuICAvLyBwbGF5ZXIuYWRkKE1vdmUsIHsgeDogMSwgeTogMCB9KTsgclxyXG5cclxuICAvLyBwbGF5ZXIuYWRkKE1vdmUsIHsgeDogMCwgeTogMSB9KTsgZFxyXG5cclxuICAvLyBwbGF5ZXIuYWRkKE1vdmUsIHsgeDogLTEsIHk6IDAgfSk7IGxcclxuXHJcbiAgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd1VwXCIpIHtcclxuICAgIEN1cnJyZW50QWN0aXZlUGxheWVyLm1vdmVtZW50LnkgPSAtMVxyXG4gIH1cclxuICBpZiAodXNlcklucHV0ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQueCA9IDFcclxuICB9XHJcbiAgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd0Rvd25cIikge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQueSA9IDFcclxuICB9XHJcbiAgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQueCA9IC0xXHJcbiAgfVxyXG5cclxuICBDdXJycmVudEFjdGl2ZVBsYXllci5maXJlRXZlbnQoXCJhdHRlbXB0LW1vdmVcIilcclxuXHJcbiAgcmVuZGVyKClcclxufVxyXG5cclxuY29uc3QgVGFyZ2V0TW92ZSA9ICgpID0+IHtcclxuICBpZiAodXNlcklucHV0ID09PSBcIkFycm93VXBcIikge1xyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkgPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55ICsgLTFcclxuICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi54ID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueFxyXG4gIH0gZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93UmlnaHRcIikge1xyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnggPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi54ICsgMVxyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkgPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55XHJcbiAgfSBlbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dEb3duXCIpIHtcclxuICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi55ID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueSArIDFcclxuICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi54ID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueFxyXG4gIH0gZWxzZSBpZiAodXNlcklucHV0ID09PSBcIkFycm93TGVmdFwiKSB7XHJcbiAgICB0YXJnZXRFbnRpdHkucG9zaXRpb24ueCA9IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLnggKyAtMVxyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkgPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBHZXROZXh0QWN0aXZlUGxheWVyID0gKCkgPT4ge1xyXG4gIGlmKEN1cnJyZW50QWN0aXZlUGxheWVySW5kZXggKyAxID49IHBsYXllckVudGl0aWVzLmdldCgpLmxlbmd0aCl7XHJcbiAgICBDdXJycmVudEFjdGl2ZVBsYXllckluZGV4ID0gMFxyXG4gIH1lbHNlIHtcclxuICAgIEN1cnJyZW50QWN0aXZlUGxheWVySW5kZXgrK1xyXG4gIH1cclxuICAvL2NvbnNvbGUubG9nKHBsYXllckVudGl0aWVzLmdldCgpW0N1cnJyZW50QWN0aXZlUGxheWVySW5kZXhdKVxyXG4gIHJldHVybiBwbGF5ZXJFbnRpdGllcy5nZXQoKVtDdXJycmVudEFjdGl2ZVBsYXllckluZGV4XVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXYpID0+IHtcclxuICB1c2VySW5wdXQgPSBldi5rZXk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldHVwVGVzdEZpZ2h0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbmV3UGxheWVyID0gd29ybGQuY3JlYXRlUHJlZmFiKFwiUGxheWVyQmVpbmdcIiwge1xyXG4gICAgICBhcHBlYXJhbmNlOiB7Y2hhcjogXCJAXCIsIGNvbG9yOiBcImdyZWVuXCJ9XHJcbiAgICB9KTtcclxuICAgIHZhciBlbXB0eVRpbGUgPSBGZXRjaEZyZWVUaWxlKCk7XHJcbiAgICBuZXdQbGF5ZXIuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OmVtcHR5VGlsZS5wb3NpdGlvbi54LHk6ZW1wdHlUaWxlLnBvc2l0aW9uLnl9KVxyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIgPSBuZXdQbGF5ZXJcclxuXHJcbiAgICBjb25zdCBuZXdQbGF5ZXIyID0gd29ybGQuY3JlYXRlUHJlZmFiKFwiUGxheWVyQmVpbmdcIiwge1xyXG4gICAgICBhcHBlYXJhbmNlOiB7Y2hhcjogXCJAXCIsIGNvbG9yOiBcInB1cnBsZVwifVxyXG4gICAgfSk7XHJcbiAgICBlbXB0eVRpbGUgPSBGZXRjaEZyZWVUaWxlKCk7XHJcbiAgICBuZXdQbGF5ZXIyLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDplbXB0eVRpbGUucG9zaXRpb24ueCx5OmVtcHR5VGlsZS5wb3NpdGlvbi55fSlcclxuXHJcbiAgICB0aW1lcyg2LCAoKSA9PiB7XHJcbiAgICAgIGVtcHR5VGlsZSA9IEZldGNoRnJlZVRpbGUoKTtcclxuICAgICAgd29ybGQuY3JlYXRlUHJlZmFiKFwiR29ibGluXCIpLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDogZW1wdHlUaWxlLnBvc2l0aW9uLngsIHk6IGVtcHR5VGlsZS5wb3NpdGlvbi55fSlcclxuICAgIH0pO1xyXG5cclxuICAgIGVtcHR5VGlsZSA9IEZldGNoRnJlZVRpbGUoKTtcclxuICAgIHdvcmxkLmNyZWF0ZVByZWZhYihcIk9yYyBXYXJyaW9yXCIpLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDogZW1wdHlUaWxlLnBvc2l0aW9uLngsIHk6IGVtcHR5VGlsZS5wb3NpdGlvbi55fSlcclxufVxyXG5cclxuY29uc3QgRW5lbXlEZWZlbmRUdXJuID0gKCkgPT4ge1xyXG4gIC8vbG9vcCB0aHJvdWdoIGFsbCBlbmVtaWVzIGFuZCBkbyB0aGVpciB0dXJuXHJcbiAgZW5lbXlFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCBlbmVtID0+IHtcclxuICAgIEFJLkRvQWlUdXJuRGVmZW5kKGVuZW0pXHJcbiAgfSlcclxuICAvL3Byb2Nlc3MgcGxheWVyQXR0YWNrXHJcbiAgUHJvY2Vzc0RtZ1RpbGVzKClcclxufVxyXG5cclxuY29uc3QgRW5lbXlBdHRhY2tUdXJuID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiZW5lbXkgYXR0YWNrc1wiKVxyXG4gIGVuZW15RW50aXRpZXMuZ2V0KCkuZm9yRWFjaCggZW5lbSA9PiB7XHJcbiAgICBBSS5Eb0FpVHVybkF0dGFjayhlbmVtKVxyXG4gIH0pXHJcbn1cclxuXHJcbmNvbnN0IFBsYXllclR1cm5EZWZlbmQgPSAoKSA9PiB7XHJcbiAgLy93YWl0IGZvciBwbGF5ZXIgaW5wdXQgYW5kIHByb2Nlc3MsIGJ1dCBvbmx5IGFsbG93IGRlZmVuc2l2ZSBhYmlsaXRpZXNcclxuXHJcbiAgLy9wcm9jY2VzcyBlbmVteUF0dGFja1xyXG4gIFByb2Nlc3NEbWdUaWxlcygpXHJcbn1cclxuXHJcbmNvbnN0IFBsYXllclR1cm5BdHRhY2sgPSAoKSA9PiB7XHJcbiAgLy93YWl0IGZvciBwbGF5ZXIgaW5wdXQgYW5kIHByb2Nlc3MsIGJ1dCBvbmx5IGFsbG93IG9mZmVuc2l2ZSBhYmlsaXRpZXMgXHJcbn1cclxuXHJcbmNvbnN0IFByb2Nlc3NEbWdUaWxlcyA9ICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhcInByb2Nlc3MgZG1nXCIpXHJcbiAgLy9mb3IgZWFjaCBkbWd0aWxlXHJcbiAgY29uc29sZS5sb2coZG1nVGlsZUVudGl0aWVzLmdldCgpKVxyXG4gIC8vZG9udCByZW1vdmUgZnJvbSBhbiBhcnJheSB3aGlsZSBpdGVyYXRpbmcgb3ZlciBpdFxyXG4gIHZhciB0b0Rlc3Ryb3kgPSBbXVxyXG4gIGRtZ1RpbGVFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCAoZW50aXR5KSA9PiB7XHJcbiAgICB2YXIgZ2V0RW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OmVudGl0eS5wb3NpdGlvbi54LHk6ZW50aXR5LnBvc2l0aW9uLnl9KSlcclxuXHJcbiAgICBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goIChlSWQpID0+IHtcclxuICAgICAgLy9jaGVjayBpZiB0aGlzIGlzIGEgdW5pdFxyXG4gICAgICB2YXIgZW50aXR5QXRMb2MgPSB3b3JsZC5nZXRFbnRpdHkoZUlkKTtcclxuICAgICAgY29uc29sZS5sb2coZW50aXR5QXRMb2MpXHJcbiAgICAgIGlmKGVudGl0eUF0TG9jLmxheWVyVW5pdCl7XHJcbiAgICAgICAgZW50aXR5QXRMb2MuZmlyZUV2ZW50KFwidGFrZS1kYW1hZ2VcIiwge2Ftb3VudDogZW50aXR5LmRtZ1RpbGUuZG1nfSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0b0Rlc3Ryb3kucHVzaChlbnRpdHkpXHJcbiAgfSk7XHJcblxyXG4gIHRvRGVzdHJveS5mb3JFYWNoKCAoZW50KSA9PntcclxuICAgIGVudC5kZXN0cm95KClcclxuICB9KVxyXG4gIGNvbnNvbGUubG9nKGRtZ1RpbGVFbnRpdGllcy5nZXQoKSlcclxuICBjb25zb2xlLmxvZyhcImVuZCBwcm9jZXNzIGRtZ1wiKVxyXG59XHJcblxyXG5jb25zdCBFbmRUdXJuUHJvY2VzcyA9IChlbnRpdGllcykgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdlbmRpbmcgdHVybiBmb3IgJylcclxuICBlbnRpdGllcy5mb3JFYWNoKCAoZW50aXR5KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlbnRpdHkpXHJcbiAgICBlbnRpdHkuZmlyZUV2ZW50KCd0dXJuLWVuZCcsIGVudGl0eSk7XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5tYWtlTWFwKClcclxuc2V0dXBUZXN0RmlnaHQoKVxyXG5GZXRjaEZyZWVUaWxlKClcclxucmVuZGVyKClcclxuXHJcblxyXG5cclxuY29uc3QgZ2FtZUxvb3AgPSAoKSA9PiB7XHJcbiAgICB1cGRhdGUoKTtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gIH07XHJcbiAgXHJcbnJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ==