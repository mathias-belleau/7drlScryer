!function(t){var e={};function n(u){if(e[u])return e[u].exports;var r=e[u]={i:u,l:!1,exports:{}};return t[u].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,u){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:u})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(u,r,function(e){return t[e]}.bind(null,r));return u},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e,n){"use strict";function u(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var r=2.3283064365386963e-10,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}var e,n,o;return e=t,(n=[{key:"getSeed",value:function(){return this._seed}},{key:"setSeed",value:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*r,t=69069*t+1>>>0,this._s1=t*r,t=69069*t+1>>>0,this._s2=t*r,this._c=1,this}},{key:"getUniform",value:function(){var t=2091639*this._s0+this._c*r;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}},{key:"getUniformInt",value:function(t,e){var n=Math.max(t,e),u=Math.min(t,e);return Math.floor(this.getUniform()*(n-u+1))+u}},{key:"getNormal",value:function(){var t,e,n,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;do{n=(t=2*this.getUniform()-1)*t+(e=2*this.getUniform()-1)*e}while(n>1||0==n);var o=t*Math.sqrt(-2*Math.log(n)/n);return u+o*r}},{key:"getPercentage",value:function(){return 1+Math.floor(100*this.getUniform())}},{key:"getItem",value:function(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}},{key:"shuffle",value:function(t){for(var e=[],n=t.slice();n.length;){var u=n.indexOf(this.getItem(n));e.push(n.splice(u,1)[0])}return e}},{key:"getWeightedValue",value:function(t){var e=0;for(var n in t)e+=t[n];var u,r=this.getUniform()*e,o=0;for(u in t)if(r<(o+=t[u]))return u;return u}},{key:"getState",value:function(){return[this._s0,this._s1,this._s2,this._c]}},{key:"setState",value:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}},{key:"clone",value:function(){var e=new t;return e.setState(this.getState())}}])&&u(e.prototype,n),o&&u(e,o),t}();e.a=(new o).setSeed(Date.now())},function(t,e,n){"use strict";function u(t,e){return(t%e+e)%e}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t}function o(t){return t.charAt(0).toUpperCase()+t.substring(1)}function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];var r=i.map,a=function(e,u,i,a){if("%"==t.charAt(a-1))return e.substring(1);if(!n.length)return e;var c=n[0],s=(u||i).split(","),l=s.shift()||"",f=r[l.toLowerCase()];if(!f)return e;var h=(c=n.shift())[f].apply(c,s),p=l.charAt(0);return p!=p.toLowerCase()&&(h=o(h)),h};return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,a)}n.r(e),n.d(e,"mod",(function(){return u})),n.d(e,"clamp",(function(){return r})),n.d(e,"capitalize",(function(){return o})),n.d(e,"format",(function(){return i})),i.map={s:"toString"}},function(t,e,n){"use strict";n.r(e),n.d(e,"fromString",(function(){return o})),n.d(e,"add",(function(){return i})),n.d(e,"add_",(function(){return a})),n.d(e,"multiply",(function(){return c})),n.d(e,"multiply_",(function(){return s})),n.d(e,"interpolate",(function(){return l})),n.d(e,"lerp",(function(){return f})),n.d(e,"interpolateHSL",(function(){return h})),n.d(e,"lerpHSL",(function(){return p})),n.d(e,"randomize",(function(){return D})),n.d(e,"rgb2hsl",(function(){return y})),n.d(e,"hsl2rgb",(function(){return d})),n.d(e,"toRGB",(function(){return g})),n.d(e,"toHex",(function(){return _}));var u=n(1),r=n(0);function o(t){var e,n;if(t in A)e=A[t];else{if("#"==t.charAt(0)){var u=(t.match(/[0-9a-f]/gi)||[]).map((function(t){return parseInt(t,16)}));if(3==u.length)e=u.map((function(t){return 17*t}));else{for(var r=0;r<3;r++)u[r+1]+=16*u[r],u.splice(r,1);e=u}}else e=(n=t.match(/rgb\(([0-9, ]+)\)/i))?n[1].split(/\s*,\s*/).map((function(t){return parseInt(t)})):[0,0,0];A[t]=e}return e.slice()}function i(t){for(var e=t.slice(),n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];for(var o=0;o<3;o++)for(var i=0;i<u.length;i++)e[o]+=u[i][o];return e}function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];for(var r=0;r<3;r++)for(var o=0;o<n.length;o++)t[r]+=n[o][r];return t}function c(t){for(var e=t.slice(),n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];for(var o=0;o<3;o++){for(var i=0;i<u.length;i++)e[o]*=u[i][o]/255;e[o]=Math.round(e[o])}return e}function s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];for(var r=0;r<3;r++){for(var o=0;o<n.length;o++)t[r]*=n[o][r]/255;t[r]=Math.round(t[r])}return t}function l(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,u=t.slice(),r=0;r<3;r++)u[r]=Math.round(u[r]+n*(e[r]-t[r]));return u}var f=l;function h(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,u=y(t),r=y(e),o=0;o<3;o++)u[o]+=n*(r[o]-u[o]);return d(u)}var p=h;function D(t,e){e instanceof Array||(e=Math.round(r.a.getNormal(0,e)));for(var n=t.slice(),u=0;u<3;u++)n[u]+=e instanceof Array?Math.round(r.a.getNormal(0,e[u])):e;return n}function y(t){var e,n=t[0]/255,u=t[1]/255,r=t[2]/255,o=Math.max(n,u,r),i=Math.min(n,u,r),a=0,c=(o+i)/2;if(o==i)e=0;else{var s=o-i;switch(e=c>.5?s/(2-o-i):s/(o+i),o){case n:a=(u-r)/s+(u<r?6:0);break;case u:a=(r-n)/s+2;break;case r:a=(n-u)/s+4}a/=6}return[a,e,c]}function v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d(t){var e=t[2];if(0==t[1])return[e=Math.round(255*e),e,e];var n=t[1],u=e<.5?e*(1+n):e+n-e*n,r=2*e-u,o=v(r,u,t[0]+1/3),i=v(r,u,t[0]),a=v(r,u,t[0]-1/3);return[Math.round(255*o),Math.round(255*i),Math.round(255*a)]}function g(t){var e=t.map((function(t){return Object(u.clamp)(t,0,255)}));return"rgb(".concat(e.join(","),")")}function _(t){var e=t.map((function(t){return Object(u.clamp)(t,0,255).toString(16).padStart(2,"0")}));return"#".concat(e.join(""))}var A={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},function(t,e,n){"use strict";function u(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}n.d(e,"a",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getContainer",value:function(){return null}},{key:"setOptions",value:function(t){this._options=t}}])&&u(e.prototype,n),r&&u(e,r),t}()},function(t,e,n){(function(t,u){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",a="__lodash_placeholder__",c=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",l="[object Array]",f="[object Boolean]",h="[object Date]",p="[object Error]",D="[object Function]",y="[object GeneratorFunction]",v="[object Map]",d="[object Number]",g="[object Object]",_="[object RegExp]",A="[object Set]",C="[object String]",E="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",F="[object DataView]",B="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",j="[object Uint16Array]",P="[object Uint32Array]",R=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,U=RegExp(I.source),L=RegExp(z.source),W=/<%-([\s\S]+?)%>/g,N=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,G=RegExp($.source),K=/^\s+/,Q=/\s/,V=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/[()=,{}\[\]\/\s]/,nt=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,ot=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ct=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ft=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,pt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yt="[\\ud800-\\udfff]",vt="["+Dt+"]",dt="["+pt+"]",gt="\\d+",_t="[\\u2700-\\u27bf]",At="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ct="[^\\ud800-\\udfff"+Dt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Et="\\ud83c[\\udffb-\\udfff]",mt="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",wt="(?:"+At+"|"+Ct+")",xt="(?:"+Bt+"|"+Ct+")",kt="(?:"+dt+"|"+Et+")"+"?",St="[\\ufe0e\\ufe0f]?"+kt+("(?:\\u200d(?:"+[mt,bt,Ft].join("|")+")[\\ufe0e\\ufe0f]?"+kt+")*"),Ot="(?:"+[_t,bt,Ft].join("|")+")"+St,jt="(?:"+[mt+dt+"?",dt,bt,Ft,yt].join("|")+")",Pt=RegExp("['’]","g"),Rt=RegExp(dt,"g"),Tt=RegExp(Et+"(?="+Et+")|"+jt+St,"g"),Mt=RegExp([Bt+"?"+At+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[vt,Bt,"$"].join("|")+")",xt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Bt+wt,"$"].join("|")+")",Bt+"?"+wt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Bt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Ot].join("|"),"g"),It=RegExp("[\\u200d\\ud800-\\udfff"+pt+"\\ufe0e\\ufe0f]"),zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ut=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,Wt={};Wt[B]=Wt[w]=Wt[x]=Wt[k]=Wt[S]=Wt[O]=Wt["[object Uint8ClampedArray]"]=Wt[j]=Wt[P]=!0,Wt[s]=Wt[l]=Wt[b]=Wt[f]=Wt[F]=Wt[h]=Wt[p]=Wt[D]=Wt[v]=Wt[d]=Wt[g]=Wt[_]=Wt[A]=Wt[C]=Wt[m]=!1;var Nt={};Nt[s]=Nt[l]=Nt[b]=Nt[F]=Nt[f]=Nt[h]=Nt[B]=Nt[w]=Nt[x]=Nt[k]=Nt[S]=Nt[v]=Nt[d]=Nt[g]=Nt[_]=Nt[A]=Nt[C]=Nt[E]=Nt[O]=Nt["[object Uint8ClampedArray]"]=Nt[j]=Nt[P]=!0,Nt[p]=Nt[D]=Nt[m]=!1;var Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Ht=parseInt,qt="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,$t="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,Gt=qt||$t||Function("return this")(),Kt="object"==o(e)&&e&&!e.nodeType&&e,Qt=Kt&&"object"==o(u)&&u&&!u.nodeType&&u,Vt=Qt&&Qt.exports===Kt,Zt=Vt&&qt.process,Jt=function(){try{var t=Qt&&Qt.require&&Qt.require("util").types;return t||Zt&&Zt.binding&&Zt.binding("util")}catch(t){}}(),te=Jt&&Jt.isArrayBuffer,ee=Jt&&Jt.isDate,ne=Jt&&Jt.isMap,ue=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,oe=Jt&&Jt.isTypedArray;function ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,u){for(var r=-1,o=null==t?0:t.length;++r<o;){var i=t[r];e(u,i,n(i),t)}return u}function ce(t,e){for(var n=-1,u=null==t?0:t.length;++n<u&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=-1,u=null==t?0:t.length;++n<u;)if(!e(t[n],n,t))return!1;return!0}function fe(t,e){for(var n=-1,u=null==t?0:t.length,r=0,o=[];++n<u;){var i=t[n];e(i,n,t)&&(o[r++]=i)}return o}function he(t,e){return!!(null==t?0:t.length)&&Ee(t,e,0)>-1}function pe(t,e,n){for(var u=-1,r=null==t?0:t.length;++u<r;)if(n(e,t[u]))return!0;return!1}function De(t,e){for(var n=-1,u=null==t?0:t.length,r=Array(u);++n<u;)r[n]=e(t[n],n,t);return r}function ye(t,e){for(var n=-1,u=e.length,r=t.length;++n<u;)t[r+n]=e[n];return t}function ve(t,e,n,u){var r=-1,o=null==t?0:t.length;for(u&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function de(t,e,n,u){var r=null==t?0:t.length;for(u&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ge(t,e){for(var n=-1,u=null==t?0:t.length;++n<u;)if(e(t[n],n,t))return!0;return!1}var _e=Be("length");function Ae(t,e,n){var u;return n(t,(function(t,n,r){if(e(t,n,r))return u=n,!1})),u}function Ce(t,e,n,u){for(var r=t.length,o=n+(u?1:-1);u?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Ee(t,e,n){return e==e?function(t,e,n){var u=n-1,r=t.length;for(;++u<r;)if(t[u]===e)return u;return-1}(t,e,n):Ce(t,be,n)}function me(t,e,n,u){for(var r=n-1,o=t.length;++r<o;)if(u(t[r],e))return r;return-1}function be(t){return t!=t}function Fe(t,e){var n=null==t?0:t.length;return n?ke(t,e)/n:NaN}function Be(t){return function(e){return null==e?void 0:e[t]}}function we(t){return function(e){return null==t?void 0:t[e]}}function xe(t,e,n,u,r){return r(t,(function(t,r,o){n=u?(u=!1,t):e(n,t,r,o)})),n}function ke(t,e){for(var n,u=-1,r=t.length;++u<r;){var o=e(t[u]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Se(t,e){for(var n=-1,u=Array(t);++n<t;)u[n]=e(n);return u}function Oe(t){return t?t.slice(0,Ke(t)+1).replace(K,""):t}function je(t){return function(e){return t(e)}}function Pe(t,e){return De(e,(function(e){return t[e]}))}function Re(t,e){return t.has(e)}function Te(t,e){for(var n=-1,u=t.length;++n<u&&Ee(e,t[n],0)>-1;);return n}function Me(t,e){for(var n=t.length;n--&&Ee(e,t[n],0)>-1;);return n}function Ie(t,e){for(var n=t.length,u=0;n--;)t[n]===e&&++u;return u}var ze=we({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ue=we({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Xt[t]}function We(t){return It.test(t)}function Ne(t){var e=-1,n=Array(t.size);return t.forEach((function(t,u){n[++e]=[u,t]})),n}function Xe(t,e){return function(n){return t(e(n))}}function Ye(t,e){for(var n=-1,u=t.length,r=0,o=[];++n<u;){var i=t[n];i!==e&&i!==a||(t[n]=a,o[r++]=n)}return o}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function $e(t){return We(t)?function(t){var e=Tt.lastIndex=0;for(;Tt.test(t);)++e;return e}(t):_e(t)}function Ge(t){return We(t)?function(t){return t.match(Tt)||[]}(t):function(t){return t.split("")}(t)}function Ke(t){for(var e=t.length;e--&&Q.test(t.charAt(e)););return e}var Qe=we({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ve=function t(e){var n,u=(e=null==e?Gt:Ve.defaults(Gt.Object(),e,Ve.pick(Gt,Ut))).Array,r=e.Date,Q=e.Error,pt=e.Function,Dt=e.Math,yt=e.Object,vt=e.RegExp,dt=e.String,gt=e.TypeError,_t=u.prototype,At=pt.prototype,Ct=yt.prototype,Et=e["__core-js_shared__"],mt=At.toString,bt=Ct.hasOwnProperty,Ft=0,Bt=(n=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",wt=Ct.toString,xt=mt.call(yt),kt=Gt._,St=vt("^"+mt.call(bt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=Vt?e.Buffer:void 0,jt=e.Symbol,Tt=e.Uint8Array,It=Ot?Ot.allocUnsafe:void 0,Xt=Xe(yt.getPrototypeOf,yt),qt=yt.create,$t=Ct.propertyIsEnumerable,Kt=_t.splice,Qt=jt?jt.isConcatSpreadable:void 0,Zt=jt?jt.iterator:void 0,Jt=jt?jt.toStringTag:void 0,_e=function(){try{var t=eo(yt,"defineProperty");return t({},"",{}),t}catch(t){}}(),we=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Ze=r&&r.now!==Gt.Date.now&&r.now,Je=e.setTimeout!==Gt.setTimeout&&e.setTimeout,tn=Dt.ceil,en=Dt.floor,nn=yt.getOwnPropertySymbols,un=Ot?Ot.isBuffer:void 0,rn=e.isFinite,on=_t.join,an=Xe(yt.keys,yt),cn=Dt.max,sn=Dt.min,ln=r.now,fn=e.parseInt,hn=Dt.random,pn=_t.reverse,Dn=eo(e,"DataView"),yn=eo(e,"Map"),vn=eo(e,"Promise"),dn=eo(e,"Set"),gn=eo(e,"WeakMap"),_n=eo(yt,"create"),An=gn&&new gn,Cn={},En=ko(Dn),mn=ko(yn),bn=ko(vn),Fn=ko(dn),Bn=ko(gn),wn=jt?jt.prototype:void 0,xn=wn?wn.valueOf:void 0,kn=wn?wn.toString:void 0;function Sn(t){if(qi(t)&&!Ti(t)&&!(t instanceof Rn)){if(t instanceof Pn)return t;if(bt.call(t,"__wrapped__"))return So(t)}return new Pn(t)}var On=function(){function t(){}return function(e){if(!Hi(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function jn(){}function Pn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Rn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var u=t[e];this.set(u[0],u[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new In;++e<n;)this.add(t[e])}function Un(t){var e=this.__data__=new Mn(t);this.size=e.size}function Ln(t,e){var n=Ti(t),u=!n&&Ri(t),r=!n&&!u&&Ui(t),o=!n&&!u&&!r&&ta(t),i=n||u||r||o,a=i?Se(t.length,dt):[],c=a.length;for(var s in t)!e&&!bt.call(t,s)||i&&("length"==s||r&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||co(s,c))||a.push(s);return a}function Wn(t){var e=t.length;return e?t[zu(0,e-1)]:void 0}function Nn(t,e){return Bo(_r(t),Vn(e,0,t.length))}function Xn(t){return Bo(_r(t))}function Yn(t,e,n){(void 0!==n&&!Oi(t[e],n)||void 0===n&&!(e in t))&&Kn(t,e,n)}function Hn(t,e,n){var u=t[e];bt.call(t,e)&&Oi(u,n)&&(void 0!==n||e in t)||Kn(t,e,n)}function qn(t,e){for(var n=t.length;n--;)if(Oi(t[n][0],e))return n;return-1}function $n(t,e,n,u){return nu(t,(function(t,r,o){e(u,t,n(t),o)})),u}function Gn(t,e){return t&&Ar(e,Ea(e),t)}function Kn(t,e,n){"__proto__"==e&&_e?_e(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Qn(t,e){for(var n=-1,r=e.length,o=u(r),i=null==t;++n<r;)o[n]=i?void 0:da(t,e[n]);return o}function Vn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,u,r,o){var i,a=1&e,c=2&e,l=4&e;if(n&&(i=r?n(t,u,r,o):n(t)),void 0!==i)return i;if(!Hi(t))return t;var p=Ti(t);if(p){if(i=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&bt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!a)return _r(t,i)}else{var m=ro(t),R=m==D||m==y;if(Ui(t))return pr(t,a);if(m==g||m==s||R&&!r){if(i=c||R?{}:io(t),!a)return c?function(t,e){return Ar(t,uo(t),e)}(t,function(t,e){return t&&Ar(e,ma(e),t)}(i,t)):function(t,e){return Ar(t,no(t),e)}(t,Gn(i,t))}else{if(!Nt[m])return r?t:{};i=function(t,e,n){var u=t.constructor;switch(e){case b:return Dr(t);case f:case h:return new u(+t);case F:return function(t,e){var n=e?Dr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case B:case w:case x:case k:case S:case O:case"[object Uint8ClampedArray]":case j:case P:return yr(t,n);case v:return new u;case d:case C:return new u(t);case _:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new u;case E:return r=t,xn?yt(xn.call(r)):{}}var r}(t,m,a)}}o||(o=new Un);var T=o.get(t);if(T)return T;o.set(t,i),Vi(t)?t.forEach((function(u){i.add(Zn(u,e,n,u,t,o))})):$i(t)&&t.forEach((function(u,r){i.set(r,Zn(u,e,n,r,t,o))}));var M=p?void 0:(l?c?Gr:$r:c?ma:Ea)(t);return ce(M||t,(function(u,r){M&&(u=t[r=u]),Hn(i,r,Zn(u,e,n,r,t,o))})),i}function Jn(t,e,n){var u=n.length;if(null==t)return!u;for(t=yt(t);u--;){var r=n[u],o=e[r],i=t[r];if(void 0===i&&!(r in t)||!o(i))return!1}return!0}function tu(t,e,n){if("function"!=typeof t)throw new gt(i);return Eo((function(){t.apply(void 0,n)}),e)}function eu(t,e,n,u){var r=-1,o=he,i=!0,a=t.length,c=[],s=e.length;if(!a)return c;n&&(e=De(e,je(n))),u?(o=pe,i=!1):e.length>=200&&(o=Re,i=!1,e=new zn(e));t:for(;++r<a;){var l=t[r],f=null==n?l:n(l);if(l=u||0!==l?l:0,i&&f==f){for(var h=s;h--;)if(e[h]===f)continue t;c.push(l)}else o(e,f,u)||c.push(l)}return c}Sn.templateSettings={escape:W,evaluate:N,interpolate:X,variable:"",imports:{_:Sn}},Sn.prototype=jn.prototype,Sn.prototype.constructor=Sn,Pn.prototype=On(jn.prototype),Pn.prototype.constructor=Pn,Rn.prototype=On(jn.prototype),Rn.prototype.constructor=Rn,Tn.prototype.clear=function(){this.__data__=_n?_n(null):{},this.size=0},Tn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Tn.prototype.get=function(t){var e=this.__data__;if(_n){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return bt.call(e,t)?e[t]:void 0},Tn.prototype.has=function(t){var e=this.__data__;return _n?void 0!==e[t]:bt.call(e,t)},Tn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_n&&void 0===e?"__lodash_hash_undefined__":e,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=qn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Mn.prototype.get=function(t){var e=this.__data__,n=qn(e,t);return n<0?void 0:e[n][1]},Mn.prototype.has=function(t){return qn(this.__data__,t)>-1},Mn.prototype.set=function(t,e){var n=this.__data__,u=qn(n,t);return u<0?(++this.size,n.push([t,e])):n[u][1]=e,this},In.prototype.clear=function(){this.size=0,this.__data__={hash:new Tn,map:new(yn||Mn),string:new Tn}},In.prototype.delete=function(t){var e=Jr(this,t).delete(t);return this.size-=e?1:0,e},In.prototype.get=function(t){return Jr(this,t).get(t)},In.prototype.has=function(t){return Jr(this,t).has(t)},In.prototype.set=function(t,e){var n=Jr(this,t),u=n.size;return n.set(t,e),this.size+=n.size==u?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},zn.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.clear=function(){this.__data__=new Mn,this.size=0},Un.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Un.prototype.get=function(t){return this.__data__.get(t)},Un.prototype.has=function(t){return this.__data__.has(t)},Un.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mn){var u=n.__data__;if(!yn||u.length<199)return u.push([t,e]),this.size=++n.size,this;n=this.__data__=new In(u)}return n.set(t,e),this.size=n.size,this};var nu=mr(lu),uu=mr(fu,!0);function ru(t,e){var n=!0;return nu(t,(function(t,u,r){return n=!!e(t,u,r)})),n}function ou(t,e,n){for(var u=-1,r=t.length;++u<r;){var o=t[u],i=e(o);if(null!=i&&(void 0===a?i==i&&!Ji(i):n(i,a)))var a=i,c=o}return c}function iu(t,e){var n=[];return nu(t,(function(t,u,r){e(t,u,r)&&n.push(t)})),n}function au(t,e,n,u,r){var o=-1,i=t.length;for(n||(n=ao),r||(r=[]);++o<i;){var a=t[o];e>0&&n(a)?e>1?au(a,e-1,n,u,r):ye(r,a):u||(r[r.length]=a)}return r}var cu=br(),su=br(!0);function lu(t,e){return t&&cu(t,e,Ea)}function fu(t,e){return t&&su(t,e,Ea)}function hu(t,e){return fe(e,(function(e){return Ni(t[e])}))}function pu(t,e){for(var n=0,u=(e=sr(e,t)).length;null!=t&&n<u;)t=t[xo(e[n++])];return n&&n==u?t:void 0}function Du(t,e,n){var u=e(t);return Ti(t)?u:ye(u,n(t))}function yu(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Jt&&Jt in yt(t)?function(t){var e=bt.call(t,Jt),n=t[Jt];try{t[Jt]=void 0;var u=!0}catch(t){}var r=wt.call(t);u&&(e?t[Jt]=n:delete t[Jt]);return r}(t):function(t){return wt.call(t)}(t)}function vu(t,e){return t>e}function du(t,e){return null!=t&&bt.call(t,e)}function gu(t,e){return null!=t&&e in yt(t)}function _u(t,e,n){for(var r=n?pe:he,o=t[0].length,i=t.length,a=i,c=u(i),s=1/0,l=[];a--;){var f=t[a];a&&e&&(f=De(f,je(e))),s=sn(f.length,s),c[a]=!n&&(e||o>=120&&f.length>=120)?new zn(a&&f):void 0}f=t[0];var h=-1,p=c[0];t:for(;++h<o&&l.length<s;){var D=f[h],y=e?e(D):D;if(D=n||0!==D?D:0,!(p?Re(p,y):r(l,y,n))){for(a=i;--a;){var v=c[a];if(!(v?Re(v,y):r(t[a],y,n)))continue t}p&&p.push(y),l.push(D)}}return l}function Au(t,e,n){var u=null==(t=go(t,e=sr(e,t)))?t:t[xo(Wo(e))];return null==u?void 0:ie(u,t,n)}function Cu(t){return qi(t)&&yu(t)==s}function Eu(t,e,n,u,r){return t===e||(null==t||null==e||!qi(t)&&!qi(e)?t!=t&&e!=e:function(t,e,n,u,r,o){var i=Ti(t),a=Ti(e),c=i?l:ro(t),D=a?l:ro(e),y=(c=c==s?g:c)==g,m=(D=D==s?g:D)==g,B=c==D;if(B&&Ui(t)){if(!Ui(e))return!1;i=!0,y=!1}if(B&&!y)return o||(o=new Un),i||ta(t)?Hr(t,e,n,u,r,o):function(t,e,n,u,r,o,i){switch(n){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!o(new Tt(t),new Tt(e)));case f:case h:case d:return Oi(+t,+e);case p:return t.name==e.name&&t.message==e.message;case _:case C:return t==e+"";case v:var a=Ne;case A:var c=1&u;if(a||(a=He),t.size!=e.size&&!c)return!1;var s=i.get(t);if(s)return s==e;u|=2,i.set(t,e);var l=Hr(a(t),a(e),u,r,o,i);return i.delete(t),l;case E:if(xn)return xn.call(t)==xn.call(e)}return!1}(t,e,c,n,u,r,o);if(!(1&n)){var w=y&&bt.call(t,"__wrapped__"),x=m&&bt.call(e,"__wrapped__");if(w||x){var k=w?t.value():t,S=x?e.value():e;return o||(o=new Un),r(k,S,n,u,o)}}if(!B)return!1;return o||(o=new Un),function(t,e,n,u,r,o){var i=1&n,a=$r(t),c=a.length,s=$r(e).length;if(c!=s&&!i)return!1;var l=c;for(;l--;){var f=a[l];if(!(i?f in e:bt.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var D=!0;o.set(t,e),o.set(e,t);var y=i;for(;++l<c;){f=a[l];var v=t[f],d=e[f];if(u)var g=i?u(d,v,f,e,t,o):u(v,d,f,t,e,o);if(!(void 0===g?v===d||r(v,d,n,u,o):g)){D=!1;break}y||(y="constructor"==f)}if(D&&!y){var _=t.constructor,A=e.constructor;_==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof A&&A instanceof A||(D=!1)}return o.delete(t),o.delete(e),D}(t,e,n,u,r,o)}(t,e,n,u,Eu,r))}function mu(t,e,n,u){var r=n.length,o=r,i=!u;if(null==t)return!o;for(t=yt(t);r--;){var a=n[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var c=(a=n[r])[0],s=t[c],l=a[1];if(i&&a[2]){if(void 0===s&&!(c in t))return!1}else{var f=new Un;if(u)var h=u(s,l,c,t,e,f);if(!(void 0===h?Eu(l,s,3,u,f):h))return!1}}return!0}function bu(t){return!(!Hi(t)||(e=t,Bt&&Bt in e))&&(Ni(t)?St:at).test(ko(t));var e}function Fu(t){return"function"==typeof t?t:null==t?Ga:"object"==o(t)?Ti(t)?Ou(t[0],t[1]):Su(t):uc(t)}function Bu(t){if(!po(t))return an(t);var e=[];for(var n in yt(t))bt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function wu(t){if(!Hi(t))return function(t){var e=[];if(null!=t)for(var n in yt(t))e.push(n);return e}(t);var e=po(t),n=[];for(var u in t)("constructor"!=u||!e&&bt.call(t,u))&&n.push(u);return n}function xu(t,e){return t<e}function ku(t,e){var n=-1,r=Ii(t)?u(t.length):[];return nu(t,(function(t,u,o){r[++n]=e(t,u,o)})),r}function Su(t){var e=to(t);return 1==e.length&&e[0][2]?yo(e[0][0],e[0][1]):function(n){return n===t||mu(n,t,e)}}function Ou(t,e){return lo(t)&&Do(e)?yo(xo(t),e):function(n){var u=da(n,t);return void 0===u&&u===e?ga(n,t):Eu(e,u,3)}}function ju(t,e,n,u,r){t!==e&&cu(e,(function(o,i){if(r||(r=new Un),Hi(o))!function(t,e,n,u,r,o,i){var a=Ao(t,n),c=Ao(e,n),s=i.get(c);if(s)return void Yn(t,n,s);var l=o?o(a,c,n+"",t,e,i):void 0,f=void 0===l;if(f){var h=Ti(c),p=!h&&Ui(c),D=!h&&!p&&ta(c);l=c,h||p||D?Ti(a)?l=a:zi(a)?l=_r(a):p?(f=!1,l=pr(c,!0)):D?(f=!1,l=yr(c,!0)):l=[]:Ki(c)||Ri(c)?(l=a,Ri(a)?l=ca(a):Hi(a)&&!Ni(a)||(l=io(c))):f=!1}f&&(i.set(c,l),r(l,c,u,o,i),i.delete(c));Yn(t,n,l)}(t,e,i,n,ju,u,r);else{var a=u?u(Ao(t,i),o,i+"",t,e,r):void 0;void 0===a&&(a=o),Yn(t,i,a)}}),ma)}function Pu(t,e){var n=t.length;if(n)return co(e+=e<0?n:0,n)?t[e]:void 0}function Ru(t,e,n){e=e.length?De(e,(function(t){return Ti(t)?function(e){return pu(e,1===t.length?t[0]:t)}:t})):[Ga];var u=-1;return e=De(e,je(Zr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ku(t,(function(t,n,r){return{criteria:De(e,(function(e){return e(t)})),index:++u,value:t}})),(function(t,e){return function(t,e,n){var u=-1,r=t.criteria,o=e.criteria,i=r.length,a=n.length;for(;++u<i;){var c=vr(r[u],o[u]);if(c){if(u>=a)return c;var s=n[u];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)}))}function Tu(t,e,n){for(var u=-1,r=e.length,o={};++u<r;){var i=e[u],a=pu(t,i);n(a,i)&&Xu(o,sr(i,t),a)}return o}function Mu(t,e,n,u){var r=u?me:Ee,o=-1,i=e.length,a=t;for(t===e&&(e=_r(e)),n&&(a=De(t,je(n)));++o<i;)for(var c=0,s=e[o],l=n?n(s):s;(c=r(a,l,c,u))>-1;)a!==t&&Kt.call(a,c,1),Kt.call(t,c,1);return t}function Iu(t,e){for(var n=t?e.length:0,u=n-1;n--;){var r=e[n];if(n==u||r!==o){var o=r;co(r)?Kt.call(t,r,1):er(t,r)}}return t}function zu(t,e){return t+en(hn()*(e-t+1))}function Uu(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=en(e/2))&&(t+=t)}while(e);return n}function Lu(t,e){return mo(vo(t,e,Ga),t+"")}function Wu(t){return Wn(Oa(t))}function Nu(t,e){var n=Oa(t);return Bo(n,Vn(e,0,n.length))}function Xu(t,e,n,u){if(!Hi(t))return t;for(var r=-1,o=(e=sr(e,t)).length,i=o-1,a=t;null!=a&&++r<o;){var c=xo(e[r]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=i){var l=a[c];void 0===(s=u?u(l,c,a):void 0)&&(s=Hi(l)?l:co(e[r+1])?[]:{})}Hn(a,c,s),a=a[c]}return t}var Yu=An?function(t,e){return An.set(t,e),t}:Ga,Hu=_e?function(t,e){return _e(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:Ga;function qu(t){return Bo(Oa(t))}function $u(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=u(o);++r<o;)i[r]=t[r+e];return i}function Gu(t,e){var n;return nu(t,(function(t,u,r){return!(n=e(t,u,r))})),!!n}function Ku(t,e,n){var u=0,r=null==t?u:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;u<r;){var o=u+r>>>1,i=t[o];null!==i&&!Ji(i)&&(n?i<=e:i<e)?u=o+1:r=o}return r}return Qu(t,e,Ga,n)}function Qu(t,e,n,u){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var i=(e=n(e))!=e,a=null===e,c=Ji(e),s=void 0===e;r<o;){var l=en((r+o)/2),f=n(t[l]),h=void 0!==f,p=null===f,D=f==f,y=Ji(f);if(i)var v=u||D;else v=s?D&&(u||h):a?D&&h&&(u||!p):c?D&&h&&!p&&(u||!y):!p&&!y&&(u?f<=e:f<e);v?r=l+1:o=l}return sn(o,4294967294)}function Vu(t,e){for(var n=-1,u=t.length,r=0,o=[];++n<u;){var i=t[n],a=e?e(i):i;if(!n||!Oi(a,c)){var c=a;o[r++]=0===i?0:i}}return o}function Zu(t){return"number"==typeof t?t:Ji(t)?NaN:+t}function Ju(t){if("string"==typeof t)return t;if(Ti(t))return De(t,Ju)+"";if(Ji(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function tr(t,e,n){var u=-1,r=he,o=t.length,i=!0,a=[],c=a;if(n)i=!1,r=pe;else if(o>=200){var s=e?null:Ur(t);if(s)return He(s);i=!1,r=Re,c=new zn}else c=e?[]:a;t:for(;++u<o;){var l=t[u],f=e?e(l):l;if(l=n||0!==l?l:0,i&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),a.push(l)}else r(c,f,n)||(c!==a&&c.push(f),a.push(l))}return a}function er(t,e){return null==(t=go(t,e=sr(e,t)))||delete t[xo(Wo(e))]}function nr(t,e,n,u){return Xu(t,e,n(pu(t,e)),u)}function ur(t,e,n,u){for(var r=t.length,o=u?r:-1;(u?o--:++o<r)&&e(t[o],o,t););return n?$u(t,u?0:o,u?o+1:r):$u(t,u?o+1:0,u?r:o)}function rr(t,e){var n=t;return n instanceof Rn&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,ye([t],e.args))}),n)}function or(t,e,n){var r=t.length;if(r<2)return r?tr(t[0]):[];for(var o=-1,i=u(r);++o<r;)for(var a=t[o],c=-1;++c<r;)c!=o&&(i[o]=eu(i[o]||a,t[c],e,n));return tr(au(i,1),e,n)}function ir(t,e,n){for(var u=-1,r=t.length,o=e.length,i={};++u<r;){var a=u<o?e[u]:void 0;n(i,t[u],a)}return i}function ar(t){return zi(t)?t:[]}function cr(t){return"function"==typeof t?t:Ga}function sr(t,e){return Ti(t)?t:lo(t,e)?[t]:wo(sa(t))}var lr=Lu;function fr(t,e,n){var u=t.length;return n=void 0===n?u:n,!e&&n>=u?t:$u(t,e,n)}var hr=we||function(t){return Gt.clearTimeout(t)};function pr(t,e){if(e)return t.slice();var n=t.length,u=It?It(n):new t.constructor(n);return t.copy(u),u}function Dr(t){var e=new t.constructor(t.byteLength);return new Tt(e).set(new Tt(t)),e}function yr(t,e){var n=e?Dr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function vr(t,e){if(t!==e){var n=void 0!==t,u=null===t,r=t==t,o=Ji(t),i=void 0!==e,a=null===e,c=e==e,s=Ji(e);if(!a&&!s&&!o&&t>e||o&&i&&c&&!a&&!s||u&&i&&c||!n&&c||!r)return 1;if(!u&&!o&&!s&&t<e||s&&n&&r&&!u&&!o||a&&n&&r||!i&&r||!c)return-1}return 0}function dr(t,e,n,r){for(var o=-1,i=t.length,a=n.length,c=-1,s=e.length,l=cn(i-a,0),f=u(s+l),h=!r;++c<s;)f[c]=e[c];for(;++o<a;)(h||o<i)&&(f[n[o]]=t[o]);for(;l--;)f[c++]=t[o++];return f}function gr(t,e,n,r){for(var o=-1,i=t.length,a=-1,c=n.length,s=-1,l=e.length,f=cn(i-c,0),h=u(f+l),p=!r;++o<f;)h[o]=t[o];for(var D=o;++s<l;)h[D+s]=e[s];for(;++a<c;)(p||o<i)&&(h[D+n[a]]=t[o++]);return h}function _r(t,e){var n=-1,r=t.length;for(e||(e=u(r));++n<r;)e[n]=t[n];return e}function Ar(t,e,n,u){var r=!n;n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=u?u(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),r?Kn(n,a,c):Hn(n,a,c)}return n}function Cr(t,e){return function(n,u){var r=Ti(n)?ae:$n,o=e?e():{};return r(n,t,Zr(u,2),o)}}function Er(t){return Lu((function(e,n){var u=-1,r=n.length,o=r>1?n[r-1]:void 0,i=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,i&&so(n[0],n[1],i)&&(o=r<3?void 0:o,r=1),e=yt(e);++u<r;){var a=n[u];a&&t(e,a,u,o)}return e}))}function mr(t,e){return function(n,u){if(null==n)return n;if(!Ii(n))return t(n,u);for(var r=n.length,o=e?r:-1,i=yt(n);(e?o--:++o<r)&&!1!==u(i[o],o,i););return n}}function br(t){return function(e,n,u){for(var r=-1,o=yt(e),i=u(e),a=i.length;a--;){var c=i[t?a:++r];if(!1===n(o[c],c,o))break}return e}}function Fr(t){return function(e){var n=We(e=sa(e))?Ge(e):void 0,u=n?n[0]:e.charAt(0),r=n?fr(n,1).join(""):e.slice(1);return u[t]()+r}}function Br(t){return function(e){return ve(Na(Ra(e).replace(Pt,"")),t,"")}}function wr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=On(t.prototype),u=t.apply(n,e);return Hi(u)?u:n}}function xr(t){return function(e,n,u){var r=yt(e);if(!Ii(e)){var o=Zr(n,3);e=Ea(e),n=function(t){return o(r[t],t,r)}}var i=t(e,n,u);return i>-1?r[o?e[i]:i]:void 0}}function kr(t){return qr((function(e){var n=e.length,u=n,r=Pn.prototype.thru;for(t&&e.reverse();u--;){var o=e[u];if("function"!=typeof o)throw new gt(i);if(r&&!a&&"wrapper"==Qr(o))var a=new Pn([],!0)}for(u=a?u:n;++u<n;){var c=Qr(o=e[u]),s="wrapper"==c?Kr(o):void 0;a=s&&fo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Qr(s[0])].apply(a,s[3]):1==o.length&&fo(o)?a[c]():a.thru(o)}return function(){var t=arguments,u=t[0];if(a&&1==t.length&&Ti(u))return a.plant(u).value();for(var r=0,o=n?e[r].apply(this,t):u;++r<n;)o=e[r].call(this,o);return o}}))}function Sr(t,e,n,r,o,i,a,c,s,l){var f=128&e,h=1&e,p=2&e,D=24&e,y=512&e,v=p?void 0:wr(t);return function d(){for(var g=arguments.length,_=u(g),A=g;A--;)_[A]=arguments[A];if(D)var C=Vr(d),E=Ie(_,C);if(r&&(_=dr(_,r,o,D)),i&&(_=gr(_,i,a,D)),g-=E,D&&g<l){var m=Ye(_,C);return Ir(t,e,Sr,d.placeholder,n,_,m,c,s,l-g)}var b=h?n:this,F=p?b[t]:t;return g=_.length,c?_=_o(_,c):y&&g>1&&_.reverse(),f&&s<g&&(_.length=s),this&&this!==Gt&&this instanceof d&&(F=v||wr(F)),F.apply(b,_)}}function Or(t,e){return function(n,u){return function(t,e,n,u){return lu(t,(function(t,r,o){e(u,n(t),r,o)})),u}(n,t,e(u),{})}}function jr(t,e){return function(n,u){var r;if(void 0===n&&void 0===u)return e;if(void 0!==n&&(r=n),void 0!==u){if(void 0===r)return u;"string"==typeof n||"string"==typeof u?(n=Ju(n),u=Ju(u)):(n=Zu(n),u=Zu(u)),r=t(n,u)}return r}}function Pr(t){return qr((function(e){return e=De(e,je(Zr())),Lu((function(n){var u=this;return t(e,(function(t){return ie(t,u,n)}))}))}))}function Rr(t,e){var n=(e=void 0===e?" ":Ju(e)).length;if(n<2)return n?Uu(e,t):e;var u=Uu(e,tn(t/$e(e)));return We(e)?fr(Ge(u),0,t).join(""):u.slice(0,t)}function Tr(t){return function(e,n,r){return r&&"number"!=typeof r&&so(e,n,r)&&(n=r=void 0),e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n,r){for(var o=-1,i=cn(tn((e-t)/(n||1)),0),a=u(i);i--;)a[r?i:++o]=t,t+=n;return a}(e,n,r=void 0===r?e<n?1:-1:ra(r),t)}}function Mr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=aa(e),n=aa(n)),t(e,n)}}function Ir(t,e,n,u,r,o,i,a,c,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,r,l?o:void 0,l?i:void 0,l?void 0:o,l?void 0:i,a,c,s],h=n.apply(void 0,f);return fo(t)&&Co(h,f),h.placeholder=u,bo(h,t,e)}function zr(t){var e=Dt[t];return function(t,n){if(t=aa(t),(n=null==n?0:sn(oa(n),292))&&rn(t)){var u=(sa(t)+"e").split("e");return+((u=(sa(e(u[0]+"e"+(+u[1]+n)))+"e").split("e"))[0]+"e"+(+u[1]-n))}return e(t)}}var Ur=dn&&1/He(new dn([,-0]))[1]==1/0?function(t){return new dn(t)}:Ja;function Lr(t){return function(e){var n=ro(e);return n==v?Ne(e):n==A?qe(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wr(t,e,n,r,o,c,s,l){var f=2&e;if(!f&&"function"!=typeof t)throw new gt(i);var h=r?r.length:0;if(h||(e&=-97,r=o=void 0),s=void 0===s?s:cn(oa(s),0),l=void 0===l?l:oa(l),h-=o?o.length:0,64&e){var p=r,D=o;r=o=void 0}var y=f?void 0:Kr(t),v=[t,e,n,r,o,p,D,c,s,l];if(y&&function(t,e){var n=t[1],u=e[1],r=n|u,o=r<131,i=128==u&&8==n||128==u&&256==n&&t[7].length<=e[8]||384==u&&e[7].length<=e[8]&&8==n;if(!o&&!i)return t;1&u&&(t[2]=e[2],r|=1&n?0:4);var c=e[3];if(c){var s=t[3];t[3]=s?dr(s,c,e[4]):c,t[4]=s?Ye(t[3],a):e[4]}(c=e[5])&&(s=t[5],t[5]=s?gr(s,c,e[6]):c,t[6]=s?Ye(t[5],a):e[6]);(c=e[7])&&(t[7]=c);128&u&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(v,y),t=v[0],e=v[1],n=v[2],r=v[3],o=v[4],!(l=v[9]=void 0===v[9]?f?0:t.length:cn(v[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)d=8==e||16==e?function(t,e,n){var r=wr(t);return function o(){for(var i=arguments.length,a=u(i),c=i,s=Vr(o);c--;)a[c]=arguments[c];var l=i<3&&a[0]!==s&&a[i-1]!==s?[]:Ye(a,s);if((i-=l.length)<n)return Ir(t,e,Sr,o.placeholder,void 0,a,l,void 0,void 0,n-i);var f=this&&this!==Gt&&this instanceof o?r:t;return ie(f,this,a)}}(t,e,l):32!=e&&33!=e||o.length?Sr.apply(void 0,v):function(t,e,n,r){var o=1&e,i=wr(t);return function e(){for(var a=-1,c=arguments.length,s=-1,l=r.length,f=u(l+c),h=this&&this!==Gt&&this instanceof e?i:t;++s<l;)f[s]=r[s];for(;c--;)f[s++]=arguments[++a];return ie(h,o?n:this,f)}}(t,e,n,r);else var d=function(t,e,n){var u=1&e,r=wr(t);return function e(){var o=this&&this!==Gt&&this instanceof e?r:t;return o.apply(u?n:this,arguments)}}(t,e,n);return bo((y?Yu:Co)(d,v),t,e)}function Nr(t,e,n,u){return void 0===t||Oi(t,Ct[n])&&!bt.call(u,n)?e:t}function Xr(t,e,n,u,r,o){return Hi(t)&&Hi(e)&&(o.set(e,t),ju(t,e,void 0,Xr,o),o.delete(e)),t}function Yr(t){return Ki(t)?void 0:t}function Hr(t,e,n,u,r,o){var i=1&n,a=t.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var s=o.get(t),l=o.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,p=2&n?new zn:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var D=t[f],y=e[f];if(u)var v=i?u(y,D,f,e,t,o):u(D,y,f,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!ge(e,(function(t,e){if(!Re(p,e)&&(D===t||r(D,t,n,u,o)))return p.push(e)}))){h=!1;break}}else if(D!==y&&!r(D,y,n,u,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function qr(t){return mo(vo(t,void 0,Mo),t+"")}function $r(t){return Du(t,Ea,no)}function Gr(t){return Du(t,ma,uo)}var Kr=An?function(t){return An.get(t)}:Ja;function Qr(t){for(var e=t.name+"",n=Cn[e],u=bt.call(Cn,e)?n.length:0;u--;){var r=n[u],o=r.func;if(null==o||o==t)return r.name}return e}function Vr(t){return(bt.call(Sn,"placeholder")?Sn:t).placeholder}function Zr(){var t=Sn.iteratee||Ka;return t=t===Ka?Fu:t,arguments.length?t(arguments[0],arguments[1]):t}function Jr(t,e){var n,u,r=t.__data__;return("string"==(u=o(n=e))||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function to(t){for(var e=Ea(t),n=e.length;n--;){var u=e[n],r=t[u];e[n]=[u,r,Do(r)]}return e}function eo(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return bu(n)?n:void 0}var no=nn?function(t){return null==t?[]:(t=yt(t),fe(nn(t),(function(e){return $t.call(t,e)})))}:ic,uo=nn?function(t){for(var e=[];t;)ye(e,no(t)),t=Xt(t);return e}:ic,ro=yu;function oo(t,e,n){for(var u=-1,r=(e=sr(e,t)).length,o=!1;++u<r;){var i=xo(e[u]);if(!(o=null!=t&&n(t,i)))break;t=t[i]}return o||++u!=r?o:!!(r=null==t?0:t.length)&&Yi(r)&&co(i,r)&&(Ti(t)||Ri(t))}function io(t){return"function"!=typeof t.constructor||po(t)?{}:On(Xt(t))}function ao(t){return Ti(t)||Ri(t)||!!(Qt&&t&&t[Qt])}function co(t,e){var n=o(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Hi(n))return!1;var u=o(e);return!!("number"==u?Ii(n)&&co(e,n.length):"string"==u&&e in n)&&Oi(n[e],t)}function lo(t,e){if(Ti(t))return!1;var n=o(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ji(t))||(H.test(t)||!Y.test(t)||null!=e&&t in yt(e))}function fo(t){var e=Qr(t),n=Sn[e];if("function"!=typeof n||!(e in Rn.prototype))return!1;if(t===n)return!0;var u=Kr(n);return!!u&&t===u[0]}(Dn&&ro(new Dn(new ArrayBuffer(1)))!=F||yn&&ro(new yn)!=v||vn&&"[object Promise]"!=ro(vn.resolve())||dn&&ro(new dn)!=A||gn&&ro(new gn)!=m)&&(ro=function(t){var e=yu(t),n=e==g?t.constructor:void 0,u=n?ko(n):"";if(u)switch(u){case En:return F;case mn:return v;case bn:return"[object Promise]";case Fn:return A;case Bn:return m}return e});var ho=Et?Ni:ac;function po(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ct)}function Do(t){return t==t&&!Hi(t)}function yo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in yt(n)))}}function vo(t,e,n){return e=cn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=cn(r.length-e,0),a=u(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=u(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),ie(t,this,c)}}function go(t,e){return e.length<2?t:pu(t,$u(e,0,-1))}function _o(t,e){for(var n=t.length,u=sn(e.length,n),r=_r(t);u--;){var o=e[u];t[u]=co(o,n)?r[o]:void 0}return t}function Ao(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Co=Fo(Yu),Eo=Je||function(t,e){return Gt.setTimeout(t,e)},mo=Fo(Hu);function bo(t,e,n){var u=e+"";return mo(t,function(t,e){var n=e.length;if(!n)return t;var u=n-1;return e[u]=(n>1?"& ":"")+e[u],e=e.join(n>2?", ":" "),t.replace(V,"{\n/* [wrapped with "+e+"] */\n")}(u,function(t,e){return ce(c,(function(n){var u="_."+n[0];e&n[1]&&!he(t,u)&&t.push(u)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(J):[]}(u),n)))}function Fo(t){var e=0,n=0;return function(){var u=ln(),r=16-(u-n);if(n=u,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Bo(t,e){var n=-1,u=t.length,r=u-1;for(e=void 0===e?u:e;++n<e;){var o=zu(n,r),i=t[o];t[o]=t[n],t[n]=i}return t.length=e,t}var wo=function(t){var e=Fi(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,n,u,r){e.push(u?r.replace(nt,"$1"):n||t)})),e}));function xo(t){if("string"==typeof t||Ji(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ko(t){if(null!=t){try{return mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function So(t){if(t instanceof Rn)return t.clone();var e=new Pn(t.__wrapped__,t.__chain__);return e.__actions__=_r(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Oo=Lu((function(t,e){return zi(t)?eu(t,au(e,1,zi,!0)):[]})),jo=Lu((function(t,e){var n=Wo(e);return zi(n)&&(n=void 0),zi(t)?eu(t,au(e,1,zi,!0),Zr(n,2)):[]})),Po=Lu((function(t,e){var n=Wo(e);return zi(n)&&(n=void 0),zi(t)?eu(t,au(e,1,zi,!0),void 0,n):[]}));function Ro(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=null==n?0:oa(n);return r<0&&(r=cn(u+r,0)),Ce(t,Zr(e,3),r)}function To(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=u-1;return void 0!==n&&(r=oa(n),r=n<0?cn(u+r,0):sn(r,u-1)),Ce(t,Zr(e,3),r,!0)}function Mo(t){return(null==t?0:t.length)?au(t,1):[]}function Io(t){return t&&t.length?t[0]:void 0}var zo=Lu((function(t){var e=De(t,ar);return e.length&&e[0]===t[0]?_u(e):[]})),Uo=Lu((function(t){var e=Wo(t),n=De(t,ar);return e===Wo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?_u(n,Zr(e,2)):[]})),Lo=Lu((function(t){var e=Wo(t),n=De(t,ar);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?_u(n,void 0,e):[]}));function Wo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var No=Lu(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Mu(t,e):t}var Yo=qr((function(t,e){var n=null==t?0:t.length,u=Qn(t,e);return Iu(t,De(e,(function(t){return co(t,n)?+t:t})).sort(vr)),u}));function Ho(t){return null==t?t:pn.call(t)}var qo=Lu((function(t){return tr(au(t,1,zi,!0))})),$o=Lu((function(t){var e=Wo(t);return zi(e)&&(e=void 0),tr(au(t,1,zi,!0),Zr(e,2))})),Go=Lu((function(t){var e=Wo(t);return e="function"==typeof e?e:void 0,tr(au(t,1,zi,!0),void 0,e)}));function Ko(t){if(!t||!t.length)return[];var e=0;return t=fe(t,(function(t){if(zi(t))return e=cn(t.length,e),!0})),Se(e,(function(e){return De(t,Be(e))}))}function Qo(t,e){if(!t||!t.length)return[];var n=Ko(t);return null==e?n:De(n,(function(t){return ie(e,void 0,t)}))}var Vo=Lu((function(t,e){return zi(t)?eu(t,e):[]})),Zo=Lu((function(t){return or(fe(t,zi))})),Jo=Lu((function(t){var e=Wo(t);return zi(e)&&(e=void 0),or(fe(t,zi),Zr(e,2))})),ti=Lu((function(t){var e=Wo(t);return e="function"==typeof e?e:void 0,or(fe(t,zi),void 0,e)})),ei=Lu(Ko);var ni=Lu((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Qo(t,n)}));function ui(t){var e=Sn(t);return e.__chain__=!0,e}function ri(t,e){return e(t)}var oi=qr((function(t){var e=t.length,n=e?t[0]:0,u=this.__wrapped__,r=function(e){return Qn(e,t)};return!(e>1||this.__actions__.length)&&u instanceof Rn&&co(n)?((u=u.slice(n,+n+(e?1:0))).__actions__.push({func:ri,args:[r],thisArg:void 0}),new Pn(u,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var ii=Cr((function(t,e,n){bt.call(t,n)?++t[n]:Kn(t,n,1)}));var ai=xr(Ro),ci=xr(To);function si(t,e){return(Ti(t)?ce:nu)(t,Zr(e,3))}function li(t,e){return(Ti(t)?se:uu)(t,Zr(e,3))}var fi=Cr((function(t,e,n){bt.call(t,n)?t[n].push(e):Kn(t,n,[e])}));var hi=Lu((function(t,e,n){var r=-1,o="function"==typeof e,i=Ii(t)?u(t.length):[];return nu(t,(function(t){i[++r]=o?ie(e,t,n):Au(t,e,n)})),i})),pi=Cr((function(t,e,n){Kn(t,n,e)}));function Di(t,e){return(Ti(t)?De:ku)(t,Zr(e,3))}var yi=Cr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var vi=Lu((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Ru(t,au(e,1),[])})),di=Ze||function(){return Gt.Date.now()};function gi(t,e,n){return e=n?void 0:e,Wr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function _i(t,e){var n;if("function"!=typeof e)throw new gt(i);return t=oa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Ai=Lu((function(t,e,n){var u=1;if(n.length){var r=Ye(n,Vr(Ai));u|=32}return Wr(t,u,e,n,r)})),Ci=Lu((function(t,e,n){var u=3;if(n.length){var r=Ye(n,Vr(Ci));u|=32}return Wr(e,u,t,n,r)}));function Ei(t,e,n){var u,r,o,a,c,s,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new gt(i);function D(e){var n=u,o=r;return u=r=void 0,l=e,a=t.apply(o,n)}function y(t){return l=t,c=Eo(d,e),f?D(t):a}function v(t){var n=t-s;return void 0===s||n>=e||n<0||h&&t-l>=o}function d(){var t=di();if(v(t))return g(t);c=Eo(d,function(t){var n=e-(t-s);return h?sn(n,o-(t-l)):n}(t))}function g(t){return c=void 0,p&&u?D(t):(u=r=void 0,a)}function _(){var t=di(),n=v(t);if(u=arguments,r=this,s=t,n){if(void 0===c)return y(s);if(h)return hr(c),c=Eo(d,e),D(s)}return void 0===c&&(c=Eo(d,e)),a}return e=aa(e)||0,Hi(n)&&(f=!!n.leading,o=(h="maxWait"in n)?cn(aa(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),_.cancel=function(){void 0!==c&&hr(c),l=0,u=s=r=c=void 0},_.flush=function(){return void 0===c?a:g(di())},_}var mi=Lu((function(t,e){return tu(t,1,e)})),bi=Lu((function(t,e,n){return tu(t,aa(e)||0,n)}));function Fi(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(i);var n=function n(){var u=arguments,r=e?e.apply(this,u):u[0],o=n.cache;if(o.has(r))return o.get(r);var i=t.apply(this,u);return n.cache=o.set(r,i)||o,i};return n.cache=new(Fi.Cache||In),n}function Bi(t){if("function"!=typeof t)throw new gt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Fi.Cache=In;var wi=lr((function(t,e){var n=(e=1==e.length&&Ti(e[0])?De(e[0],je(Zr())):De(au(e,1),je(Zr()))).length;return Lu((function(u){for(var r=-1,o=sn(u.length,n);++r<o;)u[r]=e[r].call(this,u[r]);return ie(t,this,u)}))})),xi=Lu((function(t,e){return Wr(t,32,void 0,e,Ye(e,Vr(xi)))})),ki=Lu((function(t,e){return Wr(t,64,void 0,e,Ye(e,Vr(ki)))})),Si=qr((function(t,e){return Wr(t,256,void 0,void 0,void 0,e)}));function Oi(t,e){return t===e||t!=t&&e!=e}var ji=Mr(vu),Pi=Mr((function(t,e){return t>=e})),Ri=Cu(function(){return arguments}())?Cu:function(t){return qi(t)&&bt.call(t,"callee")&&!$t.call(t,"callee")},Ti=u.isArray,Mi=te?je(te):function(t){return qi(t)&&yu(t)==b};function Ii(t){return null!=t&&Yi(t.length)&&!Ni(t)}function zi(t){return qi(t)&&Ii(t)}var Ui=un||ac,Li=ee?je(ee):function(t){return qi(t)&&yu(t)==h};function Wi(t){if(!qi(t))return!1;var e=yu(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ki(t)}function Ni(t){if(!Hi(t))return!1;var e=yu(t);return e==D||e==y||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xi(t){return"number"==typeof t&&t==oa(t)}function Yi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hi(t){var e=o(t);return null!=t&&("object"==e||"function"==e)}function qi(t){return null!=t&&"object"==o(t)}var $i=ne?je(ne):function(t){return qi(t)&&ro(t)==v};function Gi(t){return"number"==typeof t||qi(t)&&yu(t)==d}function Ki(t){if(!qi(t)||yu(t)!=g)return!1;var e=Xt(t);if(null===e)return!0;var n=bt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mt.call(n)==xt}var Qi=ue?je(ue):function(t){return qi(t)&&yu(t)==_};var Vi=re?je(re):function(t){return qi(t)&&ro(t)==A};function Zi(t){return"string"==typeof t||!Ti(t)&&qi(t)&&yu(t)==C}function Ji(t){return"symbol"==o(t)||qi(t)&&yu(t)==E}var ta=oe?je(oe):function(t){return qi(t)&&Yi(t.length)&&!!Wt[yu(t)]};var ea=Mr(xu),na=Mr((function(t,e){return t<=e}));function ua(t){if(!t)return[];if(Ii(t))return Zi(t)?Ge(t):_r(t);if(Zt&&t[Zt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Zt]());var e=ro(t);return(e==v?Ne:e==A?He:Oa)(t)}function ra(t){return t?(t=aa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function oa(t){var e=ra(t),n=e%1;return e==e?n?e-n:e:0}function ia(t){return t?Vn(oa(t),0,4294967295):0}function aa(t){if("number"==typeof t)return t;if(Ji(t))return NaN;if(Hi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Oe(t);var n=it.test(t);return n||ct.test(t)?Ht(t.slice(2),n?2:8):ot.test(t)?NaN:+t}function ca(t){return Ar(t,ma(t))}function sa(t){return null==t?"":Ju(t)}var la=Er((function(t,e){if(po(e)||Ii(e))Ar(e,Ea(e),t);else for(var n in e)bt.call(e,n)&&Hn(t,n,e[n])})),fa=Er((function(t,e){Ar(e,ma(e),t)})),ha=Er((function(t,e,n,u){Ar(e,ma(e),t,u)})),pa=Er((function(t,e,n,u){Ar(e,Ea(e),t,u)})),Da=qr(Qn);var ya=Lu((function(t,e){t=yt(t);var n=-1,u=e.length,r=u>2?e[2]:void 0;for(r&&so(e[0],e[1],r)&&(u=1);++n<u;)for(var o=e[n],i=ma(o),a=-1,c=i.length;++a<c;){var s=i[a],l=t[s];(void 0===l||Oi(l,Ct[s])&&!bt.call(t,s))&&(t[s]=o[s])}return t})),va=Lu((function(t){return t.push(void 0,Xr),ie(Fa,void 0,t)}));function da(t,e,n){var u=null==t?void 0:pu(t,e);return void 0===u?n:u}function ga(t,e){return null!=t&&oo(t,e,gu)}var _a=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=wt.call(e)),t[e]=n}),Ha(Ga)),Aa=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=wt.call(e)),bt.call(t,e)?t[e].push(n):t[e]=[n]}),Zr),Ca=Lu(Au);function Ea(t){return Ii(t)?Ln(t):Bu(t)}function ma(t){return Ii(t)?Ln(t,!0):wu(t)}var ba=Er((function(t,e,n){ju(t,e,n)})),Fa=Er((function(t,e,n,u){ju(t,e,n,u)})),Ba=qr((function(t,e){var n={};if(null==t)return n;var u=!1;e=De(e,(function(e){return e=sr(e,t),u||(u=e.length>1),e})),Ar(t,Gr(t),n),u&&(n=Zn(n,7,Yr));for(var r=e.length;r--;)er(n,e[r]);return n}));var wa=qr((function(t,e){return null==t?{}:function(t,e){return Tu(t,e,(function(e,n){return ga(t,n)}))}(t,e)}));function xa(t,e){if(null==t)return{};var n=De(Gr(t),(function(t){return[t]}));return e=Zr(e),Tu(t,n,(function(t,n){return e(t,n[0])}))}var ka=Lr(Ea),Sa=Lr(ma);function Oa(t){return null==t?[]:Pe(t,Ea(t))}var ja=Br((function(t,e,n){return e=e.toLowerCase(),t+(n?Pa(e):e)}));function Pa(t){return Wa(sa(t).toLowerCase())}function Ra(t){return(t=sa(t))&&t.replace(lt,ze).replace(Rt,"")}var Ta=Br((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ma=Br((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ia=Fr("toLowerCase");var za=Br((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ua=Br((function(t,e,n){return t+(n?" ":"")+Wa(e)}));var La=Br((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Wa=Fr("toUpperCase");function Na(t,e,n){return t=sa(t),void 0===(e=n?void 0:e)?function(t){return zt.test(t)}(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Xa=Lu((function(t,e){try{return ie(t,void 0,e)}catch(t){return Wi(t)?t:new Q(t)}})),Ya=qr((function(t,e){return ce(e,(function(e){e=xo(e),Kn(t,e,Ai(t[e],t))})),t}));function Ha(t){return function(){return t}}var qa=kr(),$a=kr(!0);function Ga(t){return t}function Ka(t){return Fu("function"==typeof t?t:Zn(t,1))}var Qa=Lu((function(t,e){return function(n){return Au(n,t,e)}})),Va=Lu((function(t,e){return function(n){return Au(t,n,e)}}));function Za(t,e,n){var u=Ea(e),r=hu(e,u);null!=n||Hi(e)&&(r.length||!u.length)||(n=e,e=t,t=this,r=hu(e,Ea(e)));var o=!(Hi(n)&&"chain"in n&&!n.chain),i=Ni(t);return ce(r,(function(n){var u=e[n];t[n]=u,i&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=_r(this.__actions__);return r.push({func:u,args:arguments,thisArg:t}),n.__chain__=e,n}return u.apply(t,ye([this.value()],arguments))})})),t}function Ja(){}var tc=Pr(De),ec=Pr(le),nc=Pr(ge);function uc(t){return lo(t)?Be(xo(t)):function(t){return function(e){return pu(e,t)}}(t)}var rc=Tr(),oc=Tr(!0);function ic(){return[]}function ac(){return!1}var cc=jr((function(t,e){return t+e}),0),sc=zr("ceil"),lc=jr((function(t,e){return t/e}),1),fc=zr("floor");var hc,pc=jr((function(t,e){return t*e}),1),Dc=zr("round"),yc=jr((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new gt(i);return t=oa(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=gi,Sn.assign=la,Sn.assignIn=fa,Sn.assignInWith=ha,Sn.assignWith=pa,Sn.at=Da,Sn.before=_i,Sn.bind=Ai,Sn.bindAll=Ya,Sn.bindKey=Ci,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ti(t)?t:[t]},Sn.chain=ui,Sn.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:cn(oa(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,i=0,a=u(tn(r/e));o<r;)a[i++]=$u(t,o,o+=e);return a},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,u=0,r=[];++e<n;){var o=t[e];o&&(r[u++]=o)}return r},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=u(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ye(Ti(n)?_r(n):[n],au(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=Zr();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new gt(i);return[n(t[0]),t[1]]})):[],Lu((function(n){for(var u=-1;++u<e;){var r=t[u];if(ie(r[0],this,n))return ie(r[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=Ea(t);return function(n){return Jn(n,t,e)}}(Zn(t,1))},Sn.constant=Ha,Sn.countBy=ii,Sn.create=function(t,e){var n=On(t);return null==e?n:Gn(n,e)},Sn.curry=function t(e,n,u){var r=Wr(e,8,void 0,void 0,void 0,void 0,void 0,n=u?void 0:n);return r.placeholder=t.placeholder,r},Sn.curryRight=function t(e,n,u){var r=Wr(e,16,void 0,void 0,void 0,void 0,void 0,n=u?void 0:n);return r.placeholder=t.placeholder,r},Sn.debounce=Ei,Sn.defaults=ya,Sn.defaultsDeep=va,Sn.defer=mi,Sn.delay=bi,Sn.difference=Oo,Sn.differenceBy=jo,Sn.differenceWith=Po,Sn.drop=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,(e=n||void 0===e?1:oa(e))<0?0:e,u):[]},Sn.dropRight=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,0,(e=u-(e=n||void 0===e?1:oa(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!0):[]},Sn.fill=function(t,e,n,u){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,u=r),function(t,e,n,u){var r=t.length;for((n=oa(n))<0&&(n=-n>r?0:r+n),(u=void 0===u||u>r?r:oa(u))<0&&(u+=r),u=n>u?0:ia(u);n<u;)t[n++]=e;return t}(t,e,n,u)):[]},Sn.filter=function(t,e){return(Ti(t)?fe:iu)(t,Zr(e,3))},Sn.flatMap=function(t,e){return au(Di(t,e),1)},Sn.flatMapDeep=function(t,e){return au(Di(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:oa(n),au(Di(t,e),n)},Sn.flatten=Mo,Sn.flattenDeep=function(t){return(null==t?0:t.length)?au(t,1/0):[]},Sn.flattenDepth=function(t,e){return(null==t?0:t.length)?au(t,e=void 0===e?1:oa(e)):[]},Sn.flip=function(t){return Wr(t,512)},Sn.flow=qa,Sn.flowRight=$a,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,u={};++e<n;){var r=t[e];u[r[0]]=r[1]}return u},Sn.functions=function(t){return null==t?[]:hu(t,Ea(t))},Sn.functionsIn=function(t){return null==t?[]:hu(t,ma(t))},Sn.groupBy=fi,Sn.initial=function(t){return(null==t?0:t.length)?$u(t,0,-1):[]},Sn.intersection=zo,Sn.intersectionBy=Uo,Sn.intersectionWith=Lo,Sn.invert=_a,Sn.invertBy=Aa,Sn.invokeMap=hi,Sn.iteratee=Ka,Sn.keyBy=pi,Sn.keys=Ea,Sn.keysIn=ma,Sn.map=Di,Sn.mapKeys=function(t,e){var n={};return e=Zr(e,3),lu(t,(function(t,u,r){Kn(n,e(t,u,r),t)})),n},Sn.mapValues=function(t,e){var n={};return e=Zr(e,3),lu(t,(function(t,u,r){Kn(n,u,e(t,u,r))})),n},Sn.matches=function(t){return Su(Zn(t,1))},Sn.matchesProperty=function(t,e){return Ou(t,Zn(e,1))},Sn.memoize=Fi,Sn.merge=ba,Sn.mergeWith=Fa,Sn.method=Qa,Sn.methodOf=Va,Sn.mixin=Za,Sn.negate=Bi,Sn.nthArg=function(t){return t=oa(t),Lu((function(e){return Pu(e,t)}))},Sn.omit=Ba,Sn.omitBy=function(t,e){return xa(t,Bi(Zr(e)))},Sn.once=function(t){return _i(2,t)},Sn.orderBy=function(t,e,n,u){return null==t?[]:(Ti(e)||(e=null==e?[]:[e]),Ti(n=u?void 0:n)||(n=null==n?[]:[n]),Ru(t,e,n))},Sn.over=tc,Sn.overArgs=wi,Sn.overEvery=ec,Sn.overSome=nc,Sn.partial=xi,Sn.partialRight=ki,Sn.partition=yi,Sn.pick=wa,Sn.pickBy=xa,Sn.property=uc,Sn.propertyOf=function(t){return function(e){return null==t?void 0:pu(t,e)}},Sn.pull=No,Sn.pullAll=Xo,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Mu(t,e,Zr(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Mu(t,e,void 0,n):t},Sn.pullAt=Yo,Sn.range=rc,Sn.rangeRight=oc,Sn.rearg=Si,Sn.reject=function(t,e){return(Ti(t)?fe:iu)(t,Bi(Zr(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var u=-1,r=[],o=t.length;for(e=Zr(e,3);++u<o;){var i=t[u];e(i,u,t)&&(n.push(i),r.push(u))}return Iu(t,r),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new gt(i);return Lu(t,e=void 0===e?e:oa(e))},Sn.reverse=Ho,Sn.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:oa(e),(Ti(t)?Nn:Nu)(t,e)},Sn.set=function(t,e,n){return null==t?t:Xu(t,e,n)},Sn.setWith=function(t,e,n,u){return u="function"==typeof u?u:void 0,null==t?t:Xu(t,e,n,u)},Sn.shuffle=function(t){return(Ti(t)?Xn:qu)(t)},Sn.slice=function(t,e,n){var u=null==t?0:t.length;return u?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=u):(e=null==e?0:oa(e),n=void 0===n?u:oa(n)),$u(t,e,n)):[]},Sn.sortBy=vi,Sn.sortedUniq=function(t){return t&&t.length?Vu(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?Vu(t,Zr(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=sa(t))&&("string"==typeof e||null!=e&&!Qi(e))&&!(e=Ju(e))&&We(t)?fr(Ge(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new gt(i);return e=null==e?0:cn(oa(e),0),Lu((function(n){var u=n[e],r=fr(n,0,e);return u&&ye(r,u),ie(t,this,r)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?$u(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?$u(t,0,(e=n||void 0===e?1:oa(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var u=null==t?0:t.length;return u?$u(t,(e=u-(e=n||void 0===e?1:oa(e)))<0?0:e,u):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?ur(t,Zr(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var u=!0,r=!0;if("function"!=typeof t)throw new gt(i);return Hi(n)&&(u="leading"in n?!!n.leading:u,r="trailing"in n?!!n.trailing:r),Ei(t,e,{leading:u,maxWait:e,trailing:r})},Sn.thru=ri,Sn.toArray=ua,Sn.toPairs=ka,Sn.toPairsIn=Sa,Sn.toPath=function(t){return Ti(t)?De(t,xo):Ji(t)?[t]:_r(wo(sa(t)))},Sn.toPlainObject=ca,Sn.transform=function(t,e,n){var u=Ti(t),r=u||Ui(t)||ta(t);if(e=Zr(e,4),null==n){var o=t&&t.constructor;n=r?u?new o:[]:Hi(t)&&Ni(o)?On(Xt(t)):{}}return(r?ce:lu)(t,(function(t,u,r){return e(n,t,u,r)})),n},Sn.unary=function(t){return gi(t,1)},Sn.union=qo,Sn.unionBy=$o,Sn.unionWith=Go,Sn.uniq=function(t){return t&&t.length?tr(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?tr(t,Zr(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?tr(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||er(t,e)},Sn.unzip=Ko,Sn.unzipWith=Qo,Sn.update=function(t,e,n){return null==t?t:nr(t,e,cr(n))},Sn.updateWith=function(t,e,n,u){return u="function"==typeof u?u:void 0,null==t?t:nr(t,e,cr(n),u)},Sn.values=Oa,Sn.valuesIn=function(t){return null==t?[]:Pe(t,ma(t))},Sn.without=Vo,Sn.words=Na,Sn.wrap=function(t,e){return xi(cr(e),t)},Sn.xor=Zo,Sn.xorBy=Jo,Sn.xorWith=ti,Sn.zip=ei,Sn.zipObject=function(t,e){return ir(t||[],e||[],Hn)},Sn.zipObjectDeep=function(t,e){return ir(t||[],e||[],Xu)},Sn.zipWith=ni,Sn.entries=ka,Sn.entriesIn=Sa,Sn.extend=fa,Sn.extendWith=ha,Za(Sn,Sn),Sn.add=cc,Sn.attempt=Xa,Sn.camelCase=ja,Sn.capitalize=Pa,Sn.ceil=sc,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=aa(n))==n?n:0),void 0!==e&&(e=(e=aa(e))==e?e:0),Vn(aa(t),e,n)},Sn.clone=function(t){return Zn(t,4)},Sn.cloneDeep=function(t){return Zn(t,5)},Sn.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||Jn(t,e,Ea(e))},Sn.deburr=Ra,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=lc,Sn.endsWith=function(t,e,n){t=sa(t),e=Ju(e);var u=t.length,r=n=void 0===n?u:Vn(oa(n),0,u);return(n-=e.length)>=0&&t.slice(n,r)==e},Sn.eq=Oi,Sn.escape=function(t){return(t=sa(t))&&L.test(t)?t.replace(z,Ue):t},Sn.escapeRegExp=function(t){return(t=sa(t))&&G.test(t)?t.replace($,"\\$&"):t},Sn.every=function(t,e,n){var u=Ti(t)?le:ru;return n&&so(t,e,n)&&(e=void 0),u(t,Zr(e,3))},Sn.find=ai,Sn.findIndex=Ro,Sn.findKey=function(t,e){return Ae(t,Zr(e,3),lu)},Sn.findLast=ci,Sn.findLastIndex=To,Sn.findLastKey=function(t,e){return Ae(t,Zr(e,3),fu)},Sn.floor=fc,Sn.forEach=si,Sn.forEachRight=li,Sn.forIn=function(t,e){return null==t?t:cu(t,Zr(e,3),ma)},Sn.forInRight=function(t,e){return null==t?t:su(t,Zr(e,3),ma)},Sn.forOwn=function(t,e){return t&&lu(t,Zr(e,3))},Sn.forOwnRight=function(t,e){return t&&fu(t,Zr(e,3))},Sn.get=da,Sn.gt=ji,Sn.gte=Pi,Sn.has=function(t,e){return null!=t&&oo(t,e,du)},Sn.hasIn=ga,Sn.head=Io,Sn.identity=Ga,Sn.includes=function(t,e,n,u){t=Ii(t)?t:Oa(t),n=n&&!u?oa(n):0;var r=t.length;return n<0&&(n=cn(r+n,0)),Zi(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ee(t,e,n)>-1},Sn.indexOf=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=null==n?0:oa(n);return r<0&&(r=cn(u+r,0)),Ee(t,e,r)},Sn.inRange=function(t,e,n){return e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n){return t>=sn(e,n)&&t<cn(e,n)}(t=aa(t),e,n)},Sn.invoke=Ca,Sn.isArguments=Ri,Sn.isArray=Ti,Sn.isArrayBuffer=Mi,Sn.isArrayLike=Ii,Sn.isArrayLikeObject=zi,Sn.isBoolean=function(t){return!0===t||!1===t||qi(t)&&yu(t)==f},Sn.isBuffer=Ui,Sn.isDate=Li,Sn.isElement=function(t){return qi(t)&&1===t.nodeType&&!Ki(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Ii(t)&&(Ti(t)||"string"==typeof t||"function"==typeof t.splice||Ui(t)||ta(t)||Ri(t)))return!t.length;var e=ro(t);if(e==v||e==A)return!t.size;if(po(t))return!Bu(t).length;for(var n in t)if(bt.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return Eu(t,e)},Sn.isEqualWith=function(t,e,n){var u=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===u?Eu(t,e,void 0,n):!!u},Sn.isError=Wi,Sn.isFinite=function(t){return"number"==typeof t&&rn(t)},Sn.isFunction=Ni,Sn.isInteger=Xi,Sn.isLength=Yi,Sn.isMap=$i,Sn.isMatch=function(t,e){return t===e||mu(t,e,to(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,mu(t,e,to(e),n)},Sn.isNaN=function(t){return Gi(t)&&t!=+t},Sn.isNative=function(t){if(ho(t))throw new Q("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return bu(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=Gi,Sn.isObject=Hi,Sn.isObjectLike=qi,Sn.isPlainObject=Ki,Sn.isRegExp=Qi,Sn.isSafeInteger=function(t){return Xi(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=Vi,Sn.isString=Zi,Sn.isSymbol=Ji,Sn.isTypedArray=ta,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return qi(t)&&ro(t)==m},Sn.isWeakSet=function(t){return qi(t)&&"[object WeakSet]"==yu(t)},Sn.join=function(t,e){return null==t?"":on.call(t,e)},Sn.kebabCase=Ta,Sn.last=Wo,Sn.lastIndexOf=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var r=u;return void 0!==n&&(r=(r=oa(n))<0?cn(u+r,0):sn(r,u-1)),e==e?function(t,e,n){for(var u=n+1;u--;)if(t[u]===e)return u;return u}(t,e,r):Ce(t,be,r,!0)},Sn.lowerCase=Ma,Sn.lowerFirst=Ia,Sn.lt=ea,Sn.lte=na,Sn.max=function(t){return t&&t.length?ou(t,Ga,vu):void 0},Sn.maxBy=function(t,e){return t&&t.length?ou(t,Zr(e,2),vu):void 0},Sn.mean=function(t){return Fe(t,Ga)},Sn.meanBy=function(t,e){return Fe(t,Zr(e,2))},Sn.min=function(t){return t&&t.length?ou(t,Ga,xu):void 0},Sn.minBy=function(t,e){return t&&t.length?ou(t,Zr(e,2),xu):void 0},Sn.stubArray=ic,Sn.stubFalse=ac,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=pc,Sn.nth=function(t,e){return t&&t.length?Pu(t,oa(e)):void 0},Sn.noConflict=function(){return Gt._===this&&(Gt._=kt),this},Sn.noop=Ja,Sn.now=di,Sn.pad=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;if(!e||u>=e)return t;var r=(e-u)/2;return Rr(en(r),n)+t+Rr(tn(r),n)},Sn.padEnd=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;return e&&u<e?t+Rr(e-u,n):t},Sn.padStart=function(t,e,n){t=sa(t);var u=(e=oa(e))?$e(t):0;return e&&u<e?Rr(e-u,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),fn(sa(t).replace(K,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ra(t),void 0===e?(e=t,t=0):e=ra(e)),t>e){var u=t;t=e,e=u}if(n||t%1||e%1){var r=hn();return sn(t+r*(e-t+Yt("1e-"+((r+"").length-1))),e)}return zu(t,e)},Sn.reduce=function(t,e,n){var u=Ti(t)?ve:xe,r=arguments.length<3;return u(t,Zr(e,4),n,r,nu)},Sn.reduceRight=function(t,e,n){var u=Ti(t)?de:xe,r=arguments.length<3;return u(t,Zr(e,4),n,r,uu)},Sn.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:oa(e),Uu(sa(t),e)},Sn.replace=function(){var t=arguments,e=sa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var u=-1,r=(e=sr(e,t)).length;for(r||(r=1,t=void 0);++u<r;){var o=null==t?void 0:t[xo(e[u])];void 0===o&&(u=r,o=n),t=Ni(o)?o.call(t):o}return t},Sn.round=Dc,Sn.runInContext=t,Sn.sample=function(t){return(Ti(t)?Wn:Wu)(t)},Sn.size=function(t){if(null==t)return 0;if(Ii(t))return Zi(t)?$e(t):t.length;var e=ro(t);return e==v||e==A?t.size:Bu(t).length},Sn.snakeCase=za,Sn.some=function(t,e,n){var u=Ti(t)?ge:Gu;return n&&so(t,e,n)&&(e=void 0),u(t,Zr(e,3))},Sn.sortedIndex=function(t,e){return Ku(t,e)},Sn.sortedIndexBy=function(t,e,n){return Qu(t,e,Zr(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var u=Ku(t,e);if(u<n&&Oi(t[u],e))return u}return-1},Sn.sortedLastIndex=function(t,e){return Ku(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return Qu(t,e,Zr(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ku(t,e,!0)-1;if(Oi(t[n],e))return n}return-1},Sn.startCase=Ua,Sn.startsWith=function(t,e,n){return t=sa(t),n=null==n?0:Vn(oa(n),0,t.length),e=Ju(e),t.slice(n,n+e.length)==e},Sn.subtract=yc,Sn.sum=function(t){return t&&t.length?ke(t,Ga):0},Sn.sumBy=function(t,e){return t&&t.length?ke(t,Zr(e,2)):0},Sn.template=function(t,e,n){var u=Sn.templateSettings;n&&so(t,e,n)&&(e=void 0),t=sa(t),e=ha({},e,u,Nr);var r,o,i=ha({},e.imports,u.imports,Nr),a=Ea(i),c=Pe(i,a),s=0,l=e.interpolate||ft,f="__p += '",h=vt((e.escape||ft).source+"|"+l.source+"|"+(l===X?ut:ft).source+"|"+(e.evaluate||ft).source+"|$","g"),p="//# sourceURL="+(bt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";t.replace(h,(function(e,n,u,i,a,c){return u||(u=i),f+=t.slice(s,c).replace(ht,Le),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),u&&(f+="' +\n((__t = ("+u+")) == null ? '' : __t) +\n'"),s=c+e.length,e})),f+="';\n";var D=bt.call(e,"variable")&&e.variable;if(D){if(et.test(D))throw new Q("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(R,""):f).replace(T,"$1").replace(M,"$1;"),f="function("+(D||"obj")+") {\n"+(D?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Xa((function(){return pt(a,p+"return "+f).apply(void 0,c)}));if(y.source=f,Wi(y))throw y;return y},Sn.times=function(t,e){if((t=oa(t))<1||t>9007199254740991)return[];var n=4294967295,u=sn(t,4294967295);t-=4294967295;for(var r=Se(u,e=Zr(e));++n<t;)e(n);return r},Sn.toFinite=ra,Sn.toInteger=oa,Sn.toLength=ia,Sn.toLower=function(t){return sa(t).toLowerCase()},Sn.toNumber=aa,Sn.toSafeInteger=function(t){return t?Vn(oa(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=sa,Sn.toUpper=function(t){return sa(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return Oe(t);if(!t||!(e=Ju(e)))return t;var u=Ge(t),r=Ge(e);return fr(u,Te(u,r),Me(u,r)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return t.slice(0,Ke(t)+1);if(!t||!(e=Ju(e)))return t;var u=Ge(t);return fr(u,0,Me(u,Ge(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=sa(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Ju(e)))return t;var u=Ge(t);return fr(u,Te(u,Ge(e))).join("")},Sn.truncate=function(t,e){var n=30,u="...";if(Hi(e)){var r="separator"in e?e.separator:r;n="length"in e?oa(e.length):n,u="omission"in e?Ju(e.omission):u}var o=(t=sa(t)).length;if(We(t)){var i=Ge(t);o=i.length}if(n>=o)return t;var a=n-$e(u);if(a<1)return u;var c=i?fr(i,0,a).join(""):t.slice(0,a);if(void 0===r)return c+u;if(i&&(a+=c.length-a),Qi(r)){if(t.slice(a).search(r)){var s,l=c;for(r.global||(r=vt(r.source,sa(rt.exec(r))+"g")),r.lastIndex=0;s=r.exec(l);)var f=s.index;c=c.slice(0,void 0===f?a:f)}}else if(t.indexOf(Ju(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+u},Sn.unescape=function(t){return(t=sa(t))&&U.test(t)?t.replace(I,Qe):t},Sn.uniqueId=function(t){var e=++Ft;return sa(t)+e},Sn.upperCase=La,Sn.upperFirst=Wa,Sn.each=si,Sn.eachRight=li,Sn.first=Io,Za(Sn,(hc={},lu(Sn,(function(t,e){bt.call(Sn.prototype,e)||(hc[e]=t)})),hc),{chain:!1}),Sn.VERSION="4.17.21",ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),ce(["drop","take"],(function(t,e){Rn.prototype[t]=function(n){n=void 0===n?1:cn(oa(n),0);var u=this.__filtered__&&!e?new Rn(this):this.clone();return u.__filtered__?u.__takeCount__=sn(n,u.__takeCount__):u.__views__.push({size:sn(n,4294967295),type:t+(u.__dir__<0?"Right":"")}),u},Rn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ce(["filter","map","takeWhile"],(function(t,e){var n=e+1,u=1==n||3==n;Rn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zr(t,3),type:n}),e.__filtered__=e.__filtered__||u,e}})),ce(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Rn.prototype[t]=function(){return this[n](1).value()[0]}})),ce(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Rn.prototype[t]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(Ga)},Rn.prototype.find=function(t){return this.filter(t).head()},Rn.prototype.findLast=function(t){return this.reverse().find(t)},Rn.prototype.invokeMap=Lu((function(t,e){return"function"==typeof t?new Rn(this):this.map((function(n){return Au(n,t,e)}))})),Rn.prototype.reject=function(t){return this.filter(Bi(Zr(t)))},Rn.prototype.slice=function(t,e){t=oa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Rn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=oa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Rn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},lu(Rn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),r=Sn[u?"take"+("last"==e?"Right":""):e],o=u||/^find/.test(e);r&&(Sn.prototype[e]=function(){var e=this.__wrapped__,i=u?[1]:arguments,a=e instanceof Rn,c=i[0],s=a||Ti(e),l=function(t){var e=r.apply(Sn,ye([t],i));return u&&f?e[0]:e};s&&n&&"function"==typeof c&&1!=c.length&&(a=s=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,D=a&&!h;if(!o&&s){e=D?e:new Rn(this);var y=t.apply(e,i);return y.__actions__.push({func:ri,args:[l],thisArg:void 0}),new Pn(y,f)}return p&&D?t.apply(this,i):(y=this.thru(l),p?u?y.value()[0]:y.value():y)})})),ce(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",u=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(u&&!this.__chain__){var r=this.value();return e.apply(Ti(r)?r:[],t)}return this[n]((function(n){return e.apply(Ti(n)?n:[],t)}))}})),lu(Rn.prototype,(function(t,e){var n=Sn[e];if(n){var u=n.name+"";bt.call(Cn,u)||(Cn[u]=[]),Cn[u].push({name:e,func:n})}})),Cn[Sr(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var t=new Rn(this.__wrapped__);return t.__actions__=_r(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=_r(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=_r(this.__views__),t},Rn.prototype.reverse=function(){if(this.__filtered__){var t=new Rn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ti(t),u=e<0,r=n?t.length:0,o=function(t,e,n){var u=-1,r=n.length;for(;++u<r;){var o=n[u],i=o.size;switch(o.type){case"drop":t+=i;break;case"dropRight":e-=i;break;case"take":e=sn(e,t+i);break;case"takeRight":t=cn(t,e-i)}}return{start:t,end:e}}(0,r,this.__views__),i=o.start,a=o.end,c=a-i,s=u?a:i-1,l=this.__iteratees__,f=l.length,h=0,p=sn(c,this.__takeCount__);if(!n||!u&&r==c&&p==c)return rr(t,this.__actions__);var D=[];t:for(;c--&&h<p;){for(var y=-1,v=t[s+=e];++y<f;){var d=l[y],g=d.iteratee,_=d.type,A=g(v);if(2==_)v=A;else if(!A){if(1==_)continue t;break t}}D[h++]=v}return D},Sn.prototype.at=oi,Sn.prototype.chain=function(){return ui(this)},Sn.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ua(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof jn;){var u=So(n);u.__index__=0,u.__values__=void 0,e?r.__wrapped__=u:e=u;var r=u;n=n.__wrapped__}return r.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Rn){var e=t;return this.__actions__.length&&(e=new Rn(this)),(e=e.reverse()).__actions__.push({func:ri,args:[Ho],thisArg:void 0}),new Pn(e,this.__chain__)}return this.thru(Ho)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return rr(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Zt&&(Sn.prototype[Zt]=function(){return this}),Sn}();"object"==o(n(6))&&n(6)?(Gt._=Ve,void 0===(r=function(){return Ve}.call(e,n,e,u))||(u.exports=r)):Qt?((Qt.exports=Ve)._=Ve,Kt._=Ve):Gt._=Ve}).call(this)}).call(this,n(8),n(9)(t))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var u=n(3),r=n(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function c(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t){var e=r.fromString(t);return 36*Math.floor(e[0]*(6/256))+6*Math.floor(e[1]*(6/256))+1*Math.floor(e[2]*(6/256))+16}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,e);var n,u,r,o=f(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this))._offset=[0,0],t._cursor=[-1,-1],t._lastColor="",t}return n=a,(u=[{key:"schedule",value:function(t){setTimeout(t,1e3/60)}},{key:"setOptions",value:function(t){s(p(a.prototype),"setOptions",this).call(this,t);var e=[t.width,t.height],n=this.computeSize();this._offset=n.map((function(t,n){return Math.floor((t-e[n])/2)}))}},{key:"clear",value:function(){var e;t.stdout.write((e=this._options.bg,"[0;48;5;".concat(D(e),"m[2J")))}},{key:"draw",value:function(e,n){var u=i(e,5),r=u[0],o=u[1],a=u[2],c=u[3],s=u[4],l=this._offset[0]+r,f=this._offset[1]+o,h=this.computeSize();if(!(l<0||l>=h[0])&&!(f<0||f>=h[1])&&(l===this._cursor[0]&&f===this._cursor[1]||(t.stdout.write(function(t,e){return"[".concat(e+1,";").concat(t+1,"H")}(l,f)),this._cursor[0]=l,this._cursor[1]=f),n&&(a||(a=" ")),a)){var p=function(t,e){return"[0;38;5;".concat(D(t),";48;5;").concat(D(e),"m")}(c,s);if(p!==this._lastColor&&(t.stdout.write(p),this._lastColor=p),"\t"!=a){var y=[].concat(a);t.stdout.write(y[0])}this._cursor[0]++,this._cursor[0]>=h[0]&&(this._cursor[0]=0,this._cursor[1]++)}}},{key:"computeFontSize",value:function(){throw new Error("Terminal backend has no notion of font size")}},{key:"eventToPosition",value:function(t,e){return[t,e]}},{key:"computeSize",value:function(){return[t.stdout.columns,t.stdout.rows]}}])&&c(n.prototype,u),r&&c(n,r),a}(u.a)}).call(this,n(7))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){var n,u,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var c,s=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function D(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new D(t,e)),1!==s.length||l||a(p)},D.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(u=window)}t.exports=u},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"gameState",(function(){return So})),n.d(e,"previousGameState",(function(){return Oo})),n.d(e,"SetQueuedAbility",(function(){return Ro})),n.d(e,"SetQueuedEntity",(function(){return To})),n.d(e,"targetEntity",(function(){return Mo})),n.d(e,"CurrrentActivePlayer",(function(){return Io})),n.d(e,"ExamineTargetEnable",(function(){return $o})),n.d(e,"ExamineTargetDisable",(function(){return Ko})),n.d(e,"setupTestFight",(function(){return ti})),n.d(e,"StartGame",(function(){return oi}));var u={};n.r(u),n.d(u,"TYPE_TEXT",(function(){return lt})),n.d(u,"TYPE_NEWLINE",(function(){return ft})),n.d(u,"TYPE_FG",(function(){return ht})),n.d(u,"TYPE_BG",(function(){return pt})),n.d(u,"measure",(function(){return Dt})),n.d(u,"tokenize",(function(){return yt}));var r=n(0),o=n(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,t);var e,n,u,r=l(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._ctx=document.createElement("canvas").getContext("2d"),t}return e=o,(n=[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._ctx.canvas}},{key:"setOptions",value:function(t){c(h(o.prototype),"setOptions",this).call(this,t);var e=t.fontStyle?"".concat(t.fontStyle," "):"",n="".concat(e," ").concat(t.fontSize,"px ").concat(t.fontFamily);this._ctx.font=n,this._updateSize(),this._ctx.font=n,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}},{key:"clear",value:function(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}},{key:"eventToPosition",value:function(t,e){var n=this._ctx.canvas,u=n.getBoundingClientRect();return t-=u.left,e-=u.top,t*=n.width/u.width,e*=n.height/u.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}])&&a(e.prototype,n),u&&a(e,u),o}(o.a),D=n(1);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function g(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=E(t);if(e){var r=E(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,t);var e,n,u,r=A(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._spacingX=0,t._spacingY=0,t._hexSize=0,t}return e=o,(n=[{key:"draw",value:function(t,e){var n=v(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=[(u+1)*this._spacingX,r*this._spacingY+this._hexSize];if(this._options.transpose&&c.reverse(),e&&(this._ctx.fillStyle=a,this._fill(c[0],c[1])),o){this._ctx.fillStyle=i;for(var s=[].concat(o),l=0;l<s.length;l++)this._ctx.fillText(s[l],c[0],Math.ceil(c[1]))}}},{key:"computeSize",value:function(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}},{key:"computeFontSize",value:function(t,e){this._options.transpose&&(t+=e,t-=e=t-e);var n=2*t/((this._options.width+1)*Math.sqrt(3))-1,u=e/(2+1.5*(this._options.height-1)),r=Math.min(n,u),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var i=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;var a=i/100,c=2*(r=Math.floor(r)+1)/(this._options.spacing*(1+a/Math.sqrt(3)));return Math.ceil(c)-1}},{key:"_normalizedEventToPosition",value:function(t,e){var n;this._options.transpose?(t+=e,t-=e=t-e,n=this._ctx.canvas.width):n=this._ctx.canvas.height;var u=n/this._options.height;return e=Math.floor(e/u),Object(D.mod)(e,2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}},{key:"_fill",value:function(t,e){var n=this._hexSize,u=this._options.border,r=this._ctx;r.beginPath(),this._options.transpose?(r.moveTo(t-n+u,e),r.lineTo(t-n/2+u,e+this._spacingX-u),r.lineTo(t+n/2-u,e+this._spacingX-u),r.lineTo(t+n-u,e),r.lineTo(t+n/2-u,e-this._spacingX+u),r.lineTo(t-n/2+u,e-this._spacingX+u),r.lineTo(t-n+u,e)):(r.moveTo(t,e-n+u),r.lineTo(t+this._spacingX-u,e-n/2+u),r.lineTo(t+this._spacingX-u,e+n/2-u),r.lineTo(t,e+n-u),r.lineTo(t-this._spacingX+u,e+n/2-u),r.lineTo(t-this._spacingX+u,e-n/2+u),r.lineTo(t,e-n+u)),r.fill()}},{key:"_updateSize",value:function(){var t,e,n=this._options,u=Math.ceil(this._ctx.measureText("W").width);this._hexSize=Math.floor(n.spacing*(n.fontSize+u/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,n.transpose?(t="height",e="width"):(t="width",e="height"),this._ctx.canvas[t]=Math.ceil((n.width+1)*this._spacingX),this._ctx.canvas[e]=Math.ceil((n.height-1)*this._spacingY+2*this._hexSize)}}])&&g(e.prototype,n),u&&g(e,u),o}(p);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function w(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P,R=((P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(o,t);var e,n,u,r=S(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._spacingX=0,t._spacingY=0,t._canvasCache={},t}return e=o,(n=[{key:"setOptions",value:function(t){x(j(o.prototype),"setOptions",this).call(this,t),this._canvasCache={}}},{key:"draw",value:function(t,e){o.cache?this._drawWithCache(t):this._drawNoCache(t,e)}},{key:"_drawWithCache",value:function(t){var e,n=F(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=""+o+i+a;if(c in this._canvasCache)e=this._canvasCache[c];else{var s=this._options.border,l=(e=document.createElement("canvas")).getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,l.fillStyle=a,l.fillRect(s,s,e.width-s,e.height-s),o){l.fillStyle=i,l.font=this._ctx.font,l.textAlign="center",l.textBaseline="middle";for(var f=[].concat(o),h=0;h<f.length;h++)l.fillText(f[h],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[c]=e}this._ctx.drawImage(e,u*this._spacingX,r*this._spacingY)}},{key:"_drawNoCache",value:function(t,e){var n=F(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4];if(e){var c=this._options.border;this._ctx.fillStyle=a,this._ctx.fillRect(u*this._spacingX+c,r*this._spacingY+c,this._spacingX-c,this._spacingY-c)}if(o){this._ctx.fillStyle=i;for(var s=[].concat(o),l=0;l<s.length;l++)this._ctx.fillText(s[l],(u+.5)*this._spacingX,Math.ceil((r+.5)*this._spacingY))}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"computeFontSize",value:function(t,e){var n=Math.floor(t/this._options.width),u=Math.floor(e/this._options.height),r=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;var o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=r;var i=o/100*u/n;return i>1&&(u=Math.floor(u/i)),Math.floor(u/this._options.spacing)}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}},{key:"_updateSize",value:function(){var t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}])&&w(e.prototype,n),u&&w(e,u),o}(p)).cache=!1,P);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function z(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=N(t);if(e){var r=N(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return W(this,n)}}function W(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(o,t);var e,n,u,r=L(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._colorCanvas=document.createElement("canvas"),t}return e=o,(n=[{key:"draw",value:function(t,e){var n=M(t,5),u=n[0],r=n[1],o=n[2],i=n[3],a=n[4],c=this._options.tileWidth,s=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(u*c,r*s,c,s):(this._ctx.fillStyle=a,this._ctx.fillRect(u*c,r*s,c,s))),o)for(var l=[].concat(o),f=[].concat(i),h=[].concat(a),p=0;p<l.length;p++){var D=this._options.tileMap[l[p]];if(!D)throw new Error('Char "'.concat(l[p],'" not found in tileMap'));if(this._options.tileColorize){var y=this._colorCanvas,v=y.getContext("2d");v.globalCompositeOperation="source-over",v.clearRect(0,0,c,s);var d=f[p],g=h[p];v.drawImage(this._options.tileSet,D[0],D[1],c,s,0,0,c,s),"transparent"!=d&&(v.fillStyle=d,v.globalCompositeOperation="source-atop",v.fillRect(0,0,c,s)),"transparent"!=g&&(v.fillStyle=g,v.globalCompositeOperation="destination-over",v.fillRect(0,0,c,s)),this._ctx.drawImage(y,u*c,r*s,c,s)}else this._ctx.drawImage(this._options.tileSet,D[0],D[1],c,s,u*c,r*s,c,s)}}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}])&&z(e.prototype,n),u&&z(e,u),o}(p),Y=n(2);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||G(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||G(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Q(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function V(t,e,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(u){var r=Object.getOwnPropertyDescriptor(u,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=et(t);if(e){var r=et(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return tt(this,n)}}function tt(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(o,t);var e,n,u,r=J(o);function o(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this))._uniforms={};try{t._gl=t._initWebGL()}catch(t){alert(t.message)}return t}return e=o,u=[{key:"isSupported",value:function(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}}],(n=[{key:"schedule",value:function(t){requestAnimationFrame(t)}},{key:"getContainer",value:function(){return this._gl.canvas}},{key:"setOptions",value:function(t){var e=this;V(et(o.prototype),"setOptions",this).call(this,t),this._updateSize();var n=this._options.tileSet;n&&"complete"in n&&!n.complete?n.addEventListener("load",(function(){return e._updateTexture(n)})):this._updateTexture(n)}},{key:"draw",value:function(t,e){var n=this._gl,u=this._options,r=$(t,5),o=r[0],i=r[1],a=r[2],c=r[3],s=r[4],l=n.canvas.height-(i+1)*u.tileHeight;if(n.scissor(o*u.tileWidth,l,u.tileWidth,u.tileHeight),e&&(u.tileColorize?n.clearColor(0,0,0,0):n.clearColor.apply(n,q(at(s))),n.clear(n.COLOR_BUFFER_BIT)),a){var f=[].concat(a),h=[].concat(s),p=[].concat(c);n.uniform2fv(this._uniforms.targetPosRel,[o,i]);for(var D=0;D<f.length;D++){var y=this._options.tileMap[f[D]];if(!y)throw new Error('Char "'.concat(f[D],'" not found in tileMap'));n.uniform1f(this._uniforms.colorize,u.tileColorize?1:0),n.uniform2fv(this._uniforms.tilesetPosAbs,y),u.tileColorize&&(n.uniform4fv(this._uniforms.tint,at(p[D])),n.uniform4fv(this._uniforms.bg,at(h[D]))),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}}},{key:"clear",value:function(){var t=this._gl;t.clearColor.apply(t,q(at(this._options.bg))),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}},{key:"computeSize",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"computeFontSize",value:function(){throw new Error("Tile backend does not understand font size")}},{key:"eventToPosition",value:function(t,e){var n=this._gl.canvas,u=n.getBoundingClientRect();return t-=u.left,e-=u.top,t*=n.width/u.width,e*=n.height/u.height,t<0||e<0||t>=n.width||e>=n.height?[-1,-1]:this._normalizedEventToPosition(t,e)}},{key:"_initWebGL",value:function(){var t=this,e=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=e;var n=function(t,e,n){var u=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(u,e),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(u)||"");var r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r)||"");var o=t.createProgram();if(t.attachShader(o,u),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(o)||"");return o}(e,rt,ot);return e.useProgram(n),function(t){var e=new Float32Array([0,0,1,0,0,1,1,1]),n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(e),ut.forEach((function(u){return t._uniforms[u]=e.getUniformLocation(n,u)})),this._program=n,e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.SCISSOR_TEST),e}},{key:"_normalizedEventToPosition",value:function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}},{key:"_updateSize",value:function(){var t=this._gl,e=this._options,n=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=n[0],t.canvas.height=n[1],t.viewport(0,0,n[0],n[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,n)}},{key:"_updateTexture",value:function(t){var e,n,u;e=this._gl,n=t,u=e.createTexture(),e.bindTexture(e.TEXTURE_2D,u),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}}])&&Q(e.prototype,n),u&&Q(e,u),o}(o.a),ut=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],rt="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),ot="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();var it={};function at(t){if(!(t in it)){var e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(var n=0;n<3;n++)e[n]=e[n]/255}else(e=Y.fromString(t).map((function(t){return t/255}))).push(1);it[t]=e}return it[t]}var ct=n(5),st=/%([bc]){([^}]*)}/g,lt=0,ft=1,ht=2,pt=3;function Dt(t,e){for(var n={width:0,height:1},u=yt(t,e),r=0,o=0;o<u.length;o++){var i=u[o];switch(i.type){case lt:r+=i.value.length;break;case ft:n.height++,n.width=Math.max(n.width,r),r=0}}return n.width=Math.max(n.width,r),n}function yt(t,e){var n=[],u=0;t.replace(st,(function(e,r,o,i){var a=t.substring(u,i);return a.length&&n.push({type:lt,value:a}),n.push({type:"c"==r?ht:pt,value:o.trim()}),u=i+e.length,""}));var r=t.substring(u);return r.length&&n.push({type:lt,value:r}),function(t,e){e||(e=1/0);var n=0,u=0,r=-1;for(;n<t.length;){var o=t[n];if(o.type==ft&&(u=0,r=-1),o.type==lt){for(;0==u&&" "==o.value.charAt(0);)o.value=o.value.substring(1);var i=o.value.indexOf("\n");if(-1!=i){o.value=vt(t,n,i,!0);for(var a=o.value.split("");a.length&&" "==a[a.length-1];)a.pop();o.value=a.join("")}if(o.value.length){if(u+o.value.length>e){for(var c=-1;;){var s=o.value.indexOf(" ",c+1);if(-1==s)break;if(u+s>e)break;c=s}if(-1!=c)o.value=vt(t,n,c,!0);else if(-1!=r){var l=t[r],f=l.value.lastIndexOf(" ");l.value=vt(t,r,f,!0),n=r}else o.value=vt(t,n,e-u,!1)}else u+=o.value.length,-1!=o.value.indexOf(" ")&&(r=n);n++}else t.splice(n,1)}else n++}t.push({type:ft});for(var h=null,p=0;p<t.length;p++){var D=t[p];switch(D.type){case lt:h=D;break;case ft:if(h){for(var y=h.value.split("");y.length&&" "==y[y.length-1];)y.pop();h.value=y.join("")}h=null}}return t.pop(),t}(n,e)}function vt(t,e,n,u){var r={type:ft},o={type:lt,value:t[e].value.substring(n+(u?1:0))};return t.splice(e+1,0,r,o),t[e].value.substring(0,n)}var dt={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]};function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var At,Ct={hex:m,rect:R,tile:X,"tile-gl":nt,term:ct.a},Et={width:80,height:25,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1},mt=((At=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gt(this,t),this._data={},this._dirty=!1,this._options={},e=Object.assign({},Et,e),this.setOptions(e),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}var e,n,u;return e=t,(n=[{key:"DEBUG",value:function(t,e,n){var u=[this._options.bg,this._options.fg];this.draw(t,e,null,null,u[n%u.length])}},{key:"clear",value:function(){this._data={},this._dirty=!0}},{key:"setOptions",value:function(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){var e=Ct[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}},{key:"getOptions",value:function(){return this._options}},{key:"getContainer",value:function(){return this._backend.getContainer()}},{key:"computeSize",value:function(t,e){return this._backend.computeSize(t,e)}},{key:"computeFontSize",value:function(t,e){return this._backend.computeFontSize(t,e)}},{key:"computeTileSize",value:function(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}},{key:"eventToPosition",value:function(t){var e,n;return"touches"in t?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY),this._backend.eventToPosition(e,n)}},{key:"draw",value:function(t,e,n,u,r){u||(u=this._options.fg),r||(r=this._options.bg);var o="".concat(t,",").concat(e);this._data[o]=[t,e,n,u,r],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}},{key:"drawText",value:function(t,e,n,u){var r=null,o=null,i=t,a=e,c=1;u||(u=this._options.width-t);for(var s=yt(n,u);s.length;){var l=s.shift();switch(l.type){case lt:for(var f=!1,h=!1,p=!1,D=!1,y=0;y<l.value.length;y++){var v=l.value.charCodeAt(y),d=l.value.charAt(y);if("term"===this._options.layout){var g=v>>8;if(17===g||g>=46&&g<=159||g>=172&&g<=215||v>=43360&&v<=43391){this.draw(i+0,a,d,r,o),this.draw(i+1,a,"\t",r,o),i+=2;continue}}p=v>65280&&v<65377||v>65500&&v<65512||v>65518,f=32==d.charCodeAt(0)||12288==d.charCodeAt(0),!D||p||f||i++,p&&!h&&i++,this.draw(i++,a,d,r,o),h=f,D=p}break;case ht:r=l.value||null;break;case pt:o=l.value||null;break;case ft:i=t,a++,c++}}return c}},{key:"_tick",value:function(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty)for(var t in this._backend.clear(),this._data)this._draw(t,!1);else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}}},{key:"_draw",value:function(t,e){var n=this._data[t];n[4]!=this._options.bg&&(e=!0),this._backend.draw(n,e)}}])&&_t(e.prototype,n),u&&_t(e,u),t}()).Rect=R,At.Hex=m,At.Tile=X,At.TileGL=nt,At.Term=ct.a,At);function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var Bt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;bt(this,t),this._width=e,this._height=n}var e,n,u;return e=t,(n=[{key:"_fillMap",value:function(t){for(var e=[],n=0;n<this._width;n++){e.push([]);for(var u=0;u<this._height;u++)e[n].push(t)}return e}}])&&Ft(e.prototype,n),u&&Ft(e,u),t}();function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Pt(t);if(e){var r=Pt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return jt(this,n)}}function jt(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(o,t);var e,n,u,r=Ot(o);function o(){return xt(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"create",value:function(t){for(var e=this._width-1,n=this._height-1,u=0;u<=e;u++)for(var r=0;r<=n;r++)t(u,r,u&&r&&u<e&&r<n?0:1);return this}}])&&kt(e.prototype,n),u&&kt(e,u),o}(Bt);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Lt(t);if(e){var r=Lt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ut(this,n)}}function Ut(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(o,t);var e,n,u,r=zt(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t,e))._rooms=[],n._corridors=[],n}return e=o,(n=[{key:"getRooms",value:function(){return this._rooms}},{key:"getCorridors",value:function(){return this._corridors}}])&&Mt(e.prototype,n),u&&Mt(e,u),o}(Bt);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Yt(t,e,n){return e&&Xt(t.prototype,e),n&&Xt(t,n),t}function Ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Kt(t);if(e){var r=Kt(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Gt(this,n)}}function Gt(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Vt=function t(){Qt(this,t)},Zt=function(t){Ht(n,t);var e=$t(n);function n(t,u,r,o,i,a){var c;return Qt(this,n),(c=e.call(this))._x1=t,c._y1=u,c._x2=r,c._y2=o,c._doors={},void 0!==i&&void 0!==a&&c.addDoor(i,a),c}return Yt(n,[{key:"addDoor",value:function(t,e){return this._doors[t+","+e]=1,this}},{key:"getDoors",value:function(t){for(var e in this._doors){var n=e.split(",");t(parseInt(n[0]),parseInt(n[1]))}return this}},{key:"clearDoors",value:function(){return this._doors={},this}},{key:"addDoors",value:function(t){for(var e=this._x1-1,n=this._x2+1,u=this._y1-1,r=this._y2+1,o=e;o<=n;o++)for(var i=u;i<=r;i++)o!=e&&o!=n&&i!=u&&i!=r||t(o,i)||this.addDoor(o,i);return this}},{key:"debug",value:function(){console.log("room",this._x1,this._y1,this._x2,this._y2)}},{key:"isValid",value:function(t,e){for(var n=this._x1-1,u=this._x2+1,r=this._y1-1,o=this._y2+1,i=n;i<=u;i++)for(var a=r;a<=o;a++)if(i==n||i==u||a==r||a==o){if(!t(i,a))return!1}else if(!e(i,a))return!1;return!0}},{key:"create",value:function(t){for(var e=this._x1-1,n=this._x2+1,u=this._y1-1,r=this._y2+1,o=e;o<=n;o++)for(var i=u;i<=r;i++)t(o,i,o+","+i in this._doors?2:o==e||o==n||i==u||i==r?1:0)}},{key:"getCenter",value:function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]}},{key:"getLeft",value:function(){return this._x1}},{key:"getRight",value:function(){return this._x2}},{key:"getTop",value:function(){return this._y1}},{key:"getBottom",value:function(){return this._y2}}],[{key:"createRandomAt",value:function(t,e,n,u,o){var i=o.roomWidth[0],a=o.roomWidth[1],c=r.a.getUniformInt(i,a);i=o.roomHeight[0],a=o.roomHeight[1];var s=r.a.getUniformInt(i,a);if(1==n){var l=e-Math.floor(r.a.getUniform()*s);return new this(t+1,l,t+c,l+s-1,t,e)}if(-1==n){var f=e-Math.floor(r.a.getUniform()*s);return new this(t-c,f,t-1,f+s-1,t,e)}if(1==u){var h=t-Math.floor(r.a.getUniform()*c);return new this(h,e+1,h+c-1,e+s,t,e)}if(-1==u){var p=t-Math.floor(r.a.getUniform()*c);return new this(p,e-s,p+c-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")}},{key:"createRandomCenter",value:function(t,e,n){var u=n.roomWidth[0],o=n.roomWidth[1],i=r.a.getUniformInt(u,o);u=n.roomHeight[0],o=n.roomHeight[1];var a=r.a.getUniformInt(u,o),c=t-Math.floor(r.a.getUniform()*i),s=e-Math.floor(r.a.getUniform()*a);return new this(c,s,c+i-1,s+a-1)}},{key:"createRandom",value:function(t,e,n){var u=n.roomWidth[0],o=n.roomWidth[1],i=r.a.getUniformInt(u,o);u=n.roomHeight[0],o=n.roomHeight[1];var a=r.a.getUniformInt(u,o),c=t-i-1,s=e-a-1,l=1+Math.floor(r.a.getUniform()*c),f=1+Math.floor(r.a.getUniform()*s);return new this(l,f,l+i-1,f+a-1)}}]),n}(Vt),Jt=function(t){Ht(n,t);var e=$t(n);function n(t,u,r,o){var i;return Qt(this,n),(i=e.call(this))._startX=t,i._startY=u,i._endX=r,i._endY=o,i._endsWithAWall=!0,i}return Yt(n,[{key:"debug",value:function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)}},{key:"isValid",value:function(t,e){var n=this._startX,u=this._startY,r=this._endX-n,o=this._endY-u,i=1+Math.max(Math.abs(r),Math.abs(o));r&&(r/=Math.abs(r)),o&&(o/=Math.abs(o));for(var a=o,c=-r,s=!0,l=0;l<i;l++){var f=n+l*r,h=u+l*o;if(e(f,h)||(s=!1),t(f+a,h+c)||(s=!1),t(f-a,h-c)||(s=!1),!s){i=l,this._endX=f-r,this._endY=h-o;break}}if(0==i)return!1;if(1==i&&t(this._endX+r,this._endY+o))return!1;var p=!t(this._endX+r+a,this._endY+o+c),D=!t(this._endX+r-a,this._endY+o-c);return this._endsWithAWall=t(this._endX+r,this._endY+o),!p&&!D||!this._endsWithAWall}},{key:"create",value:function(t){var e=this._startX,n=this._startY,u=this._endX-e,r=this._endY-n,o=1+Math.max(Math.abs(u),Math.abs(r));u&&(u/=Math.abs(u)),r&&(r/=Math.abs(r));for(var i=0;i<o;i++){t(e+i*u,n+i*r,0)}return!0}},{key:"createPriorityWalls",value:function(t){if(this._endsWithAWall){var e=this._startX,n=this._startY,u=this._endX-e,r=this._endY-n;u&&(u/=Math.abs(u)),r&&(r/=Math.abs(r));var o=r,i=-u;t(this._endX+u,this._endY+r),t(this._endX+o,this._endY+i),t(this._endX-o,this._endY-i)}}}],[{key:"createRandomAt",value:function(t,e,n,u,o){var i=o.corridorLength[0],a=o.corridorLength[1],c=r.a.getUniformInt(i,a);return new this(t,e,t+n*c,e+u*c)}}]),n}(Vt);function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function ne(t,e){return(ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=ie(t);if(e){var r=ie(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return re(this,n)}}function re(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?oe(t):e}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(i,t);var e,n,u,o=ue(i);function i(t,e,n){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,t,e))._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3},Object.assign(u._options,n),u._map=[],u._dug=0,u._roomAttempts=20,u._corridorAttempts=20,u._connected=[],u._unconnected=[],u._digCallback=u._digCallback.bind(oe(u)),u._canBeDugCallback=u._canBeDugCallback.bind(oe(u)),u._isWallCallback=u._isWallCallback.bind(oe(u)),u}return e=i,(n=[{key:"create",value:function(t){for(var e=Date.now();;){if(Date.now()-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var n=0;n<this._width;n++)for(var u=0;u<this._height;u++)t(n,u,this._map[n][u]);return this}},{key:"_generateRooms",value:function(){var t,e=this._width-2,n=this._height-2;do{if(t=this._generateRoom(),this._dug/(e*n)>this._options.roomDugPercentage)break}while(t)}},{key:"_generateRoom",value:function(){for(var t=0;t<this._roomAttempts;){t++;var e=Zt.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null}},{key:"_generateCorridors",value:function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var n=this._rooms[e];n.clearDoors(),n.create(this._digCallback)}for(this._unconnected=r.a.shuffle(this._rooms.slice()),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var u=r.a.getItem(this._connected);if(!u)break;var o=this._closestRoom(this._unconnected,u);if(!o)break;var i=this._closestRoom(this._connected,o);if(!i)break;if(!this._connectRooms(o,i))break;if(!this._unconnected.length)return!0}}return!1}},{key:"_closestRoom",value:function(t,e){for(var n=1/0,u=e.getCenter(),r=null,o=0;o<t.length;o++){var i=t[o],a=i.getCenter(),c=a[0]-u[0],s=a[1]-u[1],l=c*c+s*s;l<n&&(n=l,r=i)}return r}},{key:"_connectRooms",value:function(t,e){var n,u,r,o,i,a,c,s=t.getCenter(),l=e.getCenter(),f=l[0]-s[0],h=l[1]-s[1];if(Math.abs(f)<Math.abs(h)?(o=(2+(r=h>0?2:0))%4,i=e.getLeft(),a=e.getRight(),c=0):(o=(2+(r=f>0?1:3))%4,i=e.getTop(),a=e.getBottom(),c=1),!(n=this._placeInWall(t,r)))return!1;if(n[c]>=i&&n[c]<=a){u=n.slice();var p=0;switch(o){case 0:p=e.getTop()-1;break;case 1:p=e.getRight()+1;break;case 2:p=e.getBottom()+1;break;case 3:p=e.getLeft()-1}u[(c+1)%2]=p,this._digLine([n,u])}else if(n[c]<i-1||n[c]>a+1){var D=n[c]-l[c],y=0;switch(o){case 0:case 1:y=D<0?3:1;break;case 2:case 3:y=D<0?1:3}if(o=(o+y)%4,!(u=this._placeInWall(e,o)))return!1;var v=[0,0];v[c]=n[c];var d=(c+1)%2;v[d]=u[d],this._digLine([n,v,u])}else{var g=(c+1)%2;if(!(u=this._placeInWall(e,o)))return!1;var _=Math.round((u[g]+n[g])/2),A=[0,0],C=[0,0];A[c]=n[c],A[g]=_,C[c]=u[c],C[g]=_,this._digLine([n,A,C,u])}return t.addDoor(n[0],n[1]),e.addDoor(u[0],u[1]),-1!=(c=this._unconnected.indexOf(t))&&(this._unconnected.splice(c,1),this._connected.push(t)),-1!=(c=this._unconnected.indexOf(e))&&(this._unconnected.splice(c,1),this._connected.push(e)),!0}},{key:"_placeInWall",value:function(t,e){var n=[0,0],u=[0,0],o=0;switch(e){case 0:u=[1,0],n=[t.getLeft(),t.getTop()-1],o=t.getRight()-t.getLeft()+1;break;case 1:u=[0,1],n=[t.getRight()+1,t.getTop()],o=t.getBottom()-t.getTop()+1;break;case 2:u=[1,0],n=[t.getLeft(),t.getBottom()+1],o=t.getRight()-t.getLeft()+1;break;case 3:u=[0,1],n=[t.getLeft()-1,t.getTop()],o=t.getBottom()-t.getTop()+1}for(var i=[],a=-2,c=0;c<o;c++){var s=n[0]+c*u[0],l=n[1]+c*u[1];i.push(null),1==this._map[s][l]?a!=c-1&&(i[c]=[s,l]):(a=c,c&&(i[c-1]=null))}for(var f=i.length-1;f>=0;f--)i[f]||i.splice(f,1);return i.length?r.a.getItem(i):null}},{key:"_digLine",value:function(t){for(var e=1;e<t.length;e++){var n=t[e-1],u=t[e],r=new Jt(n[0],n[1],u[0],u[1]);r.create(this._digCallback),this._corridors.push(r)}}},{key:"_digCallback",value:function(t,e,n){this._map[t][e]=n,0==n&&this._dug++}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}}])&&ee(e.prototype,n),u&&ee(e,u),i}(Wt);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=De(t);if(e){var r=De(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return pe(this,n)}}function pe(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function de(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ee(t);if(e){var r=Ee(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ae(this,n)}}function Ae(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?Ce(t):e}function Ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me={room:Zt,corridor:Jt};function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Be(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Se(t);if(e){var r=Se(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return ke(this,n)}}function ke(t,e){return!e||"object"!==be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t,e,n){n[e[t+1]]=n[t],e[n[t]]=e[t+1],n[t]=t+1,e[t+1]=t}function je(t,e,n){n[e[t]]=n[t],e[n[t]]=e[t],n[t]=t,e[t]=t}function Pe(t){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ue(t);if(e){var r=Ue(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return ze(this,n)}}function ze(t,e){return!e||"object"!==Pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=qe(t);if(e){var r=qe(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return He(this,n)}}function He(t,e){return!e||"object"!==Le(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qe(t){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=Ze(t);if(e){var r=Ze(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je={Arena:Rt,Uniform:ae,Cellular:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(i,t);var e,n,u,o=he(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se(this,i),(n=o.call(this,t,e))._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8},n.setOptions(u),n._dirs=dt[n._options.topology],n._map=n._fillMap(0),n}return e=i,(n=[{key:"randomize",value:function(t){for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)this._map[e][n]=r.a.getUniform()<t?1:0;return this}},{key:"setOptions",value:function(t){Object.assign(this._options,t)}},{key:"set",value:function(t,e,n){this._map[t][e]=n}},{key:"create",value:function(t){for(var e=this._fillMap(0),n=this._options.born,u=this._options.survive,r=0;r<this._height;r++){var o=1,i=0;6==this._options.topology&&(o=2,i=r%2);for(var a=i;a<this._width;a+=o){var c=this._map[a][r],s=this._getNeighbors(a,r);c&&-1!=u.indexOf(s)?e[a][r]=1:c||-1==n.indexOf(s)||(e[a][r]=1)}}this._map=e,t&&this._serviceCallback(t)}},{key:"_serviceCallback",value:function(t){for(var e=0;e<this._height;e++){var n=1,u=0;6==this._options.topology&&(n=2,u=e%2);for(var r=u;r<this._width;r+=n)t(r,e,this._map[r][e])}}},{key:"_getNeighbors",value:function(t,e){for(var n=0,u=0;u<this._dirs.length;u++){var r=this._dirs[u],o=t+r[0],i=e+r[1];o<0||o>=this._width||i<0||i>=this._height||(n+=1==this._map[o][i]?1:0)}return n}},{key:"connect",value:function(t,e,n){e||(e=0);var u=[],o={},i=1,a=[0,0];6==this._options.topology&&(i=2,a=[0,1]);for(var c=0;c<this._height;c++)for(var s=a[c%2];s<this._width;s+=i)if(this._freeSpace(s,c,e)){var l=[s,c];o[this._pointKey(l)]=l,u.push([s,c])}var f=u[r.a.getUniformInt(0,u.length-1)],h=this._pointKey(f),p={};for(p[h]=f,delete o[h],this._findConnected(p,o,[f],!1,e);Object.keys(o).length>0;){var D=this._getFromTo(p,o),y=D[0],v=D[1],d={};d[this._pointKey(y)]=y,this._findConnected(d,o,[y],!0,e);var g=6==this._options.topology?this._tunnelToConnected6:this._tunnelToConnected;for(var _ in g.call(this,v,y,p,o,e,n),d){var A=d[_];this._map[A[0]][A[1]]=e,p[_]=A,delete o[_]}}t&&this._serviceCallback(t)}},{key:"_getFromTo",value:function(t,e){for(var n=[0,0],u=[0,0],o=Object.keys(t),i=Object.keys(e),a=0;a<5;a++){if(o.length<i.length){var c=o;u=t[c[r.a.getUniformInt(0,c.length-1)]],n=this._getClosest(u,e)}else{var s=i;n=e[s[r.a.getUniformInt(0,s.length-1)]],u=this._getClosest(n,t)}if((n[0]-u[0])*(n[0]-u[0])+(n[1]-u[1])*(n[1]-u[1])<64)break}return[n,u]}},{key:"_getClosest",value:function(t,e){var n=null,u=null;for(var r in e){var o=e[r],i=(o[0]-t[0])*(o[0]-t[0])+(o[1]-t[1])*(o[1]-t[1]);(null==u||i<u)&&(u=i,n=o)}return n}},{key:"_findConnected",value:function(t,e,n,u,r){for(;n.length>0;){var o=n.splice(0,1)[0],i=void 0;i=6==this._options.topology?[[o[0]+2,o[1]],[o[0]+1,o[1]-1],[o[0]-1,o[1]-1],[o[0]-2,o[1]],[o[0]-1,o[1]+1],[o[0]+1,o[1]+1]]:[[o[0]+1,o[1]],[o[0]-1,o[1]],[o[0],o[1]+1],[o[0],o[1]-1]];for(var a=0;a<i.length;a++){var c=this._pointKey(i[a]);null==t[c]&&this._freeSpace(i[a][0],i[a][1],r)&&(t[c]=i[a],u||delete e[c],n.push(i[a]))}}}},{key:"_tunnelToConnected",value:function(t,e,n,u,r,o){var i,a;e[0]<t[0]?(i=e,a=t):(i=t,a=e);for(var c=i[0];c<=a[0];c++){this._map[c][i[1]]=r;var s=[c,i[1]],l=this._pointKey(s);n[l]=s,delete u[l]}o&&i[0]<a[0]&&o(i,[a[0],i[1]]);var f=a[0];e[1]<t[1]?(i=e,a=t):(i=t,a=e);for(var h=i[1];h<a[1];h++){this._map[f][h]=r;var p=[f,h],D=this._pointKey(p);n[D]=p,delete u[D]}o&&i[1]<a[1]&&o([a[0],i[1]],[a[0],a[1]])}},{key:"_tunnelToConnected6",value:function(t,e,n,u,r,o){var i,a;e[0]<t[0]?(i=e,a=t):(i=t,a=e);for(var c=i[0],s=i[1];c!=a[0]||s!=a[1];){var l=2;s<a[1]?(s++,l=1):s>a[1]&&(s--,l=1),c<a[0]?c+=l:c>a[0]||a[1]%2?c-=l:c+=l,this._map[c][s]=r;var f=[c,s],h=this._pointKey(f);n[h]=f,delete u[h]}o&&o(e,t)}},{key:"_freeSpace",value:function(t,e,n){return t>=0&&t<this._width&&e>=0&&e<this._height&&this._map[t][e]==n}},{key:"_pointKey",value:function(t){return t[0]+"."+t[1]}}])&&le(e.prototype,n),u&&le(e,u),i}(Bt),Digger:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(i,t);var e,n,u,o=_e(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ve(this,i),(n=o.call(this,t,e))._options=Object.assign({roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3},u),n._features={room:4,corridor:4},n._map=[],n._featureAttempts=20,n._walls={},n._dug=0,n._digCallback=n._digCallback.bind(Ce(n)),n._canBeDugCallback=n._canBeDugCallback.bind(Ce(n)),n._isWallCallback=n._isWallCallback.bind(Ce(n)),n._priorityWallCallback=n._priorityWallCallback.bind(Ce(n)),n}return e=i,(n=[{key:"create",value:function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var n,u=Date.now();do{if(n=0,Date.now()-u>this._options.timeLimit)break;var r=this._findWall();if(!r)break;var o=r.split(","),i=parseInt(o[0]),a=parseInt(o[1]),c=this._getDiggingDirection(i,a);if(c){var s=0;do{if(s++,this._tryFeature(i,a,c[0],c[1])){this._removeSurroundingWalls(i,a),this._removeSurroundingWalls(i-c[0],a-c[1]);break}}while(s<this._featureAttempts);for(var l in this._walls)this._walls[l]>1&&n++}}while(this._dug/e<this._options.dugPercentage||n);if(this._addDoors(),t)for(var f=0;f<this._width;f++)for(var h=0;h<this._height;h++)t(f,h,this._map[f][h]);return this._walls={},this._map=[],this}},{key:"_digCallback",value:function(t,e,n){0==n||2==n?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1}},{key:"_isWallCallback",value:function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}},{key:"_canBeDugCallback",value:function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}},{key:"_priorityWallCallback",value:function(t,e){this._walls[t+","+e]=2}},{key:"_firstRoom",value:function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),n=Zt.createRandomCenter(t,e,this._options);this._rooms.push(n),n.create(this._digCallback)}},{key:"_findWall",value:function(){var t=[],e=[];for(var n in this._walls)2==this._walls[n]?e.push(n):t.push(n);var u=e.length?e:t;if(!u.length)return null;var o=r.a.getItem(u.sort());return delete this._walls[o],o}},{key:"_tryFeature",value:function(t,e,n,u){var o=r.a.getWeightedValue(this._features),i=me[o].createRandomAt(t,e,n,u,this._options);return!!i.isValid(this._isWallCallback,this._canBeDugCallback)&&(i.create(this._digCallback),i instanceof Zt&&this._rooms.push(i),i instanceof Jt&&(i.createPriorityWalls(this._priorityWallCallback),this._corridors.push(i)),!0)}},{key:"_removeSurroundingWalls",value:function(t,e){for(var n=dt[4],u=0;u<n.length;u++){var r=n[u],o=t+r[0],i=e+r[1];delete this._walls[o+","+i],o=t+2*r[0],i=e+2*r[1],delete this._walls[o+","+i]}}},{key:"_getDiggingDirection",value:function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var n=null,u=dt[4],r=0;r<u.length;r++){var o=u[r],i=t+o[0],a=e+o[1];if(!this._map[i][a]){if(n)return null;n=o}}return n?[-n[0],-n[1]]:null}},{key:"_addDoors",value:function(){var t=this._map;function e(e,n){return 1==t[e][n]}for(var n=0;n<this._rooms.length;n++){var u=this._rooms[n];u.clearDoors(),u.addDoors(e)}}}])&&de(e.prototype,n),u&&de(e,u),i}(Wt),EllerMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(i,t);var e,n,u,o=xe(i);function i(){return Fe(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"create",value:function(t){for(var e,n=this._fillMap(1),u=Math.ceil((this._width-2)/2),o=[],i=[],a=0;a<u;a++)o.push(a),i.push(a);for(o.push(u-1),e=1;e+3<this._height;e+=2)for(var c=0;c<u;c++){var s=2*c+1,l=e;n[s][l]=0,c!=o[c+1]&&r.a.getUniform()>9/24&&(Oe(c,o,i),n[s+1][l]=0),c!=o[c]&&r.a.getUniform()>9/24?je(c,o,i):n[s][l+1]=0}for(var f=0;f<u;f++){var h=2*f+1,p=e;n[h][p]=0,f!=o[f+1]&&(f==o[f]||r.a.getUniform()>9/24)&&(Oe(f,o,i),n[h+1][p]=0),je(f,o,i)}for(var D=0;D<this._width;D++)for(var y=0;y<this._height;y++)t(D,y,n[D][y]);return this}}])&&Be(e.prototype,n),u&&Be(e,u),i}(Bt),DividedMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(i,t);var e,n,u,o=Ie(i);function i(){var t;return Re(this,i),(t=o.apply(this,arguments))._stack=[],t._map=[],t}return e=i,(n=[{key:"create",value:function(t){var e=this._width,n=this._height;this._map=[];for(var u=0;u<e;u++){this._map.push([]);for(var r=0;r<n;r++){var o=0==u||0==r||u+1==e||r+1==n;this._map[u].push(o?1:0)}}this._stack=[[1,1,e-2,n-2]],this._process();for(var i=0;i<e;i++)for(var a=0;a<n;a++)t(i,a,this._map[i][a]);return this._map=[],this}},{key:"_process",value:function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}}},{key:"_partitionRoom",value:function(t){for(var e=[],n=[],u=t[0]+1;u<t[2];u++){var o=this._map[u][t[1]-1],i=this._map[u][t[3]+1];!o||!i||u%2||e.push(u)}for(var a=t[1]+1;a<t[3];a++){var c=this._map[t[0]-1][a],s=this._map[t[2]+1][a];!c||!s||a%2||n.push(a)}if(e.length&&n.length){var l=r.a.getItem(e),f=r.a.getItem(n);this._map[l][f]=1;var h=[],p=[];h.push(p);for(var D=t[0];D<l;D++)this._map[D][f]=1,D%2&&p.push([D,f]);p=[],h.push(p);for(var y=l+1;y<=t[2];y++)this._map[y][f]=1,y%2&&p.push([y,f]);p=[],h.push(p);for(var v=t[1];v<f;v++)this._map[l][v]=1,v%2&&p.push([l,v]);p=[],h.push(p);for(var d=f+1;d<=t[3];d++)this._map[l][d]=1,d%2&&p.push([l,d]);for(var g=r.a.getItem(h),_=0;_<h.length;_++){var A=h[_];if(A!=g){var C=r.a.getItem(A);this._map[C[0]][C[1]]=0}}this._stack.push([t[0],t[1],l-1,f-1]),this._stack.push([l+1,t[1],t[2],f-1]),this._stack.push([t[0],f+1,l-1,t[3]]),this._stack.push([l+1,f+1,t[2],t[3]])}}}])&&Te(e.prototype,n),u&&Te(e,u),i}(Bt),IceyMaze:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(i,t);var e,n,u,o=Ye(i);function i(t,e){var n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return We(this,i),(n=o.call(this,t,e))._regularity=u,n._map=[],n}return e=i,(n=[{key:"create",value:function(t){var e=this._width,n=this._height,u=this._fillMap(1);e-=e%2?1:2,n-=n%2?1:2;var o=0,i=0,a=0,c=0,s=0,l=!1,f=[[0,0],[0,0],[0,0],[0,0]];do{if(o=1+2*Math.floor(r.a.getUniform()*(e-1)/2),i=1+2*Math.floor(r.a.getUniform()*(n-1)/2),s||(u[o][i]=0),!u[o][i]){this._randomize(f);do{0==Math.floor(r.a.getUniform()*(this._regularity+1))&&this._randomize(f),l=!0;for(var h=0;h<4;h++)if(a=o+2*f[h][0],c=i+2*f[h][1],this._isFree(u,a,c,e,n)){u[a][c]=0,u[o+f[h][0]][i+f[h][1]]=0,o=a,i=c,l=!1,s++;break}}while(!l)}}while(s+1<e*n/4);for(var p=0;p<this._width;p++)for(var D=0;D<this._height;D++)t(p,D,u[p][D]);return this._map=[],this}},{key:"_randomize",value:function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*r.a.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}}},{key:"_isFree",value:function(t,e,n,u,r){return!(e<1||n<1||e>=u||n>=r)&&t[e][n]}}])&&Ne(e.prototype,n),u&&Ne(e,u),i}(Bt),Rogue:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(i,t);var e,n,u,o=Qe(i);function i(t,e,n){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,t,e)).map=[],u.rooms=[],u.connectedCells=[],(n=Object.assign({cellWidth:3,cellHeight:3},n)).hasOwnProperty("roomWidth")||(n.roomWidth=u._calculateRoomSize(u._width,n.cellWidth)),n.hasOwnProperty("roomHeight")||(n.roomHeight=u._calculateRoomSize(u._height,n.cellHeight)),u._options=n,u}return e=i,(n=[{key:"create",value:function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var n=0;n<this._height;n++)t(e,n,this.map[e][n]);return this}},{key:"_calculateRoomSize",value:function(t,e){var n=Math.floor(t/e*.8),u=Math.floor(t/e*.25);return u<2&&(u=2),n<2&&(n=2),[u,n]}},{key:"_initRooms",value:function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}}},{key:"_connectRooms",value:function(){var t,e,n,u,o,i,a=r.a.getUniformInt(0,this._options.cellWidth-1),c=r.a.getUniformInt(0,this._options.cellHeight-1),s=!1;do{i=[0,2,4,6],i=r.a.shuffle(i);do{if(s=!1,t=i.pop(),e=a+dt[8][t][0],n=c+dt[8][t][1],!(e<0||e>=this._options.cellWidth||n<0||n>=this._options.cellHeight)){if((u=this.rooms[a][c]).connections.length>0&&u.connections[0][0]==e&&u.connections[0][1]==n)break;0==(o=this.rooms[e][n]).connections.length&&(o.connections.push([a,c]),this.connectedCells.push([e,n]),a=e,c=n,s=!0)}}while(i.length>0&&0==s)}while(i.length>0)}},{key:"_connectUnconnectedRooms",value:function(){var t,e,n,u=this._options.cellWidth,o=this._options.cellHeight;this.connectedCells=r.a.shuffle(this.connectedCells);for(var i=0;i<this._options.cellWidth;i++)for(var a=0;a<this._options.cellHeight;a++)if(0==(t=this.rooms[i][a]).connections.length){var c=[0,2,4,6];c=r.a.shuffle(c),n=!1;do{var s=c.pop(),l=i+dt[8][s][0],f=a+dt[8][s][1];if(!(l<0||l>=u||f<0||f>=o)){if(n=!0,0==(e=this.rooms[l][f]).connections.length)break;for(var h=0;h<e.connections.length;h++)if(e.connections[h][0]==i&&e.connections[h][1]==a){n=!1;break}if(n)break}}while(c.length);n?t.connections.push([e.cellx,e.celly]):console.log("-- Unable to connect room.")}}},{key:"_createRandomRoomConnections",value:function(){}},{key:"_createRooms",value:function(){for(var t,e,n,u,o,i=this._width,a=this._height,c=this._options.cellWidth,s=this._options.cellHeight,l=Math.floor(this._width/c),f=Math.floor(this._height/s),h=this._options.roomWidth,p=this._options.roomHeight,D=0;D<c;D++)for(var y=0;y<s;y++){if(0==(n=l*D)&&(n=1),0==(u=f*y)&&(u=1),t=r.a.getUniformInt(h[0],h[1]),e=r.a.getUniformInt(p[0],p[1]),y>0)for(o=this.rooms[D][y-1];u-(o.y+o.height)<3;)u++;if(D>0)for(o=this.rooms[D-1][y];n-(o.x+o.width)<3;)n++;for(var v=Math.round(r.a.getUniformInt(0,l-t)/2),d=Math.round(r.a.getUniformInt(0,f-e)/2);n+v+t>=i;)v?v--:t--;for(;u+d+e>=a;)d?d--:e--;n+=v,u+=d,this.rooms[D][y].x=n,this.rooms[D][y].y=u,this.rooms[D][y].width=t,this.rooms[D][y].height=e;for(var g=n;g<n+t;g++)for(var _=u;_<u+e;_++)this.map[g][_]=0}}},{key:"_getWallPosition",value:function(t,e){var n,u,o;return 1==e||3==e?(n=r.a.getUniformInt(t.x+1,t.x+t.width-2),o=1==e?1+(u=t.y-2):(u=t.y+t.height+1)-1,this.map[n][o]=0):(u=r.a.getUniformInt(t.y+1,t.y+t.height-2),o=2==e?(n=t.x+t.width+1)-1:1+(n=t.x-2),this.map[o][u]=0),[n,u]}},{key:"_drawCorridor",value:function(t,e){var n,u,o,i,a=e[0]-t[0],c=e[1]-t[1],s=t[0],l=t[1],f=[],h=Math.abs(a),p=Math.abs(c),D=r.a.getUniform(),y=D,v=1-D;for(u=a>0?2:6,o=c>0?4:0,h<p?(n=Math.ceil(p*y),f.push([o,n]),f.push([u,h]),n=Math.floor(p*v),f.push([o,n])):(n=Math.ceil(h*y),f.push([u,n]),f.push([o,p]),n=Math.floor(h*v),f.push([u,n])),this.map[s][l]=0;f.length>0;)for(i=f.pop();i[1]>0;)s+=dt[8][i[0]][0],l+=dt[8][i[0]][1],this.map[s][l]=0,i[1]=i[1]-1}},{key:"_createCorridors",value:function(){for(var t,e,n,u,r,o=this._options.cellWidth,i=this._options.cellHeight,a=0;a<o;a++)for(var c=0;c<i;c++){t=this.rooms[a][c];for(var s=0;s<t.connections.length;s++)e=t.connections[s],(n=this.rooms[e[0]][e[1]]).cellx>t.cellx?(u=2,r=4):n.cellx<t.cellx?(u=4,r=2):n.celly>t.celly?(u=3,r=1):(u=1,r=3),this._drawCorridor(this._getWallPosition(t,u),this._getWallPosition(n,r))}}}])&&Ge(e.prototype,n),u&&Ge(e,u),i}(Bt)};Math.sqrt(3),Math.sqrt(3);function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}var nn=function(){function t(e,n,u){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};tn(this,t),this._toX=e,this._toY=n,this._passableCallback=u,this._options=Object.assign({topology:8},r),this._dirs=dt[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}var e,n,u;return e=t,(n=[{key:"_getNeighbors",value:function(t,e){for(var n=[],u=0;u<this._dirs.length;u++){var r=this._dirs[u],o=t+r[0],i=e+r[1];this._passableCallback(o,i)&&n.push([o,i])}return n}}])&&en(e.prototype,n),u&&en(e,u),t}();function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function on(t,e){return(on=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=sn(t);if(e){var r=sn(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return cn(this,n)}}function cn(t,e){return!e||"object"!==un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sn(t){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=vn(t);if(e){var r=vn(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return yn(this,n)}}function yn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dn={Dijkstra:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&on(t,e)}(o,t);var e,n,u,r=an(o);function o(t,e,n,u){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(i=r.call(this,t,e,n,u))._computed={},i._todo=[],i._add(t,e,null),i}return e=o,(n=[{key:"compute",value:function(t,e,n){var u=t+","+e;if(u in this._computed||this._compute(t,e),u in this._computed)for(var r=this._computed[u];r;)n(r.x,r.y),r=r.prev}},{key:"_compute",value:function(t,e){for(;this._todo.length;){var n=this._todo.shift();if(n.x==t&&n.y==e)return;for(var u=this._getNeighbors(n.x,n.y),r=0;r<u.length;r++){var o=u[r],i=o[0],a=o[1];i+","+a in this._computed||this._add(i,a,n)}}}},{key:"_add",value:function(t,e,n){var u={x:t,y:e,prev:n};this._computed[t+","+e]=u,this._todo.push(u)}}])&&rn(e.prototype,n),u&&rn(e,u),o}(nn),AStar:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(o,t);var e,n,u,r=Dn(o);function o(t,e,n){var u,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fn(this,o),(u=r.call(this,t,e,n,i))._todo=[],u._done={},u}return e=o,(n=[{key:"compute",value:function(t,e,n){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var u=this._todo.shift(),r=u.x+","+u.y;if(!(r in this._done)){if(this._done[r]=u,u.x==t&&u.y==e)break;for(var o=this._getNeighbors(u.x,u.y),i=0;i<o.length;i++){var a=o[i],c=a[0],s=a[1];c+","+s in this._done||this._add(c,s,u)}}}var l=this._done[t+","+e];if(l)for(;l;)n(l.x,l.y),l=l.prev}},{key:"_add",value:function(t,e,n){for(var u=this._distance(t,e),r={x:t,y:e,prev:n,g:n?n.g+1:0,h:u},o=r.g+r.h,i=0;i<this._todo.length;i++){var a=this._todo[i],c=a.g+a.h;if(o<c||o==c&&u<a.h)return void this._todo.splice(i,0,r)}this._todo.push(r)}},{key:"_distance",value:function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var n=Math.abs(t-this._fromX),u=Math.abs(e-this._fromY);return u+Math.max(0,(n-u)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}}}])&&hn(e.prototype,n),u&&hn(e,u),o}(nn)};window.devicePixelRatio,document.querySelector("#game");var gn=50,_n=34,An={width:20,height:10,x:10,y:3},Cn={width:10,height:10,x:31,y:3},En={width:10,height:2,x:1,y:3},mn={width:50,height:2,x:10,y:14},bn={width:30,height:1,x:10,y:16},Fn={width:20,height:1,x:12,y:2},Bn={width:40,height:30},wn=new mt({bg:"black",fg:"Grey",fontFamily:"Fira Mono",width:gn,height:_n,fontSize:18,forceSquareRatio:!0});document.body.appendChild(wn.getContainer());var xn={bg:"black",fg:"Grey",fontFamily:"Fira Mono",width:Bn.width,height:Bn.height,fontSize:18,forceSquareRatio:!0},kn=document.createElement("div");kn.id="helpMenu",document.body.appendChild(kn);var Sn=new mt(xn);function On(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||Rn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(t,e){if(null==t)return{};var n,u,r=function(t,e){if(null==t)return{};var n,u,r={},o=Object.keys(t);for(u=0;u<o.length;u++)n=o[u],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(u=0;u<o.length;u++)n=o[u],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Rn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var u=0,r=function(){};return{s:r,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Rn(t,e){if(t){if("string"==typeof t)return Tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(t,e):void 0}}function Tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zn(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Un(t,e,n){return e&&zn(t.prototype,e),n&&zn(t,n),t}function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);e&&(u=u.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,u)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){Nn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}kn.appendChild(Sn.getContainer()),Sn.drawText(0,0,"HELLO CAN YOU SEE THIS");var Yn=function(t,e){if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");e=Wn(Wn({},{pascalCase:!1}),e);var n;return 0===(t=Array.isArray(t)?t.map((function(t){return t.trim()})).filter((function(t){return t.length})).join("-"):t.trim()).length?"":1===t.length?e.pascalCase?t.toLocaleUpperCase():t.toLocaleLowerCase():(t!==t.toLocaleLowerCase()&&(t=function(t){for(var e=!1,n=!1,u=!1,r=0;r<t.length;r++){var o=t[r];e&&/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C2\uA7C4-\uA7C7\uA7C9\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21])/.test(o)?(t=t.slice(0,r)+"-"+t.slice(r),e=!1,u=n,n=!0,r++):n&&u&&/(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C3\uA7C8\uA7CA\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.test(o)?(t=t.slice(0,r-1)+"-"+t.slice(r-1),u=n,n=!1,e=!0):(e=o.toLocaleLowerCase()===o&&o.toLocaleUpperCase()!==o,u=n,n=o.toLocaleUpperCase()===o&&o.toLocaleLowerCase()!==o)}return t}(t)),t=t.replace(/^[_.\- ]+/,"").toLocaleLowerCase().replace(/[ \x2D\._]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(t,e){return e.toLocaleUpperCase()})).replace(/[0-9]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(t){return t.toLocaleUpperCase()})),n=t,e.pascalCase?n.charAt(0).toLocaleUpperCase()+n.slice(1):n)},Hn=Yn,qn=Yn;Hn.default=qn;var $n={},Gn=function(t){var e=$n[t];return e||($n[t]=Hn(t),$n[t])},Kn=function(){function t(){In(this,t),Xn(this,"_cbit",0),Xn(this,"_map",{})}return Un(t,[{key:"register",value:function(t){var e=Gn(t.name);t.prototype._ckey=e,t.prototype._cbit=BigInt(++this._cbit),this._map[e]=t}},{key:"get",value:function(t){return this._map[t]}}]),t}(),Qn=function(t){return function(t){return!!t&&"object"===Mn(t)}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Vn}(t)}(t)};var Vn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Zn(t,e){return!1!==e.clone&&e.isMergeableObject(t)?uu((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function Jn(t,e,n){return t.concat(e).map((function(t){return Zn(t,n)}))}function tu(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function eu(t,e){try{return e in t}catch(t){return!1}}function nu(t,e,n){var u={};return n.isMergeableObject(t)&&tu(t).forEach((function(e){u[e]=Zn(t[e],n)})),tu(e).forEach((function(r){(function(t,e){return eu(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(eu(t,r)&&n.isMergeableObject(e[r])?u[r]=function(t,e){if(!e.customMerge)return uu;var n=e.customMerge(t);return"function"==typeof n?n:uu}(r,n)(t[r],e[r],n):u[r]=Zn(e[r],n))})),u}function uu(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Jn,n.isMergeableObject=n.isMergeableObject||Qn,n.cloneUnlessOtherwiseSpecified=Zn;var u=Array.isArray(e);return u===Array.isArray(t)?u?n.arrayMerge(t,e,n):nu(t,e,n):Zn(e,n)}uu.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return uu(t,n,e)}),{})};var ru=uu,ou=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];In(this,t),this.clazz=e,this.properties=n,this.overwrite=u}return Un(t,[{key:"applyToEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.clazz.allowMultiple&&t.has(this.clazz)){if(!this.overwrite)return;var n=t[this.clazz.prototype._ckey];t.remove(n)}var u=ru(this.properties,e);t.add(this.clazz,u)}}]),t}(),iu=function(){function t(e){In(this,t),Xn(this,"name",""),Xn(this,"inherit",[]),Xn(this,"components",[]),this.name=e}return Un(t,[{key:"addComponent",value:function(t){this.components.push(t)}},{key:"applyToEntity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.inherit.forEach((function(n){n.applyToEntity(t,e)}));var n={};return this.components.forEach((function(u){var r=u.clazz,o=r.prototype._ckey,i={};if(r.allowMultiple)if(r.keyProperty){var a=u.properties[r.keyProperty];e[o]&&e[o][a]&&(i=e[o][a])}else n[o]||(n[o]=0),e[o]&&e[o][n[o]]&&(i=e[o][n[o]]),n[o]++;else i=e[o];u.applyToEntity(t,i)})),t}}]),t}(),au=function(){function t(e){In(this,t),Xn(this,"_prefabs",{}),Xn(this,"_engine",null),this._engine=e}return Un(t,[{key:"deserialize",value:function(t){var e=this,n=this.get(t.name);if(n)return n;var u,r=new iu(t.name);return u=Array.isArray(t.inherit)?t.inherit:"string"==typeof t.inherit?[t.inherit]:[],r.inherit=u.map((function(n){var u=e.get(n);return u||(console.warn('Prefab "'.concat(t.name,'" cannot inherit from Prefab "').concat(n,'" because is not registered yet! Prefabs must be registered in the right order.')),n)})),(t.components||[]).forEach((function(n){if("string"==typeof n){var u=Gn(n),o=e._engine._components.get(u);if(o)return void r.addComponent(new ou(o))}if("object"===Mn(n)){var i=Gn(n.type),a=e._engine._components.get(i);if(a)return void r.addComponent(new ou(a,n.properties,n.overwrite))}console.warn('Unrecognized component reference "'.concat(n,'" in prefab "').concat(t.name,'". Ensure the component is registered before the prefab.'))})),r}},{key:"register",value:function(t){var e=this.deserialize(t);this._prefabs[e.name]=e}},{key:"get",value:function(t){return this._prefabs[t]}},{key:"create",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=this.get(e);if(u){var r=t.createEntity();return r._qeligible=!1,u.applyToEntity(r,n),r._qeligible=!0,r._candidacy(),r}console.warn('Could not instantiate prefab "'.concat(e,'" since it is not registered'))}}]),t}(),cu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};In(this,t),Object.assign(this,this.constructor.properties,e)}return Un(t,[{key:"world",get:function(){return this.entity.world}},{key:"allowMultiple",get:function(){return this.constructor.allowMultiple}},{key:"keyProperty",get:function(){return this.constructor.keyProperty}},{key:"destroy",value:function(){this.entity.remove(this)}},{key:"_onDestroyed",value:function(){this.onDestroyed(),delete this.entity}},{key:"_onEvent",value:function(t){this.onEvent(t),"function"==typeof this[t.handlerName]&&this[t.handlerName](t)}},{key:"_onAttached",value:function(t){this.entity=t,this.onAttached(t)}},{key:"serialize",value:function(){var t={};for(var e in this.constructor.properties)t[e]=this[e];return t}},{key:"onAttached",value:function(t){}},{key:"onDestroyed",value:function(){}},{key:"onEvent",value:function(t){}}]),t}();Xn(cu,"allowMultiple",!1),Xn(cu,"keyProperty",null),Xn(cu,"properties",{});var su=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};In(this,t),Xn(this,"data",{}),Xn(this,"prevented",!1),Xn(this,"handled",!1),this.name=e,this.data=n,this.handlerName=Gn("on ".concat(this.name))}return Un(t,[{key:"is",value:function(t){return this.name===t}},{key:"handle",value:function(){this.handled=!0,this.prevented=!0}},{key:"prevent",value:function(){this.prevented=!0}}]),t}(),lu=1n,fu=function(t,e){return t&~(1n<<e)},hu=function(t,e){return t|lu<<e},pu=function(t,e){return t&e},Du=function(t){return t.serialize()},yu=function(t){var e={};for(var n in t)e[n]=Du(t[n]);return e},vu=function(){function t(e,n){In(this,t),Xn(this,"_cbits",0n),Xn(this,"_qeligible",!0),this.world=e,this.id=n,this.components={},this.isDestroyed=!1}return Un(t,[{key:"_candidacy",value:function(){this._qeligible&&this.world._candidate(this)}},{key:"add",value:function(t,e){var n=new t(e);n.keyProperty?function(t,e){var n=e._ckey;t.components[n]||(t[n]={},t.components[n]={}),t[n][e[e.keyProperty]]=e,t.components[n][e[e.keyProperty]]=e}(this,n):n.allowMultiple?function(t,e){var n=e._ckey;t.components[n]||(t[n]=[],t.components[n]=[]),t[n].push(e),t.components[n].push(e)}(this,n):function(t,e){var n=e._ckey;t[n]=e,t.components[n]=e}(this,n),this._cbits=hu(this._cbits,n._cbit),n._onAttached(this),this._candidacy()}},{key:"has",value:function(t){return e=this._cbits,n=t.prototype._cbit,(e>>n)%2n!==0n;var e,n}},{key:"remove",value:function(t){t.keyProperty?function(t,e){var n=e._ckey,u=e[e.keyProperty];delete t[n][u],delete t.components[n][u],Object.keys(t[n]).length<=0&&(delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy())}(this,t):t.allowMultiple?function(t,e){var n=e._ckey,u=t[n].indexOf(e);t[n].splice(u,1),t.components[n].splice(u,1),t[n].length<=0&&(delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy())}(this,t):function(t,e){var n=e._ckey;delete t[n],delete t.components[n],t._cbits=fu(t._cbits,e._cbit),t._candidacy()}(this,t),t._onDestroyed()}},{key:"destroy",value:function(){for(var t in this.components){var e=this.components[t];if(e instanceof cu)this._cbits=fu(this._cbits,e._cbit),e._onDestroyed();else if(e instanceof Array){var n,u=Pn(e);try{for(u.s();!(n=u.n()).done;){var r=n.value;this._cbits=fu(this._cbits,r._cbit),r._onDestroyed()}}catch(t){u.e(t)}finally{u.f()}}else for(var o=0,i=Object.values(e);o<i.length;o++){var a=i[o];this._cbits=fu(this._cbits,a._cbit),a._onDestroyed()}delete this[t],delete this.components[t]}this._candidacy(),this.world._destroyed(this.id),this.components={},this.isDestroyed=!0}},{key:"serialize",value:function(){var t={};for(var e in this.components){var n=this.components[e];t[e]=n instanceof cu?Du(n):n instanceof Array?n.map(Du):yu(n)}return Wn({id:this.id},t)}},{key:"fireEvent",value:function(t,e){var n=new su(t,e);for(var u in this.components){var r=this.components[u];if(r instanceof cu){if(r._onEvent(n),n.prevented)return n}else if(r instanceof Array){for(var o=0;o<r.length;o++)if(r[o]._onEvent(n),n.prevented)return n}else for(var i=0,a=Object.values(r);i<a.length;i++){if(a[i]._onEvent(n),n.prevented)return n}}return n}}]),t}(),du=function(){function t(e,n){In(this,t),Xn(this,"_cache",[]),Xn(this,"_onAddListeners",[]),Xn(this,"_onRemoveListeners",[]),this._world=e;var u=n.any||[],r=n.all||[],o=n.none||[];this._any=u.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this._all=r.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this._none=o.reduce((function(t,e){return hu(t,e.prototype._cbit)}),0n),this.refresh()}return Un(t,[{key:"onEntityAdded",value:function(t){this._onAddListeners.push(t)}},{key:"onEntityRemoved",value:function(t){this._onRemoveListeners.push(t)}},{key:"has",value:function(t){return this.idx(t)>=0}},{key:"idx",value:function(t){return this._cache.indexOf(t)}},{key:"matches",value:function(t){var e=t._cbits,n=0n===this._any||pu(e,this._any)>0,u=pu(e,this._all)===this._all,r=0n===pu(e,this._none);return n&&u&&r}},{key:"candidate",value:function(t){var e=this.idx(t),n=e>=0;return!t.isDestroyed&&this.matches(t)?(n||(this._cache.push(t),this._onAddListeners.forEach((function(e){return e(t)}))),!0):(n&&(this._cache.splice(e,1),this._onRemoveListeners.forEach((function(e){return e(t)}))),!1)}},{key:"refresh",value:function(){var t=this;this._cache=[],this._world._entities.forEach((function(e){t.candidate(e)}))}},{key:"get",value:function(){return this._cache}}]),t}(),gu=function(){function t(e){In(this,t),Xn(this,"_id",0),Xn(this,"_queries",[]),Xn(this,"_entities",new Map),this.engine=e}return Un(t,[{key:"createId",value:function(){return++this._id+Math.random().toString(36).substr(2,9)}},{key:"getEntity",value:function(t){return this._entities.get(t)}},{key:"getEntities",value:function(){return this._entities.values()}},{key:"createEntity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createId(),e=new vu(this,t);return this._entities.set(t,e),e}},{key:"destroyEntity",value:function(t){var e=this.getEntity(t);e&&e.destroy()}},{key:"destroyEntities",value:function(){this._entities.forEach((function(t){t.destroy()}))}},{key:"destroy",value:function(){this.destroyEntities(),this._id=0,this._queries=[],this._entities=new Map}},{key:"createQuery",value:function(t){var e=new du(this,t);return this._queries.push(e),e}},{key:"createPrefab",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.engine._prefabs.create(this,t,e)}},{key:"serialize",value:function(t){var e=[];return(t||this._entities).forEach((function(t){e.push(t.serialize())})),{entities:e}}},{key:"deserialize",value:function(t){var e,n=Pn(t.entities);try{for(n.s();!(e=n.n()).done;){var u=e.value;this._createOrGetEntityById(u.id)}}catch(t){n.e(t)}finally{n.f()}var r,o=Pn(t.entities);try{for(o.s();!(r=o.n()).done;){var i=r.value;this._deserializeEntity(i)}}catch(t){o.e(t)}finally{o.f()}}},{key:"_createOrGetEntityById",value:function(t){return this.getEntity(t)||this.createEntity(t)}},{key:"_deserializeEntity",value:function(t){var e=this,n=t.id,u=jn(t,["id"]),r=this._createOrGetEntityById(n);r._qeligible=!1,Object.entries(u).forEach((function(t){var n=On(t,2),u=n[0],o=n[1],i=Gn(u),a=e.engine._components.get(i);a.allowMultiple?Object.values(o).forEach((function(t){r.add(a,t)})):r.add(a,o)})),r._qeligible=!0,r._candidacy()}},{key:"_candidate",value:function(t){this._queries.forEach((function(e){return e.candidate(t)}))}},{key:"_destroyed",value:function(t){return this._entities.delete(t)}}]),t}(),_u=function(){function t(){In(this,t),Xn(this,"_components",new Kn),Xn(this,"_prefabs",new au(this))}return Un(t,[{key:"registerComponent",value:function(t){this._components.register(t)}},{key:"registerPrefab",value:function(t){this._prefabs.register(t)}},{key:"createWorld",value:function(){return new gu(this)}},{key:"destroyWorld",value:function(t){t.destroy()}}]),t}(),Au=n(4),Cu={entitiesAtLocation:{}},Eu=function(t,e,n){Cu[t][e]||(Cu[t][e]=new Set),Cu[t][e].add(n)},mu=function(t,e,n){Cu[t][e]&&Cu[t][e].has(n)&&Cu[t][e].delete(n)},bu=function(t,e,n){if(Cu[t][e])return n?Cu[t][e].get(n):Cu[t][e]},Fu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,2,3,4,5,6];return wu(t,1,e)},Bu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,2,3,4,5,6];return wu(t,2,e)},wu=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,2,3,4,5,6],u=[],r=1;r<7;r++)t[r]&&t[r]==e&&n.includes(r)&&(console.log("found match"),u.push(r));return console.log(t),console.log(u),console.log("match:"+e),u},xu=function(t){var e=t;return"string"!=typeof e&&(e=Su(e)),e},ku=function(t){var e=t.split(",");return{x:parseInt(e[0],10),y:parseInt(e[1],10)}},Su=function(t){var e=t.x,n=t.y;return"".concat(e,",").concat(n)};function Ou(t){return function(t){if(Array.isArray(t))return ju(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ju(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ju(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var Pu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Fu(n)},onUse:function(t,e){console.log("used"),console.log(t),console.log(t.abilityPhase.phase),Wu(e),e.fireEvent("gain-movement",3),e.fireEvent("exhaust-selected")}},Ru={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Fu(n)},onUse:function(t,e){for(var n=Wu(e),u=0,r=1;r<7;r++)n[r]&&1==n[r]&&(u=r);e.fireEvent("gain-movement",u),e.fireEvent("exhaust-selected")}},Tu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return Bu(n)},onUse:function(t,e){e.fireEvent("gain-dodge",1),e.fireEvent("exhaust-selected")}},Mu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(t),console.log(t.abilityTarget.coords);var u=Nu(t,e,n);u.forEach((function(t){console.log(t),console.log(n.x+","+n.y);var e=to.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(Ar),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},Iu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(t){console.log(t);var e=to.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(_r),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},zu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Fu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(t){console.log(t);var e=to.createEntity();e.add(ar,{x:n.x+t[0],y:n.y+t[1]}),e.add(_r),e.add(Er)})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},Uu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Bu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(e){console.log(e);var u=to.createEntity();u.add(ar,{x:n.x+e[0],y:n.y+e[1]}),u.add(_r),u.add(Er,{dmg:t.abilityDamage.dmg})})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}},Lu={canUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wu(e);return!e.has(Dr)&&Bu(n,t.abilityAllowedDie.allowed)},onUse:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=Nu(t,e,n);u.forEach((function(e){console.log(e);var u=to.createEntity();u.add(ar,{x:n.x+e[0],y:n.y+e[1]}),u.add(Ar),u.add(Er,{dmg:t.abilityDamage.dmg})})),e.fireEvent("exhaust-selected"),t.has(Pr)&&e.add(Dr)},onTarget:function(t,e){Ro(t),To(e),$o("targeting")}};var Wu=function(t){for(var e=[],n=0;n<t.die.length;n++)t.die[n].selected&&!t.die[n].exhausted&&e.push(t.die[n].number);e.sort();var u={};return e.forEach((function(t){u[t]=(u[t]||0)+1})),u},Nu=function(t,e,n){var u=n.x-e.position.x,r=n.y-e.position.y,o=t.abilityTarget.coords;return console.log("before rotate"),console.log(o),console.log("direction"),r<=-1?console.log("up"):r>=1?(console.log("down"),o=Hu(o)):u<=-1?(console.log("left"),o=Yu(o)):u>=1&&(console.log("right"),o=Xu(o)),console.log("after rotate"),console.log(o),o},Xu=function(t){var e=[];return t.forEach((function(t){var n=[];n.push(t[1]),n.push(t[0]),n[0]=-1*n[0],n[1]=1*n[1],e.push(n)})),e},Yu=function(t){var e=[];return t.forEach((function(t){var n=[];n.push(t[1]),n.push(t[0]),n[1]=-1*n[1],e.push(n)})),e},Hu=function(t){var e=[];return t.forEach((function(t){var n=[];(n=Ou(t))[0]=-1*n[0],n[1]=-1*n[1],e.push(n)})),e};function qu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var u=0,r=function(){};return{s:r,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function $u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}function Gu(t){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ku(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Qu(t,e,n){return e&&Ku(t.prototype,e),n&&Ku(t,n),t}function Vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ju(t,e)}function Ju(t,e){return(Ju=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,u=nr(t);if(e){var r=nr(this).constructor;n=Reflect.construct(u,arguments,r)}else n=u.apply(this,arguments);return er(this,n)}}function er(t,e){return!e||"object"!==Gu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(rr,"properties",{color:"#ff0077",char:"?",background:"#000"});var or=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(or,"properties",{name:"No Name",description:"nothing"});var ir=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),ar=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){var t="".concat(this.entity.position.x,",").concat(this.entity.position.y);Eu("entitiesAtLocation",t,this.entity.id)}},{key:"onDestroyed",value:function(){var t="".concat(this.x,",").concat(this.y);mu("entitiesAtLocation",t,this.entity.id)}}]),n}(cu);ur(ar,"properties",{x:0,y:0});var cr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTakeDamage",value:function(t){console.log("i've been hit!"),this.current-=t.data.amount,console.log(this),console.log("ow"),this.current<=0&&(this.entity.remove(this.entity.position),this.entity.add(Cr)),t.handle()}}]),n}(cu);ur(cr,"properties",{max:4,current:4});var sr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onGainMovement",value:function(t){this.movement+=t.data,console.log("new movement: "+this.movement),t.handle()}},{key:"onGainDodge",value:function(t){this.dodge+=t.data,t.handle()}},{key:"onTurnEnd",value:function(t){console.log("ended in move"),this.movement=0,this.dodge=0}},{key:"onChangePosition",value:function(t){this.x=t.data.x,this.y=t.data.y,t.handle()}},{key:"onAttemptMove",value:function(t){this.movement<=0&&this.dodge<=0?t.handle():function(t,e){console.log("check here"),console.log(t),console.log(e);var n=t.x,u=t.y;n=e.position.x+n,u=e.position.y+u;var r=[],o=[];console.log("".concat(n,",").concat(u));var i=bu("entitiesAtLocation","".concat(n,",").concat(u));console.log(i);var a,c=qu(i);try{for(c.s();!(a=c.n()).done;){var s=a.value;to.getEntity(s).isBlocking&&r.push(s)}}catch(t){c.e(t)}finally{c.f()}if(r.length>=1)return console.log("blocked"),!1;var l,f=qu(bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})));try{for(f.s();!(l=f.n()).done;){var h=l.value;console.log(to.getEntity(h)),to.getEntity(h).fastAttack&&o.push(e)}}catch(t){f.e(t)}finally{f.f()}return o.length>=1&&e.movement.dodge<1?(console.log("no dodge"),!1):(mu("entitiesAtLocation","".concat(e.position.x,",").concat(e.position.y),e.id),Eu("entitiesAtLocation","".concat(n,",").concat(u),e.id),e.position.x=n,e.position.y=u,!0)}(this,this.entity)&&(this.dodge>0?this.dodge=Math.max(0,this.dodge-1):this.movement-=1);this.x=0,this.y=0,t.handle()}}]),n}(cu);ur(sr,"properties",{movement:0,dodge:0,x:0,y:0});var lr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTurnStart",value:function(t){this.entity.fireEvent("gain-movement",this.amount)}}]),n}(cu);ur(lr,"properties",{amount:3});var fr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(fr,"properties",{max:0,current:0});var hr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){for(var t=0;t<this.max;t++)this.entity.add(pr);this.onRollDice()}},{key:"onTurnEnd",value:function(t){console.log("doing turn end"),this.current=Math.min(this.max,this.current+Math.max(0,this.regen-this.used)),this.used=0,this.onRollDice()}},{key:"onRollDice",value:function(){for(var t=0;t<this.max;t++)this.entity.die[t].selected=!1,this.entity.die[t].exhausted=t>=this.current,this.entity.die[t].number=Object(Au.random)(1,6)}},{key:"onUseStamina",value:function(t){this.current=Math.max(this.current-t.data,0)}},{key:"onAiUseStamina",value:function(t){this.used+=t.data}},{key:"onUpdateStamina",value:function(){}}]),n}(cu);ur(hr,"properties",{max:5,current:5,used:0,regen:4});var pr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onExhaustSelected",value:function(t){this.selected&&(this.entity.stamina.used++,this.entity.stamina.current--,this.exhausted=!0,this.selected=!1,this.entity.fireEvent("update-stamina"))}}]),n}(cu);ur(pr,"allowMultiple",!0),ur(pr,"properties",{number:0,selected:!1,exhausted:!1});var Dr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onTurnEnd",value:function(t){this.destroy()}}]),n}(cu),yr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),vr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(vr,"properties",{enemy:!0});var dr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),gr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),_r=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Ar=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Cr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Er=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Er,"properties",{dmg:1});var mr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return Qu(n,[{key:"onAttached",value:function(){var t=[];this.abilities.forEach((function(e){t.push(to.createPrefab(e))})),this.abilities=t}}]),n}(cu);ur(mr,"properties",{abilities:[]});var br=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(br,"properties",{coords:[[0,0]]});var Fr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Fr,"properties",{allowed:[1,2,3,4,5,6]});var Br=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Br,"properties",{function:Pu});var wr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(wr,"properties",{phase:"Any"});var xr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(xr,"properties",{speed:"Instant"});var kr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(kr,"properties",{amount:1});var Sr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Sr,"properties",{smallName:"abl"});var Or=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(Or,"properties",{range:1});var jr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu);ur(jr,"properties",{dmg:1});var Pr=function(t){Zu(n,t);var e=tr(n);function n(){return Vu(this,n),e.apply(this,arguments)}return n}(cu),Rr={name:"Tile",components:[{type:"Appearance"},{type:"Description"},{type:"LayerMap"}]},Tr={name:"Being",components:[{type:"Appearance"},{type:"Description"},{type:"Health"},{type:"IsBlocking"},{type:"LayerUnit"},{type:"Movement"},{type:"Armour"},{type:"Stamina"},{type:"AbilityList"}]},Mr={name:"Ability",components:[{type:"Description",properties:{name:"Generic Ability",description:"used for testing as base template"}},{type:"AbilityPhase"},{type:"AbilitySpeed"},{type:"AbilityStaminaCost"},{type:"AbilityFunction"},{type:"AbilitySmallName"},{type:"AbilityTarget"},{type:"AbilityAllowedDie"},{type:"AbilityRange"},{type:"AbilityDamage"}]},Ir={name:"Wall",inherit:["Tile"],components:[{type:"IsBlocking"},{type:"Appearance",properties:{char:"#",color:"#AAA"}},{type:"Description",properties:{name:"wall"}}]},zr={name:"Floor",inherit:["Tile"],components:[{type:"Appearance",properties:{char:".",color:"#AAA"}},{type:"Description",properties:{name:"wall"}}]},Ur={name:"PlayerBeing",inherit:["Being"],components:[{type:"IsPlayerControlled"},{type:"Apperance",properties:{char:"@"}},{type:"AbilityList",properties:{abilities:["AbilityMove","AbilityDodge","AbilitySwordJab","AbilitySwordSwing"]}}]},Lr={name:"Mob",inherit:["Being"],components:[{type:"Ai"},{type:"IsEnemy"},{type:"GainMovement"}]},Wr={name:"Goblin",inherit:["Mob"],components:[{type:"Appearance",properties:{char:"g",color:"green"}},{type:"Description",properties:{name:"Goblin",description:"A lowly Goblin"}},{type:"AbilityList",properties:{abilities:["AbilitySpearThrust"]}},{type:"Health",properties:{max:2,current:2}},{type:"Stamina",properties:{max:2,current:2,used:0,regen:2}}]},Nr={name:"Orc Warrior",inherit:["Mob"],components:[{type:"Appearance",properties:{char:"o",color:"green"}},{type:"Description",properties:{name:"Orc Warrior",description:"A fearsome Orc wielding axees"}},{type:"AbilityList",properties:{abilities:["AbilityDoubleAxeSwing","AbilityAxeDecapitate"]}},{type:"Health",properties:{max:8,current:8}},{type:"Stamina",properties:{max:4,current:4,used:0,regen:4}}]},Xr={name:"AbilityMove",inherit:["Ability"],components:[{type:"Description",properties:{name:"Move",description:"exhausts 1 die to give it's face value for movement points"}},{type:"AbilityFunction",properties:{function:Ru}},{type:"AbilitySmallName",properties:{smallName:"MOV"}}]},Yr={name:"AbilityDodge",inherit:["Ability"],components:[{type:"Description",properties:{name:"Dodge",description:"exhausts a pair to give 1 dodge point"}},{type:"AbilityFunction",properties:{function:Tu}},{type:"AbilitySmallName",properties:{smallName:"DDG"}},{type:"AbilityStaminaCost",properties:{amount:2}}]},Hr={name:"AbilitySpearThrust",inherit:["Ability"],components:[{type:"Description",properties:{name:"Spear Thrust",description:"exhausts 5,6 to do a slow attack on a 2x1 1 dmg"}},{type:"AbilityFunction",properties:{function:zu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"STH"}},{type:"AbilityTarget",properties:{coords:[[0,0],[0,-1]]}},{type:"AbilityAllowedDie",properties:{allowed:[5,6]}},{type:"AbilityRange",properties:{range:2}}]},qr={name:"AbilitySwordJab",inherit:["Ability"],components:[{type:"Description",properties:{name:"Sword Jab",description:"exhausts a 4,5,6 to do a slow attack on a single tile for 1 dmg"}},{type:"AbilityFunction",properties:{function:Mu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"SJB"}},{type:"AbilityTarget",properties:{coords:[[0,0]]}},{type:"AbilityAllowedDie",properties:{allowed:[4,5,6]}},{type:"AbilityEndsTurn"}]},$r={name:"AbilitySwordSwing",inherit:["Ability"],components:[{type:"Description",properties:{name:"Sword Swing",description:"exhausts 6 to do a slow attack on a T shape for 1 dmg"}},{type:"AbilityFunction",properties:{function:Iu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"SSW"}},{type:"AbilityTarget",properties:{coords:[[-1,0],[0,0],[1,0],[0,-1]]}},{type:"AbilityAllowedDie",properties:{allowed:[6]}},{type:"AbilityEndsTurn"}]},Gr={name:"AbilityDoubleAxeSwing",inherit:["Ability"],components:[{type:"Description",properties:{name:"Double Axe Swing",description:"swings both your axes in two massive arcs dealing 2 dmg"}},{type:"AbilityFunction",properties:{function:Uu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"DAS"}},{type:"AbilityTarget",properties:{coords:[[-1,0],[0,0],[1,0],[-1,1],[1,1]]}},{type:"AbilityAllowedDie",properties:{allowed:[5,6]}},{type:"AbilityStaminaCost",properties:{amount:3}},{type:"AbilityDamage",properties:{dmg:2}},{type:"AbilityEndsTurn"}]},Kr={name:"AbilityAxeDecapitate",inherit:["Ability"],components:[{type:"Description",properties:{name:"Axe Decapitate",description:"Swings an axe directly at the targets head for 3 dmg"}},{type:"AbilityFunction",properties:{function:Lu}},{type:"AbilityPhase",properties:{phase:"Attack"}},{type:"AbilitySmallName",properties:{smallName:"DAC"}},{type:"AbilityTarget",properties:{coords:[[0,0]]}},{type:"AbilityAllowedDie",properties:{allowed:[6]}},{type:"AbilityStaminaCost",properties:{amount:4}},{type:"AbilityDamage",properties:{dmg:3}},{type:"AbilityEndsTurn"}]},Qr=new _u,Vr=Qr.createWorld();Zr(),Jr(),oi();var Zr=function(){console.log("got here first"),Qr.registerComponent(rr),Qr.registerComponent(fr),Qr.registerComponent(or),Qr.registerComponent(cr),Qr.registerComponent(ir),Qr.registerComponent(Cr),Qr.registerComponent(yr),Qr.registerComponent(vr),Qr.registerComponent(dr),Qr.registerComponent(gr),Qr.registerComponent(sr),Qr.registerComponent(ar),Qr.registerComponent(hr),Qr.registerComponent(pr),Qr.registerComponent(_r),Qr.registerComponent(Ar),Qr.registerComponent(Er),Qr.registerComponent(Dr),Qr.registerComponent(mr),Qr.registerComponent(Br),Qr.registerComponent(wr),Qr.registerComponent(xr),Qr.registerComponent(kr),Qr.registerComponent(Sr),Qr.registerComponent(br),Qr.registerComponent(Fr),Qr.registerComponent(lr),Qr.registerComponent(Or),Qr.registerComponent(jr),Qr.registerComponent(Pr)},Jr=function(){Qr.registerPrefab(Rr),Qr.registerPrefab(Tr),Qr.registerPrefab(Ir),Qr.registerPrefab(zr),Qr.registerPrefab(Ur),Qr.registerPrefab(Lr),Qr.registerPrefab(Wr),Qr.registerPrefab(Nr),Qr.registerPrefab(Mr),Qr.registerPrefab(Xr),Qr.registerPrefab(Yr),Qr.registerPrefab(Hr),Qr.registerPrefab(qr),Qr.registerPrefab($r),Qr.registerPrefab(Gr),Qr.registerPrefab(Kr)},to=Vr,eo=function(){kn.style.visibility="visible";var t="#".repeat(Bn.width);Sn.drawText(0,0,t)},no=function(t){var e="";return e+="\n"+t.description.name,e+="\n"+t.description.description,e+="\n"+t.abilityPhase.phase,e+="\n"+t.abilityPhase.speed};function uo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],u=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(u=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);u=!0);}catch(t){r=!0,o=t}finally{try{u||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ro(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var oo=to.createQuery({all:[ar,rr,dr]}),io=to.createQuery({all:[ar,rr,gr]}),ao=to.createQuery({all:[ar,_r]}),co=to.createQuery({all:[ar,Ar]}),so=to.createQuery({all:[ar,rr,gr,vr],none:[Cr]}),lo="",fo=["q","w","e","r","t","y"],ho=function(t,e,n){wn.drawText(e,n,t)},po=function(t,e,n){wn.draw(e,n,t.appearance.char,t.appearance.color,t.appearance.background||"black")},Do=function(){var t;"Help"==So?function(){eo();Sn.drawText(2,5,"Welcome to my bad game, this is just placeholder help text for now\n\nEnemy attacks at end of player defend turn\nyou need to use dodge to get out of red attacks\nYou regen 4 stamina - the amount used this turn\nplayer attacks resolve at end of player attack turn\n\nHOTKEYS:\nArrow Keys to move\nEnter to end turn / confirm target\nn: select next character\n1-6 are to select stamina die\nqwerty selects abilites\nshift+qwerty for info\nz: shows enemy numbers\nc: shows dmg that will hit tile\nEscape to exit this and most menus")}():"AbilityInfo"==So?function(t){eo();var e=no(t);Sn.drawText(2,5,e)}(lo):"EnemyNumbers"==So?(t=1,so.get().forEach((function(e){wn.draw(An.x+e.position.x,An.y+e.position.y,t.toString()),t++}))):"DamageShow"==So?function(){var t=[];t.push.apply(t,ao.get()),t.push.apply(t,co.get()),console.log(t);var e,n=[];t.forEach((function(t){var e=xu({x:t.position.x,y:t.position.y});n[e]||(n[e]=0),n[e]+=t.dmgTile.dmg})),console.log(n);for(var u=0,r=Object.entries(n);u<r.length;u++){var o=uo(r[u],2),i=o[0],a=o[1];console.log("".concat(i,": ").concat(a));var c=(e=void 0,"string"==typeof(e=i)&&(e=ku(e)),e);wn.draw(An.x+c.x,An.y+c.y,a)}}():(wn.clear(),oo.get().forEach((function(t){po(t,t.position.x+An.x,t.position.y+An.y)})),io.get().forEach((function(t){po(t,t.position.x+An.x,t.position.y+An.y)})),function(){if(Io){ho("Active:",En.x,En.y),po(Io,En.x+"Active:".length,En.y),ho("Hp:"+Io.health.current.toString(),En.x,En.y+1),ho("Stam:"+Io.stamina.current.toString()+"/"+Io.stamina.max.toString(),En.x,En.y+2),ho("StamRgn:"+Math.max(0,4-Io.stamina.used).toString(),En.x,En.y+3),ho("Move:"+Io.movement.movement.toString(),En.x,En.y+4),ho("Dodge:"+Io.movement.dodge.toString(),En.x,En.y+5)}}(),function(){if(Io)for(var t=0;t<Io.die.length;t++){var e="white";Io.die[t].selected?e="green":Io.die[t].exhausted&&(e="grey"),ho((t+1).toString()+"| |",mn.x+5*t,mn.y),wn.draw(2+mn.x+5*t,mn.y,Io.die[t].number.toString(),"black",e)}}(),function(){for(var t=0;t<Io.abilityList.abilities.length;t++){var e="gray",n="PlayerTurnDefend"==So?"Defend":"Attack";("Any"==Io.abilityList.abilities[t].abilityPhase.phase||Io.abilityList.abilities[t].abilityPhase.phase==n)&&Io.abilityList.abilities[t].abilityFunction.function.canUse(Io.abilityList.abilities[t],Io).length>0&&(e="white");var u=Io.abilityList.abilities[t].abilitySmallName.smallName;ho(fo[t]+"[%c{"+e+"}"+u+"%c{}]",bn.x+7*t,bn.y)}}(),ho(So,Fn.x,Fn.y),wn.draw(0,0,"O"),wn.draw(0,_n-1,"O"),wn.draw(gn-1,0,"O"),wn.draw(gn-1,_n-1,"O"),function(){var t=1;so.get().forEach((function(e){var n=""+t;n+="%c{"+e.appearance.color+"} "+e.description.name+" "+e.health.current,ho(n,Cn.x,Cn.y+t-1),t++}))}(),ao.get().forEach((function(t){var e,n=bu("entitiesAtLocation",xu({x:t.position.x,y:t.position.y})),u=!1;n.forEach((function(n){var r=to.getEntity(n);r.has(gr)?(u=!0,wn.draw(t.position.x+An.x,t.position.y+An.y,r.appearance.char,r.appearance.color,"yellow")):r.has(dr)&&(e=r),!u&&e&&wn.draw(t.position.x+An.x,t.position.y+An.y,e.appearance.char,e.appearance.color,"yellow")}))})),co.get().forEach((function(t){var e,n=bu("entitiesAtLocation",xu({x:t.position.x,y:t.position.y})),u=!1;n.forEach((function(n){var r=to.getEntity(n);r.has(gr)?(u=!0,wn.draw(t.position.x+An.x,t.position.y+An.y,r.appearance.char,r.appearance.color,"red")):r.has(dr)&&(e=r),!u&&e&&wn.draw(t.position.x+An.x,t.position.y+An.y,e.appearance.char,e.appearance.color,"red")}))})),console.log(So),"examine"!==So&&"targeting"!==So||(console.log("need to show target"),console.log(Mo),po(Mo,Mo.position.x+An.x,Mo.position.y+An.y)))},yo=to.createQuery({all:[ar,rr,dr]}),vo=new Je.Arena(An.width,An.height),go=function(){var t=_o();return Object(Au.sample)(t)},_o=function(){var t=[];return yo.get().forEach((function(e){e.isBlocking||1==bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})).size&&t.push(e)})),t};function Ao(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Co(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Co(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,u=new Array(e);n<e;n++)u[n]=t[n];return u}var Eo=to.createQuery({all:[ar,rr,gr],none:[vr]}),mo=function(t,e){return new dn.Dijkstra(t,e,wo,{topology:4})},bo=function(t){var e=mo(t.position.x,t.position.y);console.log("path finder"),console.log(e);var n=Fo(e,t);return console.log(n),n.pop(),n},Fo=function(t,e){var n;return e.has(vr)&&(console.log("enemies to check: "+Eo.get().length),Eo.get().forEach((function(e){var u=[];t.compute(e.position.x,e.position.y,(function(t,e){u.push([t,e])})),(!n||u.length<n.length)&&(n=u)}))),n},Bo=function(t,e){var n=Ao(t).slice(0);if(console.log("in range check"),1==n.length)return console.log("path short"),!0;var u=[],r=[];return n.forEach((function(t){u.push(t[0]),r.push(t[1])})),console.log(u.toString()),console.log(r.toString()),e.x==n[0][0]||e.y==n[0][1]},wo=function(t,e){var n=bu("entitiesAtLocation",xu({x:t,y:e}));return n?(n.forEach((function(t){if(to.getEntity(t).has(ir))return 0})),1):0},xo=function(t,e){var n=!1;e.shuffle(),console.log("Doing mob attack: ");for(var u=0;u<2;u++){var r=bo(t);e.forEach((function(e){if(console.log(r.toString()),console.log(r.length),r.length>=1&&r.length<=e.abilityRange.range&&!n&&Bo(r,{x:t.position.x,y:t.position.y})){console.log("In Range");var u=r.pop();console.log(u.toString()),e.abilityFunction.function.onUse(e,t,{x:u[0],y:u[1]}),t.fireEvent("use-stamina",e.abilityStaminaCost.amount),t.fireEvent("ai-use-stamina",e.abilityStaminaCost.amount),n=!0}})),r.length>1&&!n&&(console.log("Not In Range so we move"),r.length>1&&(ko(t,r),t.fireEvent("use-stamina",1),t.fireEvent("ai-use-stamina",1)))}},ko=function(t,e){t.fireEvent("gain-movement",2);for(var n=t.movement.movement,u=0;u<n;u++)if(e&&e.length>1){console.log("remaining target"),console.log(e.toString());var r=e.pop();console.log("Next Step"+r.toString()),t.movement.x=r[0]-t.position.x,t.movement.y=r[1]-t.position.y,t.fireEvent("attempt-move")}};Object.defineProperty(Array.prototype,"shuffle",{value:function(){for(var t=this.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),n=[this[e],this[t]];this[t]=n[0],this[e]=n[1]}return this}});var So="setup",Oo="",jo="hi",Po="hi",Ro=function(t){jo=t},To=function(t){Po=t},Mo=to.createEntity("targetEntity");Mo.add(rr,{char:"X",color:"black",background:"green"});var Io,zo=0,Uo=null,Lo=to.createQuery({all:[ar,rr,gr,yr],none:[Cr]}),Wo=to.createQuery({all:[ar,rr,gr],none:[vr]}),No=to.createQuery({all:[ar,rr,gr,vr],none:[Cr]}),Xo=to.createQuery({all:[Er]}),Yo=function(){if("PlayerTurnDefend"==So||"PlayerTurnAttack"==So)if("?"===Uo)Go("Help"),Do();else if("n"===Uo)console.log("input: "+Uo),Io=Jo(),Do();else if("1"===Uo||"2"===Uo||"3"===Uo||"4"===Uo||"5"===Uo||"6"===Uo||"7"===Uo||"8"===Uo||"9"===Uo)console.log("dice swap"),Uo-1<Io.die.length&&(console.log(Io.die[Uo-1]),Io.die[Uo-1].exhausted||(Io.die[Uo-1].selected=!Io.die[Uo-1].selected),Do());else if("ArrowUp"===Uo)Vo();else if("ArrowRight"===Uo)Vo();else if("ArrowDown"===Uo)Vo();else if("ArrowLeft"===Uo)Vo();else if("q"===Uo||"w"===Uo||"e"===Uo||"r"===Uo||"t"===Uo||"y"===Uo){if(console.log("ability use"),(u=Ho(Uo))<Io.abilityList.abilities.length){var t=Io.abilityList.abilities[u],e=t.abilityFunction.function.canUse(t,Io),n="PlayerTurnDefend"==So?"Defend":"Attack";e.length>0&&("Any"==t.abilityPhase.phase||t.abilityPhase.phase==n)&&(t.abilityFunction.function.onTarget?t.abilityFunction.function.onTarget(t,Io):t.abilityFunction.function.onUse(t,Io,qo()))}Do()}else if("Q"===Uo||"W"===Uo||"E"===Uo||"R"===Uo||"T"===Uo||"Y"===Uo){console.log("ability info");var u=Ho(Uo);Go("AbilityInfo"),console.log(u),console.log(Io.abilityList.abilities[u]),r=Io.abilityList.abilities[u],lo=r,Do()}else"Enter"==Uo?(console.log("Enter"),"PlayerTurnDefend"==So?(ni(),So="PlayerTurnAttack"):"PlayerTurnAttack"==So&&(ui(),ri(Wo.get()),So="EnemyTurnDefend"),Do()):"x"===Uo?($o("examine"),Do()):"c"===Uo?(Go("DamageShow"),Do()):"z"===Uo?(Go("EnemyNumbers"),Do()):"p"===Uo&&console.log(Io);else"examine"===So||"targeting"===So?"Escape"===Uo?(Ko(),Do()):"ArrowUp"===Uo||"ArrowRight"===Uo||"ArrowDown"===Uo||"ArrowLeft"===Uo?(Zo(),Do()):"Enter"===Uo&&"targeting"===So&&(console.log(jo),jo.abilityFunction.function.onUse(jo,Po,qo()),Ko(),Do()):"Help"!==So&&"AbilityInfo"!=So&&"DamageShow"!=So&&"EnemyNumbers"!=So||"Escape"===Uo&&(Sn.clear(),kn.style.visibility="hidden",Qo(),Do());var r;Uo=null},Ho=function(t){switch(Uo){case"q":case"Q":return 0;case"w":case"W":return 1;case"e":case"E":return 2;case"r":case"R":return 3;case"t":case"T":return 4;case"y":case"Y":return 5;default:return 0}},qo=function(){return Mo.has(ar)?{x:Mo.position.x,y:Mo.position.y}:{x:0,y:0}},$o=function(t){Go(t),Mo.add(ar,{x:Io.position.x,y:Io.position.y})},Go=function(t){Oo=So,So=t},Ko=function(){Qo(),Mo.remove(Mo.position)},Qo=function(){So=Oo},Vo=function(){"ArrowUp"===Uo&&(Io.movement.y=-1),"ArrowRight"===Uo&&(Io.movement.x=1),"ArrowDown"===Uo&&(Io.movement.y=1),"ArrowLeft"===Uo&&(Io.movement.x=-1),Io.fireEvent("attempt-move"),Do()},Zo=function(){"ArrowUp"===Uo?(Mo.position.y=Io.position.y+-1,Mo.position.x=Io.position.x):"ArrowRight"===Uo?(Mo.position.x=Io.position.x+1,Mo.position.y=Io.position.y):"ArrowDown"===Uo?(Mo.position.y=Io.position.y+1,Mo.position.x=Io.position.x):"ArrowLeft"===Uo&&(Mo.position.x=Io.position.x+-1,Mo.position.y=Io.position.y)},Jo=function(){return zo+1>=Lo.get().length?zo=0:zo++,Lo.get()[zo]};document.addEventListener("keydown",(function(t){Uo=t.key}));var ti=function(){var t=to.createPrefab("PlayerBeing",{appearance:{char:"@",color:"green"}}),e=go();t.add(ar,{x:e.position.x,y:e.position.y}),Io=t;var n=to.createPrefab("PlayerBeing",{appearance:{char:"@",color:"purple"}});e=go(),n.add(ar,{x:e.position.x,y:e.position.y}),Object(Au.times)(6,(function(){e=go(),to.createPrefab("Goblin").add(ar,{x:e.position.x,y:e.position.y})})),e=go(),to.createPrefab("Orc Warrior").add(ar,{x:e.position.x,y:e.position.y})},ei=function(){console.log("enemy attacks"),No.get().forEach((function(t){var e,n,u;n=[],u=(e=t).stamina.current,console.log("AI usable stamina"),console.log(e),console.log(u),e.abilityList.abilities.forEach((function(t){("Any"==t.abilityPhase.phase||"Attack"==t.abilityPhase.phase)&&t.abilityStaminaCost.amount<=e.stamina.current&&n.push(t)})),console.log("ai usable abilities"),console.log(n),xo(e,n),console.log("pathfinding")}))},ni=function(){ui()},ui=function(){console.log("process dmg"),console.log(Xo.get());var t=[];Xo.get().forEach((function(e){bu("entitiesAtLocation",xu({x:e.position.x,y:e.position.y})).forEach((function(t){var n=to.getEntity(t);console.log(n),n.layerUnit&&n.fireEvent("take-damage",{amount:e.dmgTile.dmg})})),t.push(e)})),t.forEach((function(t){t.destroy()})),console.log(Xo.get()),console.log("end process dmg")},ri=function(t){console.log("ending turn for "),t.forEach((function(t){console.log(t),t.fireEvent("turn-end",t)}))},oi=function(){vo.create((function(t,e,n){n?to.createPrefab("Wall").add(ar,{x:t,y:e}):to.createPrefab("Floor").add(ar,{x:t,y:e})})),ti(),go(),Do()};requestAnimationFrame((function t(){"setup"==So?So="EnemyTurnDefend":"EnemyTurnDefend"==So?(So="EnemyTurnAttack",Do()):"EnemyTurnAttack"==So?(ei(),ri(No.get()),So="PlayerTurnDefend",Do()):"PlayerTurnDefend"==So||"PlayerTurnAttack"==So?Yo():"examine"!=So&&"targeting"!=So&&"Help"!=So&&"AbilityInfo"!=So&&"DamageShow"!=So&&"EnemyNumbers"!=So||Yo(),requestAnimationFrame(t)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9iYWNrZW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvdGVybS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9oZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9yZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvdGlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9kaXNwbGF5L3RpbGUtZ2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvdGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9kaXNwbGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2FyZW5hLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9kdW5nZW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9mZWF0dXJlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvdW5pZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZGlnZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9lbGxlcm1hemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9jZWxsdWxhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZGl2aWRlZG1hemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2ljZXltYXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9yb2d1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9ub2lzZS9zaW1wbGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3BhdGgvcGF0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9wYXRoL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3BhdGgvZGlqa3N0cmEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcGF0aC9hc3Rhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2NhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2NhbWVsY2FzZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwvc3RyaW5nLXV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Db21wb25lbnRSZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2RlZXBtZXJnZS9kaXN0L2Nqcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1ByZWZhYlJlZ2lzdHJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvRW50aXR5RXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlsL2JpdC11dGlsLmpzIiwid2VicGFjazovLy8uLi9zcmMvRW50aXR5LmpzIiwid2VicGFjazovLy8uLi9zcmMvUXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Xb3JsZC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0VuZ2luZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUvY2FjaGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMveWFodHplZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvYWJpbGl0aWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvbW92ZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL3ByZWZhYi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGUvZWNzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdGF0ZS9oZWxwTWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3lzdGVtcy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL2R1bmdlb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvcGF0aGZpbmRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N5c3RlbXMvYWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRlJBQyIsIlJORyIsInRoaXMiLCJfc2VlZCIsIl9zMCIsIl9zMSIsIl9zMiIsIl9jIiwic2VlZCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwibWF4IiwiTWF0aCIsIm1pbiIsImZsb29yIiwiZ2V0VW5pZm9ybSIsInUiLCJ2IiwibWVhbiIsInN0ZGRldiIsImdhdXNzIiwic3FydCIsImxvZyIsImFycmF5IiwibGVuZ3RoIiwicmVzdWx0IiwiY2xvbmUiLCJzbGljZSIsImluZGV4IiwiaW5kZXhPZiIsImdldEl0ZW0iLCJwdXNoIiwic3BsaWNlIiwiZGF0YSIsInRvdGFsIiwiaWQiLCJyYW5kb20iLCJwYXJ0Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImdldFN0YXRlIiwic2V0U2VlZCIsIkRhdGUiLCJub3ciLCJtb2QiLCJ4IiwiY2xhbXAiLCJ2YWwiLCJjYXBpdGFsaXplIiwic3RyaW5nIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJmb3JtYXQiLCJ0ZW1wbGF0ZSIsImFyZ3MiLCJtYXAiLCJyZXBsYWNlciIsIm1hdGNoIiwiZ3JvdXAxIiwiZ3JvdXAyIiwib2JqIiwicGFydHMiLCJzcGxpdCIsInNoaWZ0IiwibWV0aG9kIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlZCIsImFwcGx5IiwiZmlyc3QiLCJyZXBsYWNlIiwiZnJvbVN0cmluZyIsInN0ciIsImNhY2hlZCIsIkNBQ0hFIiwidmFsdWVzIiwicGFyc2VJbnQiLCJhZGQiLCJjb2xvcjEiLCJjb2xvcnMiLCJqIiwiYWRkXyIsIm11bHRpcGx5Iiwicm91bmQiLCJtdWx0aXBseV8iLCJpbnRlcnBvbGF0ZSIsImNvbG9yMiIsImZhY3RvciIsImxlcnAiLCJpbnRlcnBvbGF0ZUhTTCIsImhzbDEiLCJyZ2IyaHNsIiwiaHNsMiIsImhzbDJyZ2IiLCJsZXJwSFNMIiwicmFuZG9taXplIiwiY29sb3IiLCJkaWZmIiwiQXJyYXkiLCJnZXROb3JtYWwiLCJnIiwiYiIsImgiLCJodWUycmdiIiwicSIsInRvUkdCIiwiY2xhbXBlZCIsImpvaW4iLCJ0b0hleCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJCYWNrZW5kIiwib3B0aW9ucyIsIl9vcHRpb25zIiwiRlVOQ19FUlJPUl9URVhUIiwiUExBQ0VIT0xERVIiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm9iamVjdFRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsIndlYWtNYXBUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJSZWdFeHAiLCJzb3VyY2UiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW1TdGFydCIsInJlV2hpdGVzcGFjZSIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzIiwicmVFc2NhcGVDaGFyIiwicmVFc1RlbXBsYXRlIiwicmVGbGFncyIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc0hvc3RDdG9yIiwicmVJc09jdGFsIiwicmVJc1VpbnQiLCJyZUxhdGluIiwicmVOb01hdGNoIiwicmVVbmVzY2FwZWRTdHJpbmciLCJyc0NvbWJvUmFuZ2UiLCJyc0NvbWJvTWFya3NSYW5nZSIsInJzQnJlYWtSYW5nZSIsInJzTWF0aE9wUmFuZ2UiLCJyc0FzdHJhbCIsInJzQnJlYWsiLCJyc0NvbWJvIiwicnNEaWdpdHMiLCJyc0RpbmdiYXQiLCJyc0xvd2VyIiwicnNNaXNjIiwicnNGaXR6IiwicnNOb25Bc3RyYWwiLCJyc1JlZ2lvbmFsIiwicnNTdXJyUGFpciIsInJzVXBwZXIiLCJyc01pc2NMb3dlciIsInJzTWlzY1VwcGVyIiwicmVPcHRNb2QiLCJyc1NlcSIsInJzRW1vamkiLCJyc1N5bWJvbCIsInJlQXBvcyIsInJlQ29tYm9NYXJrIiwicmVVbmljb2RlIiwicmVVbmljb2RlV29yZCIsInJlSGFzVW5pY29kZSIsInJlSGFzVW5pY29kZVdvcmQiLCJjb250ZXh0UHJvcHMiLCJ0ZW1wbGF0ZUNvdW50ZXIiLCJ0eXBlZEFycmF5VGFncyIsImNsb25lYWJsZVRhZ3MiLCJzdHJpbmdFc2NhcGVzIiwiZnJlZVBhcnNlRmxvYXQiLCJwYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwidHlwZXMiLCJyZXF1aXJlIiwiYmluZGluZyIsImUiLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImFycmF5RWFjaCIsImFycmF5RWFjaFJpZ2h0IiwiYXJyYXlFdmVyeSIsInByZWRpY2F0ZSIsImFycmF5RmlsdGVyIiwicmVzSW5kZXgiLCJhcnJheUluY2x1ZGVzIiwiYmFzZUluZGV4T2YiLCJhcnJheUluY2x1ZGVzV2l0aCIsImNvbXBhcmF0b3IiLCJhcnJheU1hcCIsImFycmF5UHVzaCIsIm9mZnNldCIsImFycmF5UmVkdWNlIiwiaW5pdEFjY3VtIiwiYXJyYXlSZWR1Y2VSaWdodCIsImFycmF5U29tZSIsImFzY2lpU2l6ZSIsImJhc2VQcm9wZXJ0eSIsImJhc2VGaW5kS2V5IiwiY29sbGVjdGlvbiIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJ1bmRlZmluZWQiLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJjdXJyZW50IiwiYmFzZVRpbWVzIiwiYmFzZVRyaW0iLCJ0cmltbWVkRW5kSW5kZXgiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwicHJvcHMiLCJjYWNoZUhhcyIsImNhY2hlIiwiaGFzIiwiY2hhcnNTdGFydEluZGV4Iiwic3RyU3ltYm9scyIsImNoclN5bWJvbHMiLCJjaGFyc0VuZEluZGV4IiwiY291bnRIb2xkZXJzIiwicGxhY2Vob2xkZXIiLCJkZWJ1cnJMZXR0ZXIiLCJlc2NhcGVIdG1sQ2hhciIsImVzY2FwZVN0cmluZ0NoYXIiLCJjaHIiLCJoYXNVbmljb2RlIiwidGVzdCIsIm1hcFRvQXJyYXkiLCJzaXplIiwiZm9yRWFjaCIsIm92ZXJBcmciLCJ0cmFuc2Zvcm0iLCJhcmciLCJyZXBsYWNlSG9sZGVycyIsInNldFRvQXJyYXkiLCJzZXQiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIl8iLCJydW5JbkNvbnRleHQiLCJjb250ZXh0IiwidWlkIiwiZGVmYXVsdHMiLCJwaWNrIiwiRXJyb3IiLCJTdHJpbmciLCJUeXBlRXJyb3IiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3R4Tm93IiwiY3R4U2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwiY2VpbCIsIm5hdGl2ZUZsb29yIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVJc0Zpbml0ZSIsImlzRmluaXRlIiwibmF0aXZlSm9pbiIsIm5hdGl2ZUtleXMiLCJuYXRpdmVNYXgiLCJuYXRpdmVNaW4iLCJuYXRpdmVOb3ciLCJuYXRpdmVQYXJzZUludCIsIm5hdGl2ZVJhbmRvbSIsIm5hdGl2ZVJldmVyc2UiLCJyZXZlcnNlIiwiRGF0YVZpZXciLCJNYXAiLCJQcm9taXNlIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJzeW1ib2xUb1N0cmluZyIsImxvZGFzaCIsImlzT2JqZWN0TGlrZSIsImlzQXJyYXkiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiYmFzZUF0IiwicGF0aHMiLCJza2lwIiwibnVtYmVyIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJjb25zdHJ1Y3RvciIsImlucHV0IiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJDdG9yIiwiY2xvbmVBcnJheUJ1ZmZlciIsImRhdGFWaWV3IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwicmVnZXhwIiwiY2xvbmVSZWdFeHAiLCJzeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJiYXNlRGlmZmVyZW5jZSIsImluY2x1ZGVzIiwiaXNDb21tb24iLCJ2YWx1ZXNMZW5ndGgiLCJvdXRlciIsImNvbXB1dGVkIiwidmFsdWVzSW5kZXgiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwicG9wIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiTEFSR0VfQVJSQVlfU0laRSIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJJbmZpbml0eSIsInNlZW4iLCJiYXNlSW52b2tlIiwicGFyZW50IiwibGFzdCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsIm1lc3NhZ2UiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwib2JqU3RhY2tlZCIsIm90aFN0YWNrZWQiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJtZXJnZUZ1bmMiLCJzYWZlR2V0IiwibmV3VmFsdWUiLCJpc1R5cGVkIiwiaXNBcnJheUxpa2VPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwidG9QbGFpbk9iamVjdCIsImJhc2VNZXJnZURlZXAiLCJiYXNlTnRoIiwiYmFzZU9yZGVyQnkiLCJpdGVyYXRlZXMiLCJvcmRlcnMiLCJnZXRJdGVyYXRlZSIsImNvbXBhcmVyIiwic29ydCIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInN0YXJ0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImVuZCIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJNQVhfQVJSQVlfTEVOR1RIIiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYmFzZVdyYXBwZXJWYWx1ZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiY29weSIsImFycmF5QnVmZmVyIiwidHlwZWRBcnJheSIsInZhbElzRGVmaW5lZCIsInZhbElzUmVmbGV4aXZlIiwiY29tcG9zZUFyZ3MiLCJwYXJ0aWFscyIsImhvbGRlcnMiLCJpc0N1cnJpZWQiLCJhcmdzSW5kZXgiLCJhcmdzTGVuZ3RoIiwiaG9sZGVyc0xlbmd0aCIsImxlZnRJbmRleCIsImxlZnRMZW5ndGgiLCJyYW5nZUxlbmd0aCIsImlzVW5jdXJyaWVkIiwiY29tcG9zZUFyZ3NSaWdodCIsImhvbGRlcnNJbmRleCIsInJpZ2h0SW5kZXgiLCJyaWdodExlbmd0aCIsImlzTmV3IiwiY3JlYXRlQWdncmVnYXRvciIsImluaXRpYWxpemVyIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJtZXRob2ROYW1lIiwidHJhaWxpbmciLCJjcmVhdGVDb21wb3VuZGVyIiwiY2FsbGJhY2siLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJhcmd1bWVudHMiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJub29wIiwiY3JlYXRlVG9QYWlycyIsImJhc2VUb1BhaXJzIiwiY3JlYXRlV3JhcCIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm1lcmdlRGF0YSIsImNyZWF0ZUN1cnJ5IiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZUJpbmQiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwiY3VzdG9tRGVmYXVsdHNNZXJnZSIsImN1c3RvbU9taXRDbG9uZSIsImFyckxlbmd0aCIsImFyclN0YWNrZWQiLCJhcnJWYWx1ZSIsImZsYXR0ZW4iLCJvdGhlckZ1bmMiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJvbGRBcnJheSIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwicmFuZCIsIm1lbW9pemUiLCJtZW1vaXplQ2FwcGVkIiwiY2hhckNvZGVBdCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZCIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImxlYWRpbmdFZGdlIiwidGltZXJFeHBpcmVkIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0cmFpbGluZ0VkZ2UiLCJ0aW1lV2FpdGluZyIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiY2FuY2VsIiwiZmx1c2giLCJkZWZlciIsImRlbGF5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwibmV4dCIsImRvbmUiLCJpdGVyYXRvclRvQXJyYXkiLCJyZW1haW5kZXIiLCJ0b0xlbmd0aCIsImlzQmluYXJ5IiwiYXNzaWduIiwiYXNzaWduSW4iLCJhc3NpZ25JbldpdGgiLCJhc3NpZ25XaXRoIiwiYXQiLCJwcm9wc0luZGV4IiwicHJvcHNMZW5ndGgiLCJkZWZhdWx0c0RlZXAiLCJtZXJnZVdpdGgiLCJpbnZlcnQiLCJpbnZlcnRCeSIsImludm9rZSIsIm1lcmdlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwicHJvcCIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJjYW1lbENhc2UiLCJ3b3JkIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJwYXR0ZXJuIiwiaGFzVW5pY29kZVdvcmQiLCJ1bmljb2RlV29yZHMiLCJhc2NpaVdvcmRzIiwiYXR0ZW1wdCIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2RPZiIsIm1peGluIiwib3ZlciIsIm92ZXJFdmVyeSIsIm92ZXJTb21lIiwiYmFzZVByb3BlcnR5RGVlcCIsInJhbmdlIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWNhbmQiLCJzdWJ0cmFjdCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwiYWZ0ZXIiLCJjYXN0QXJyYXkiLCJjaHVuayIsImNvbXBhY3QiLCJjb25jYXQiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImJhc2VGaWxsIiwiZmlsdGVyIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmbGlwIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zIiwiZnVuY3Rpb25zSW4iLCJpbml0aWFsIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1hdGNoZXMiLCJtYXRjaGVzUHJvcGVydHkiLCJudGhBcmciLCJvbWl0QnkiLCJvbmNlIiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlamVjdCIsInJlbW92ZSIsInJlc3QiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXEiLCJ1bmlxQnkiLCJ1bmlxV2l0aCIsInVuc2V0IiwidXBkYXRlIiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwid3JhcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJlbnRyaWVzSW4iLCJleHRlbmQiLCJleHRlbmRXaXRoIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNsb25lV2l0aCIsImNvbmZvcm1zVG8iLCJkZWZhdWx0VG8iLCJlbmRzV2l0aCIsInRhcmdldCIsInBvc2l0aW9uIiwiZXNjYXBlIiwiZXNjYXBlUmVnRXhwIiwiZXZlcnkiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hTiIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc051bGwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJsYXN0SW5kZXhPZiIsInN0cmljdExhc3RJbmRleE9mIiwibWF4QnkiLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0IiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicmFkaXgiLCJmbG9hdGluZyIsInRlbXAiLCJyZWR1Y2UiLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvbWUiLCJzb3J0ZWRJbmRleCIsInNvcnRlZEluZGV4QnkiLCJzb3J0ZWRJbmRleE9mIiwic29ydGVkTGFzdEluZGV4Iiwic29ydGVkTGFzdEluZGV4QnkiLCJzb3J0ZWRMYXN0SW5kZXhPZiIsInN0YXJ0c1dpdGgiLCJzdW0iLCJzdW1CeSIsInNldHRpbmdzIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHMiLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbSIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwic2VhcmNoIiwibmV3RW5kIiwidW5lc2NhcGUiLCJ1bmlxdWVJZCIsInByZWZpeCIsImVhY2giLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImRpciIsImlzUmlnaHQiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJ3cmFwcGVkIiwidG9KU09OIiwiZGVmaW5lIiwidGVybWNvbG9yIiwicmdiIiwiQ29sb3IiLCJUZXJtIiwiX29mZnNldCIsIl9jdXJzb3IiLCJfbGFzdENvbG9yIiwiY2IiLCJ3aWR0aCIsImhlaWdodCIsImF2YWlsIiwiY29tcHV0ZVNpemUiLCJiZyIsInN0ZG91dCIsIndyaXRlIiwiY2xlYXJCZWZvcmUiLCJ5IiwiY2giLCJmZyIsImR4IiwiZHkiLCJwb3NpdGlvblRvQW5zaSIsIm5ld0NvbG9yIiwiY29sb3JUb0Fuc2kiLCJjb2x1bW5zIiwicm93cyIsIl9fd2VicGFja19hbWRfb3B0aW9uc19fIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJjd2QiLCJjaGRpciIsInVtYXNrIiwid2luZG93Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwiY2hpbGRyZW4iLCJDYW52YXMiLCJfY3R4IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbnZhcyIsIm9wdHMiLCJzdHlsZSIsImZvbnRTdHlsZSIsImZvbnQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJfdXBkYXRlU2l6ZSIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJfbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbiIsIkhleCIsIl9zcGFjaW5nWCIsIl9zcGFjaW5nWSIsIl9oZXhTaXplIiwicHgiLCJ0cmFuc3Bvc2UiLCJfZmlsbCIsImZpbGxUZXh0IiwiYXZhaWxXaWR0aCIsImF2YWlsSGVpZ2h0IiwiaGV4U2l6ZVdpZHRoIiwiaGV4U2l6ZUhlaWdodCIsImhleFNpemUiLCJvbGRGb250IiwibWVhc3VyZVRleHQiLCJyYXRpbyIsInNwYWNpbmciLCJub2RlU2l6ZSIsImN4IiwiY3kiLCJhIiwiYm9yZGVyIiwiY3R4IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwieHByb3AiLCJ5cHJvcCIsImNoYXJXaWR0aCIsIlJlY3QiLCJfY2FudmFzQ2FjaGUiLCJfZHJhd1dpdGhDYWNoZSIsIl9kcmF3Tm9DYWNoZSIsImhhc2giLCJkcmF3SW1hZ2UiLCJib3hXaWR0aCIsImJveEhlaWdodCIsIndpZHRoRnJhY3Rpb24iLCJmb3JjZVNxdWFyZVJhdGlvIiwiVGlsZSIsIl9jb2xvckNhbnZhcyIsInRpbGVXaWR0aCIsInRpbGVIZWlnaHQiLCJ0aWxlQ29sb3JpemUiLCJjbGVhclJlY3QiLCJmZ3MiLCJiZ3MiLCJ0aWxlIiwidGlsZU1hcCIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInRpbGVTZXQiLCJUaWxlR0wiLCJfdW5pZm9ybXMiLCJfZ2wiLCJfaW5pdFdlYkdMIiwiYWxlcnQiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJjb21wbGV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdXBkYXRlVGV4dHVyZSIsImdsIiwic2Npc3NvclkiLCJzY2lzc29yIiwiY2xlYXJDb2xvciIsInBhcnNlQ29sb3IiLCJDT0xPUl9CVUZGRVJfQklUIiwidW5pZm9ybTJmdiIsInVuaWZvcm0xZiIsInVuaWZvcm00ZnYiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJwcm9ncmFtIiwidnNzIiwiZnNzIiwidnMiLCJjcmVhdGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImZzIiwiRlJBR01FTlRfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJWUyIsIkZTIiwidXNlUHJvZ3JhbSIsInBvcyIsIkZsb2F0MzJBcnJheSIsImJ1ZiIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImNyZWF0ZVF1YWQiLCJVTklGT1JNUyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsIl9wcm9ncmFtIiwiZW5hYmxlIiwiQkxFTkQiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJPTkUiLCJTQ0lTU09SX1RFU1QiLCJjYW52YXNTaXplIiwidmlld3BvcnQiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX1dSQVBfUyIsIlJFUEVBVCIsIlRFWFRVUkVfV1JBUF9UIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwidGV4SW1hZ2UyRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiY29sb3JDYWNoZSIsInBhcnNlZCIsIk51bWJlciIsIiQiLCJSRV9DT0xPUlMiLCJUWVBFX1RFWFQiLCJUWVBFX05FV0xJTkUiLCJUWVBFX0ZHIiwiVFlQRV9CRyIsIm1lYXN1cmUiLCJtYXhXaWR0aCIsInRva2VucyIsInRva2VuaXplIiwibGluZVdpZHRoIiwidG9rZW4iLCJsaW5lTGVuZ3RoIiwibGFzdFRva2VuV2l0aFNwYWNlIiwiYnJlYWtJbnNpZGVUb2tlbiIsImFyciIsIm5leHRJbmRleCIsImJyZWFrSW5kZXgiLCJsYXN0VGV4dFRva2VuIiwiYnJlYWtMaW5lcyIsInRva2VuSW5kZXgiLCJyZW1vdmVCcmVha0NoYXIiLCJuZXdCcmVha1Rva2VuIiwibmV3VGV4dFRva2VuIiwiRElSUyIsIjQiLCI4IiwiNiIsIkRpc3BsYXkiLCJCQUNLRU5EUyIsIkRFRkFVTFRfT1BUSU9OUyIsImxheW91dCIsIl9kYXRhIiwiX2RpcnR5Iiwic2V0T3B0aW9ucyIsIkRFQlVHIiwiX3RpY2siLCJfYmFja2VuZCIsInNjaGVkdWxlIiwid2hhdCIsImRyYXciLCJjdG9yIiwiZ2V0Q29udGFpbmVyIiwiY29tcHV0ZUZvbnRTaXplIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZXZlbnRUb1Bvc2l0aW9uIiwidGV4dCIsImxpbmVzIiwiVGV4dCIsImlzU3BhY2UiLCJpc1ByZXZTcGFjZSIsImlzRnVsbFdpZHRoIiwiaXNQcmV2RnVsbFdpZHRoIiwiY2MiLCJjY2giLCJfZHJhdyIsIl93aWR0aCIsIl9oZWlnaHQiLCJBcmVuYSIsInciLCJEdW5nZW9uIiwiX3Jvb21zIiwiX2NvcnJpZG9ycyIsIkZlYXR1cmUiLCJSb29tIiwieDEiLCJ5MSIsIngyIiwieTIiLCJkb29yWCIsImRvb3JZIiwiX3gxIiwiX3kxIiwiX3gyIiwiX3kyIiwiX2Rvb3JzIiwiYWRkRG9vciIsImlzV2FsbENhbGxiYWNrIiwicmlnaHQiLCJib3R0b20iLCJjb25zb2xlIiwiY2FuQmVEdWdDYWxsYmFjayIsImRpZ0NhbGxiYWNrIiwicm9vbVdpZHRoIiwiZ2V0VW5pZm9ybUludCIsInJvb21IZWlnaHQiLCJDb3JyaWRvciIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwiX3N0YXJ0WCIsIl9zdGFydFkiLCJfZW5kWCIsIl9lbmRZIiwiX2VuZHNXaXRoQVdhbGwiLCJzeCIsInN5IiwiYWJzIiwibngiLCJueSIsIm9rIiwiZmlyc3RDb3JuZXJCYWQiLCJzZWNvbmRDb3JuZXJCYWQiLCJwcmlvcml0eVdhbGxDYWxsYmFjayIsImNvcnJpZG9yTGVuZ3RoIiwiVW5pZm9ybSIsInJvb21EdWdQZXJjZW50YWdlIiwidGltZUxpbWl0IiwiX21hcCIsIl9kdWciLCJfcm9vbUF0dGVtcHRzIiwiX2NvcnJpZG9yQXR0ZW1wdHMiLCJfY29ubmVjdGVkIiwiX3VuY29ubmVjdGVkIiwiX2RpZ0NhbGxiYWNrIiwiX2NhbkJlRHVnQ2FsbGJhY2siLCJfaXNXYWxsQ2FsbGJhY2siLCJ0MSIsIl9maWxsTWFwIiwiX2dlbmVyYXRlUm9vbXMiLCJfZ2VuZXJhdGVDb3JyaWRvcnMiLCJyb29tIiwiX2dlbmVyYXRlUm9vbSIsImNyZWF0ZVJhbmRvbSIsImlzVmFsaWQiLCJjbnQiLCJjbGVhckRvb3JzIiwiY29ubmVjdGVkIiwicm9vbTEiLCJfY2xvc2VzdFJvb20iLCJyb29tMiIsIl9jb25uZWN0Um9vbXMiLCJyb29tcyIsImRpc3QiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJkaXJJbmRleDEiLCJkaXJJbmRleDIiLCJjZW50ZXIxIiwiY2VudGVyMiIsImRpZmZYIiwiZGlmZlkiLCJnZXRMZWZ0IiwiZ2V0UmlnaHQiLCJnZXRUb3AiLCJnZXRCb3R0b20iLCJfcGxhY2VJbldhbGwiLCJfZGlnTGluZSIsInJvdGF0aW9uIiwiaW5kZXgyIiwibWlkMSIsIm1pZDIiLCJkaXJJbmRleCIsImxhc3RCYWRJbmRleCIsInBvaW50cyIsImNvcnJpZG9yIiwiRkVBVFVSRVMiLCJhZGRUb0xpc3QiLCJMIiwiUiIsInJlbW92ZUZyb21MaXN0IiwiQ2VsbHVsYXIiLCJib3JuIiwic3Vydml2ZSIsInRvcG9sb2d5IiwiX2RpcnMiLCJwcm9iYWJpbGl0eSIsIm5ld01hcCIsIndpZHRoU3RlcCIsIndpZHRoU3RhcnQiLCJjdXIiLCJuY291bnQiLCJfZ2V0TmVpZ2hib3JzIiwiX3NlcnZpY2VDYWxsYmFjayIsImNvbm5lY3Rpb25DYWxsYmFjayIsImFsbEZyZWVTcGFjZSIsIm5vdENvbm5lY3RlZCIsIndpZHRoU3RhcnRzIiwiX2ZyZWVTcGFjZSIsIl9wb2ludEtleSIsIl9maW5kQ29ubmVjdGVkIiwiX2dldEZyb21UbyIsImZyb20iLCJ0byIsImxvY2FsIiwidHVubmVsRm4iLCJfdHVubmVsVG9Db25uZWN0ZWQ2IiwiX3R1bm5lbFRvQ29ubmVjdGVkIiwiayIsInBwIiwiY29ubmVjdGVkS2V5cyIsIm5vdENvbm5lY3RlZEtleXMiLCJfZ2V0Q2xvc2VzdCIsInBvaW50Iiwic3BhY2UiLCJtaW5Qb2ludCIsIm1pbkRpc3QiLCJrZWVwTm90Q29ubmVjdGVkIiwidGVzdHMiLCJ4eCIsInBrZXkiLCJ5eSIsInN0ZXBXaWR0aCIsIkRpZ2dlciIsImR1Z1BlcmNlbnRhZ2UiLCJfZmVhdHVyZXMiLCJfZmVhdHVyZUF0dGVtcHRzIiwiX3dhbGxzIiwiX3ByaW9yaXR5V2FsbENhbGxiYWNrIiwiYXJlYSIsIl9maXJzdFJvb20iLCJwcmlvcml0eVdhbGxzIiwid2FsbCIsIl9maW5kV2FsbCIsIl9nZXREaWdnaW5nRGlyZWN0aW9uIiwiZmVhdHVyZUF0dGVtcHRzIiwiX3RyeUZlYXR1cmUiLCJfcmVtb3ZlU3Vycm91bmRpbmdXYWxscyIsIl9hZGREb29ycyIsImNyZWF0ZVJhbmRvbUNlbnRlciIsInByaW8xIiwicHJpbzIiLCJmZWF0dXJlTmFtZSIsImdldFdlaWdodGVkVmFsdWUiLCJmZWF0dXJlIiwiY3JlYXRlUmFuZG9tQXQiLCJjcmVhdGVQcmlvcml0eVdhbGxzIiwiZGVsdGFzIiwiZGVsdGEiLCJhZGREb29ycyIsIkVsbGVyTWF6ZSIsIkRpdmlkZWRNYXplIiwiX3N0YWNrIiwiX3Byb2Nlc3MiLCJfcGFydGl0aW9uUm9vbSIsImF2YWlsWCIsImF2YWlsWSIsIndhbGxzIiwic29saWQiLCJob2xlIiwiSWNleU1hemUiLCJyZWd1bGFyaXR5IiwiX3JlZ3VsYXJpdHkiLCJibG9ja2VkIiwiZGlycyIsIl9yYW5kb21pemUiLCJfaXNGcmVlIiwiUm9ndWUiLCJjb25uZWN0ZWRDZWxscyIsImNlbGxXaWR0aCIsImNlbGxIZWlnaHQiLCJfY2FsY3VsYXRlUm9vbVNpemUiLCJfaW5pdFJvb21zIiwiX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zIiwiX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyIsIl9jcmVhdGVSb29tcyIsIl9jcmVhdGVDb3JyaWRvcnMiLCJjZWxsIiwiaWR4IiwibmNneCIsIm5jZ3kiLCJvdGhlclJvb20iLCJkaXJUb0NoZWNrIiwiY2d4IiwiY2d5IiwiZm91bmQiLCJ2YWxpZFJvb20iLCJjdyIsImRpcmVjdGlvbnMiLCJkaXJJZHgiLCJuZXdJIiwibmV3SiIsInJvb213Iiwicm9vbWgiLCJjd3AiLCJjaHAiLCJzeE9mZnNldCIsInN5T2Zmc2V0IiwiaWkiLCJqaiIsImFSb29tIiwiYURpcmVjdGlvbiIsInJ4IiwicnkiLCJkb29yIiwic3RhcnRQb3NpdGlvbiIsImVuZFBvc2l0aW9uIiwidGVtcERpc3QiLCJ4RGlyIiwieURpciIsIm1vdmUiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhwb3MiLCJ5cG9zIiwibW92ZXMiLCJ4QWJzIiwieUFicyIsInBlcmNlbnQiLCJmaXJzdEhhbGYiLCJzZWNvbmRIYWxmIiwiY29ubmVjdGlvbiIsIm90aGVyV2FsbCIsIl9kcmF3Q29ycmlkb3IiLCJfZ2V0V2FsbFBvc2l0aW9uIiwiUGF0aCIsInRvWCIsInRvWSIsInBhc3NhYmxlQ2FsbGJhY2siLCJfdG9YIiwiX3RvWSIsIl9wYXNzYWJsZUNhbGxiYWNrIiwiRGlqa3N0cmEiLCJfY29tcHV0ZWQiLCJfdG9kbyIsIl9hZGQiLCJmcm9tWCIsImZyb21ZIiwiX2NvbXB1dGUiLCJpdGVtIiwicHJldiIsIm5laWdoYm9ycyIsIm5laWdoYm9yIiwiQVN0YXIiLCJfZG9uZSIsIl9mcm9tWCIsIl9mcm9tWSIsIl9kaXN0YW5jZSIsImYiLCJpdGVtRiIsImRldmljZVBpeGVsUmF0aW8iLCJxdWVyeVNlbGVjdG9yIiwiZ3JpZCIsImRpc3BsYXkiLCJST1QiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5T3B0aW9uc0hlbHAiLCJkaXZIZWxwIiwiZGlzcGxheUhlbHAiLCJkcmF3VGV4dCIsInBhc2NhbENhc2UiLCJpc0xhc3RDaGFyTG93ZXIiLCJpc0xhc3RDaGFyVXBwZXIiLCJpc0xhc3RMYXN0Q2hhclVwcGVyIiwiY2hhcmFjdGVyIiwicHJlc2VydmVDYW1lbENhc2UiLCJwMSIsImNhbWVsQ2FjaGUiLCJjYW1lbFN0cmluZyIsImNhbWVsY2FzZVNsb3ciLCJyZWdpc3RlciIsImNsYXp6IiwiQmlnSW50IiwiaXNNZXJnZWFibGVPYmplY3QiLCJpc05vbk51bGxPYmplY3QiLCJzdHJpbmdWYWx1ZSIsImlzUmVhY3RFbGVtZW50IiwiaXNTcGVjaWFsIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQiLCJkZWVwbWVyZ2UiLCJkZWZhdWx0QXJyYXlNZXJnZSIsImVsZW1lbnQiLCJnZXRLZXlzIiwiZ2V0RW51bWVyYWJsZU93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNPbk9iamVjdCIsIm1lcmdlT2JqZWN0IiwiZGVzdGluYXRpb24iLCJwcm9wZXJ0eUlzVW5zYWZlIiwiY3VzdG9tTWVyZ2UiLCJnZXRNZXJnZUZ1bmN0aW9uIiwic291cmNlSXNBcnJheSIsIm92ZXJ3cml0ZSIsImFwcGx5VG9FbnRpdHkiLCJpbml0aWFsUHJvcHMiLCJlbnRpdHkiLCJjb21wIiwiYWRkQ29tcG9uZW50IiwicHJlZmFiUHJvcHMiLCJhcnJDb21wcyIsImNvbXBvbmVudCIsImNrZXkiLCJpbml0aWFsQ29tcFByb3BzIiwiZGVzZXJpYWxpemUiLCJyZWdpc3RlcmVkIiwicHJlZmFiIiwiUHJlZmFiIiwiaW5oZXJpdCIsInJlZiIsImNvbXBzIiwiY29tcG9uZW50RGF0YSIsIlByZWZhYkNvbXBvbmVudCIsIl9wcmVmYWJzIiwid29ybGQiLCJkZXN0cm95IiwiX29uRGVzdHJveWVkIiwiX29uRXZlbnQiLCJldnQiLCJfb25BdHRhY2hlZCIsInNlcmlhbGl6ZSIsIm9iIiwib25BdHRhY2hlZCIsIm9uRGVzdHJveWVkIiwib25FdmVudCIsIkNvbXBvbmVudCIsImlzIiwiaGFuZGxlIiwicHJldmVudCIsInN1YnRyYWN0Qml0IiwibnVtIiwiYml0IiwiYWRkQml0IiwiYml0SW50ZXJzZWN0aW9uIiwibjEiLCJuMiIsInNlcmlhbGl6ZUNvbXBvbmVudCIsInNlcmlhbGl6ZUNvbXBvbmVudEtleWVkIiwic2VyIiwiX2NhbmRpZGFjeSIsImF0dGFjaENvbXBvbmVudEtleWVkIiwiYXR0YWNoQ29tcG9uZW50QXJyYXkiLCJhdHRhY2hDb21wb25lbnQiLCJrZXlQcm9wIiwicmVtb3ZlQ29tcG9uZW50S2V5ZWQiLCJyZW1vdmVDb21wb25lbnRBcnJheSIsInJlbW92ZUNvbXBvbmVudCIsImNvbXBvbmVudHMiLCJmaXJlRXZlbnQiLCJFbnRpdHlFdmVudCIsImFueSIsImZpbHRlcnMiLCJhbGwiLCJub25lIiwib25FbnRpdHlBZGRlZCIsIm9uRW50aXR5UmVtb3ZlZCIsIl9jYWNoZSIsImJpdHMiLCJfYW55IiwiY2FuZGlkYXRlIiwiaXNUcmFja2luZyIsInJlZnJlc2giLCJjcmVhdGVJZCIsImdldEVudGl0eSIsIl9lbnRpdGllcyIsImdldEVudGl0aWVzIiwiY3JlYXRlRW50aXR5IiwiRW50aXR5IiwiZGVzdHJveUVudGl0eSIsImRlc3Ryb3lFbnRpdGllcyIsImNyZWF0ZVF1ZXJ5IiwicXVlcnkiLCJRdWVyeSIsImNyZWF0ZVByZWZhYiIsImVuZ2luZSIsImpzb24iLCJlbnRpdGllcyIsImxpc3QiLCJlbnRpdHlEYXRhIiwiX2NyZWF0ZU9yR2V0RW50aXR5QnlJZCIsIl9kZXNlcmlhbGl6ZUVudGl0eSIsImRlZiIsIl9jYW5kaWRhdGUiLCJfZGVzdHJveWVkIiwiUHJlZmFiUmVnaXN0cnkiLCJyZWdpc3RlckNvbXBvbmVudCIsInJlZ2lzdGVyUHJlZmFiIiwiY3JlYXRlV29ybGQiLCJXb3JsZCIsImRlc3Ryb3lXb3JsZCIsImVudGl0aWVzQXRMb2NhdGlvbiIsImFkZENhY2hlU2V0IiwiZGVsZXRlQ2FjaGVTZXQiLCJyZWFkQ2FjaGVTZXQiLCJDaGVja1NpbmdsZXMiLCJjb3VudHMiLCJBbGxvd2VkIiwiQ2hlY2tTYW1lcyIsIkNoZWNrRG91YmxlcyIsInRvTG9jSWQiLCJjZWxsT3JJZCIsImxvY0lkIiwiY2VsbFRvSWQiLCJpZFRvQ2VsbCIsImNvb3JkcyIsIkFiaWxpdHkiLCJjYW5Vc2UiLCJhYmlsaXR5IiwiZGljZSIsIkdldFNlbGVjdGVkRGllIiwieWFodHplZSIsIm9uVXNlIiwiYWJpbGl0eVBoYXNlIiwicGhhc2UiLCJBYmlsaXR5TW92ZSIsInNlbGVjdGVkIiwidG9HYWluIiwiQWJpbGl0eURvZGdlIiwiQWJpbGl0eVN3b3JkSmFiIiwiYWJpbGl0eUFsbG93ZWREaWUiLCJhbGxvd2VkIiwiYWJpbGl0eVRhcmdldCIsIlJvdGF0ZUNvb3JkcyIsImNvb3JkIiwibmV3RG1nVGlsZSIsIm9uVGFyZ2V0IiwiU2V0UXVldWVkQWJpbGl0eSIsIlNldFF1ZXVlZEVudGl0eSIsIkV4YW1pbmVUYXJnZXRFbmFibGUiLCJBYmlsaXR5U3dvcmRTd2luZyIsIkFiaWxpdHlTcGVhclRocnVzdCIsIkFiaWxpdHlEb3VibGVBeGVTd2luZyIsImRtZyIsImFiaWxpdHlEYW1hZ2UiLCJBYmlsaXR5QXhlRGVjYXBpdGF0ZSIsImRpZUxpc3QiLCJkaWUiLCJleGhhdXN0ZWQiLCJDb252ZXJ0Q29vcmRzRG93biIsIkNvbnZlcnRDb29yZHNMZWZ0IiwiQ29udmVydENvb3Jkc1JpZ2h0IiwibmV3UmlnaHQiLCJjbyIsImhvbGRlciIsIkFwcGVhcmFuY2UiLCJjaGFyIiwiYmFja2dyb3VuZCIsIkRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJJc0Jsb2NraW5nIiwiUG9zaXRpb24iLCJIZWFsdGgiLCJhbW91bnQiLCJJc0RlYWQiLCJNb3ZlbWVudCIsIm1vdmVtZW50IiwiZG9kZ2UiLCJtb3ZlQ29tcCIsIm14IiwibXkiLCJibG9ja2VycyIsImZhc3RBdHRhY2tzIiwiZW50aXRpZXNBdExvYyIsImVJZCIsImlzQmxvY2tpbmciLCJmYXN0QXR0YWNrIiwiTW92ZW1lbnRzIiwiR2Fpbk1vdmVtZW50IiwiQXJtb3VyIiwiU3RhbWluYSIsIkRpZSIsIm9uUm9sbERpY2UiLCJyZWdlbiIsInVzZWQiLCJzdGFtaW5hIiwiSXNUdXJuRW5kIiwiSXNQbGF5ZXJDb250cm9sbGVkIiwiSXNFbmVteSIsImVuZW15IiwiTGF5ZXJNYXAiLCJMYXllclVuaXQiLCJTbG93QXR0YWNrIiwiRmFzdEF0dGFjayIsIkRtZ1RpbGUiLCJBYmlsaXR5TGlzdCIsImFiaWxpdGllcyIsImFiaWwiLCJBYmlsaXR5VGFyZ2V0IiwiQWJpbGl0eUFsbG93ZWREaWUiLCJBYmlsaXR5RnVuY3Rpb24iLCJmdW5jdGlvbiIsIkFiaWxpdGllcyIsIkFiaWxpdHlQaGFzZSIsIkFiaWxpdHlTcGVlZCIsInNwZWVkIiwiQWJpbGl0eVN0YW1pbmFDb3N0IiwiQWJpbGl0eVNtYWxsTmFtZSIsInNtYWxsTmFtZSIsIkFiaWxpdHlSYW5nZSIsIkFiaWxpdHlEYW1hZ2UiLCJBYmlsaXR5RW5kc1R1cm4iLCJCZWluZyIsIldhbGwiLCJGbG9vciIsIlBsYXllckJlaW5nIiwiTW9iIiwiR29ibGluIiwiT3JjV2FycmlvciIsImVjcyIsIkVuZ2luZSIsInJlZ2lzdGVyQ29tcHMiLCJyZWdpc3RlclByZWZhYnMiLCJTdGFydEdhbWUiLCJwcmVmYWJzIiwiTWFrZVZpc2libGUiLCJ2aXNpYmlsaXR5IiwiYmFubmVyIiwiV3JpdGVBYmlsaXR5IiwidG9Xcml0ZSIsImxheWVyTWFwRW50aXRpZXMiLCJsYXllclVuaXRFbnRpdGllcyIsInNsb3dEbWdFbnRpdGllcyIsImZhc3REbWdFbnRpdGllcyIsImVuZW15RW50aXRpZXMiLCJFbnRpdHlUb1JlbmRlciIsImFiaWxpdHlIb3RrZXlzIiwiRHJhd1RleHQiLCJEcmF3Q2hhciIsImFwcGVhcmFuY2UiLCJyZW5kZXIiLCJnYW1lU3RhdGUiLCJoZWxwVGV4dCIsIkRyYXdIZWxwTWVudSIsIlNob3dBYmlsaXR5SW5mbyIsImRtZ1RpbGVzIiwiZG1nQ291bnQiLCJ0b0xvYyIsImRtZ1RpbGUiLCJSZW5kZXJEYW1hZ2VOdW1iZXJzIiwiQ3VycnJlbnRBY3RpdmVQbGF5ZXIiLCJoZWFsdGgiLCJyZW5kZXJBY3RpdmVQbGF5ZXIiLCJyZW5kZXJEaWVNZW51IiwiYWJpbGl0eUxpc3QiLCJjdXJyZW50UGhhc2UiLCJhYmlsaXR5RnVuY3Rpb24iLCJzbWxOYW1lIiwiYWJpbGl0eVNtYWxsTmFtZSIsInJlbmRlckFiaWxpdHlNZW51IiwicmVuZGVyRW5lbXlRdWlja0JhciIsInNsb3ciLCJnZXRFbnRpdGllc0F0TG9jIiwiZ290VW5pdCIsImVpZCIsImVudHMiLCJmYXN0IiwidGFyZ2V0RW50aXR5IiwiZHVuZ2Vvbk1hcEdlbiIsIkZldGNoRnJlZVRpbGUiLCJhbnlGcmVlIiwiQ3JlYXRlRnJlZVNwYWNlTGlzdCIsImVtcHR5VGlsZXMiLCJhbGx5RW50aXRpZXMiLCJNYWtlRGlqa3N0cmEiLCJBaVBhdGhmaW5kIiwiZGlqa3N0cmEiLCJGaW5kQ2xvc2VzdFRhcmdldCIsIndpbm5lciIsImNsb3Nlc3QiLCJjb21wdXRlIiwiQ2hlY2tTdHJhaWdodExpbmUiLCJjdXJyZW50WFkiLCJYcyIsIllzIiwiQ2hvb3NlQWlBdHRhY2siLCJhdHRhY2tlZCIsImFiaWxpdHlSYW5nZSIsInRhcmciLCJhYmlsaXR5U3RhbWluYUNvc3QiLCJNb3ZlRm9yd2FyZCIsIm5leHRTdGVwIiwicHJldmlvdXNHYW1lU3RhdGUiLCJxdWV1ZWRBYmlsaXR5IiwicXVldWVkRW50aXR5IiwiZW50IiwiQ3VycnJlbnRBY3RpdmVQbGF5ZXJJbmRleCIsInVzZXJJbnB1dCIsInBsYXllckVudGl0aWVzIiwiZG1nVGlsZUVudGl0aWVzIiwicHJvY2Vzc1VzZXJJbnB1dCIsIlNldFByZXZpb3VzU3RhdGUiLCJHZXROZXh0QWN0aXZlUGxheWVyIiwiUGxheWVyQXR0ZW1wdE1vdmUiLCJhYmlsaXR5SW5kZXgiLCJDb252ZXJ0U2tpbGxIb3RrZXkiLCJHZXRUYXJnZXRFbnRpdHlQb3MiLCJQbGF5ZXJUdXJuRGVmZW5kIiwiUHJvY2Vzc0RtZ1RpbGVzIiwiRW5kVHVyblByb2Nlc3MiLCJFeGFtaW5lVGFyZ2V0RGlzYWJsZSIsIlRhcmdldE1vdmUiLCJSZXR1cm5QcmV2aW91c0dhbWVTdGF0ZSIsImhvdGtleSIsImV2Iiwic2V0dXBUZXN0RmlnaHQiLCJuZXdQbGF5ZXIiLCJlbXB0eVRpbGUiLCJuZXdQbGF5ZXIyIiwiRW5lbXlBdHRhY2tUdXJuIiwiZW5lbSIsImFiaWxpdGllc0NhblVzZSIsInRvRGVzdHJveSIsImVudGl0eUF0TG9jIiwibGF5ZXJVbml0IiwiZ2FtZUxvb3AiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFB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LElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdEYsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElB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QUFJOHpELEdBQVUsQ0FBQzkxRCxJQUFFdW5DLFNHb1p2RGk0QixLQUNBOUMsS0FDQTdCLE1BWUY3dkIsdUJBTmlCLFNBQVhrMUIsSUE3WGMsU0FBYnBGLEdBQ0RBLEdBQVksa0JBQ1EsbUJBQWJBLElBS1BBLEdBQVksa0JBQ1pELE1BR29CLG1CQUFiQyxJQUNQOEUsS0FFQVYsR0FBZTNFLEdBQWN2K0QsT0FFN0I4K0QsR0FBWSxtQkFDWkQsTUFDb0Isb0JBQWJDLElBSWEsb0JBQWJBLEdBSFAyRCxLQVVrQixXQUFYM0QsSUFBb0MsYUFBWkEsSUFBd0MsUUFBYkEsSUFBb0MsZUFBYkEsSUFBMkMsY0FBYkEsSUFBMEMsZ0JBQWJBLElBQzVJMkQsS0FrV0Z6ekIsc0JBQXNCazFCIiwiZmlsZSI6Im1haW4uM2NiODBmNTI5MmUzNDViYjc4N2IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTApO1xuIiwiLyoqXG4gKiBUaGlzIGNvZGUgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgQWxlYSBhbGdvcml0aG07IChDKSAyMDEwIEpvaGFubmVzIEJhYWfDuGUuXG4gKiBBbGVhIGlzIGxpY2Vuc2VkIGFjY29yZGluZyB0byB0aGUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NSVRfTGljZW5zZS5cbiAqL1xuY29uc3QgRlJBQyA9IDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8qIDJeLTMyICovXG5jbGFzcyBSTkcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9zZWVkID0gMDtcbiAgICAgICAgdGhpcy5fczAgPSAwO1xuICAgICAgICB0aGlzLl9zMSA9IDA7XG4gICAgICAgIHRoaXMuX3MyID0gMDtcbiAgICAgICAgdGhpcy5fYyA9IDA7XG4gICAgfVxuICAgIGdldFNlZWQoKSB7IHJldHVybiB0aGlzLl9zZWVkOyB9XG4gICAgLyoqXG4gICAgICogU2VlZCB0aGUgbnVtYmVyIGdlbmVyYXRvclxuICAgICAqL1xuICAgIHNldFNlZWQoc2VlZCkge1xuICAgICAgICBzZWVkID0gKHNlZWQgPCAxID8gMSAvIHNlZWQgOiBzZWVkKTtcbiAgICAgICAgdGhpcy5fc2VlZCA9IHNlZWQ7XG4gICAgICAgIHRoaXMuX3MwID0gKHNlZWQgPj4+IDApICogRlJBQztcbiAgICAgICAgc2VlZCA9IChzZWVkICogNjkwNjkgKyAxKSA+Pj4gMDtcbiAgICAgICAgdGhpcy5fczEgPSBzZWVkICogRlJBQztcbiAgICAgICAgc2VlZCA9IChzZWVkICogNjkwNjkgKyAxKSA+Pj4gMDtcbiAgICAgICAgdGhpcy5fczIgPSBzZWVkICogRlJBQztcbiAgICAgICAgdGhpcy5fYyA9IDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBQc2V1ZG9yYW5kb20gdmFsdWUgWzAsMSksIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuICAgICAqL1xuICAgIGdldFVuaWZvcm0oKSB7XG4gICAgICAgIGxldCB0ID0gMjA5MTYzOSAqIHRoaXMuX3MwICsgdGhpcy5fYyAqIEZSQUM7XG4gICAgICAgIHRoaXMuX3MwID0gdGhpcy5fczE7XG4gICAgICAgIHRoaXMuX3MxID0gdGhpcy5fczI7XG4gICAgICAgIHRoaXMuX2MgPSB0IHwgMDtcbiAgICAgICAgdGhpcy5fczIgPSB0IC0gdGhpcy5fYztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3MyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbG93ZXJCb3VuZCBUaGUgbG93ZXIgZW5kIG9mIHRoZSByYW5nZSB0byByZXR1cm4gYSB2YWx1ZSBmcm9tLCBpbmNsdXNpdmVcbiAgICAgKiBAcGFyYW0gdXBwZXJCb3VuZCBUaGUgdXBwZXIgZW5kIG9mIHRoZSByYW5nZSB0byByZXR1cm4gYSB2YWx1ZSBmcm9tLCBpbmNsdXNpdmVcbiAgICAgKiBAcmV0dXJucyBQc2V1ZG9yYW5kb20gdmFsdWUgW2xvd2VyQm91bmQsIHVwcGVyQm91bmRdLCB1c2luZyBST1QuUk5HLmdldFVuaWZvcm0oKSB0byBkaXN0cmlidXRlIHRoZSB2YWx1ZVxuICAgICAqL1xuICAgIGdldFVuaWZvcm1JbnQobG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuICAgICAgICBsZXQgbWF4ID0gTWF0aC5tYXgobG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG4gICAgICAgIGxldCBtaW4gPSBNYXRoLm1pbihsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbWVhbiBNZWFuIHZhbHVlXG4gICAgICogQHBhcmFtIHN0ZGRldiBTdGFuZGFyZCBkZXZpYXRpb24uIH45NSUgb2YgdGhlIGFic29sdXRlIHZhbHVlcyB3aWxsIGJlIGxvd2VyIHRoYW4gMipzdGRkZXYuXG4gICAgICogQHJldHVybnMgQSBub3JtYWxseSBkaXN0cmlidXRlZCBwc2V1ZG9yYW5kb20gdmFsdWVcbiAgICAgKi9cbiAgICBnZXROb3JtYWwobWVhbiA9IDAsIHN0ZGRldiA9IDEpIHtcbiAgICAgICAgbGV0IHUsIHYsIHI7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHUgPSAyICogdGhpcy5nZXRVbmlmb3JtKCkgLSAxO1xuICAgICAgICAgICAgdiA9IDIgKiB0aGlzLmdldFVuaWZvcm0oKSAtIDE7XG4gICAgICAgICAgICByID0gdSAqIHUgKyB2ICogdjtcbiAgICAgICAgfSB3aGlsZSAociA+IDEgfHwgciA9PSAwKTtcbiAgICAgICAgbGV0IGdhdXNzID0gdSAqIE1hdGguc3FydCgtMiAqIE1hdGgubG9nKHIpIC8gcik7XG4gICAgICAgIHJldHVybiBtZWFuICsgZ2F1c3MgKiBzdGRkZXY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFBzZXVkb3JhbmRvbSB2YWx1ZSBbMSwxMDBdIGluY2x1c2l2ZSwgdW5pZm9ybWx5IGRpc3RyaWJ1dGVkXG4gICAgICovXG4gICAgZ2V0UGVyY2VudGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIDEgKyBNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpICogMTAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgUmFuZG9tbHkgcGlja2VkIGl0ZW0sIG51bGwgd2hlbiBsZW5ndGg9MFxuICAgICAqL1xuICAgIGdldEl0ZW0oYXJyYXkpIHtcbiAgICAgICAgaWYgKCFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheVtNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpICogYXJyYXkubGVuZ3RoKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIE5ldyBhcnJheSB3aXRoIHJhbmRvbWl6ZWQgaXRlbXNcbiAgICAgKi9cbiAgICBzaHVmZmxlKGFycmF5KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGNsb25lID0gYXJyYXkuc2xpY2UoKTtcbiAgICAgICAgd2hpbGUgKGNsb25lLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gY2xvbmUuaW5kZXhPZih0aGlzLmdldEl0ZW0oY2xvbmUpKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNsb25lLnNwbGljZShpbmRleCwgMSlbMF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIGtleT13aGF0ZXZlciwgdmFsdWU9d2VpZ2h0IChyZWxhdGl2ZSBwcm9iYWJpbGl0eSlcbiAgICAgKiBAcmV0dXJucyB3aGF0ZXZlclxuICAgICAqL1xuICAgIGdldFdlaWdodGVkVmFsdWUoZGF0YSkge1xuICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICB0b3RhbCArPSBkYXRhW2lkXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmFuZG9tID0gdGhpcy5nZXRVbmlmb3JtKCkgKiB0b3RhbDtcbiAgICAgICAgbGV0IGlkLCBwYXJ0ID0gMDtcbiAgICAgICAgZm9yIChpZCBpbiBkYXRhKSB7XG4gICAgICAgICAgICBwYXJ0ICs9IGRhdGFbaWRdO1xuICAgICAgICAgICAgaWYgKHJhbmRvbSA8IHBhcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYnkgc29tZSBmbG9hdGluZy1wb2ludCBhbm5veWFuY2Ugd2UgaGF2ZVxuICAgICAgICAvLyByYW5kb20gPj0gdG90YWwsIGp1c3QgcmV0dXJuIHRoZSBsYXN0IGlkLlxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBSTkcgc3RhdGUuIFVzZWZ1bCBmb3Igc3RvcmluZyB0aGUgc3RhdGUgYW5kIHJlLXNldHRpbmcgaXQgdmlhIHNldFN0YXRlLlxuICAgICAqIEByZXR1cm5zIEludGVybmFsIHN0YXRlXG4gICAgICovXG4gICAgZ2V0U3RhdGUoKSB7IHJldHVybiBbdGhpcy5fczAsIHRoaXMuX3MxLCB0aGlzLl9zMiwgdGhpcy5fY107IH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBwcmV2aW91c2x5IHJldHJpZXZlZCBzdGF0ZS5cbiAgICAgKi9cbiAgICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLl9zMCA9IHN0YXRlWzBdO1xuICAgICAgICB0aGlzLl9zMSA9IHN0YXRlWzFdO1xuICAgICAgICB0aGlzLl9zMiA9IHN0YXRlWzJdO1xuICAgICAgICB0aGlzLl9jID0gc3RhdGVbM107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY2xvbmVkIFJOR1xuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgUk5HKCk7XG4gICAgICAgIHJldHVybiBjbG9uZS5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlKCkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBSTkcoKS5zZXRTZWVkKERhdGUubm93KCkpO1xuIiwiLyoqXG4gKiBBbHdheXMgcG9zaXRpdmUgbW9kdWx1c1xuICogQHBhcmFtIHggT3BlcmFuZFxuICogQHBhcmFtIG4gTW9kdWx1c1xuICogQHJldHVybnMgeCBtb2R1bG8gblxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9kKHgsIG4pIHtcbiAgICByZXR1cm4gKHggJSBuICsgbikgJSBuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbCwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgIGlmICh2YWwgPCBtaW4pXG4gICAgICAgIHJldHVybiBtaW47XG4gICAgaWYgKHZhbCA+IG1heClcbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHJpbmcoMSk7XG59XG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBpbiBhIGZsZXhpYmxlIHdheS4gU2NhbnMgZm9yICVzIHN0cmluZ3MgYW5kIHJlcGxhY2VzIHRoZW0gd2l0aCBhcmd1bWVudHMuIExpc3Qgb2YgcGF0dGVybnMgaXMgbW9kaWZpYWJsZSB2aWEgU3RyaW5nLmZvcm1hdC5tYXAuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVcbiAqIEBwYXJhbSB7YW55fSBbYXJndl1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdCh0ZW1wbGF0ZSwgLi4uYXJncykge1xuICAgIGxldCBtYXAgPSBmb3JtYXQubWFwO1xuICAgIGxldCByZXBsYWNlciA9IGZ1bmN0aW9uIChtYXRjaCwgZ3JvdXAxLCBncm91cDIsIGluZGV4KSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZS5jaGFyQXQoaW5kZXggLSAxKSA9PSBcIiVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9iaiA9IGFyZ3NbMF07XG4gICAgICAgIGxldCBncm91cCA9IGdyb3VwMSB8fCBncm91cDI7XG4gICAgICAgIGxldCBwYXJ0cyA9IGdyb3VwLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgbGV0IG5hbWUgPSBwYXJ0cy5zaGlmdCgpIHx8IFwiXCI7XG4gICAgICAgIGxldCBtZXRob2QgPSBtYXBbbmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgaWYgKCFtZXRob2QpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBvYmogPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIGxldCByZXBsYWNlZCA9IG9ialttZXRob2RdLmFwcGx5KG9iaiwgcGFydHMpO1xuICAgICAgICBsZXQgZmlyc3QgPSBuYW1lLmNoYXJBdCgwKTtcbiAgICAgICAgaWYgKGZpcnN0ICE9IGZpcnN0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJlcGxhY2VkID0gY2FwaXRhbGl6ZShyZXBsYWNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuICAgIH07XG4gICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoLyUoPzooW2Etel0rKXwoPzp7KFtefV0rKX0pKS9naSwgcmVwbGFjZXIpO1xufVxuZm9ybWF0Lm1hcCA9IHtcbiAgICBcInNcIjogXCJ0b1N0cmluZ1wiXG59O1xuIiwiaW1wb3J0IHsgY2xhbXAgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuL3JuZy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyKSB7XG4gICAgbGV0IGNhY2hlZCwgcjtcbiAgICBpZiAoc3RyIGluIENBQ0hFKSB7XG4gICAgICAgIGNhY2hlZCA9IENBQ0hFW3N0cl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoc3RyLmNoYXJBdCgwKSA9PSBcIiNcIikgeyAvLyBoZXggcmdiXG4gICAgICAgICAgICBsZXQgbWF0Y2hlZCA9IHN0ci5tYXRjaCgvWzAtOWEtZl0vZ2kpIHx8IFtdO1xuICAgICAgICAgICAgbGV0IHZhbHVlcyA9IG1hdGNoZWQubWFwKCh4KSA9PiBwYXJzZUludCh4LCAxNikpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT0gMykge1xuICAgICAgICAgICAgICAgIGNhY2hlZCA9IHZhbHVlcy5tYXAoKHgpID0+IHggKiAxNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaSArIDFdICs9IDE2ICogdmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWNoZWQgPSB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHIgPSBzdHIubWF0Y2goL3JnYlxcKChbMC05LCBdKylcXCkvaSkpKSB7IC8vIGRlY2ltYWwgcmdiXG4gICAgICAgICAgICBjYWNoZWQgPSByWzFdLnNwbGl0KC9cXHMqLFxccyovKS5tYXAoKHgpID0+IHBhcnNlSW50KHgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gaHRtbCBuYW1lXG4gICAgICAgICAgICBjYWNoZWQgPSBbMCwgMCwgMF07XG4gICAgICAgIH1cbiAgICAgICAgQ0FDSEVbc3RyXSA9IGNhY2hlZDtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZC5zbGljZSgpO1xufVxuLyoqXG4gKiBBZGQgdHdvIG9yIG1vcmUgY29sb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGQoY29sb3IxLCAuLi5jb2xvcnMpIHtcbiAgICBsZXQgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xvcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXSArPSBjb2xvcnNbal1baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQWRkIHR3byBvciBtb3JlIGNvbG9ycywgTU9ESUZJRVMgRklSU1QgQVJHVU1FTlRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF8oY29sb3IxLCAuLi5jb2xvcnMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbG9ycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29sb3IxW2ldICs9IGNvbG9yc1tqXVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3IxO1xufVxuLyoqXG4gKiBNdWx0aXBseSAobWl4KSB0d28gb3IgbW9yZSBjb2xvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KGNvbG9yMSwgLi4uY29sb3JzKSB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sb3JzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gKj0gY29sb3JzW2pdW2ldIC8gMjU1O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlfKGNvbG9yMSwgLi4uY29sb3JzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xvcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbG9yMVtpXSAqPSBjb2xvcnNbal1baV0gLyAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgY29sb3IxW2ldID0gTWF0aC5yb3VuZChjb2xvcjFbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3IxO1xufVxuLyoqXG4gKiBJbnRlcnBvbGF0ZSAoYmxlbmQpIHR3byBjb2xvcnMgd2l0aCBhIGdpdmVuIGZhY3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGUoY29sb3IxLCBjb2xvcjIsIGZhY3RvciA9IDAuNSkge1xuICAgIGxldCByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICByZXN1bHRbaV0gPSBNYXRoLnJvdW5kKHJlc3VsdFtpXSArIGZhY3RvciAqIChjb2xvcjJbaV0gLSBjb2xvcjFbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjb25zdCBsZXJwID0gaW50ZXJwb2xhdGU7XG4vKipcbiAqIEludGVycG9sYXRlIChibGVuZCkgdHdvIGNvbG9ycyB3aXRoIGEgZ2l2ZW4gZmFjdG9yIGluIEhTTCBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUhTTChjb2xvcjEsIGNvbG9yMiwgZmFjdG9yID0gMC41KSB7XG4gICAgbGV0IGhzbDEgPSByZ2IyaHNsKGNvbG9yMSk7XG4gICAgbGV0IGhzbDIgPSByZ2IyaHNsKGNvbG9yMik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgaHNsMVtpXSArPSBmYWN0b3IgKiAoaHNsMltpXSAtIGhzbDFbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gaHNsMnJnYihoc2wxKTtcbn1cbmV4cG9ydCBjb25zdCBsZXJwSFNMID0gaW50ZXJwb2xhdGVIU0w7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyByYW5kb20gY29sb3IgYmFzZWQgb24gdGhpcyBvbmVcbiAqIEBwYXJhbSBjb2xvclxuICogQHBhcmFtIGRpZmYgU2V0IG9mIHN0YW5kYXJkIGRldmlhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbWl6ZShjb2xvciwgZGlmZikge1xuICAgIGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgZGlmZiA9IE1hdGgucm91bmQoUk5HLmdldE5vcm1hbCgwLCBkaWZmKSk7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBjb2xvci5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSArPSAoZGlmZiBpbnN0YW5jZW9mIEFycmF5ID8gTWF0aC5yb3VuZChSTkcuZ2V0Tm9ybWFsKDAsIGRpZmZbaV0pKSA6IGRpZmYpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNMLiBFeHBlY3RzIDAuLjI1NSBpbnB1dHMsIHByb2R1Y2VzIDAuLjEgb3V0cHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYjJoc2woY29sb3IpIHtcbiAgICBsZXQgciA9IGNvbG9yWzBdIC8gMjU1O1xuICAgIGxldCBnID0gY29sb3JbMV0gLyAyNTU7XG4gICAgbGV0IGIgPSBjb2xvclsyXSAvIDI1NTtcbiAgICBsZXQgbWF4ID0gTWF0aC5tYXgociwgZywgYiksIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgIGxldCBoID0gMCwgcywgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgICBpZiAobWF4ID09IG1pbikge1xuICAgICAgICBzID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGQgPSBtYXggLSBtaW47XG4gICAgICAgIHMgPSAobCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbikpO1xuICAgICAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzpcbiAgICAgICAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cbiAgICByZXR1cm4gW2gsIHMsIGxdO1xufVxuZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKVxuICAgICAgICB0ICs9IDE7XG4gICAgaWYgKHQgPiAxKVxuICAgICAgICB0IC09IDE7XG4gICAgaWYgKHQgPCAxIC8gNilcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgaWYgKHQgPCAxIC8gMilcbiAgICAgICAgcmV0dXJuIHE7XG4gICAgaWYgKHQgPCAyIC8gMylcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICAgIHJldHVybiBwO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLiBFeHBlY3RzIDAuLjEgaW5wdXRzLCBwcm9kdWNlcyAwLi4yNTUgb3V0cHV0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhzbDJyZ2IoY29sb3IpIHtcbiAgICBsZXQgbCA9IGNvbG9yWzJdO1xuICAgIGlmIChjb2xvclsxXSA9PSAwKSB7XG4gICAgICAgIGwgPSBNYXRoLnJvdW5kKGwgKiAyNTUpO1xuICAgICAgICByZXR1cm4gW2wsIGwsIGxdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IHMgPSBjb2xvclsxXTtcbiAgICAgICAgbGV0IHEgPSAobCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcyk7XG4gICAgICAgIGxldCBwID0gMiAqIGwgLSBxO1xuICAgICAgICBsZXQgciA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0gKyAxIC8gMyk7XG4gICAgICAgIGxldCBnID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSk7XG4gICAgICAgIGxldCBiID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSAtIDEgLyAzKTtcbiAgICAgICAgcmV0dXJuIFtNYXRoLnJvdW5kKHIgKiAyNTUpLCBNYXRoLnJvdW5kKGcgKiAyNTUpLCBNYXRoLnJvdW5kKGIgKiAyNTUpXTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdG9SR0IoY29sb3IpIHtcbiAgICBsZXQgY2xhbXBlZCA9IGNvbG9yLm1hcCh4ID0+IGNsYW1wKHgsIDAsIDI1NSkpO1xuICAgIHJldHVybiBgcmdiKCR7Y2xhbXBlZC5qb2luKFwiLFwiKX0pYDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0hleChjb2xvcikge1xuICAgIGxldCBjbGFtcGVkID0gY29sb3IubWFwKHggPT4gY2xhbXAoeCwgMCwgMjU1KS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKTtcbiAgICByZXR1cm4gYCMke2NsYW1wZWQuam9pbihcIlwiKX1gO1xufVxuY29uc3QgQ0FDSEUgPSB7XG4gICAgXCJibGFja1wiOiBbMCwgMCwgMF0sXG4gICAgXCJuYXZ5XCI6IFswLCAwLCAxMjhdLFxuICAgIFwiZGFya2JsdWVcIjogWzAsIDAsIDEzOV0sXG4gICAgXCJtZWRpdW1ibHVlXCI6IFswLCAwLCAyMDVdLFxuICAgIFwiYmx1ZVwiOiBbMCwgMCwgMjU1XSxcbiAgICBcImRhcmtncmVlblwiOiBbMCwgMTAwLCAwXSxcbiAgICBcImdyZWVuXCI6IFswLCAxMjgsIDBdLFxuICAgIFwidGVhbFwiOiBbMCwgMTI4LCAxMjhdLFxuICAgIFwiZGFya2N5YW5cIjogWzAsIDEzOSwgMTM5XSxcbiAgICBcImRlZXBza3libHVlXCI6IFswLCAxOTEsIDI1NV0sXG4gICAgXCJkYXJrdHVycXVvaXNlXCI6IFswLCAyMDYsIDIwOV0sXG4gICAgXCJtZWRpdW1zcHJpbmdncmVlblwiOiBbMCwgMjUwLCAxNTRdLFxuICAgIFwibGltZVwiOiBbMCwgMjU1LCAwXSxcbiAgICBcInNwcmluZ2dyZWVuXCI6IFswLCAyNTUsIDEyN10sXG4gICAgXCJhcXVhXCI6IFswLCAyNTUsIDI1NV0sXG4gICAgXCJjeWFuXCI6IFswLCAyNTUsIDI1NV0sXG4gICAgXCJtaWRuaWdodGJsdWVcIjogWzI1LCAyNSwgMTEyXSxcbiAgICBcImRvZGdlcmJsdWVcIjogWzMwLCAxNDQsIDI1NV0sXG4gICAgXCJmb3Jlc3RncmVlblwiOiBbMzQsIDEzOSwgMzRdLFxuICAgIFwic2VhZ3JlZW5cIjogWzQ2LCAxMzksIDg3XSxcbiAgICBcImRhcmtzbGF0ZWdyYXlcIjogWzQ3LCA3OSwgNzldLFxuICAgIFwiZGFya3NsYXRlZ3JleVwiOiBbNDcsIDc5LCA3OV0sXG4gICAgXCJsaW1lZ3JlZW5cIjogWzUwLCAyMDUsIDUwXSxcbiAgICBcIm1lZGl1bXNlYWdyZWVuXCI6IFs2MCwgMTc5LCAxMTNdLFxuICAgIFwidHVycXVvaXNlXCI6IFs2NCwgMjI0LCAyMDhdLFxuICAgIFwicm95YWxibHVlXCI6IFs2NSwgMTA1LCAyMjVdLFxuICAgIFwic3RlZWxibHVlXCI6IFs3MCwgMTMwLCAxODBdLFxuICAgIFwiZGFya3NsYXRlYmx1ZVwiOiBbNzIsIDYxLCAxMzldLFxuICAgIFwibWVkaXVtdHVycXVvaXNlXCI6IFs3MiwgMjA5LCAyMDRdLFxuICAgIFwiaW5kaWdvXCI6IFs3NSwgMCwgMTMwXSxcbiAgICBcImRhcmtvbGl2ZWdyZWVuXCI6IFs4NSwgMTA3LCA0N10sXG4gICAgXCJjYWRldGJsdWVcIjogWzk1LCAxNTgsIDE2MF0sXG4gICAgXCJjb3JuZmxvd2VyYmx1ZVwiOiBbMTAwLCAxNDksIDIzN10sXG4gICAgXCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsIDIwNSwgMTcwXSxcbiAgICBcImRpbWdyYXlcIjogWzEwNSwgMTA1LCAxMDVdLFxuICAgIFwiZGltZ3JleVwiOiBbMTA1LCAxMDUsIDEwNV0sXG4gICAgXCJzbGF0ZWJsdWVcIjogWzEwNiwgOTAsIDIwNV0sXG4gICAgXCJvbGl2ZWRyYWJcIjogWzEwNywgMTQyLCAzNV0sXG4gICAgXCJzbGF0ZWdyYXlcIjogWzExMiwgMTI4LCAxNDRdLFxuICAgIFwic2xhdGVncmV5XCI6IFsxMTIsIDEyOCwgMTQ0XSxcbiAgICBcImxpZ2h0c2xhdGVncmF5XCI6IFsxMTksIDEzNiwgMTUzXSxcbiAgICBcImxpZ2h0c2xhdGVncmV5XCI6IFsxMTksIDEzNiwgMTUzXSxcbiAgICBcIm1lZGl1bXNsYXRlYmx1ZVwiOiBbMTIzLCAxMDQsIDIzOF0sXG4gICAgXCJsYXduZ3JlZW5cIjogWzEyNCwgMjUyLCAwXSxcbiAgICBcImNoYXJ0cmV1c2VcIjogWzEyNywgMjU1LCAwXSxcbiAgICBcImFxdWFtYXJpbmVcIjogWzEyNywgMjU1LCAyMTJdLFxuICAgIFwibWFyb29uXCI6IFsxMjgsIDAsIDBdLFxuICAgIFwicHVycGxlXCI6IFsxMjgsIDAsIDEyOF0sXG4gICAgXCJvbGl2ZVwiOiBbMTI4LCAxMjgsIDBdLFxuICAgIFwiZ3JheVwiOiBbMTI4LCAxMjgsIDEyOF0sXG4gICAgXCJncmV5XCI6IFsxMjgsIDEyOCwgMTI4XSxcbiAgICBcInNreWJsdWVcIjogWzEzNSwgMjA2LCAyMzVdLFxuICAgIFwibGlnaHRza3libHVlXCI6IFsxMzUsIDIwNiwgMjUwXSxcbiAgICBcImJsdWV2aW9sZXRcIjogWzEzOCwgNDMsIDIyNl0sXG4gICAgXCJkYXJrcmVkXCI6IFsxMzksIDAsIDBdLFxuICAgIFwiZGFya21hZ2VudGFcIjogWzEzOSwgMCwgMTM5XSxcbiAgICBcInNhZGRsZWJyb3duXCI6IFsxMzksIDY5LCAxOV0sXG4gICAgXCJkYXJrc2VhZ3JlZW5cIjogWzE0MywgMTg4LCAxNDNdLFxuICAgIFwibGlnaHRncmVlblwiOiBbMTQ0LCAyMzgsIDE0NF0sXG4gICAgXCJtZWRpdW1wdXJwbGVcIjogWzE0NywgMTEyLCAyMTZdLFxuICAgIFwiZGFya3Zpb2xldFwiOiBbMTQ4LCAwLCAyMTFdLFxuICAgIFwicGFsZWdyZWVuXCI6IFsxNTIsIDI1MSwgMTUyXSxcbiAgICBcImRhcmtvcmNoaWRcIjogWzE1MywgNTAsIDIwNF0sXG4gICAgXCJ5ZWxsb3dncmVlblwiOiBbMTU0LCAyMDUsIDUwXSxcbiAgICBcInNpZW5uYVwiOiBbMTYwLCA4MiwgNDVdLFxuICAgIFwiYnJvd25cIjogWzE2NSwgNDIsIDQyXSxcbiAgICBcImRhcmtncmF5XCI6IFsxNjksIDE2OSwgMTY5XSxcbiAgICBcImRhcmtncmV5XCI6IFsxNjksIDE2OSwgMTY5XSxcbiAgICBcImxpZ2h0Ymx1ZVwiOiBbMTczLCAyMTYsIDIzMF0sXG4gICAgXCJncmVlbnllbGxvd1wiOiBbMTczLCAyNTUsIDQ3XSxcbiAgICBcInBhbGV0dXJxdW9pc2VcIjogWzE3NSwgMjM4LCAyMzhdLFxuICAgIFwibGlnaHRzdGVlbGJsdWVcIjogWzE3NiwgMTk2LCAyMjJdLFxuICAgIFwicG93ZGVyYmx1ZVwiOiBbMTc2LCAyMjQsIDIzMF0sXG4gICAgXCJmaXJlYnJpY2tcIjogWzE3OCwgMzQsIDM0XSxcbiAgICBcImRhcmtnb2xkZW5yb2RcIjogWzE4NCwgMTM0LCAxMV0sXG4gICAgXCJtZWRpdW1vcmNoaWRcIjogWzE4NiwgODUsIDIxMV0sXG4gICAgXCJyb3N5YnJvd25cIjogWzE4OCwgMTQzLCAxNDNdLFxuICAgIFwiZGFya2toYWtpXCI6IFsxODksIDE4MywgMTA3XSxcbiAgICBcInNpbHZlclwiOiBbMTkyLCAxOTIsIDE5Ml0sXG4gICAgXCJtZWRpdW12aW9sZXRyZWRcIjogWzE5OSwgMjEsIDEzM10sXG4gICAgXCJpbmRpYW5yZWRcIjogWzIwNSwgOTIsIDkyXSxcbiAgICBcInBlcnVcIjogWzIwNSwgMTMzLCA2M10sXG4gICAgXCJjaG9jb2xhdGVcIjogWzIxMCwgMTA1LCAzMF0sXG4gICAgXCJ0YW5cIjogWzIxMCwgMTgwLCAxNDBdLFxuICAgIFwibGlnaHRncmF5XCI6IFsyMTEsIDIxMSwgMjExXSxcbiAgICBcImxpZ2h0Z3JleVwiOiBbMjExLCAyMTEsIDIxMV0sXG4gICAgXCJwYWxldmlvbGV0cmVkXCI6IFsyMTYsIDExMiwgMTQ3XSxcbiAgICBcInRoaXN0bGVcIjogWzIxNiwgMTkxLCAyMTZdLFxuICAgIFwib3JjaGlkXCI6IFsyMTgsIDExMiwgMjE0XSxcbiAgICBcImdvbGRlbnJvZFwiOiBbMjE4LCAxNjUsIDMyXSxcbiAgICBcImNyaW1zb25cIjogWzIyMCwgMjAsIDYwXSxcbiAgICBcImdhaW5zYm9yb1wiOiBbMjIwLCAyMjAsIDIyMF0sXG4gICAgXCJwbHVtXCI6IFsyMjEsIDE2MCwgMjIxXSxcbiAgICBcImJ1cmx5d29vZFwiOiBbMjIyLCAxODQsIDEzNV0sXG4gICAgXCJsaWdodGN5YW5cIjogWzIyNCwgMjU1LCAyNTVdLFxuICAgIFwibGF2ZW5kZXJcIjogWzIzMCwgMjMwLCAyNTBdLFxuICAgIFwiZGFya3NhbG1vblwiOiBbMjMzLCAxNTAsIDEyMl0sXG4gICAgXCJ2aW9sZXRcIjogWzIzOCwgMTMwLCAyMzhdLFxuICAgIFwicGFsZWdvbGRlbnJvZFwiOiBbMjM4LCAyMzIsIDE3MF0sXG4gICAgXCJsaWdodGNvcmFsXCI6IFsyNDAsIDEyOCwgMTI4XSxcbiAgICBcImtoYWtpXCI6IFsyNDAsIDIzMCwgMTQwXSxcbiAgICBcImFsaWNlYmx1ZVwiOiBbMjQwLCAyNDgsIDI1NV0sXG4gICAgXCJob25leWRld1wiOiBbMjQwLCAyNTUsIDI0MF0sXG4gICAgXCJhenVyZVwiOiBbMjQwLCAyNTUsIDI1NV0sXG4gICAgXCJzYW5keWJyb3duXCI6IFsyNDQsIDE2NCwgOTZdLFxuICAgIFwid2hlYXRcIjogWzI0NSwgMjIyLCAxNzldLFxuICAgIFwiYmVpZ2VcIjogWzI0NSwgMjQ1LCAyMjBdLFxuICAgIFwid2hpdGVzbW9rZVwiOiBbMjQ1LCAyNDUsIDI0NV0sXG4gICAgXCJtaW50Y3JlYW1cIjogWzI0NSwgMjU1LCAyNTBdLFxuICAgIFwiZ2hvc3R3aGl0ZVwiOiBbMjQ4LCAyNDgsIDI1NV0sXG4gICAgXCJzYWxtb25cIjogWzI1MCwgMTI4LCAxMTRdLFxuICAgIFwiYW50aXF1ZXdoaXRlXCI6IFsyNTAsIDIzNSwgMjE1XSxcbiAgICBcImxpbmVuXCI6IFsyNTAsIDI0MCwgMjMwXSxcbiAgICBcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsIDI1MCwgMjEwXSxcbiAgICBcIm9sZGxhY2VcIjogWzI1MywgMjQ1LCAyMzBdLFxuICAgIFwicmVkXCI6IFsyNTUsIDAsIDBdLFxuICAgIFwiZnVjaHNpYVwiOiBbMjU1LCAwLCAyNTVdLFxuICAgIFwibWFnZW50YVwiOiBbMjU1LCAwLCAyNTVdLFxuICAgIFwiZGVlcHBpbmtcIjogWzI1NSwgMjAsIDE0N10sXG4gICAgXCJvcmFuZ2VyZWRcIjogWzI1NSwgNjksIDBdLFxuICAgIFwidG9tYXRvXCI6IFsyNTUsIDk5LCA3MV0sXG4gICAgXCJob3RwaW5rXCI6IFsyNTUsIDEwNSwgMTgwXSxcbiAgICBcImNvcmFsXCI6IFsyNTUsIDEyNywgODBdLFxuICAgIFwiZGFya29yYW5nZVwiOiBbMjU1LCAxNDAsIDBdLFxuICAgIFwibGlnaHRzYWxtb25cIjogWzI1NSwgMTYwLCAxMjJdLFxuICAgIFwib3JhbmdlXCI6IFsyNTUsIDE2NSwgMF0sXG4gICAgXCJsaWdodHBpbmtcIjogWzI1NSwgMTgyLCAxOTNdLFxuICAgIFwicGlua1wiOiBbMjU1LCAxOTIsIDIwM10sXG4gICAgXCJnb2xkXCI6IFsyNTUsIDIxNSwgMF0sXG4gICAgXCJwZWFjaHB1ZmZcIjogWzI1NSwgMjE4LCAxODVdLFxuICAgIFwibmF2YWpvd2hpdGVcIjogWzI1NSwgMjIyLCAxNzNdLFxuICAgIFwibW9jY2FzaW5cIjogWzI1NSwgMjI4LCAxODFdLFxuICAgIFwiYmlzcXVlXCI6IFsyNTUsIDIyOCwgMTk2XSxcbiAgICBcIm1pc3R5cm9zZVwiOiBbMjU1LCAyMjgsIDIyNV0sXG4gICAgXCJibGFuY2hlZGFsbW9uZFwiOiBbMjU1LCAyMzUsIDIwNV0sXG4gICAgXCJwYXBheWF3aGlwXCI6IFsyNTUsIDIzOSwgMjEzXSxcbiAgICBcImxhdmVuZGVyYmx1c2hcIjogWzI1NSwgMjQwLCAyNDVdLFxuICAgIFwic2Vhc2hlbGxcIjogWzI1NSwgMjQ1LCAyMzhdLFxuICAgIFwiY29ybnNpbGtcIjogWzI1NSwgMjQ4LCAyMjBdLFxuICAgIFwibGVtb25jaGlmZm9uXCI6IFsyNTUsIDI1MCwgMjA1XSxcbiAgICBcImZsb3JhbHdoaXRlXCI6IFsyNTUsIDI1MCwgMjQwXSxcbiAgICBcInNub3dcIjogWzI1NSwgMjUwLCAyNTBdLFxuICAgIFwieWVsbG93XCI6IFsyNTUsIDI1NSwgMF0sXG4gICAgXCJsaWdodHllbGxvd1wiOiBbMjU1LCAyNTUsIDIyNF0sXG4gICAgXCJpdm9yeVwiOiBbMjU1LCAyNTUsIDI0MF0sXG4gICAgXCJ3aGl0ZVwiOiBbMjU1LCAyNTUsIDI1NV1cbn07XG4iLCIvKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBkaXNwbGF5IGJhY2tlbmQgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWNrZW5kIHtcbiAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiBudWxsOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7IHRoaXMuX29wdGlvbnMgPSBvcHRpb25zOyB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9vcGVuanNmLm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlLUVTNSBlbnZpcm9ubWVudHMuICovXG4gIHZhciB1bmRlZmluZWQ7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLiAqL1xuICB2YXIgVkVSU0lPTiA9ICc0LjE3LjIxJztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuICB2YXIgQ09SRV9FUlJPUl9URVhUID0gJ1Vuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLicsXG4gICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbicsXG4gICAgICBJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUID0gJ0ludmFsaWQgYHZhcmlhYmxlYCBvcHRpb24gcGFzc2VkIGludG8gYF8udGVtcGxhdGVgJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG4gIHZhciByZVRyaW1TdGFydCA9IC9eXFxzKy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG4gIHZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cbiAgdmFyIHJlV3JhcENvbW1lbnQgPSAvXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLFxuICAgICAgcmVXcmFwRGV0YWlscyA9IC9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxcbiAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHZhbGlkYXRlIHRoZSBgdmFsaWRhdGVgIG9wdGlvbiBpbiBgXy50ZW1wbGF0ZWAgdmFyaWFibGUuXG4gICAqXG4gICAqIEZvcmJpZHMgY2hhcmFjdGVycyB3aGljaCBjb3VsZCBwb3RlbnRpYWxseSBjaGFuZ2UgdGhlIG1lYW5pbmcgb2YgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50IGRlZmluaXRpb246XG4gICAqIC0gXCIoKSxcIiAobW9kaWZpY2F0aW9uIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCI9XCIgKGRlZmF1bHQgdmFsdWUpXG4gICAqIC0gXCJbXXt9XCIgKGRlc3RydWN0dXJpbmcgb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIi9cIiAoYmVnaW5uaW5nIG9mIGEgY29tbWVudClcbiAgICogLSB3aGl0ZXNwYWNlXG4gICAqL1xuICB2YXIgcmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMgPSAvWygpPSx7fVxcW1xcXVxcL1xcc10vO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2hcbiAgICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xuICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZicsXG4gICAgICByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgPSAnXFxcXHVmZTIwLVxcXFx1ZmUyZicsXG4gICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuICAgICAgcnNDb21ib1JhbmdlID0gcnNDb21ib01hcmtzUmFuZ2UgKyByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlLFxuICAgICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbiAgdmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvUmFuZ2UgKyAnXScsXG4gICAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbiAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNNaXNjVXBwZXIgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc09wdENvbnRyTG93ZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgICByc09yZExvd2VyID0gJ1xcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKScsXG4gICAgICByc09yZFVwcGVyID0gJ1xcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKScsXG4gICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xuICB2YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICAgKi9cbiAgdmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG4gIHZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzTWlzY1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTWlzY0xvd2VyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyICsgJz8nICsgcnNNaXNjTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIsXG4gICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcbiAgICByc09yZFVwcGVyLFxuICAgIHJzT3JkTG93ZXIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcy4gKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJywgJ0ludDhBcnJheScsICdJbnQxNkFycmF5JywgJ0ludDMyQXJyYXknLCAnTWFwJywgJ01hdGgnLCAnT2JqZWN0JyxcbiAgICAnUHJvbWlzZScsICdSZWdFeHAnLCAnU2V0JywgJ1N0cmluZycsICdTeW1ib2wnLCAnVHlwZUVycm9yJywgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcbiAgICAnXycsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5LiAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gLTE7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG4gIHZhciBjbG9uZWFibGVUYWdzID0ge307XG4gIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAncydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xuICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy4gKi9cbiAgdmFyIGh0bWxVbmVzY2FwZXMgPSB7XG4gICAgJyZhbXA7JzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmIzM5Oyc6IFwiJ1wiXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG4gIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgICBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4gIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuICB2YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICAgIGlmICh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZ1xuICAgICAgPyBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJylcbiAgICAgIDogc3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gICAqIGNoYXJhY3RlciBvZiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgaWYgKGl0ZXJhdGVlcy5sZW5ndGgpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIGlmIChpc0FycmF5KGl0ZXJhdGVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlR2V0KHZhbHVlLCBpdGVyYXRlZS5sZW5ndGggPT09IDEgPyBpdGVyYXRlZVswXSA6IGl0ZXJhdGVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpZGVudGl0eV07XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZU1hcChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBjcml0ZXJpYSA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgJ2NyaXRlcmlhJzogY3JpdGVyaWEsICdpbmRleCc6ICsraW5kZXgsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJhc2VTb3J0QnkocmVzdWx0LCBmdW5jdGlvbihvYmplY3QsIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnBpY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2sob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGhhc0luKG9iamVjdCwgcGF0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiAgYF8ucGlja0J5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrQnkob2JqZWN0LCBwYXRocywgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYXRoID0gcGF0aHNbaW5kZXhdLFxuICAgICAgICAgICAgdmFsdWUgPSBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG5cbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgcGF0aCkpIHtcbiAgICAgICAgICBiYXNlU2V0KHJlc3VsdCwgY2FzdFBhdGgocGF0aCwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVByb3BlcnR5YCB3aGljaCBzdXBwb3J0cyBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eURlZXAocGF0aCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQWxsQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICAgKiBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgc2VlbiA9IGFycmF5O1xuXG4gICAgICBpZiAoYXJyYXkgPT09IHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMgPSBjb3B5QXJyYXkodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBzZWVuID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGZyb21JbmRleCA9IDAsXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tSW5kZXggPSBpbmRleE9mKHNlZW4sIGNvbXB1dGVkLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpKSA+IC0xKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IGFycmF5KSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChzZWVuLCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogaW5kZXhlcyBvciBjYXB0dXJpbmcgdGhlIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlcyBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gaW5kZXhlcy5sZW5ndGggOiAwLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGlmIChsZW5ndGggPT0gbGFzdEluZGV4IHx8IGluZGV4ICE9PSBwcmV2aW91cykge1xuICAgICAgICAgIHZhciBwcmV2aW91cyA9IGluZGV4O1xuICAgICAgICAgIGlmIChpc0luZGV4KGluZGV4KSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVVuc2V0KGFycmF5LCBpbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZG9tYCB3aXRob3V0IHN1cHBvcnQgZm9yIHJldHVybmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3dlciBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKSB7XG4gICAgICByZXR1cm4gbG93ZXIgKyBuYXRpdmVGbG9vcihuYXRpdmVSYW5kb20oKSAqICh1cHBlciAtIGxvd2VyICsgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmdlYCBhbmQgYF8ucmFuZ2VSaWdodGAgd2hpY2ggZG9lc24ndFxuICAgICAqIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0ZXAgVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChuYXRpdmVDZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSksIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF0gPSBzdGFydDtcbiAgICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVwZWF0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlcGVhdChzdHJpbmcsIG4pIHtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIGlmICghc3RyaW5nIHx8IG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBMZXZlcmFnZSB0aGUgZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcgYWxnb3JpdGhtIGZvciBhIGZhc3RlciByZXBlYXQuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXhwb25lbnRpYXRpb25fYnlfc3F1YXJpbmcgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKG4gJSAyKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBuID0gbmF0aXZlRmxvb3IobiAvIDIpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKG4pO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gYXJyYXlTYW1wbGUodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVTaXplYCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4pIHtcbiAgICAgIHZhciBhcnJheSA9IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihhcnJheSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgICAgIHdoaWxlIChuZXN0ZWQgIT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nIHx8IGtleSA9PT0gJ2NvbnN0cnVjdG9yJyB8fCBrZXkgPT09ICdwcm90b3R5cGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmRleCAhPSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICAgICAgOiAoaXNJbmRleChwYXRoW2luZGV4ICsgMV0pID8gW10gOiB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzc2lnblZhbHVlKG5lc3RlZCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0RGF0YWAgd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0RGF0YSA9ICFtZXRhTWFwID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBkYXRhKSB7XG4gICAgICBtZXRhTWFwLnNldChmdW5jLCBkYXRhKTtcbiAgICAgIHJldHVybiBmdW5jO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNodWZmbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZih2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNsaWNlYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gc3RhcnQgPiBlbmQgPyAwIDogKChlbmQgLSBzdGFydCkgPj4+IDApO1xuICAgICAgc3RhcnQgPj4+PSAwO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29tZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiAhcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhgIHdoaWNoXG4gICAgICogcGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIG9mIGBhcnJheWAgdG8gZGV0ZXJtaW5lIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyBsb3cgOiBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT09IHZhbHVlICYmIGhpZ2ggPD0gSEFMRl9NQVhfQVJSQVlfTEVOR1RIKSB7XG4gICAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBhcnJheVttaWRdO1xuXG4gICAgICAgICAgaWYgKGNvbXB1dGVkICE9PSBudWxsICYmICFpc1N5bWJvbChjb21wdXRlZCkgJiZcbiAgICAgICAgICAgICAgKHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpKSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpZGVudGl0eSwgcmV0SGlnaGVzdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkSW5kZXhCeWAgYW5kIGBfLnNvcnRlZExhc3RJbmRleEJ5YFxuICAgICAqIHdoaWNoIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZVxuICAgICAqIHRoZWlyIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChoaWdoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgIHZhciB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24gJiYgbmF0aXZlSXNGaW5pdGUobnVtYmVyKSkge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIGFyclN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKGFyclN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gYXJyU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IGFycmF5O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIG9ialN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChvYmpTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIG9ialN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBvYmplY3Q7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiIG9yIFwiY29uc3RydWN0b3JcIi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYWZlR2V0KG9iamVjdCwga2V5KSB7XG4gICAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIENvbWJpbmluZyBzZXZlcmFsIHByZWRpY2F0ZXMgdXNpbmcgYF8ub3ZlckV2ZXJ5YCBvciBgXy5vdmVyU29tZWAuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8ub3ZlclNvbWUoW3sgJ2FnZSc6IDM2IH0sIFsnYWdlJywgNDBdXSkpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiAzMCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgMzBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgMzBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBiYXNlVHJpbSh2YWx1ZSk7XG4gICAgICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICAgICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgICAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gICAgICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzYWZlIGludGVnZXIuIEEgc2FmZSBpbnRlZ2VyIGNhbiBiZSBjb21wYXJlZCBhbmRcbiAgICAgKiByZXByZXNlbnRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDkwMDcxOTkyNTQ3NDA5OTFcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgOiAodmFsdWUgPT09IDAgPyB2YWx1ZSA6IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gICAgICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1N0cmluZyhudWxsKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZygtMCk7XG4gICAgICogLy8gPT4gJy0wJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+ICcxLDIsMydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgaWYgKGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgc291cmNlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ25Jbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMsICdkJzogNCB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduSW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGBwYXRoc2Agb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8uYXQob2JqZWN0LCBbJ2FbMF0uYi5jJywgJ2FbMV0nXSk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIGF0ID0gZmxhdFJlc3QoYmFzZUF0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBnaXZlbiwgaXRzIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIGFzc2lnbmVkIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gVGhlIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgICogICBTaGFwZS5jYWxsKHRoaXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIENpcmNsZS5wcm90b3R5cGUgPSBfLmNyZWF0ZShTaGFwZS5wcm90b3R5cGUsIHtcbiAgICAgKiAgICdjb25zdHJ1Y3Rvcic6IENpcmNsZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgQ2lyY2xlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIFNoYXBlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPT0gbnVsbCA/IHJlc3VsdCA6IGJhc2VBc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlXG4gICAgICogb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0XG4gICAgICogcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIE9uY2UgYSBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgdmFsdWVzIG9mIHRoZSBzYW1lIHByb3BlcnR5IGFyZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0cyA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgdmFyIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzSW4oc291cmNlKTtcbiAgICAgICAgdmFyIHByb3BzSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK3Byb3BzSW5kZXggPCBwcm9wc0xlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIChlcSh2YWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGVmYXVsdHNgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGFzc2lnbnNcbiAgICAgKiBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHNEZWVwKHsgJ2EnOiB7ICdiJzogMiB9IH0sIHsgJ2EnOiB7ICdiJzogMSwgJ2MnOiAzIH0gfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiAyLCAnYyc6IDMgfSB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzRGVlcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UpO1xuICAgICAgcmV0dXJuIGFwcGx5KG1lcmdlV2l0aCwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUga2V5IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRLZXlgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBhIGNvbGxlY3Rpb24gaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gcmV0dXJucyAncGViYmxlcycgYXNzdW1pbmcgYF8uZmluZEtleWAgcmV0dXJucyAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd25SaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuXG4gICAgICogb2JqZWN0IGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW4obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJywgJ2InLCB0aGVuICdjJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdjJywgJ2InLCB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JJbmAgbG9ncyAnYScsICdiJywgdGhlbiAnYycuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kXG4gICAgICogaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvblxuICAgICAqIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd24obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvck93bmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93blJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYicgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICdhJyB0aGVuICdiJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgKiBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBhbmQgaW5oZXJpdGVkXG4gICAgICogZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICAgICAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG4gICAgICogdmFyIG90aGVyID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob3RoZXIsICdhJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqIElmIGBvYmplY3RgIGNvbnRhaW5zIGR1cGxpY2F0ZSB2YWx1ZXMsIHN1YnNlcXVlbnQgdmFsdWVzIG92ZXJ3cml0ZVxuICAgICAqIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6ICdjJywgJzInOiAnYicgfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnQgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W3ZhbHVlXSA9IGtleTtcbiAgICB9LCBjb25zdGFudChpZGVudGl0eSkpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnZlcnRgIGV4Y2VwdCB0aGF0IHRoZSBpbnZlcnRlZCBvYmplY3QgaXMgZ2VuZXJhdGVkXG4gICAgICogZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGNvcnJlc3BvbmRpbmcgaW52ZXJ0ZWQgdmFsdWUgb2YgZWFjaCBpbnZlcnRlZCBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5c1xuICAgICAqIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBpbnZlcnRlZCB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gJ2dyb3VwJyArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2dyb3VwMSc6IFsnYScsICdjJ10sICdncm91cDInOiBbJ2InXSB9XG4gICAgICovXG4gICAgdmFyIGludmVydEJ5ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0ucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXSA9IFtrZXldO1xuICAgICAgfVxuICAgIH0sIGdldEl0ZXJhdGVlKTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiBbMSwgMiwgMywgNF0gfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5pbnZva2Uob2JqZWN0LCAnYVswXS5iLmMuc2xpY2UnLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlID0gYmFzZVJlc3QoYmFzZUludm9rZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAgICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy5rZXlzKCdoaScpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5c0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tYXBWYWx1ZXNgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAqIHNhbWUgdmFsdWVzIGFzIGBvYmplY3RgIGFuZCBrZXlzIGdlbmVyYXRlZCBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGVcbiAgICAgKiBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBWYWx1ZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBLZXlzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgcmV0dXJuIGtleSArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2ExJzogMSwgJ2IyJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwS2V5cyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkXG4gICAgICogYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwS2V5c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnZnJlZCc6ICAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAgICAgKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICAgICAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICAgICAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBvdGhlciA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lcmdlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuICAgICAqIHByb3BlcnRpZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBtZXJnaW5nIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHNpeCBhcmd1bWVudHM6XG4gICAgICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gb2JqVmFsdWUuY29uY2F0KHNyY1ZhbHVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFsxXSwgJ2InOiBbMl0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZVdpdGgob2JqZWN0LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZVdpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGVcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IHBhdGhzIG9mIGBvYmplY3RgIHRoYXQgYXJlIG5vdCBvbWl0dGVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGNvbnNpZGVyYWJseSBzbG93ZXIgdGhhbiBgXy5waWNrYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIG9taXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXQob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICB2YXIgb21pdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgcGF0aHMgPSBhcnJheU1hcChwYXRocywgZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgICAgaXNEZWVwIHx8IChpc0RlZXAgPSBwYXRoLmxlbmd0aCA+IDEpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0pO1xuICAgICAgY29weU9iamVjdChvYmplY3QsIGdldEFsbEtleXNJbihvYmplY3QpLCByZXN1bHQpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXN1bHQgPSBiYXNlQ2xvbmUocmVzdWx0LCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9GTEFUX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbU9taXRDbG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGJhc2VVbnNldChyZXN1bHQsIHBhdGhzW2xlbmd0aF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrQnlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZlxuICAgICAqIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgIHRoYXRcbiAgICAgKiBgcHJlZGljYXRlYCBkb2Vzbid0IHJldHVybiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0Qnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0Qnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBwaWNrQnkob2JqZWN0LCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgYG9iamVjdGAgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2sob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgcGljayA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHt9IDogYmFzZVBpY2sob2JqZWN0LCBwYXRocyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgYG9iamVjdGAgcHJvcGVydGllcyBgcHJlZGljYXRlYCByZXR1cm5zXG4gICAgICogdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2tCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wcyA9IGFycmF5TWFwKGdldEFsbEtleXNJbihvYmplY3QpLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIHJldHVybiBbcHJvcF07XG4gICAgICB9KTtcbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSk7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlKHZhbHVlLCBwYXRoWzBdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZ2V0YCBleGNlcHQgdGhhdCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgYVxuICAgICAqIGZ1bmN0aW9uIGl0J3MgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBpdHMgcGFyZW50IG9iamVjdCBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MxJzogMywgJ2MyJzogXy5jb25zdGFudCg0KSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzEnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzInKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgXy5jb25zdGFudCgnZGVmYXVsdCcpKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgLy8gRW5zdXJlIHRoZSBsb29wIGlzIGVudGVyZWQgd2hlbiBwYXRoIGlzIGVtcHR5LlxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3RbdG9LZXkocGF0aFtpbmRleF0pXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAgICAgKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAgICAgKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICAgICAqIGBwYXRoYCBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy5zZXRXaXRoKG9iamVjdCwgJ1swXVsxXScsICdhJywgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXaXRoKG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgXG4gICAgICogd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwIG9yIHNldCwgaXRzXG4gICAgICogZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlycyA9IGNyZWF0ZVRvUGFpcnMoa2V5cyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzXG4gICAgICogZm9yIGBvYmplY3RgIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcFxuICAgICAqIG9yIHNldCwgaXRzIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNJblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlyc0luID0gY3JlYXRlVG9QYWlycyhrZXlzSW4pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYDsgdGhpcyBtZXRob2QgdHJhbnNmb3JtcyBgb2JqZWN0YCB0byBhIG5ld1xuICAgICAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAgICAgKiBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIHRocnUgYGl0ZXJhdGVlYCwgd2l0aCBlYWNoIGludm9jYXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIElmIGBhY2N1bXVsYXRvcmAgaXMgbm90XG4gICAgICogcHJvdmlkZWQsIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGBbW1Byb3RvdHlwZV1dYCB3aWxsIGJlIHVzZWQuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czogKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oWzIsIDMsIDRdLCBmdW5jdGlvbihyZXN1bHQsIG4pIHtcbiAgICAgKiAgIHJlc3VsdC5wdXNoKG4gKj0gbik7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDldXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgaXNBcnJMaWtlID0gaXNBcnIgfHwgaXNCdWZmZXIob2JqZWN0KSB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCk7XG4gICAgICBpZiAoYWNjdW11bGF0b3IgPT0gbnVsbCkge1xuICAgICAgICB2YXIgQ3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChpc0Fyckxpa2UpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzQXJyID8gbmV3IEN0b3IgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0Z1bmN0aW9uKEN0b3IpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaXNBcnJMaWtlID8gYXJyYXlFYWNoIDogYmFzZUZvck93bikob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDcgfSB9XSB9O1xuICAgICAqIF8udW5zZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHRydWUgOiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgYWNjZXB0cyBgdXBkYXRlcmAgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiB2YWx1ZSB0byBzZXQuIFVzZSBgXy51cGRhdGVXaXRoYCB0byBjdXN0b21pemUgYHBhdGhgIGNyZWF0aW9uLiBUaGUgYHVwZGF0ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICdhWzBdLmIuYycsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiBuOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ3hbMF0ueS56JywgZnVuY3Rpb24obikgeyByZXR1cm4gbiA/IG4gKyAxIDogMDsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51cGRhdGVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZVdpdGgob2JqZWN0LCAnWzBdWzFdJywgXy5jb25zdGFudCgnYScpLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdpdGgob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcygnaGknKTtcbiAgICAgKiAvLyA9PiBbJ2gnLCAnaSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eVxuICAgICAqIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2xhbXBzIGBudW1iZXJgIHdpdGhpbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jbGFtcCgtMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiAtNVxuICAgICAqXG4gICAgICogXy5jbGFtcCgxMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IHRvTnVtYmVyKHVwcGVyKTtcbiAgICAgICAgdXBwZXIgPSB1cHBlciA9PT0gdXBwZXIgPyB1cHBlciA6IDA7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IHRvTnVtYmVyKGxvd2VyKTtcbiAgICAgICAgbG93ZXIgPSBsb3dlciA9PT0gbG93ZXIgPyBsb3dlciA6IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUNsYW1wKHRvTnVtYmVyKG51bWJlciksIGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBuYCBpcyBiZXR3ZWVuIGBzdGFydGAgYW5kIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmXG4gICAgICogYGVuZGAgaXMgbm90IHNwZWNpZmllZCwgaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqIElmIGBzdGFydGAgaXMgZ3JlYXRlciB0aGFuIGBlbmRgIHRoZSBwYXJhbXMgYXJlIHN3YXBwZWQgdG8gc3VwcG9ydFxuICAgICAqIG5lZ2F0aXZlIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5yYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgzLCAyLCA0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgOCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMiwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgxLjIsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg1LjIsIDQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoLTMsIC0yLCAtNik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgIH1cbiAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICByZXR1cm4gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqIElmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyXG4gICAgICogaXMgcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgYHRydWVgLCBvciBlaXRoZXIgYGxvd2VyYCBvciBgdXBwZXJgIGFyZVxuICAgICAqIGZsb2F0cywgYSBmbG9hdGluZy1wb2ludCBudW1iZXIgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcj0wXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt1cHBlcj0xXSBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZmxvYXRpbmddIFNwZWNpZnkgcmV0dXJuaW5nIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpIHtcbiAgICAgIGlmIChmbG9hdGluZyAmJiB0eXBlb2YgZmxvYXRpbmcgIT0gJ2Jvb2xlYW4nICYmIGlzSXRlcmF0ZWVDYWxsKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpKSB7XG4gICAgICAgIHVwcGVyID0gZmxvYXRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHVwcGVyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gdXBwZXI7XG4gICAgICAgICAgdXBwZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGxvd2VyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA9PT0gdW5kZWZpbmVkICYmIHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB1cHBlciA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG93ZXIgPSB0b0Zpbml0ZShsb3dlcik7XG4gICAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBwZXIgPSB0b0Zpbml0ZSh1cHBlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA+IHVwcGVyKSB7XG4gICAgICAgIHZhciB0ZW1wID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdXBwZXI7XG4gICAgICAgIHVwcGVyID0gdGVtcDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBsb3dlciAlIDEgfHwgdXBwZXIgJSAxKSB7XG4gICAgICAgIHZhciByYW5kID0gbmF0aXZlUmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVNaW4obG93ZXIgKyAocmFuZCAqICh1cHBlciAtIGxvd2VyICsgZnJlZVBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKyAnJykubGVuZ3RoIC0gMSkpKSksIHVwcGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gW2NhbWVsIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbWVsQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqL1xuICAgIHZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gY2FwaXRhbGl6ZSh3b3JkKSA6IHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG4gICAgICogdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gICAgICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gICAgICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICAgICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAgICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAgICAgKiAvLyA9PiAnZGVqYSB2dSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJywgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGxlbmd0aFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBsZW5ndGgpO1xuXG4gICAgICB2YXIgZW5kID0gcG9zaXRpb247XG4gICAgICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID49IDAgJiYgc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBlbmQpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBjaGFyYWN0ZXJzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAgICAgKiBcIj5cIiBhbmQgXCIvXCIgZG9uJ3QgbmVlZCBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZ1xuICAgICAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAgICAgKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gICAgICogKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gICAgICogW3F1b3RlIGF0dHJpYnV0ZSB2YWx1ZXNdKGh0dHA6Ly93b25rby5jb20vcG9zdC9odG1sLWVzY2FwaW5nKSB0byByZWR1Y2VcbiAgICAgKiBYU1MgdmVjdG9ycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlcyB0aGUgYFJlZ0V4cGAgc3BlY2lhbCBjaGFyYWN0ZXJzIFwiXlwiLCBcIiRcIiwgXCJcXFwiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLFxuICAgICAqIFwiP1wiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBhbmQgXCJ8XCIgaW4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZVJlZ0V4cCgnW2xvZGFzaF0oaHR0cHM6Ly9sb2Rhc2guY29tLyknKTtcbiAgICAgKiAvLyA9PiAnXFxbbG9kYXNoXFxdXFwoaHR0cHM6Ly9sb2Rhc2hcXC5jb20vXFwpJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1JlZ0V4cENoYXIudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW2tlYmFiIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1NwZWNpYWxfY2FzZV9zdHlsZXMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICovXG4gICAgdmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICctJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICovXG4gICAgdmFyIGxvd2VyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRnJlZCcpO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ2ZSRUQnXG4gICAgICovXG4gICAgdmFyIGxvd2VyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvTG93ZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBzaWRlcyBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC5cbiAgICAgKiBQYWRkaW5nIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGNhbid0IGJlIGV2ZW5seSBkaXZpZGVkIGJ5IGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4KTtcbiAgICAgKiAvLyA9PiAnICBhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHN0ckxlbmd0aCA+PSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBtaWQgPSAobGVuZ3RoIC0gc3RyTGVuZ3RoKSAvIDI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUZsb29yKG1pZCksIGNoYXJzKSArXG4gICAgICAgIHN0cmluZyArXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlQ2VpbChtaWQpLCBjaGFycylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgcmlnaHQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJ2FiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkRW5kKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoc3RyaW5nICsgY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSlcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICcgICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1fYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykgKyBzdHJpbmcpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC4gSWYgYHJhZGl4YCBpc1xuICAgICAqIGB1bmRlZmluZWRgIG9yIGAwYCwgYSBgcmFkaXhgIG9mIGAxMGAgaXMgdXNlZCB1bmxlc3MgYHZhbHVlYCBpcyBhXG4gICAgICogaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBhbGlnbnMgd2l0aCB0aGVcbiAgICAgKiBbRVM1IGltcGxlbWVudGF0aW9uXShodHRwczovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuMikgb2YgYHBhcnNlSW50YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4PTEwXSBUaGUgcmFkaXggdG8gaW50ZXJwcmV0IGB2YWx1ZWAgYnkuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnMDgnLCAnMTAnXSwgXy5wYXJzZUludCk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZywgcmFkaXgsIGd1YXJkKSB7XG4gICAgICBpZiAoZ3VhcmQgfHwgcmFkaXggPT0gbnVsbCkge1xuICAgICAgICByYWRpeCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJhZGl4KSB7XG4gICAgICAgIHJhZGl4ID0gK3JhZGl4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVBhcnNlSW50KHRvU3RyaW5nKHN0cmluZykucmVwbGFjZShyZVRyaW1TdGFydCwgJycpLCByYWRpeCB8fCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXRzIHRoZSBnaXZlbiBzdHJpbmcgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBlYXQoJyonLCAzKTtcbiAgICAgKiAvLyA9PiAnKioqJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDIpO1xuICAgICAqIC8vID0+ICdhYmNhYmMnXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJlcGVhdCh0b1N0cmluZyhzdHJpbmcpLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBtYXRjaGVzIGZvciBgcGF0dGVybmAgaW4gYHN0cmluZ2Agd2l0aCBgcmVwbGFjZW1lbnRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjcmVwbGFjZWBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9yZXBsYWNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IHJlcGxhY2VtZW50IFRoZSBtYXRjaCByZXBsYWNlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwbGFjZSgnSGkgRnJlZCcsICdGcmVkJywgJ0Jhcm5leScpO1xuICAgICAqIC8vID0+ICdIaSBCYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZSgpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKGFyZ3NbMF0pO1xuXG4gICAgICByZXR1cm4gYXJncy5sZW5ndGggPCAzID8gc3RyaW5nIDogc3RyaW5nLnJlcGxhY2UoYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc25ha2UgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU25ha2VfY2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzbmFrZSBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnLS1GT08tQkFSLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKi9cbiAgICB2YXIgc25ha2VDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJ18nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjc3BsaXRgXShodHRwczovL21kbi5pby9TdHJpbmcvc3BsaXQpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHNwbGl0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gc2VwYXJhdG9yIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byBzcGxpdCBieS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbWl0XSBUaGUgbGVuZ3RoIHRvIHRydW5jYXRlIHJlc3VsdHMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzdHJpbmcgc2VnbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3BsaXQoJ2EtYi1jJywgJy0nLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgJiYgdHlwZW9mIGxpbWl0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gbGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBsaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfQVJSQVlfTEVOR1RIIDogbGltaXQgPj4+IDA7XG4gICAgICBpZiAoIWxpbWl0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChcbiAgICAgICAgICAgIHR5cGVvZiBzZXBhcmF0b3IgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIChzZXBhcmF0b3IgIT0gbnVsbCAmJiAhaXNSZWdFeHAoc2VwYXJhdG9yKSlcbiAgICAgICAgICApKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoIXNlcGFyYXRvciAmJiBoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgICByZXR1cm4gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkoc3RyaW5nKSwgMCwgbGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3N0YXJ0IGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1N0eWxpc3RpY19vcl9zcGVjaWFsaXNlZF91c2FnZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdGFydCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHN0YXJ0Q2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHVwcGVyRmlyc3Qod29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249MF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsXG4gICAgICAgID8gMFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBzdHJpbmcubGVuZ3RoKTtcblxuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG4gICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHRhcmdldC5sZW5ndGgpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24gdGhhdCBjYW4gaW50ZXJwb2xhdGUgZGF0YSBwcm9wZXJ0aWVzXG4gICAgICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAgICAgKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAgICAgKiBwcm9wZXJ0aWVzIG1heSBiZSBhY2Nlc3NlZCBhcyBmcmVlIHZhcmlhYmxlcyBpbiB0aGUgdGVtcGxhdGUuIElmIGEgc2V0dGluZ1xuICAgICAqIG9iamVjdCBpcyBnaXZlbiwgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGBfLnRlbXBsYXRlU2V0dGluZ3NgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG4gICAgICogW3NvdXJjZVVSTHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmwpXG4gICAgICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZVxuICAgICAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZVxuICAgICAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXNjYXBlXVxuICAgICAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmV2YWx1YXRlXVxuICAgICAqICBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAgICAgKiAgQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBmcmVlIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlXVxuICAgICAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc291cmNlVVJMPSdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW25dJ11cbiAgICAgKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZhcmlhYmxlPSdvYmonXVxuICAgICAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPGI+PCUtIHZhbHVlICU+PC9iPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAgICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBpbnRlcm5hbCBgcHJpbnRgIGZ1bmN0aW9uIGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIC8vIERpc2FibGUgc3VwcG9ydCBieSByZXBsYWNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JT0gXCJcXFxcPCUtIHZhbHVlICVcXFxcPlwiICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gICAgICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cbiAgICAgKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUodGV4dCwgeyAnaW1wb3J0cyc6IHsgJ2pxJzogalF1ZXJ5IH0gfSk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAgICAgKiBjb21waWxlZChkYXRhKTtcbiAgICAgKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICAgICAqIGNvbXBpbGVkLnNvdXJjZTtcbiAgICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcbiAgICAgKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAvLyAgIHJldHVybiBfX3A7XG4gICAgICogLy8gfVxuICAgICAqXG4gICAgICogLy8gVXNlIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLlxuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG4gICAgICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gICAgICAvLyBCYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG4gICAgICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBvcHRpb25zID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLCBzZXR0aW5ncywgY3VzdG9tRGVmYXVsdHNBc3NpZ25Jbik7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgICAgIHZhciBpc0VzY2FwaW5nLFxuICAgICAgICAgIGlzRXZhbHVhdGluZyxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cbiAgICAgIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgIC8vIFRoZSBzb3VyY2VVUkwgZ2V0cyBpbmplY3RlZCBpbnRvIHRoZSBzb3VyY2UgdGhhdCdzIGV2YWwtZWQsIHNvIGJlIGNhcmVmdWxcbiAgICAgIC8vIHRvIG5vcm1hbGl6ZSBhbGwga2luZHMgb2Ygd2hpdGVzcGFjZSwgc28gZS5nLiBuZXdsaW5lcyAoYW5kIHVuaWNvZGUgdmVyc2lvbnMgb2YgaXQpIGNhbid0IHNuZWFrIGluXG4gICAgICAvLyBhbmQgZXNjYXBlIHRoZSBjb21tZW50LCB0aHVzIGluamVjdGluZyBjb2RlIHRoYXQgZ2V0cyBldmFsZWQuXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgICAgICAgID8gKG9wdGlvbnMuc291cmNlVVJMICsgJycpLnJlcGxhY2UoL1xccy9nLCAnICcpXG4gICAgICAgICAgOiAoJ2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbJyArICgrK3RlbXBsYXRlQ291bnRlcikgKyAnXScpXG4gICAgICAgICkgKyAnXFxuJztcblxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVEZWxpbWl0ZXJzLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlVmFsdWUsIGludGVycG9sYXRlVmFsdWUsIGVzVGVtcGxhdGVWYWx1ZSwgZXZhbHVhdGVWYWx1ZSwgb2Zmc2V0KSB7XG4gICAgICAgIGludGVycG9sYXRlVmFsdWUgfHwgKGludGVycG9sYXRlVmFsdWUgPSBlc1RlbXBsYXRlVmFsdWUpO1xuXG4gICAgICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIHRoYXQgY2FuJ3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzLlxuICAgICAgICBzb3VyY2UgKz0gc3RyaW5nLnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIFJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzLlxuICAgICAgICBpZiAoZXNjYXBlVmFsdWUpIHtcbiAgICAgICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG5fX2UoXCIgKyBlc2NhcGVWYWx1ZSArIFwiKSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgICAgaXNFdmFsdWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGVWYWx1ZSArIFwiO1xcbl9fcCArPSAnXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVycG9sYXRlVmFsdWUpIHtcbiAgICAgICAgICBzb3VyY2UgKz0gXCInICtcXG4oKF9fdCA9IChcIiArIGludGVycG9sYXRlVmFsdWUgKyBcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAvLyBUaGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIHByb2R1Y3RzIG5lZWRzIGBtYXRjaGAgcmV0dXJuZWQgaW5cbiAgICAgICAgLy8gb3JkZXIgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBgb2Zmc2V0YCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG5cbiAgICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAgIC8vIElmIGB2YXJpYWJsZWAgaXMgbm90IHNwZWNpZmllZCB3cmFwIGEgd2l0aC1zdGF0ZW1lbnQgYXJvdW5kIHRoZSBnZW5lcmF0ZWRcbiAgICAgIC8vIGNvZGUgdG8gYWRkIHRoZSBkYXRhIG9iamVjdCB0byB0aGUgdG9wIG9mIHRoZSBzY29wZSBjaGFpbi5cbiAgICAgIHZhciB2YXJpYWJsZSA9IGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3ZhcmlhYmxlJykgJiYgb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBhIGZvcmJpZGRlbiBjaGFyYWN0ZXIgd2FzIGZvdW5kIGluIGB2YXJpYWJsZWAsIHRvIHByZXZlbnRcbiAgICAgIC8vIHBvdGVudGlhbCBjb21tYW5kIGluamVjdGlvbiBhdHRhY2tzLlxuICAgICAgZWxzZSBpZiAocmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMudGVzdCh2YXJpYWJsZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VUcmltKHN0cmluZyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICpcbiAgICAgKiAvLyBDaGVja2luZyBmb3Igc2V2ZXJhbCBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm92ZXJTb21lKFtfLm1hdGNoZXMoeyAnYSc6IDEgfSksIF8ubWF0Y2hlcyh7ICdhJzogNCB9KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBjaGVja2VkIGJ5IGNvbWJpbmluZyBzZXZlcmFsIG1hdGNoZXJzXG4gICAgICogdXNpbmcgYF8ub3ZlclNvbWVgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCAxKSwgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KV0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyRXZlcnkoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogZnVuYyhOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIG92ZXJFdmVyeSA9IGNyZWF0ZU92ZXIoYXJyYXlFdmVyeSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbnkqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogRm9sbG93aW5nIHNob3J0aGFuZHMgYXJlIHBvc3NpYmxlIGZvciBwcm92aWRpbmcgcHJlZGljYXRlcy5cbiAgICAgKiBQYXNzIGFuIGBPYmplY3RgIGFuZCBpdCB3aWxsIGJlIHVzZWQgYXMgYW4gcGFyYW1ldGVyIGZvciBgXy5tYXRjaGVzYCB0byBjcmVhdGUgdGhlIHByZWRpY2F0ZS5cbiAgICAgKiBQYXNzIGFuIGBBcnJheWAgb2YgcGFyYW1ldGVycyBmb3IgYF8ubWF0Y2hlc1Byb3BlcnR5YCBhbmQgdGhlIHByZWRpY2F0ZSB3aWxsIGJlIGNyZWF0ZWQgdXNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIG1hdGNoZXNGdW5jID0gXy5vdmVyU29tZShbeyAnYSc6IDEgfSwgeyAnYSc6IDIgfV0pXG4gICAgICogdmFyIG1hdGNoZXNQcm9wZXJ0eUZ1bmMgPSBfLm92ZXJTb21lKFtbJ2EnLCAxXSwgWydhJywgMl1dKVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSBsb2Rhc2hGdW5jLm5hbWUgKyAnJztcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywga2V5KSkge1xuICAgICAgICAgIHJlYWxOYW1lc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmVhbE5hbWVzW2tleV0ucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCJpbXBvcnQgQmFja2VuZCBmcm9tIFwiLi9iYWNrZW5kLmpzXCI7XG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tIFwiLi4vY29sb3IuanNcIjtcbmZ1bmN0aW9uIGNsZWFyVG9BbnNpKGJnKSB7XG4gICAgcmV0dXJuIGBcXHgxYlswOzQ4OzU7JHt0ZXJtY29sb3IoYmcpfW1cXHgxYlsySmA7XG59XG5mdW5jdGlvbiBjb2xvclRvQW5zaShmZywgYmcpIHtcbiAgICByZXR1cm4gYFxceDFiWzA7Mzg7NTske3Rlcm1jb2xvcihmZyl9OzQ4OzU7JHt0ZXJtY29sb3IoYmcpfW1gO1xufVxuZnVuY3Rpb24gcG9zaXRpb25Ub0Fuc2koeCwgeSkge1xuICAgIHJldHVybiBgXFx4MWJbJHt5ICsgMX07JHt4ICsgMX1IYDtcbn1cbmZ1bmN0aW9uIHRlcm1jb2xvcihjb2xvcikge1xuICAgIGNvbnN0IFNSQ19DT0xPUlMgPSAyNTYuMDtcbiAgICBjb25zdCBEU1RfQ09MT1JTID0gNi4wO1xuICAgIGNvbnN0IENPTE9SX1JBVElPID0gRFNUX0NPTE9SUyAvIFNSQ19DT0xPUlM7XG4gICAgbGV0IHJnYiA9IENvbG9yLmZyb21TdHJpbmcoY29sb3IpO1xuICAgIGxldCByID0gTWF0aC5mbG9vcihyZ2JbMF0gKiBDT0xPUl9SQVRJTyk7XG4gICAgbGV0IGcgPSBNYXRoLmZsb29yKHJnYlsxXSAqIENPTE9SX1JBVElPKTtcbiAgICBsZXQgYiA9IE1hdGguZmxvb3IocmdiWzJdICogQ09MT1JfUkFUSU8pO1xuICAgIHJldHVybiByICogMzYgKyBnICogNiArIGIgKiAxICsgMTY7XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXJtIGV4dGVuZHMgQmFja2VuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IFswLCAwXTtcbiAgICAgICAgdGhpcy5fY3Vyc29yID0gWy0xLCAtMV07XG4gICAgICAgIHRoaXMuX2xhc3RDb2xvciA9IFwiXCI7XG4gICAgfVxuICAgIHNjaGVkdWxlKGNiKSB7IHNldFRpbWVvdXQoY2IsIDEwMDAgLyA2MCk7IH1cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgbGV0IHNpemUgPSBbb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHRdO1xuICAgICAgICBsZXQgYXZhaWwgPSB0aGlzLmNvbXB1dGVTaXplKCk7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGF2YWlsLm1hcCgodmFsLCBpbmRleCkgPT4gTWF0aC5mbG9vcigodmFsIC0gc2l6ZVtpbmRleF0pIC8gMikpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoY2xlYXJUb0Fuc2kodGhpcy5fb3B0aW9ucy5iZykpO1xuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIC8vIGRldGVybWluZSB3aGVyZSB0byBkcmF3IHdoYXQgd2l0aCB3aGF0IGNvbG9yc1xuICAgICAgICBsZXQgW3gsIHksIGNoLCBmZywgYmddID0gZGF0YTtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gbW92ZSB0aGUgdGVybWluYWwgY3Vyc29yXG4gICAgICAgIGxldCBkeCA9IHRoaXMuX29mZnNldFswXSArIHg7XG4gICAgICAgIGxldCBkeSA9IHRoaXMuX29mZnNldFsxXSArIHk7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5jb21wdXRlU2l6ZSgpO1xuICAgICAgICBpZiAoZHggPCAwIHx8IGR4ID49IHNpemVbMF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkgPCAwIHx8IGR5ID49IHNpemVbMV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHggIT09IHRoaXMuX2N1cnNvclswXSB8fCBkeSAhPT0gdGhpcy5fY3Vyc29yWzFdKSB7XG4gICAgICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZShwb3NpdGlvblRvQW5zaShkeCwgZHkpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclswXSA9IGR4O1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yWzFdID0gZHk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVybWluYWxzIGF1dG9tYXRpY2FsbHkgY2xlYXIsIGJ1dCBpZiB3ZSdyZSBjbGVhcmluZyB3aGVuIHdlJ3JlXG4gICAgICAgIC8vIG5vdCBvdGhlcndpc2UgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwganVzdCB1c2UgYSBzcGFjZSBpbnN0ZWFkXG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgICAgIGNoID0gXCIgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UncmUgbm90IGNsZWFyaW5nIGFuZCBub3QgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwgZG8gbm90aGluZ1xuICAgICAgICBpZiAoIWNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gY2hhbmdlIGNvbG9yc1xuICAgICAgICBsZXQgbmV3Q29sb3IgPSBjb2xvclRvQW5zaShmZywgYmcpO1xuICAgICAgICBpZiAobmV3Q29sb3IgIT09IHRoaXMuX2xhc3RDb2xvcikge1xuICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUobmV3Q29sb3IpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdENvbG9yID0gbmV3Q29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoICE9ICdcXHQnKSB7XG4gICAgICAgICAgICAvLyB3cml0ZSB0aGUgcHJvdmlkZWQgc3ltYm9sIHRvIHRoZSBkaXNwbGF5XG4gICAgICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoY2hhcnNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBvdXIgcG9zaXRpb24sIGdpdmVuIHRoYXQgd2Ugd3JvdGUgYSBjaGFyYWN0ZXJcbiAgICAgICAgdGhpcy5fY3Vyc29yWzBdKys7XG4gICAgICAgIGlmICh0aGlzLl9jdXJzb3JbMF0gPj0gc2l6ZVswXSkge1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yWzBdID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclsxXSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVGb250U2l6ZSgpIHsgdGhyb3cgbmV3IEVycm9yKFwiVGVybWluYWwgYmFja2VuZCBoYXMgbm8gbm90aW9uIG9mIGZvbnQgc2l6ZVwiKTsgfVxuICAgIGV2ZW50VG9Qb3NpdGlvbih4LCB5KSB7IHJldHVybiBbeCwgeV07IH1cbiAgICBjb21wdXRlU2l6ZSgpIHsgcmV0dXJuIFtwcm9jZXNzLnN0ZG91dC5jb2x1bW5zLCBwcm9jZXNzLnN0ZG91dC5yb3dzXTsgfVxufVxuIiwiLyogZ2xvYmFscyBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXyAqL1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJpbXBvcnQgQmFja2VuZCBmcm9tIFwiLi9iYWNrZW5kLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBCYWNrZW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgfVxuICAgIHNjaGVkdWxlKGNiKSB7IHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7IH1cbiAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiB0aGlzLl9jdHguY2FudmFzOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKG9wdHMuZm9udFN0eWxlID8gYCR7b3B0cy5mb250U3R5bGV9IGAgOiBgYCk7XG4gICAgICAgIGNvbnN0IGZvbnQgPSBgJHtzdHlsZX0gJHtvcHRzLmZvbnRTaXplfXB4ICR7b3B0cy5mb250RmFtaWx5fWA7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2l6ZSgpO1xuICAgICAgICB0aGlzLl9jdHguZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX2N0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICB0aGlzLl9jdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9vcHRpb25zLmJnO1xuICAgICAgICB0aGlzLl9jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5fY3R4LmNhbnZhcy53aWR0aCwgdGhpcy5fY3R4LmNhbnZhcy5oZWlnaHQpO1xuICAgIH1cbiAgICBldmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5fY3R4LmNhbnZhcztcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHggLT0gcmVjdC5sZWZ0O1xuICAgICAgICB5IC09IHJlY3QudG9wO1xuICAgICAgICB4ICo9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgICAgIHkgKj0gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSBjYW52YXMud2lkdGggfHwgeSA+PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCAtMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IENhbnZhcyBmcm9tIFwiLi9jYW52YXMuanNcIjtcbmltcG9ydCB7IG1vZCB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBIZXhhZ29uYWwgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGV4IGV4dGVuZHMgQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fc3BhY2luZ1ggPSAwO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IDA7XG4gICAgICAgIHRoaXMuX2hleFNpemUgPSAwO1xuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICBsZXQgcHggPSBbXG4gICAgICAgICAgICAoeCArIDEpICogdGhpcy5fc3BhY2luZ1gsXG4gICAgICAgICAgICB5ICogdGhpcy5fc3BhY2luZ1kgKyB0aGlzLl9oZXhTaXplXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgcHgucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgdGhpcy5fZmlsbChweFswXSwgcHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gZmc7XG4gICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsVGV4dChjaGFyc1tpXSwgcHhbMF0sIE1hdGguY2VpbChweFsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgYXZhaWxXaWR0aCArPSBhdmFpbEhlaWdodDtcbiAgICAgICAgICAgIGF2YWlsSGVpZ2h0ID0gYXZhaWxXaWR0aCAtIGF2YWlsSGVpZ2h0O1xuICAgICAgICAgICAgYXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCkgLSAxO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcigoYXZhaWxIZWlnaHQgLSAyICogdGhpcy5faGV4U2l6ZSkgLyB0aGlzLl9zcGFjaW5nWSArIDEpO1xuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cbiAgICBjb21wdXRlRm9udFNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhdmFpbFdpZHRoICs9IGF2YWlsSGVpZ2h0O1xuICAgICAgICAgICAgYXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG4gICAgICAgICAgICBhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBoZXhTaXplV2lkdGggPSAyICogYXZhaWxXaWR0aCAvICgodGhpcy5fb3B0aW9ucy53aWR0aCArIDEpICogTWF0aC5zcXJ0KDMpKSAtIDE7XG4gICAgICAgIGxldCBoZXhTaXplSGVpZ2h0ID0gYXZhaWxIZWlnaHQgLyAoMiArIDEuNSAqICh0aGlzLl9vcHRpb25zLmhlaWdodCAtIDEpKTtcbiAgICAgICAgbGV0IGhleFNpemUgPSBNYXRoLm1pbihoZXhTaXplV2lkdGgsIGhleFNpemVIZWlnaHQpO1xuICAgICAgICAvLyBjb21wdXRlIGNoYXIgcmF0aW9cbiAgICAgICAgbGV0IG9sZEZvbnQgPSB0aGlzLl9jdHguZm9udDtcbiAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gb2xkRm9udDtcbiAgICAgICAgbGV0IHJhdGlvID0gd2lkdGggLyAxMDA7XG4gICAgICAgIGhleFNpemUgPSBNYXRoLmZsb29yKGhleFNpemUpICsgMTsgLy8gY2xvc2VzdCBsYXJnZXIgaGV4U2l6ZVxuICAgICAgICAvLyBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzXG4gICAgICAgIGxldCBmb250U2l6ZSA9IDIgKiBoZXhTaXplIC8gKHRoaXMuX29wdGlvbnMuc3BhY2luZyAqICgxICsgcmF0aW8gLyBNYXRoLnNxcnQoMykpKTtcbiAgICAgICAgLy8gY2xvc2VzdCBzbWFsbGVyIGZvbnRTaXplXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoZm9udFNpemUpIC0gMTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICBsZXQgbm9kZVNpemU7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgeCArPSB5O1xuICAgICAgICAgICAgeSA9IHggLSB5O1xuICAgICAgICAgICAgeCAtPSB5O1xuICAgICAgICAgICAgbm9kZVNpemUgPSB0aGlzLl9jdHguY2FudmFzLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZVNpemUgPSB0aGlzLl9jdHguY2FudmFzLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2l6ZSA9IG5vZGVTaXplIC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHkgPSBNYXRoLmZsb29yKHkgLyBzaXplKTtcbiAgICAgICAgaWYgKG1vZCh5LCAyKSkgeyAvKiBvZGQgcm93ICovXG4gICAgICAgICAgICB4IC09IHRoaXMuX3NwYWNpbmdYO1xuICAgICAgICAgICAgeCA9IDEgKyAyICogTWF0aC5mbG9vcih4IC8gKDIgKiB0aGlzLl9zcGFjaW5nWCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeCA9IDIgKiBNYXRoLmZsb29yKHggLyAoMiAqIHRoaXMuX3NwYWNpbmdYKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXJndW1lbnRzIGFyZSBwaXhlbCB2YWx1ZXMuIElmIFwidHJhbnNwb3NlZFwiIG1vZGUgaXMgZW5hYmxlZCwgdGhlbiB0aGVzZSB0d28gYXJlIGFscmVhZHkgc3dhcHBlZC5cbiAgICAgKi9cbiAgICBfZmlsbChjeCwgY3kpIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLl9oZXhTaXplO1xuICAgICAgICBsZXQgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGN4IC0gYSArIGIsIGN5KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggLSBhIC8gMiArIGIsIGN5ICsgdGhpcy5fc3BhY2luZ1ggLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyBhIC8gMiAtIGIsIGN5ICsgdGhpcy5fc3BhY2luZ1ggLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyBhIC0gYiwgY3kpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCArIGEgLyAyIC0gYiwgY3kgLSB0aGlzLl9zcGFjaW5nWCArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIGEgLyAyICsgYiwgY3kgLSB0aGlzLl9zcGFjaW5nWCArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIGEgKyBiLCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGN4LCBjeSAtIGEgKyBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyB0aGlzLl9zcGFjaW5nWCAtIGIsIGN5IC0gYSAvIDIgKyBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyB0aGlzLl9zcGFjaW5nWCAtIGIsIGN5ICsgYSAvIDIgLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3gsIGN5ICsgYSAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIHRoaXMuX3NwYWNpbmdYICsgYiwgY3kgKyBhIC8gMiAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIHRoaXMuX3NwYWNpbmdYICsgYiwgY3kgLSBhIC8gMiArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCwgY3kgLSBhICsgYik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG4gICAgX3VwZGF0ZVNpemUoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgIHRoaXMuX2hleFNpemUgPSBNYXRoLmZsb29yKG9wdHMuc3BhY2luZyAqIChvcHRzLmZvbnRTaXplICsgY2hhcldpZHRoIC8gTWF0aC5zcXJ0KDMpKSAvIDIpO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX2hleFNpemUgKiBNYXRoLnNxcnQoMykgLyAyO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IHRoaXMuX2hleFNpemUgKiAxLjU7XG4gICAgICAgIGxldCB4cHJvcDtcbiAgICAgICAgbGV0IHlwcm9wO1xuICAgICAgICBpZiAob3B0cy50cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIHhwcm9wID0gXCJoZWlnaHRcIjtcbiAgICAgICAgICAgIHlwcm9wID0gXCJ3aWR0aFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeHByb3AgPSBcIndpZHRoXCI7XG4gICAgICAgICAgICB5cHJvcCA9IFwiaGVpZ2h0XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhc1t4cHJvcF0gPSBNYXRoLmNlaWwoKG9wdHMud2lkdGggKyAxKSAqIHRoaXMuX3NwYWNpbmdYKTtcbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhc1t5cHJvcF0gPSBNYXRoLmNlaWwoKG9wdHMuaGVpZ2h0IC0gMSkgKiB0aGlzLl9zcGFjaW5nWSArIDIgKiB0aGlzLl9oZXhTaXplKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2FudmFzIGZyb20gXCIuL2NhbnZhcy5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgUmVjdGFuZ3VsYXIgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xubGV0IFJlY3QgPSAvKiogQGNsYXNzICovICgoKSA9PiB7XG4gICAgY2xhc3MgUmVjdCBleHRlbmRzIENhbnZhcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3NwYWNpbmdYID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3NwYWNpbmdZID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhc0NhY2hlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICBzdXBlci5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzQ2FjaGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAoUmVjdC5jYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdXaXRoQ2FjaGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3Tm9DYWNoZShkYXRhLCBjbGVhckJlZm9yZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX2RyYXdXaXRoQ2FjaGUoZGF0YSkge1xuICAgICAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgICAgICBsZXQgaGFzaCA9IFwiXCIgKyBjaCArIGZnICsgYmc7XG4gICAgICAgICAgICBsZXQgY2FudmFzO1xuICAgICAgICAgICAgaWYgKGhhc2ggaW4gdGhpcy5fY2FudmFzQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSB0aGlzLl9jYW52YXNDYWNoZVtoYXNoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG4gICAgICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICAgICAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLl9zcGFjaW5nWDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5fc3BhY2luZ1k7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChiLCBiLCBjYW52YXMud2lkdGggLSBiLCBjYW52YXMuaGVpZ2h0IC0gYik7XG4gICAgICAgICAgICAgICAgaWYgKGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLl9jdHguZm9udDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoY2hhcnNbaV0sIHRoaXMuX3NwYWNpbmdYIC8gMiwgTWF0aC5jZWlsKHRoaXMuX3NwYWNpbmdZIC8gMikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbnZhc0NhY2hlW2hhc2hdID0gY2FudmFzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShjYW52YXMsIHggKiB0aGlzLl9zcGFjaW5nWCwgeSAqIHRoaXMuX3NwYWNpbmdZKTtcbiAgICAgICAgfVxuICAgICAgICBfZHJhd05vQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICAgICAgaWYgKGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxSZWN0KHggKiB0aGlzLl9zcGFjaW5nWCArIGIsIHkgKiB0aGlzLl9zcGFjaW5nWSArIGIsIHRoaXMuX3NwYWNpbmdYIC0gYiwgdGhpcy5fc3BhY2luZ1kgLSBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gZmc7XG4gICAgICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsVGV4dChjaGFyc1tpXSwgKHggKyAwLjUpICogdGhpcy5fc3BhY2luZ1gsIE1hdGguY2VpbCgoeSArIDAuNSkgKiB0aGlzLl9zcGFjaW5nWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCk7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX3NwYWNpbmdZKTtcbiAgICAgICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgICAgIH1cbiAgICAgICAgY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgYm94V2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLndpZHRoKTtcbiAgICAgICAgICAgIGxldCBib3hIZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQpO1xuICAgICAgICAgICAgLyogY29tcHV0ZSBjaGFyIHJhdGlvICovXG4gICAgICAgICAgICBsZXQgb2xkRm9udCA9IHRoaXMuX2N0eC5mb250O1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuICAgICAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2N0eC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBvbGRGb250O1xuICAgICAgICAgICAgbGV0IHJhdGlvID0gd2lkdGggLyAxMDA7XG4gICAgICAgICAgICBsZXQgd2lkdGhGcmFjdGlvbiA9IHJhdGlvICogYm94SGVpZ2h0IC8gYm94V2lkdGg7XG4gICAgICAgICAgICBpZiAod2lkdGhGcmFjdGlvbiA+IDEpIHsgLyogdG9vIHdpZGUgd2l0aCBjdXJyZW50IGFzcGVjdCByYXRpbyAqL1xuICAgICAgICAgICAgICAgIGJveEhlaWdodCA9IE1hdGguZmxvb3IoYm94SGVpZ2h0IC8gd2lkdGhGcmFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihib3hIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnNwYWNpbmcpO1xuICAgICAgICB9XG4gICAgICAgIF9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHJldHVybiBbTWF0aC5mbG9vcih4IC8gdGhpcy5fc3BhY2luZ1gpLCBNYXRoLmZsb29yKHkgLyB0aGlzLl9zcGFjaW5nWSldO1xuICAgICAgICB9XG4gICAgICAgIF91cGRhdGVTaXplKCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IE1hdGguY2VpbChvcHRzLnNwYWNpbmcgKiBjaGFyV2lkdGgpO1xuICAgICAgICAgICAgdGhpcy5fc3BhY2luZ1kgPSBNYXRoLmNlaWwob3B0cy5zcGFjaW5nICogb3B0cy5mb250U2l6ZSk7XG4gICAgICAgICAgICBpZiAob3B0cy5mb3JjZVNxdWFyZVJhdGlvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3BhY2luZ1ggPSB0aGlzLl9zcGFjaW5nWSA9IE1hdGgubWF4KHRoaXMuX3NwYWNpbmdYLCB0aGlzLl9zcGFjaW5nWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jdHguY2FudmFzLndpZHRoID0gb3B0cy53aWR0aCAqIHRoaXMuX3NwYWNpbmdYO1xuICAgICAgICAgICAgdGhpcy5fY3R4LmNhbnZhcy5oZWlnaHQgPSBvcHRzLmhlaWdodCAqIHRoaXMuX3NwYWNpbmdZO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlY3QuY2FjaGUgPSBmYWxzZTtcbiAgICByZXR1cm4gUmVjdDtcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBSZWN0O1xuIiwiaW1wb3J0IENhbnZhcyBmcm9tIFwiLi9jYW52YXMuanNcIjtcbi8qKlxuICogQGNsYXNzIFRpbGUgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBleHRlbmRzIENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NvbG9yQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICB9XG4gICAgZHJhdyhkYXRhLCBjbGVhckJlZm9yZSkge1xuICAgICAgICBsZXQgW3gsIHksIGNoLCBmZywgYmddID0gZGF0YTtcbiAgICAgICAgbGV0IHRpbGVXaWR0aCA9IHRoaXMuX29wdGlvbnMudGlsZVdpZHRoO1xuICAgICAgICBsZXQgdGlsZUhlaWdodCA9IHRoaXMuX29wdGlvbnMudGlsZUhlaWdodDtcbiAgICAgICAgaWYgKGNsZWFyQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguY2xlYXJSZWN0KHggKiB0aWxlV2lkdGgsIHkgKiB0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsUmVjdCh4ICogdGlsZVdpZHRoLCB5ICogdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoYXJzID0gW10uY29uY2F0KGNoKTtcbiAgICAgICAgbGV0IGZncyA9IFtdLmNvbmNhdChmZyk7XG4gICAgICAgIGxldCBiZ3MgPSBbXS5jb25jYXQoYmcpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGlsZSA9IHRoaXMuX29wdGlvbnMudGlsZU1hcFtjaGFyc1tpXV07XG4gICAgICAgICAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYXIgXCIke2NoYXJzW2ldfVwiIG5vdCBmb3VuZCBpbiB0aWxlTWFwYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHsgLy8gYXBwbHkgY29sb3JpemF0aW9uXG4gICAgICAgICAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuX2NvbG9yQ2FudmFzO1xuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIGxldCBmZyA9IGZnc1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgYmcgPSBiZ3NbaV07XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5fb3B0aW9ucy50aWxlU2V0LCB0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsIDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKGZnICE9IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWF0b3BcIjtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShjYW52YXMsIHggKiB0aWxlV2lkdGgsIHkgKiB0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8vIG5vIGNvbG9yaXppbmcsIGVhc3lcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKHRoaXMuX29wdGlvbnMudGlsZVNldCwgdGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LCB4ICogdGlsZVdpZHRoLCB5ICogdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG4gICAgY29tcHV0ZUZvbnRTaXplKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaWxlIGJhY2tlbmQgZG9lcyBub3QgdW5kZXJzdGFuZCBmb250IHNpemVcIik7XG4gICAgfVxuICAgIF9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKHggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCksIE1hdGguZmxvb3IoeSAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCldO1xuICAgIH1cbiAgICBfdXBkYXRlU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIHRoaXMuX2N0eC5jYW52YXMud2lkdGggPSBvcHRzLndpZHRoICogb3B0cy50aWxlV2lkdGg7XG4gICAgICAgIHRoaXMuX2N0eC5jYW52YXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQgKiBvcHRzLnRpbGVIZWlnaHQ7XG4gICAgICAgIHRoaXMuX2NvbG9yQ2FudmFzLndpZHRoID0gb3B0cy50aWxlV2lkdGg7XG4gICAgICAgIHRoaXMuX2NvbG9yQ2FudmFzLmhlaWdodCA9IG9wdHMudGlsZUhlaWdodDtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFja2VuZCBmcm9tIFwiLi9iYWNrZW5kLmpzXCI7XG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tIFwiLi4vY29sb3IuanNcIjtcbi8qKlxuICogQGNsYXNzIFRpbGUgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUdMIGV4dGVuZHMgQmFja2VuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3VuaWZvcm1zID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9nbCA9IHRoaXMuX2luaXRXZWJHTCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhbGVydChlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwid2ViZ2wyXCIsIHsgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlIH0pO1xuICAgIH1cbiAgICBzY2hlZHVsZShjYikgeyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpOyB9XG4gICAgZ2V0Q29udGFpbmVyKCkgeyByZXR1cm4gdGhpcy5fZ2wuY2FudmFzOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNpemUoKTtcbiAgICAgICAgbGV0IHRpbGVTZXQgPSB0aGlzLl9vcHRpb25zLnRpbGVTZXQ7XG4gICAgICAgIGlmICh0aWxlU2V0ICYmIFwiY29tcGxldGVcIiBpbiB0aWxlU2V0ICYmICF0aWxlU2V0LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aWxlU2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHRoaXMuX3VwZGF0ZVRleHR1cmUodGlsZVNldCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGV4dHVyZSh0aWxlU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5fZ2w7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBsZXQgW3gsIHksIGNoLCBmZywgYmddID0gZGF0YTtcbiAgICAgICAgbGV0IHNjaXNzb3JZID0gZ2wuY2FudmFzLmhlaWdodCAtICh5ICsgMSkgKiBvcHRzLnRpbGVIZWlnaHQ7XG4gICAgICAgIGdsLnNjaXNzb3IoeCAqIG9wdHMudGlsZVdpZHRoLCBzY2lzc29yWSwgb3B0cy50aWxlV2lkdGgsIG9wdHMudGlsZUhlaWdodCk7XG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKG9wdHMudGlsZUNvbG9yaXplKSB7XG4gICAgICAgICAgICAgICAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoLi4ucGFyc2VDb2xvcihiZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgIGxldCBiZ3MgPSBbXS5jb25jYXQoYmcpO1xuICAgICAgICBsZXQgZmdzID0gW10uY29uY2F0KGZnKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdih0aGlzLl91bmlmb3Jtc1tcInRhcmdldFBvc1JlbFwiXSwgW3gsIHldKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl9vcHRpb25zLnRpbGVNYXBbY2hhcnNbaV1dO1xuICAgICAgICAgICAgaWYgKCF0aWxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFyIFwiJHtjaGFyc1tpXX1cIiBub3QgZm91bmQgaW4gdGlsZU1hcGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHRoaXMuX3VuaWZvcm1zW1wiY29sb3JpemVcIl0sIG9wdHMudGlsZUNvbG9yaXplID8gMSA6IDApO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdih0aGlzLl91bmlmb3Jtc1tcInRpbGVzZXRQb3NBYnNcIl0sIHRpbGUpO1xuICAgICAgICAgICAgaWYgKG9wdHMudGlsZUNvbG9yaXplKSB7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih0aGlzLl91bmlmb3Jtc1tcInRpbnRcIl0sIHBhcnNlQ29sb3IoZmdzW2ldKSk7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih0aGlzLl91bmlmb3Jtc1tcImJnXCJdLCBwYXJzZUNvbG9yKGJnc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRpbGVDb2xvcml6ZSkgeyAvLyBhcHBseSBjb2xvcml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLl9jb2xvckNhbnZhcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZnID0gZmdzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJnID0gYmdzW2ldO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMudGlsZVNldCEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWF0b3BcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnICE9IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLW92ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShjYW52YXMsIHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIG5vIGNvbG9yaXppbmcsIGVhc3lcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy50aWxlU2V0ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgKi9cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5fZ2w7XG4gICAgICAgIGdsLmNsZWFyQ29sb3IoLi4ucGFyc2VDb2xvcih0aGlzLl9vcHRpb25zLmJnKSk7XG4gICAgICAgIGdsLnNjaXNzb3IoMCwgMCwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgfVxuICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKTtcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpO1xuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cbiAgICBjb21wdXRlRm9udFNpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRpbGUgYmFja2VuZCBkb2VzIG5vdCB1bmRlcnN0YW5kIGZvbnQgc2l6ZVwiKTtcbiAgICB9XG4gICAgZXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuX2dsLmNhbnZhcztcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHggLT0gcmVjdC5sZWZ0O1xuICAgICAgICB5IC09IHJlY3QudG9wO1xuICAgICAgICB4ICo9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgICAgIHkgKj0gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSBjYW52YXMud2lkdGggfHwgeSA+PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCAtMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSk7XG4gICAgfVxuICAgIF9pbml0V2ViR0woKSB7XG4gICAgICAgIGxldCBnbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIndlYmdsMlwiLCB7IHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdHJ1ZSB9KTtcbiAgICAgICAgd2luZG93LmdsID0gZ2w7XG4gICAgICAgIGxldCBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgVlMsIEZTKTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgY3JlYXRlUXVhZChnbCk7XG4gICAgICAgIFVOSUZPUk1TLmZvckVhY2gobmFtZSA9PiB0aGlzLl91bmlmb3Jtc1tuYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKSk7XG4gICAgICAgIHRoaXMuX3Byb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICBnbC5ibGVuZEZ1bmNTZXBhcmF0ZShnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfVxuICAgIF9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKHggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCksIE1hdGguZmxvb3IoeSAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCldO1xuICAgIH1cbiAgICBfdXBkYXRlU2l6ZSgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLl9nbDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhbnZhc1NpemUgPSBbb3B0cy53aWR0aCAqIG9wdHMudGlsZVdpZHRoLCBvcHRzLmhlaWdodCAqIG9wdHMudGlsZUhlaWdodF07XG4gICAgICAgIGdsLmNhbnZhcy53aWR0aCA9IGNhbnZhc1NpemVbMF07XG4gICAgICAgIGdsLmNhbnZhcy5oZWlnaHQgPSBjYW52YXNTaXplWzFdO1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBjYW52YXNTaXplWzBdLCBjYW52YXNTaXplWzFdKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdih0aGlzLl91bmlmb3Jtc1tcInRpbGVTaXplXCJdLCBbb3B0cy50aWxlV2lkdGgsIG9wdHMudGlsZUhlaWdodF0pO1xuICAgICAgICBnbC51bmlmb3JtMmZ2KHRoaXMuX3VuaWZvcm1zW1widGFyZ2V0U2l6ZVwiXSwgY2FudmFzU2l6ZSk7XG4gICAgfVxuICAgIF91cGRhdGVUZXh0dXJlKHRpbGVTZXQpIHtcbiAgICAgICAgY3JlYXRlVGV4dHVyZSh0aGlzLl9nbCwgdGlsZVNldCk7XG4gICAgfVxufVxuY29uc3QgVU5JRk9STVMgPSBbXCJ0YXJnZXRQb3NSZWxcIiwgXCJ0aWxlc2V0UG9zQWJzXCIsIFwidGlsZVNpemVcIiwgXCJ0YXJnZXRTaXplXCIsIFwiY29sb3JpemVcIiwgXCJiZ1wiLCBcInRpbnRcIl07XG5jb25zdCBWUyA9IGBcbiN2ZXJzaW9uIDMwMCBlc1xuXG5pbiB2ZWMyIHRpbGVQb3NSZWw7XG5vdXQgdmVjMiB0aWxlc2V0UG9zUHg7XG5cbnVuaWZvcm0gdmVjMiB0aWxlc2V0UG9zQWJzO1xudW5pZm9ybSB2ZWMyIHRpbGVTaXplO1xudW5pZm9ybSB2ZWMyIHRhcmdldFNpemU7XG51bmlmb3JtIHZlYzIgdGFyZ2V0UG9zUmVsO1xuXG52b2lkIG1haW4oKSB7XG5cdHZlYzIgdGFyZ2V0UG9zUHggPSAodGFyZ2V0UG9zUmVsICsgdGlsZVBvc1JlbCkgKiB0aWxlU2l6ZTtcblx0dmVjMiB0YXJnZXRQb3NOZGMgPSAoKHRhcmdldFBvc1B4IC8gdGFyZ2V0U2l6ZSktMC41KSoyLjA7XG5cdHRhcmdldFBvc05kYy55ICo9IC0xLjA7XG5cblx0Z2xfUG9zaXRpb24gPSB2ZWM0KHRhcmdldFBvc05kYywgMC4wLCAxLjApO1xuXHR0aWxlc2V0UG9zUHggPSB0aWxlc2V0UG9zQWJzICsgdGlsZVBvc1JlbCAqIHRpbGVTaXplO1xufWAudHJpbSgpO1xuY29uc3QgRlMgPSBgXG4jdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuaW4gdmVjMiB0aWxlc2V0UG9zUHg7XG5vdXQgdmVjNCBmcmFnQ29sb3I7XG51bmlmb3JtIHNhbXBsZXIyRCBpbWFnZTtcbnVuaWZvcm0gYm9vbCBjb2xvcml6ZTtcbnVuaWZvcm0gdmVjNCBiZztcbnVuaWZvcm0gdmVjNCB0aW50O1xuXG52b2lkIG1haW4oKSB7XG5cdGZyYWdDb2xvciA9IHZlYzQoMCwgMCwgMCwgMSk7XG5cblx0dmVjNCB0ZXhlbCA9IHRleGVsRmV0Y2goaW1hZ2UsIGl2ZWMyKHRpbGVzZXRQb3NQeCksIDApO1xuXG5cdGlmIChjb2xvcml6ZSkge1xuXHRcdHRleGVsLnJnYiA9IHRpbnQuYSAqIHRpbnQucmdiICsgKDEuMC10aW50LmEpICogdGV4ZWwucmdiO1xuXHRcdGZyYWdDb2xvci5yZ2IgPSB0ZXhlbC5hKnRleGVsLnJnYiArICgxLjAtdGV4ZWwuYSkqYmcucmdiO1xuXHRcdGZyYWdDb2xvci5hID0gdGV4ZWwuYSArICgxLjAtdGV4ZWwuYSkqYmcuYTtcblx0fSBlbHNlIHtcblx0XHRmcmFnQ29sb3IgPSB0ZXhlbDtcblx0fVxufWAudHJpbSgpO1xuZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgdnNzLCBmc3MpIHtcbiAgICBjb25zdCB2cyA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UodnMsIHZzcyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcih2cyk7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodnMsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyh2cykgfHwgXCJcIik7XG4gICAgfVxuICAgIGNvbnN0IGZzID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgZ2wuc2hhZGVyU291cmNlKGZzLCBmc3MpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoZnMpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZzLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coZnMpIHx8IFwiXCIpO1xuICAgIH1cbiAgICBjb25zdCBwID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwLCB2cyk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHAsIGZzKTtcbiAgICBnbC5saW5rUHJvZ3JhbShwKTtcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocCwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnbC5nZXRQcm9ncmFtSW5mb0xvZyhwKSB8fCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG5mdW5jdGlvbiBjcmVhdGVRdWFkKGdsKSB7XG4gICAgY29uc3QgcG9zID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMCwgMSwgMSwgMV0pO1xuICAgIGNvbnN0IGJ1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWYpO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBwb3MsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgwKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKDAsIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBkYXRhKSB7XG4gICAgbGV0IHQgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLlJFUEVBVCk7XG4gICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgMCk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBkYXRhKTtcbiAgICByZXR1cm4gdDtcbn1cbmxldCBjb2xvckNhY2hlID0ge307XG5mdW5jdGlvbiBwYXJzZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCEoY29sb3IgaW4gY29sb3JDYWNoZSkpIHtcbiAgICAgICAgbGV0IHBhcnNlZDtcbiAgICAgICAgaWYgKGNvbG9yID09IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgcGFyc2VkID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbG9yLmluZGV4T2YoXCJyZ2JhXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHBhcnNlZCA9IChjb2xvci5tYXRjaCgvW1xcZC5dKy9nKSB8fCBbXSkubWFwKE51bWJlcik7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnNlZFtpXSA9IHBhcnNlZFtpXSAvIDI1NTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZCA9IENvbG9yLmZyb21TdHJpbmcoY29sb3IpLm1hcCgkID0+ICQgLyAyNTUpO1xuICAgICAgICAgICAgcGFyc2VkLnB1c2goMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29sb3JDYWNoZVtjb2xvcl0gPSBwYXJzZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb2xvckNhY2hlW2NvbG9yXTtcbn1cbiIsIi8qKlxuICogQG5hbWVzcGFjZVxuICogQ29udGFpbnMgdGV4dCB0b2tlbml6YXRpb24gYW5kIGJyZWFraW5nIHJvdXRpbmVzXG4gKi9cbmNvbnN0IFJFX0NPTE9SUyA9IC8lKFtiY10peyhbXn1dKil9L2c7XG4vLyB0b2tlbiB0eXBlc1xuZXhwb3J0IGNvbnN0IFRZUEVfVEVYVCA9IDA7XG5leHBvcnQgY29uc3QgVFlQRV9ORVdMSU5FID0gMTtcbmV4cG9ydCBjb25zdCBUWVBFX0ZHID0gMjtcbmV4cG9ydCBjb25zdCBUWVBFX0JHID0gMztcbi8qKlxuICogTWVhc3VyZSBzaXplIG9mIGEgcmVzdWx0aW5nIHRleHQgYmxvY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lYXN1cmUoc3RyLCBtYXhXaWR0aCkge1xuICAgIGxldCByZXN1bHQgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDEgfTtcbiAgICBsZXQgdG9rZW5zID0gdG9rZW5pemUoc3RyLCBtYXhXaWR0aCk7XG4gICAgbGV0IGxpbmVXaWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVFlQRV9URVhUOlxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRZUEVfTkVXTElORTpcbiAgICAgICAgICAgICAgICByZXN1bHQuaGVpZ2h0Kys7XG4gICAgICAgICAgICAgICAgcmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENvbnZlcnQgc3RyaW5nIHRvIGEgc2VyaWVzIG9mIGEgZm9ybWF0dGluZyBjb21tYW5kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5pemUoc3RyLCBtYXhXaWR0aCkge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAvKiBmaXJzdCB0b2tlbml6YXRpb24gcGFzcyAtIHNwbGl0IHRleHRzIGFuZCBjb2xvciBmb3JtYXR0aW5nIGNvbW1hbmRzICovXG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgc3RyLnJlcGxhY2UoUkVfQ09MT1JTLCBmdW5jdGlvbiAobWF0Y2gsIHR5cGUsIG5hbWUsIGluZGV4KSB7XG4gICAgICAgIC8qIHN0cmluZyBiZWZvcmUgKi9cbiAgICAgICAgbGV0IHBhcnQgPSBzdHIuc3Vic3RyaW5nKG9mZnNldCwgaW5kZXgpO1xuICAgICAgICBpZiAocGFydC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBUWVBFX1RFWFQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qIGNvbG9yIGNvbW1hbmQgKi9cbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgdHlwZTogKHR5cGUgPT0gXCJjXCIgPyBUWVBFX0ZHIDogVFlQRV9CRyksXG4gICAgICAgICAgICB2YWx1ZTogbmFtZS50cmltKClcbiAgICAgICAgfSk7XG4gICAgICAgIG9mZnNldCA9IGluZGV4ICsgbWF0Y2gubGVuZ3RoO1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9KTtcbiAgICAvKiBsYXN0IHJlbWFpbmluZyBwYXJ0ICovXG4gICAgbGV0IHBhcnQgPSBzdHIuc3Vic3RyaW5nKG9mZnNldCk7XG4gICAgaWYgKHBhcnQubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFRZUEVfVEVYVCxcbiAgICAgICAgICAgIHZhbHVlOiBwYXJ0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYnJlYWtMaW5lcyhyZXN1bHQsIG1heFdpZHRoKTtcbn1cbi8qIGluc2VydCBsaW5lIGJyZWFrcyBpbnRvIGZpcnN0LXBhc3MgdG9rZW5pemVkIGRhdGEgKi9cbmZ1bmN0aW9uIGJyZWFrTGluZXModG9rZW5zLCBtYXhXaWR0aCkge1xuICAgIGlmICghbWF4V2lkdGgpIHtcbiAgICAgICAgbWF4V2lkdGggPSBJbmZpbml0eTtcbiAgICB9XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsaW5lTGVuZ3RoID0gMDtcbiAgICBsZXQgbGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG4gICAgd2hpbGUgKGkgPCB0b2tlbnMubGVuZ3RoKSB7IC8qIHRha2UgYWxsIHRleHQgdG9rZW5zLCByZW1vdmUgc3BhY2UsIGFwcGx5IGxpbmVicmVha3MgKi9cbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBUWVBFX05FV0xJTkUpIHsgLyogcmVzZXQgKi9cbiAgICAgICAgICAgIGxpbmVMZW5ndGggPSAwO1xuICAgICAgICAgICAgbGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gVFlQRV9URVhUKSB7IC8qIHNraXAgbm9uLXRleHQgdG9rZW5zICovXG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvKiByZW1vdmUgc3BhY2VzIGF0IHRoZSBiZWdpbm5pbmcgb2YgbGluZSAqL1xuICAgICAgICB3aGlsZSAobGluZUxlbmd0aCA9PSAwICYmIHRva2VuLnZhbHVlLmNoYXJBdCgwKSA9PSBcIiBcIikge1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSB0b2tlbi52YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZm9yY2VkIG5ld2xpbmU/IGluc2VydCB0d28gbmV3IHRva2VucyBhZnRlciB0aGlzIG9uZSAqL1xuICAgICAgICBsZXQgaW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiXFxuXCIpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgIHRva2VuLnZhbHVlID0gYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIGluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgIC8qIGlmIHRoZXJlIGFyZSBzcGFjZXMgYXQgdGhlIGVuZCwgd2UgbXVzdCByZW1vdmUgdGhlbSAod2UgZG8gbm90IHdhbnQgdGhlIGxpbmUgdG9vIGxvbmcpICovXG4gICAgICAgICAgICBsZXQgYXJyID0gdG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG4gICAgICAgICAgICB3aGlsZSAoYXJyLmxlbmd0aCAmJiBhcnJbYXJyLmxlbmd0aCAtIDFdID09IFwiIFwiKSB7XG4gICAgICAgICAgICAgICAgYXJyLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBhcnIuam9pbihcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKiB0b2tlbiBkZWdlbmVyYXRlZD8gKi9cbiAgICAgICAgaWYgKCF0b2tlbi52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRva2Vucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZUxlbmd0aCArIHRva2VuLnZhbHVlLmxlbmd0aCA+IG1heFdpZHRoKSB7IC8qIGxpbmUgdG9vIGxvbmcsIGZpbmQgYSBzdWl0YWJsZSBicmVha2luZyBzcG90ICovXG4gICAgICAgICAgICAvKiBpcyBpdCBwb3NzaWJsZSB0byBicmVhayB3aXRoaW4gdGhpcyB0b2tlbj8gKi9cbiAgICAgICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dEluZGV4ID0gdG9rZW4udmFsdWUuaW5kZXhPZihcIiBcIiwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dEluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGluZUxlbmd0aCArIG5leHRJbmRleCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSkgeyAvKiBicmVhayBhdCBzcGFjZSB3aXRoaW4gdGhpcyBvbmUgKi9cbiAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBpbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0VG9rZW5XaXRoU3BhY2UgIT0gLTEpIHsgLyogaXMgdGhlcmUgYSBwcmV2aW91cyB0b2tlbiB3aGVyZSBhIGJyZWFrIGNhbiBvY2N1cj8gKi9cbiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbbGFzdFRva2VuV2l0aFNwYWNlXTtcbiAgICAgICAgICAgICAgICBsZXQgYnJlYWtJbmRleCA9IHRva2VuLnZhbHVlLmxhc3RJbmRleE9mKFwiIFwiKTtcbiAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBsYXN0VG9rZW5XaXRoU3BhY2UsIGJyZWFrSW5kZXgsIHRydWUpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0VG9rZW5XaXRoU3BhY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHsgLyogZm9yY2UgYnJlYWsgaW4gdGhpcyB0b2tlbiAqL1xuICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIG1heFdpZHRoIC0gbGluZUxlbmd0aCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvKiBsaW5lIG5vdCBsb25nLCBjb250aW51ZSAqL1xuICAgICAgICAgICAgbGluZUxlbmd0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodG9rZW4udmFsdWUuaW5kZXhPZihcIiBcIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsYXN0VG9rZW5XaXRoU3BhY2UgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkrKzsgLyogYWR2YW5jZSB0byBuZXh0IHRva2VuICovXG4gICAgfVxuICAgIHRva2Vucy5wdXNoKHsgdHlwZTogVFlQRV9ORVdMSU5FIH0pOyAvKiBpbnNlcnQgZmFrZSBuZXdsaW5lIHRvIGZpeCB0aGUgbGFzdCB0ZXh0IGxpbmUgKi9cbiAgICAvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgZnJvbSB0ZXh0IHRva2VucyBiZWZvcmUgbmV3bGluZXMgKi9cbiAgICBsZXQgbGFzdFRleHRUb2tlbiA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgVFlQRV9URVhUOlxuICAgICAgICAgICAgICAgIGxhc3RUZXh0VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVFlQRV9ORVdMSU5FOlxuICAgICAgICAgICAgICAgIGlmIChsYXN0VGV4dFRva2VuKSB7IC8qIHJlbW92ZSB0cmFpbGluZyBzcGFjZSAqL1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXJyID0gbGFzdFRleHRUb2tlbi52YWx1ZS5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGggLSAxXSA9PSBcIiBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RUZXh0VG9rZW4udmFsdWUgPSBhcnIuam9pbihcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdFRleHRUb2tlbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9rZW5zLnBvcCgpOyAvKiByZW1vdmUgZmFrZSB0b2tlbiAqL1xuICAgIHJldHVybiB0b2tlbnM7XG59XG4vKipcbiAqIENyZWF0ZSBuZXcgdG9rZW5zIGFuZCBpbnNlcnQgdGhlbSBpbnRvIHRoZSBzdHJlYW1cbiAqIEBwYXJhbSB7b2JqZWN0W119IHRva2Vuc1xuICogQHBhcmFtIHtpbnR9IHRva2VuSW5kZXggVG9rZW4gYmVpbmcgcHJvY2Vzc2VkXG4gKiBAcGFyYW0ge2ludH0gYnJlYWtJbmRleCBJbmRleCB3aXRoaW4gY3VycmVudCB0b2tlbidzIHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2x9IHJlbW92ZUJyZWFrQ2hhciBEbyB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgYnJlYWtpbmcgY2hhcmFjdGVyP1xuICogQHJldHVybnMge3N0cmluZ30gcmVtYWluaW5nIHVuYnJva2VuIHRva2VuIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCB0b2tlbkluZGV4LCBicmVha0luZGV4LCByZW1vdmVCcmVha0NoYXIpIHtcbiAgICBsZXQgbmV3QnJlYWtUb2tlbiA9IHtcbiAgICAgICAgdHlwZTogVFlQRV9ORVdMSU5FXG4gICAgfTtcbiAgICBsZXQgbmV3VGV4dFRva2VuID0ge1xuICAgICAgICB0eXBlOiBUWVBFX1RFWFQsXG4gICAgICAgIHZhbHVlOiB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWUuc3Vic3RyaW5nKGJyZWFrSW5kZXggKyAocmVtb3ZlQnJlYWtDaGFyID8gMSA6IDApKVxuICAgIH07XG4gICAgdG9rZW5zLnNwbGljZSh0b2tlbkluZGV4ICsgMSwgMCwgbmV3QnJlYWtUb2tlbiwgbmV3VGV4dFRva2VuKTtcbiAgICByZXR1cm4gdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZygwLCBicmVha0luZGV4KTtcbn1cbiIsIi8qKiBEZWZhdWx0IHdpdGggZm9yIGRpc3BsYXkgYW5kIG1hcCBnZW5lcmF0b3JzICovXG5leHBvcnQgbGV0IERFRkFVTFRfV0lEVEggPSA4MDtcbi8qKiBEZWZhdWx0IGhlaWdodCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cbmV4cG9ydCBsZXQgREVGQVVMVF9IRUlHSFQgPSAyNTtcbmV4cG9ydCBjb25zdCBESVJTID0ge1xuICAgIDQ6IFtbMCwgLTFdLCBbMSwgMF0sIFswLCAxXSwgWy0xLCAwXV0sXG4gICAgODogW1swLCAtMV0sIFsxLCAtMV0sIFsxLCAwXSwgWzEsIDFdLCBbMCwgMV0sIFstMSwgMV0sIFstMSwgMF0sIFstMSwgLTFdXSxcbiAgICA2OiBbWy0xLCAtMV0sIFsxLCAtMV0sIFsyLCAwXSwgWzEsIDFdLCBbLTEsIDFdLCBbLTIsIDBdXVxufTtcbmV4cG9ydCBjb25zdCBLRVlTID0ge1xuICAgIC8qKiBDYW5jZWwga2V5LiAqL1xuICAgIFZLX0NBTkNFTDogMyxcbiAgICAvKiogSGVscCBrZXkuICovXG4gICAgVktfSEVMUDogNixcbiAgICAvKiogQmFja3NwYWNlIGtleS4gKi9cbiAgICBWS19CQUNLX1NQQUNFOiA4LFxuICAgIC8qKiBUYWIga2V5LiAqL1xuICAgIFZLX1RBQjogOSxcbiAgICAvKiogNSBrZXkgb24gTnVtcGFkIHdoZW4gTnVtTG9jayBpcyB1bmxvY2tlZC4gT3Igb24gTWFjLCBjbGVhciBrZXkgd2hpY2ggaXMgcG9zaXRpb25lZCBhdCBOdW1Mb2NrIGtleS4gKi9cbiAgICBWS19DTEVBUjogMTIsXG4gICAgLyoqIFJldHVybi9lbnRlciBrZXkgb24gdGhlIG1haW4ga2V5Ym9hcmQuICovXG4gICAgVktfUkVUVVJOOiAxMyxcbiAgICAvKiogUmVzZXJ2ZWQsIGJ1dCBub3QgdXNlZC4gKi9cbiAgICBWS19FTlRFUjogMTQsXG4gICAgLyoqIFNoaWZ0IGtleS4gKi9cbiAgICBWS19TSElGVDogMTYsXG4gICAgLyoqIENvbnRyb2wga2V5LiAqL1xuICAgIFZLX0NPTlRST0w6IDE3LFxuICAgIC8qKiBBbHQgKE9wdGlvbiBvbiBNYWMpIGtleS4gKi9cbiAgICBWS19BTFQ6IDE4LFxuICAgIC8qKiBQYXVzZSBrZXkuICovXG4gICAgVktfUEFVU0U6IDE5LFxuICAgIC8qKiBDYXBzIGxvY2suICovXG4gICAgVktfQ0FQU19MT0NLOiAyMCxcbiAgICAvKiogRXNjYXBlIGtleS4gKi9cbiAgICBWS19FU0NBUEU6IDI3LFxuICAgIC8qKiBTcGFjZSBiYXIuICovXG4gICAgVktfU1BBQ0U6IDMyLFxuICAgIC8qKiBQYWdlIFVwIGtleS4gKi9cbiAgICBWS19QQUdFX1VQOiAzMyxcbiAgICAvKiogUGFnZSBEb3duIGtleS4gKi9cbiAgICBWS19QQUdFX0RPV046IDM0LFxuICAgIC8qKiBFbmQga2V5LiAqL1xuICAgIFZLX0VORDogMzUsXG4gICAgLyoqIEhvbWUga2V5LiAqL1xuICAgIFZLX0hPTUU6IDM2LFxuICAgIC8qKiBMZWZ0IGFycm93LiAqL1xuICAgIFZLX0xFRlQ6IDM3LFxuICAgIC8qKiBVcCBhcnJvdy4gKi9cbiAgICBWS19VUDogMzgsXG4gICAgLyoqIFJpZ2h0IGFycm93LiAqL1xuICAgIFZLX1JJR0hUOiAzOSxcbiAgICAvKiogRG93biBhcnJvdy4gKi9cbiAgICBWS19ET1dOOiA0MCxcbiAgICAvKiogUHJpbnQgU2NyZWVuIGtleS4gKi9cbiAgICBWS19QUklOVFNDUkVFTjogNDQsXG4gICAgLyoqIElucyhlcnQpIGtleS4gKi9cbiAgICBWS19JTlNFUlQ6IDQ1LFxuICAgIC8qKiBEZWwoZXRlKSBrZXkuICovXG4gICAgVktfREVMRVRFOiA0NixcbiAgICAvKioqL1xuICAgIFZLXzA6IDQ4LFxuICAgIC8qKiovXG4gICAgVktfMTogNDksXG4gICAgLyoqKi9cbiAgICBWS18yOiA1MCxcbiAgICAvKioqL1xuICAgIFZLXzM6IDUxLFxuICAgIC8qKiovXG4gICAgVktfNDogNTIsXG4gICAgLyoqKi9cbiAgICBWS181OiA1MyxcbiAgICAvKioqL1xuICAgIFZLXzY6IDU0LFxuICAgIC8qKiovXG4gICAgVktfNzogNTUsXG4gICAgLyoqKi9cbiAgICBWS184OiA1NixcbiAgICAvKioqL1xuICAgIFZLXzk6IDU3LFxuICAgIC8qKiBDb2xvbiAoOikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQ09MT046IDU4LFxuICAgIC8qKiBTZW1pY29sb24gKDspIGtleS4gKi9cbiAgICBWS19TRU1JQ09MT046IDU5LFxuICAgIC8qKiBMZXNzLXRoYW4gKDwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0xFU1NfVEhBTjogNjAsXG4gICAgLyoqIEVxdWFscyAoPSkga2V5LiAqL1xuICAgIFZLX0VRVUFMUzogNjEsXG4gICAgLyoqIEdyZWF0ZXItdGhhbiAoPikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfR1JFQVRFUl9USEFOOiA2MixcbiAgICAvKiogUXVlc3Rpb24gbWFyayAoPykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfUVVFU1RJT05fTUFSSzogNjMsXG4gICAgLyoqIEF0bWFyayAoQCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQVQ6IDY0LFxuICAgIC8qKiovXG4gICAgVktfQTogNjUsXG4gICAgLyoqKi9cbiAgICBWS19COiA2NixcbiAgICAvKioqL1xuICAgIFZLX0M6IDY3LFxuICAgIC8qKiovXG4gICAgVktfRDogNjgsXG4gICAgLyoqKi9cbiAgICBWS19FOiA2OSxcbiAgICAvKioqL1xuICAgIFZLX0Y6IDcwLFxuICAgIC8qKiovXG4gICAgVktfRzogNzEsXG4gICAgLyoqKi9cbiAgICBWS19IOiA3MixcbiAgICAvKioqL1xuICAgIFZLX0k6IDczLFxuICAgIC8qKiovXG4gICAgVktfSjogNzQsXG4gICAgLyoqKi9cbiAgICBWS19LOiA3NSxcbiAgICAvKioqL1xuICAgIFZLX0w6IDc2LFxuICAgIC8qKiovXG4gICAgVktfTTogNzcsXG4gICAgLyoqKi9cbiAgICBWS19OOiA3OCxcbiAgICAvKioqL1xuICAgIFZLX086IDc5LFxuICAgIC8qKiovXG4gICAgVktfUDogODAsXG4gICAgLyoqKi9cbiAgICBWS19ROiA4MSxcbiAgICAvKioqL1xuICAgIFZLX1I6IDgyLFxuICAgIC8qKiovXG4gICAgVktfUzogODMsXG4gICAgLyoqKi9cbiAgICBWS19UOiA4NCxcbiAgICAvKioqL1xuICAgIFZLX1U6IDg1LFxuICAgIC8qKiovXG4gICAgVktfVjogODYsXG4gICAgLyoqKi9cbiAgICBWS19XOiA4NyxcbiAgICAvKioqL1xuICAgIFZLX1g6IDg4LFxuICAgIC8qKiovXG4gICAgVktfWTogODksXG4gICAgLyoqKi9cbiAgICBWS19aOiA5MCxcbiAgICAvKioqL1xuICAgIFZLX0NPTlRFWFRfTUVOVTogOTMsXG4gICAgLyoqIDAgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDA6IDk2LFxuICAgIC8qKiAxIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQxOiA5NyxcbiAgICAvKiogMiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEMjogOTgsXG4gICAgLyoqIDMgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDM6IDk5LFxuICAgIC8qKiA0IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ0OiAxMDAsXG4gICAgLyoqIDUgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDU6IDEwMSxcbiAgICAvKiogNiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFENjogMTAyLFxuICAgIC8qKiA3IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ3OiAxMDMsXG4gICAgLyoqIDggb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDg6IDEwNCxcbiAgICAvKiogOSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEOTogMTA1LFxuICAgIC8qKiAqIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19NVUxUSVBMWTogMTA2LFxuICAgIC8qKiArIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19BREQ6IDEwNyxcbiAgICAvKioqL1xuICAgIFZLX1NFUEFSQVRPUjogMTA4LFxuICAgIC8qKiAtIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19TVUJUUkFDVDogMTA5LFxuICAgIC8qKiBEZWNpbWFsIHBvaW50IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19ERUNJTUFMOiAxMTAsXG4gICAgLyoqIC8gb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX0RJVklERTogMTExLFxuICAgIC8qKiBGMSBrZXkuICovXG4gICAgVktfRjE6IDExMixcbiAgICAvKiogRjIga2V5LiAqL1xuICAgIFZLX0YyOiAxMTMsXG4gICAgLyoqIEYzIGtleS4gKi9cbiAgICBWS19GMzogMTE0LFxuICAgIC8qKiBGNCBrZXkuICovXG4gICAgVktfRjQ6IDExNSxcbiAgICAvKiogRjUga2V5LiAqL1xuICAgIFZLX0Y1OiAxMTYsXG4gICAgLyoqIEY2IGtleS4gKi9cbiAgICBWS19GNjogMTE3LFxuICAgIC8qKiBGNyBrZXkuICovXG4gICAgVktfRjc6IDExOCxcbiAgICAvKiogRjgga2V5LiAqL1xuICAgIFZLX0Y4OiAxMTksXG4gICAgLyoqIEY5IGtleS4gKi9cbiAgICBWS19GOTogMTIwLFxuICAgIC8qKiBGMTAga2V5LiAqL1xuICAgIFZLX0YxMDogMTIxLFxuICAgIC8qKiBGMTEga2V5LiAqL1xuICAgIFZLX0YxMTogMTIyLFxuICAgIC8qKiBGMTIga2V5LiAqL1xuICAgIFZLX0YxMjogMTIzLFxuICAgIC8qKiBGMTMga2V5LiAqL1xuICAgIFZLX0YxMzogMTI0LFxuICAgIC8qKiBGMTQga2V5LiAqL1xuICAgIFZLX0YxNDogMTI1LFxuICAgIC8qKiBGMTUga2V5LiAqL1xuICAgIFZLX0YxNTogMTI2LFxuICAgIC8qKiBGMTYga2V5LiAqL1xuICAgIFZLX0YxNjogMTI3LFxuICAgIC8qKiBGMTcga2V5LiAqL1xuICAgIFZLX0YxNzogMTI4LFxuICAgIC8qKiBGMTgga2V5LiAqL1xuICAgIFZLX0YxODogMTI5LFxuICAgIC8qKiBGMTkga2V5LiAqL1xuICAgIFZLX0YxOTogMTMwLFxuICAgIC8qKiBGMjAga2V5LiAqL1xuICAgIFZLX0YyMDogMTMxLFxuICAgIC8qKiBGMjEga2V5LiAqL1xuICAgIFZLX0YyMTogMTMyLFxuICAgIC8qKiBGMjIga2V5LiAqL1xuICAgIFZLX0YyMjogMTMzLFxuICAgIC8qKiBGMjMga2V5LiAqL1xuICAgIFZLX0YyMzogMTM0LFxuICAgIC8qKiBGMjQga2V5LiAqL1xuICAgIFZLX0YyNDogMTM1LFxuICAgIC8qKiBOdW0gTG9jayBrZXkuICovXG4gICAgVktfTlVNX0xPQ0s6IDE0NCxcbiAgICAvKiogU2Nyb2xsIExvY2sga2V5LiAqL1xuICAgIFZLX1NDUk9MTF9MT0NLOiAxNDUsXG4gICAgLyoqIENpcmN1bWZsZXggKF4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0NJUkNVTUZMRVg6IDE2MCxcbiAgICAvKiogRXhjbGFtYXRpb24gKCEpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0VYQ0xBTUFUSU9OOiAxNjEsXG4gICAgLyoqIERvdWJsZSBxdW90ZSAoKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19ET1VCTEVfUVVPVEU6IDE2MixcbiAgICAvKiogSGFzaCAoIykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfSEFTSDogMTYzLFxuICAgIC8qKiBEb2xsYXIgc2lnbiAoJCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfRE9MTEFSOiAxNjQsXG4gICAgLyoqIFBlcmNlbnQgKCUpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1BFUkNFTlQ6IDE2NSxcbiAgICAvKiogQW1wZXJzYW5kICgmKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19BTVBFUlNBTkQ6IDE2NixcbiAgICAvKiogVW5kZXJzY29yZSAoXykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfVU5ERVJTQ09SRTogMTY3LFxuICAgIC8qKiBPcGVuIHBhcmVudGhlc2lzICgoKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19PUEVOX1BBUkVOOiAxNjgsXG4gICAgLyoqIENsb3NlIHBhcmVudGhlc2lzICgpKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19DTE9TRV9QQVJFTjogMTY5LFxuICAgIC8qIEFzdGVyaXNrICgqKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19BU1RFUklTSzogMTcwLFxuICAgIC8qKiBQbHVzICgrKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19QTFVTOiAxNzEsXG4gICAgLyoqIFBpcGUgKHwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1BJUEU6IDE3MixcbiAgICAvKiogSHlwaGVuLVVTL2RvY3MvTWludXMgKC0pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0hZUEhFTl9NSU5VUzogMTczLFxuICAgIC8qKiBPcGVuIGN1cmx5IGJyYWNrZXQgKHspIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX09QRU5fQ1VSTFlfQlJBQ0tFVDogMTc0LFxuICAgIC8qKiBDbG9zZSBjdXJseSBicmFja2V0ICh9KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19DTE9TRV9DVVJMWV9CUkFDS0VUOiAxNzUsXG4gICAgLyoqIFRpbGRlICh+KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19USUxERTogMTc2LFxuICAgIC8qKiBDb21tYSAoLCkga2V5LiAqL1xuICAgIFZLX0NPTU1BOiAxODgsXG4gICAgLyoqIFBlcmlvZCAoLikga2V5LiAqL1xuICAgIFZLX1BFUklPRDogMTkwLFxuICAgIC8qKiBTbGFzaCAoLykga2V5LiAqL1xuICAgIFZLX1NMQVNIOiAxOTEsXG4gICAgLyoqIEJhY2sgdGljayAoYCkga2V5LiAqL1xuICAgIFZLX0JBQ0tfUVVPVEU6IDE5MixcbiAgICAvKiogT3BlbiBzcXVhcmUgYnJhY2tldCAoWykga2V5LiAqL1xuICAgIFZLX09QRU5fQlJBQ0tFVDogMjE5LFxuICAgIC8qKiBCYWNrIHNsYXNoIChcXCkga2V5LiAqL1xuICAgIFZLX0JBQ0tfU0xBU0g6IDIyMCxcbiAgICAvKiogQ2xvc2Ugc3F1YXJlIGJyYWNrZXQgKF0pIGtleS4gKi9cbiAgICBWS19DTE9TRV9CUkFDS0VUOiAyMjEsXG4gICAgLyoqIFF1b3RlICgnJycpIGtleS4gKi9cbiAgICBWS19RVU9URTogMjIyLFxuICAgIC8qKiBNZXRhIGtleSBvbiBMaW51eCwgQ29tbWFuZCBrZXkgb24gTWFjLiAqL1xuICAgIFZLX01FVEE6IDIyNCxcbiAgICAvKiogQWx0R3Iga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQUxUR1I6IDIyNSxcbiAgICAvKiogV2luZG93cyBsb2dvIGtleSBvbiBXaW5kb3dzLiBPciBTdXBlciBvciBIeXBlciBrZXkgb24gTGludXguIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19XSU46IDkxLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19LQU5BOiAyMSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfSEFOR1VMOiAyMSxcbiAgICAvKiog6Iux5pWwIGtleSBvbiBKYXBhbmVzZSBNYWMga2V5Ym9hcmQuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19FSVNVOiAyMixcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfSlVOSkE6IDIzLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19GSU5BTDogMjQsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0hBTkpBOiAyNSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfS0FOSkk6IDI1LFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19DT05WRVJUOiAyOCxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfTk9OQ09OVkVSVDogMjksXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0FDQ0VQVDogMzAsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX01PREVDSEFOR0U6IDMxLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19TRUxFQ1Q6IDQxLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19QUklOVDogNDIsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0VYRUNVVEU6IDQzLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC5cdCAqL1xuICAgIFZLX1NMRUVQOiA5NVxufTtcbiIsImltcG9ydCBIZXggZnJvbSBcIi4vaGV4LmpzXCI7XG5pbXBvcnQgUmVjdCBmcm9tIFwiLi9yZWN0LmpzXCI7XG5pbXBvcnQgVGlsZSBmcm9tIFwiLi90aWxlLmpzXCI7XG5pbXBvcnQgVGlsZUdMIGZyb20gXCIuL3RpbGUtZ2wuanNcIjtcbmltcG9ydCBUZXJtIGZyb20gXCIuL3Rlcm0uanNcIjtcbmltcG9ydCAqIGFzIFRleHQgZnJvbSBcIi4uL3RleHQuanNcIjtcbmltcG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hUIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuY29uc3QgQkFDS0VORFMgPSB7XG4gICAgXCJoZXhcIjogSGV4LFxuICAgIFwicmVjdFwiOiBSZWN0LFxuICAgIFwidGlsZVwiOiBUaWxlLFxuICAgIFwidGlsZS1nbFwiOiBUaWxlR0wsXG4gICAgXCJ0ZXJtXCI6IFRlcm1cbn07XG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgd2lkdGg6IERFRkFVTFRfV0lEVEgsXG4gICAgaGVpZ2h0OiBERUZBVUxUX0hFSUdIVCxcbiAgICB0cmFuc3Bvc2U6IGZhbHNlLFxuICAgIGxheW91dDogXCJyZWN0XCIsXG4gICAgZm9udFNpemU6IDE1LFxuICAgIHNwYWNpbmc6IDEsXG4gICAgYm9yZGVyOiAwLFxuICAgIGZvcmNlU3F1YXJlUmF0aW86IGZhbHNlLFxuICAgIGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG4gICAgZm9udFN0eWxlOiBcIlwiLFxuICAgIGZnOiBcIiNjY2NcIixcbiAgICBiZzogXCIjMDAwXCIsXG4gICAgdGlsZVdpZHRoOiAzMixcbiAgICB0aWxlSGVpZ2h0OiAzMixcbiAgICB0aWxlTWFwOiB7fSxcbiAgICB0aWxlU2V0OiBudWxsLFxuICAgIHRpbGVDb2xvcml6ZTogZmFsc2Vcbn07XG4vKipcbiAqIEBjbGFzcyBWaXN1YWwgbWFwIGRpc3BsYXlcbiAqL1xubGV0IERpc3BsYXkgPSAvKiogQGNsYXNzICovICgoKSA9PiB7XG4gICAgY2xhc3MgRGlzcGxheSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTsgLy8gZmFsc2UgPSBub3RoaW5nLCB0cnVlID0gYWxsLCBvYmplY3QgPSBkaXJ0eSBjZWxsc1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLkRFQlVHID0gdGhpcy5ERUJVRy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fdGljayA9IHRoaXMuX3RpY2suYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQuc2NoZWR1bGUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlYnVnIGhlbHBlciwgaWRlYWwgYXMgYSBtYXAgZ2VuZXJhdG9yIGNhbGxiYWNrLiBBbHdheXMgYm91bmQgdG8gdGhpcy5cbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHhcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHlcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHdoYXRcbiAgICAgICAgICovXG4gICAgICAgIERFQlVHKHgsIHksIHdoYXQpIHtcbiAgICAgICAgICAgIGxldCBjb2xvcnMgPSBbdGhpcy5fb3B0aW9ucy5iZywgdGhpcy5fb3B0aW9ucy5mZ107XG4gICAgICAgICAgICB0aGlzLmRyYXcoeCwgeSwgbnVsbCwgbnVsbCwgY29sb3JzW3doYXQgJSBjb2xvcnMubGVuZ3RoXSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsZWFyIHRoZSB3aG9sZSBkaXNwbGF5IChjb3ZlciBpdCB3aXRoIGJhY2tncm91bmQgY29sb3IpXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcigpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSBST1QuRGlzcGxheVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMud2lkdGggfHwgb3B0aW9ucy5oZWlnaHQgfHwgb3B0aW9ucy5mb250U2l6ZSB8fCBvcHRpb25zLmZvbnRGYW1pbHkgfHwgb3B0aW9ucy5zcGFjaW5nIHx8IG9wdGlvbnMubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdG9yID0gQkFDS0VORFNbb3B0aW9ucy5sYXlvdXRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iYWNrZW5kID0gbmV3IGN0b3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja2VuZC5zZXRPcHRpb25zKHRoaXMuX29wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGN1cnJlbnRseSBzZXQgb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0T3B0aW9ucygpIHsgcmV0dXJuIHRoaXMuX29wdGlvbnM7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIERPTSBub2RlIG9mIHRoaXMgZGlzcGxheVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29udGFpbmVyKCkgeyByZXR1cm4gdGhpcy5fYmFja2VuZC5nZXRDb250YWluZXIoKTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcHV0ZSB0aGUgbWF4aW11bSB3aWR0aC9oZWlnaHQgdG8gZml0IGludG8gYSBzZXQgb2YgZ2l2ZW4gY29uc3RyYWludHNcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IGF2YWlsV2lkdGggTWF4aW11bSBhbGxvd2VkIHBpeGVsIHdpZHRoXG4gICAgICAgICAqIEBwYXJhbSB7aW50fSBhdmFpbEhlaWdodCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgaGVpZ2h0XG4gICAgICAgICAqIEByZXR1cm5zIHtpbnRbMl19IGNlbGxXaWR0aCxjZWxsSGVpZ2h0XG4gICAgICAgICAqL1xuICAgICAgICBjb21wdXRlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wdXRlIHRoZSBtYXhpbXVtIGZvbnQgc2l6ZSB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICAgICAgICAgKiBAcGFyYW0ge2ludH0gYXZhaWxXaWR0aCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgd2lkdGhcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IGF2YWlsSGVpZ2h0IE1heGltdW0gYWxsb3dlZCBwaXhlbCBoZWlnaHRcbiAgICAgICAgICogQHJldHVybnMge2ludH0gZm9udFNpemVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXB1dGVGb250U2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBjb21wdXRlVGlsZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0IGEgRE9NIGV2ZW50IChtb3VzZSBvciB0b3VjaCkgdG8gbWFwIGNvb3JkaW5hdGVzLiBVc2VzIGZpcnN0IHRvdWNoIGZvciBtdWx0aS10b3VjaC5cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZSBldmVudFxuICAgICAgICAgKiBAcmV0dXJucyB7aW50WzJdfSAtMSBmb3IgdmFsdWVzIG91dHNpZGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgKi9cbiAgICAgICAgZXZlbnRUb1Bvc2l0aW9uKGUpIHtcbiAgICAgICAgICAgIGxldCB4LCB5O1xuICAgICAgICAgICAgaWYgKFwidG91Y2hlc1wiIGluIGUpIHtcbiAgICAgICAgICAgICAgICB4ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgeSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IGUuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB5ID0gZS5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuZXZlbnRUb1Bvc2l0aW9uKHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geFxuICAgICAgICAgKiBAcGFyYW0ge2ludH0geVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZyB8fCBzdHJpbmdbXX0gY2ggT25lIG9yIG1vcmUgY2hhcnMgKHdpbGwgYmUgb3ZlcmxhcHBpbmcgdGhlbXNlbHZlcylcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtmZ10gZm9yZWdyb3VuZCBjb2xvclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JnXSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBkcmF3KHgsIHksIGNoLCBmZywgYmcpIHtcbiAgICAgICAgICAgIGlmICghZmcpIHtcbiAgICAgICAgICAgICAgICBmZyA9IHRoaXMuX29wdGlvbnMuZmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJnKSB7XG4gICAgICAgICAgICAgICAgYmcgPSB0aGlzLl9vcHRpb25zLmJnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGtleSA9IGAke3h9LCR7eX1gO1xuICAgICAgICAgICAgdGhpcy5fZGF0YVtrZXldID0gW3gsIHksIGNoLCBmZywgYmddO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcnR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyB3aWxsIGFscmVhZHkgcmVkcmF3IGV2ZXJ5dGhpbmcgXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB7fTtcbiAgICAgICAgICAgIH0gLy8gZmlyc3QhXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eVtrZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRHJhd3MgYSB0ZXh0IGF0IGdpdmVuIHBvc2l0aW9uLiBPcHRpb25hbGx5IHdyYXBzIGF0IGEgbWF4aW11bSBsZW5ndGguIEN1cnJlbnRseSBkb2VzIG5vdCB3b3JrIHdpdGggaGV4IGxheW91dC5cbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHhcbiAgICAgICAgICogQHBhcmFtIHtpbnR9IHlcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgTWF5IGNvbnRhaW4gY29sb3IvYmFja2dyb3VuZCBmb3JtYXQgc3BlY2lmaWVycywgJWN7bmFtZX0vJWJ7bmFtZX0sIGJvdGggb3B0aW9uYWwuICVje30vJWJ7fSByZXNldHMgdG8gZGVmYXVsdC5cbiAgICAgICAgICogQHBhcmFtIHtpbnR9IFttYXhXaWR0aF0gd3JhcCBhdCB3aGF0IHdpZHRoP1xuICAgICAgICAgKiBAcmV0dXJucyB7aW50fSBsaW5lcyBkcmF3blxuICAgICAgICAgKi9cbiAgICAgICAgZHJhd1RleHQoeCwgeSwgdGV4dCwgbWF4V2lkdGgpIHtcbiAgICAgICAgICAgIGxldCBmZyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgYmcgPSBudWxsO1xuICAgICAgICAgICAgbGV0IGN4ID0geDtcbiAgICAgICAgICAgIGxldCBjeSA9IHk7XG4gICAgICAgICAgICBsZXQgbGluZXMgPSAxO1xuICAgICAgICAgICAgaWYgKCFtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIG1heFdpZHRoID0gdGhpcy5fb3B0aW9ucy53aWR0aCAtIHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG9rZW5zID0gVGV4dC50b2tlbml6ZSh0ZXh0LCBtYXhXaWR0aCk7XG4gICAgICAgICAgICB3aGlsZSAodG9rZW5zLmxlbmd0aCkgeyAvLyBpbnRlcnByZXQgdG9rZW5pemVkIG9wY29kZSBzdHJlYW1cbiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0LlRZUEVfVEVYVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc1NwYWNlID0gZmFsc2UsIGlzUHJldlNwYWNlID0gZmFsc2UsIGlzRnVsbFdpZHRoID0gZmFsc2UsIGlzUHJldkZ1bGxXaWR0aCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbi52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYyA9IHRva2VuLnZhbHVlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGMgPSB0b2tlbi52YWx1ZS5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMubGF5b3V0ID09PSBcInRlcm1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2NoID0gY2MgPj4gODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzQ0pLID0gY2NoID09PSAweDExIHx8IChjY2ggPj0gMHgyZSAmJiBjY2ggPD0gMHg5ZikgfHwgKGNjaCA+PSAweGFjICYmIGNjaCA8PSAweGQ3KSB8fCAoY2MgPj0gMHhBOTYwICYmIGNjIDw9IDB4QTk3Rik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NKSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KGN4ICsgMCwgY3ksIGMsIGZnLCBiZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY3ggKyAxLCBjeSwgXCJcXHRcIiwgZmcsIGJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4ICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdG8gYHRydWVgIHdoZW4gdGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVsbFdpZHRoID0gKGNjID4gMHhmZjAwICYmIGNjIDwgMHhmZjYxKSB8fCAoY2MgPiAweGZmZGMgJiYgY2MgPCAweGZmZTgpIHx8IGNjID4gMHhmZmVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgY2hhciBpcyBzcGFjZSwgd2hhdGV2ZXIgZnVsbC13aWR0aCBvciBoYWxmLXdpZHRoIGJvdGggYXJlIE9LLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3BhY2UgPSAoYy5jaGFyQ29kZUF0KDApID09IDB4MjAgfHwgYy5jaGFyQ29kZUF0KDApID09IDB4MzAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHByZXZpb3VzIGNoYXIgaXMgZnVsbC13aWR0aCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGNoYXIgaXMgbmV0aGVyIGhhbGYtd2lkdGggbm9yIGEgc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJldkZ1bGxXaWR0aCAmJiAhaXNGdWxsV2lkdGggJiYgIWlzU3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3grKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IGNoYXIgaXMgZnVsbC13aWR0aCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgY2hhciBpcyBub3QgYSBzcGFjZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdWxsV2lkdGggJiYgIWlzUHJldlNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBhZGQgYW4gZXh0cmEgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY3grKywgY3ksIGMsIGZnLCBiZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmV2U3BhY2UgPSBpc1NwYWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJldkZ1bGxXaWR0aCA9IGlzRnVsbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVGV4dC5UWVBFX0ZHOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVGV4dC5UWVBFX0JHOlxuICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVGV4dC5UWVBFX05FV0xJTkU6XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaW5lcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGltZXIgdGljazogdXBkYXRlIGRpcnR5IHBhcnRzXG4gICAgICAgICAqL1xuICAgICAgICBfdGljaygpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQuc2NoZWR1bGUodGhpcy5fdGljayk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RpcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcnR5ID09PSB0cnVlKSB7IC8vIGRyYXcgYWxsXG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja2VuZC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhdyhpZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gLy8gcmVkcmF3IGNhY2hlZCBkYXRhIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8vIGRyYXcgb25seSBkaXJ0eSBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhdyhrZXksIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgV2hhdCB0byBkcmF3XG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbH0gY2xlYXJCZWZvcmUgSXMgaXQgbmVjZXNzYXJ5IHRvIGNsZWFuIGJlZm9yZT9cbiAgICAgICAgICovXG4gICAgICAgIF9kcmF3KGtleSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuICAgICAgICAgICAgaWYgKGRhdGFbNF0gIT0gdGhpcy5fb3B0aW9ucy5iZykge1xuICAgICAgICAgICAgICAgIGNsZWFyQmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQuZHJhdyhkYXRhLCBjbGVhckJlZm9yZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRGlzcGxheS5SZWN0ID0gUmVjdDtcbiAgICBEaXNwbGF5LkhleCA9IEhleDtcbiAgICBEaXNwbGF5LlRpbGUgPSBUaWxlO1xuICAgIERpc3BsYXkuVGlsZUdMID0gVGlsZUdMO1xuICAgIERpc3BsYXkuVGVybSA9IFRlcm07XG4gICAgcmV0dXJuIERpc3BsYXk7XG59KSgpO1xuZXhwb3J0IGRlZmF1bHQgRGlzcGxheTtcbiIsImltcG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hUIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwIHtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmFzZSBtYXAgZ2VuZXJhdG9yXG4gICAgICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAgICAgKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGggPSBERUZBVUxUX1dJRFRILCBoZWlnaHQgPSBERUZBVUxUX0hFSUdIVCkge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIDtcbiAgICBfZmlsbE1hcCh2YWx1ZSkge1xuICAgICAgICBsZXQgbWFwID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgbWFwLnB1c2goW10pO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIG1hcFtpXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBTaW1wbGUgZW1wdHkgcmVjdGFuZ3VsYXIgcm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJlbmEgZXh0ZW5kcyBNYXAge1xuICAgIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgdyA9IHRoaXMuX3dpZHRoIC0gMTtcbiAgICAgICAgbGV0IGggPSB0aGlzLl9oZWlnaHQgLSAxO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBlbXB0eSA9IChpICYmIGogJiYgaSA8IHcgJiYgaiA8IGgpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIGVtcHR5ID8gMCA6IDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIG1hcDogaGFzIHJvb21zIGFuZCBjb3JyaWRvcnNcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER1bmdlb24gZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX3Jvb21zID0gW107XG4gICAgICAgIHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGdlbmVyYXRlZCByb29tc1xuICAgICAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuUm9vbVtdfVxuICAgICAqL1xuICAgIGdldFJvb21zKCkgeyByZXR1cm4gdGhpcy5fcm9vbXM7IH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGdlbmVyYXRlZCBjb3JyaWRvcnNcbiAgICAgKiBAcmV0dXJucyB7Uk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yW119XG4gICAgICovXG4gICAgZ2V0Q29ycmlkb3JzKCkgeyByZXR1cm4gdGhpcy5fY29ycmlkb3JzOyB9XG59XG4iLCJpbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbjtcbi8qKlxuICogQGNsYXNzIER1bmdlb24gZmVhdHVyZTsgaGFzIG93biAuY3JlYXRlKCkgbWV0aG9kXG4gKi9cbmNsYXNzIEZlYXR1cmUge1xufVxuLyoqXG4gKiBAY2xhc3MgUm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHgxXG4gKiBAcGFyYW0ge2ludH0geTFcbiAqIEBwYXJhbSB7aW50fSB4MlxuICogQHBhcmFtIHtpbnR9IHkyXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JYXVxuICogQHBhcmFtIHtpbnR9IFtkb29yWV1cbiAqL1xuZXhwb3J0IGNsYXNzIFJvb20gZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3Rvcih4MSwgeTEsIHgyLCB5MiwgZG9vclgsIGRvb3JZKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3gxID0geDE7XG4gICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgIHRoaXMuX3gyID0geDI7XG4gICAgICAgIHRoaXMuX3kyID0geTI7XG4gICAgICAgIHRoaXMuX2Rvb3JzID0ge307XG4gICAgICAgIGlmIChkb29yWCAhPT0gdW5kZWZpbmVkICYmIGRvb3JZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRG9vcihkb29yWCwgZG9vclkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBSb29tIG9mIHJhbmRvbSBzaXplLCB3aXRoIGEgZ2l2ZW4gZG9vcnMgYW5kIGRpcmVjdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSYW5kb21BdCh4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuICAgICAgICBsZXQgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG4gICAgICAgIGxldCB3aWR0aCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuICAgICAgICBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG4gICAgICAgIGxldCBoZWlnaHQgPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIGlmIChkeCA9PSAxKSB7IC8qIHRvIHRoZSByaWdodCAqL1xuICAgICAgICAgICAgbGV0IHkyID0geSAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMoeCArIDEsIHkyLCB4ICsgd2lkdGgsIHkyICsgaGVpZ2h0IC0gMSwgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR4ID09IC0xKSB7IC8qIHRvIHRoZSBsZWZ0ICovXG4gICAgICAgICAgICBsZXQgeTIgPSB5IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyh4IC0gd2lkdGgsIHkyLCB4IC0gMSwgeTIgKyBoZWlnaHQgLSAxLCB4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkgPT0gMSkgeyAvKiB0byB0aGUgYm90dG9tICovXG4gICAgICAgICAgICBsZXQgeDIgPSB4IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgyLCB5ICsgMSwgeDIgKyB3aWR0aCAtIDEsIHkgKyBoZWlnaHQsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeSA9PSAtMSkgeyAvKiB0byB0aGUgdG9wICovXG4gICAgICAgICAgICBsZXQgeDIgPSB4IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgyLCB5IC0gaGVpZ2h0LCB4MiArIHdpZHRoIC0gMSwgeSAtIDEsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImR4IG9yIGR5IG11c3QgYmUgMSBvciAtMVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm9vbSBvZiByYW5kb20gc2l6ZSwgcG9zaXRpb25lZCBhcm91bmQgY2VudGVyIGNvb3Jkc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSYW5kb21DZW50ZXIoY3gsIGN5LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcbiAgICAgICAgbGV0IG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuICAgICAgICBsZXQgd2lkdGggPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcbiAgICAgICAgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBsZXQgeDEgPSBjeCAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcbiAgICAgICAgbGV0IHkxID0gY3kgLSBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiBoZWlnaHQpO1xuICAgICAgICBsZXQgeDIgPSB4MSArIHdpZHRoIC0gMTtcbiAgICAgICAgbGV0IHkyID0geTEgKyBoZWlnaHQgLSAxO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb29tIG9mIHJhbmRvbSBzaXplIHdpdGhpbiBhIGdpdmVuIGRpbWVuc2lvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUmFuZG9tKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcbiAgICAgICAgbGV0IG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuICAgICAgICBsZXQgd2lkdGggPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcbiAgICAgICAgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBsZXQgbGVmdCA9IGF2YWlsV2lkdGggLSB3aWR0aCAtIDE7XG4gICAgICAgIGxldCB0b3AgPSBhdmFpbEhlaWdodCAtIGhlaWdodCAtIDE7XG4gICAgICAgIGxldCB4MSA9IDEgKyBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiBsZWZ0KTtcbiAgICAgICAgbGV0IHkxID0gMSArIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIHRvcCk7XG4gICAgICAgIGxldCB4MiA9IHgxICsgd2lkdGggLSAxO1xuICAgICAgICBsZXQgeTIgPSB5MSArIGhlaWdodCAtIDE7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh4MSwgeTEsIHgyLCB5Mik7XG4gICAgfVxuICAgIGFkZERvb3IoeCwgeSkge1xuICAgICAgICB0aGlzLl9kb29yc1t4ICsgXCIsXCIgKyB5XSA9IDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGdldERvb3JzKGNiKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9kb29ycykge1xuICAgICAgICAgICAgbGV0IHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIGNiKHBhcnNlSW50KHBhcnRzWzBdKSwgcGFyc2VJbnQocGFydHNbMV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xlYXJEb29ycygpIHtcbiAgICAgICAgdGhpcy5fZG9vcnMgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFkZERvb3JzKGlzV2FsbENhbGxiYWNrKSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5feDEgLSAxO1xuICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLl94MiArIDE7XG4gICAgICAgIGxldCB0b3AgPSB0aGlzLl95MSAtIDE7XG4gICAgICAgIGxldCBib3R0b20gPSB0aGlzLl95MiArIDE7XG4gICAgICAgIGZvciAobGV0IHggPSBsZWZ0OyB4IDw9IHJpZ2h0OyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSB0b3A7IHkgPD0gYm90dG9tOyB5KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoeCAhPSBsZWZ0ICYmIHggIT0gcmlnaHQgJiYgeSAhPSB0b3AgJiYgeSAhPSBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1dhbGxDYWxsYmFjayh4LCB5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGREb29yKHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWJ1ZygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyb29tXCIsIHRoaXMuX3gxLCB0aGlzLl95MSwgdGhpcy5feDIsIHRoaXMuX3kyKTtcbiAgICB9XG4gICAgaXNWYWxpZChpc1dhbGxDYWxsYmFjaywgY2FuQmVEdWdDYWxsYmFjaykge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuX3gxIC0gMTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5feDIgKyAxO1xuICAgICAgICBsZXQgdG9wID0gdGhpcy5feTEgLSAxO1xuICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5feTIgKyAxO1xuICAgICAgICBmb3IgKGxldCB4ID0gbGVmdDsgeCA8PSByaWdodDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gdG9wOyB5IDw9IGJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNXYWxsQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5CZUR1Z0NhbGxiYWNrKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ0NhbGxiYWNrIERpZyBjYWxsYmFjayB3aXRoIGEgc2lnbmF0dXJlICh4LCB5LCB2YWx1ZSkuIFZhbHVlczogMCA9IGVtcHR5LCAxID0gd2FsbCwgMiA9IGRvb3IuIE11bHRpcGxlIGRvb3JzIGFyZSBhbGxvd2VkLlxuICAgICAqL1xuICAgIGNyZWF0ZShkaWdDYWxsYmFjaykge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuX3gxIC0gMTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5feDIgKyAxO1xuICAgICAgICBsZXQgdG9wID0gdGhpcy5feTEgLSAxO1xuICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5feTIgKyAxO1xuICAgICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgICBmb3IgKGxldCB4ID0gbGVmdDsgeCA8PSByaWdodDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gdG9wOyB5IDw9IGJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggKyBcIixcIiArIHkgaW4gdGhpcy5fZG9vcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh4ID09IGxlZnQgfHwgeCA9PSByaWdodCB8fCB5ID09IHRvcCB8fCB5ID09IGJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpZ0NhbGxiYWNrKHgsIHksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBbTWF0aC5yb3VuZCgodGhpcy5feDEgKyB0aGlzLl94MikgLyAyKSwgTWF0aC5yb3VuZCgodGhpcy5feTEgKyB0aGlzLl95MikgLyAyKV07XG4gICAgfVxuICAgIGdldExlZnQoKSB7IHJldHVybiB0aGlzLl94MTsgfVxuICAgIGdldFJpZ2h0KCkgeyByZXR1cm4gdGhpcy5feDI7IH1cbiAgICBnZXRUb3AoKSB7IHJldHVybiB0aGlzLl95MTsgfVxuICAgIGdldEJvdHRvbSgpIHsgcmV0dXJuIHRoaXMuX3kyOyB9XG59XG4vKipcbiAqIEBjbGFzcyBDb3JyaWRvclxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WFxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WVxuICogQHBhcmFtIHtpbnR9IGVuZFhcbiAqIEBwYXJhbSB7aW50fSBlbmRZXG4gKi9cbmV4cG9ydCBjbGFzcyBDb3JyaWRvciBleHRlbmRzIEZlYXR1cmUge1xuICAgIGNvbnN0cnVjdG9yKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3N0YXJ0WCA9IHN0YXJ0WDtcbiAgICAgICAgdGhpcy5fc3RhcnRZID0gc3RhcnRZO1xuICAgICAgICB0aGlzLl9lbmRYID0gZW5kWDtcbiAgICAgICAgdGhpcy5fZW5kWSA9IGVuZFk7XG4gICAgICAgIHRoaXMuX2VuZHNXaXRoQVdhbGwgPSB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtaW4gPSBvcHRpb25zLmNvcnJpZG9yTGVuZ3RoWzBdO1xuICAgICAgICBsZXQgbWF4ID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFsxXTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgsIHksIHggKyBkeCAqIGxlbmd0aCwgeSArIGR5ICogbGVuZ3RoKTtcbiAgICB9XG4gICAgZGVidWcoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29ycmlkb3JcIiwgdGhpcy5fc3RhcnRYLCB0aGlzLl9zdGFydFksIHRoaXMuX2VuZFgsIHRoaXMuX2VuZFkpO1xuICAgIH1cbiAgICBpc1ZhbGlkKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKSB7XG4gICAgICAgIGxldCBzeCA9IHRoaXMuX3N0YXJ0WDtcbiAgICAgICAgbGV0IHN5ID0gdGhpcy5fc3RhcnRZO1xuICAgICAgICBsZXQgZHggPSB0aGlzLl9lbmRYIC0gc3g7XG4gICAgICAgIGxldCBkeSA9IHRoaXMuX2VuZFkgLSBzeTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDEgKyBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG4gICAgICAgIGlmIChkeCkge1xuICAgICAgICAgICAgZHggPSBkeCAvIE1hdGguYWJzKGR4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkpIHtcbiAgICAgICAgICAgIGR5ID0gZHkgLyBNYXRoLmFicyhkeSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG54ID0gZHk7XG4gICAgICAgIGxldCBueSA9IC1keDtcbiAgICAgICAgbGV0IG9rID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSBzeCArIGkgKiBkeDtcbiAgICAgICAgICAgIGxldCB5ID0gc3kgKyBpICogZHk7XG4gICAgICAgICAgICBpZiAoIWNhbkJlRHVnQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1dhbGxDYWxsYmFjayh4ICsgbngsIHkgKyBueSkpIHtcbiAgICAgICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1dhbGxDYWxsYmFjayh4IC0gbngsIHkgLSBueSkpIHtcbiAgICAgICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kWCA9IHggLSBkeDtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRZID0geSAtIGR5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgbGVuZ3RoIGRlZ2VuZXJhdGVkLCB0aGlzIGNvcnJpZG9yIG1pZ2h0IGJlIGludmFsaWRcbiAgICAgICAgICovXG4gICAgICAgIC8qIG5vdCBzdXBwb3J0ZWQgKi9cbiAgICAgICAgaWYgKGxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogbGVuZ3RoIDEgYWxsb3dlZCBvbmx5IGlmIHRoZSBuZXh0IHNwYWNlIGlzIGVtcHR5ICovXG4gICAgICAgIGlmIChsZW5ndGggPT0gMSAmJiBpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV2UgZG8gbm90IHdhbnQgdGhlIGNvcnJpZG9yIHRvIGNyYXNoIGludG8gYSBjb3JuZXIgb2YgYSByb29tO1xuICAgICAgICAgKiBpZiBhbnkgb2YgdGhlIGVuZGluZyBjb3JuZXJzIGlzIGVtcHR5LCB0aGUgTisxdGggY2VsbCBvZiB0aGlzIGNvcnJpZG9yIG11c3QgYmUgZW1wdHkgdG9vLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTaXR1YXRpb246XG4gICAgICAgICAqICMjIyMjIyMxXG4gICAgICAgICAqIC4uLi4uLi4/XG4gICAgICAgICAqICMjIyMjIyMyXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjb3JyaWRvciB3YXMgZHVnIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgICAgICogMSwgMiAtIHByb2JsZW1hdGljIGNvcm5lcnMsID8gPSBOKzF0aCBjZWxsIChub3QgZHVnKVxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IGZpcnN0Q29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCArIG54LCB0aGlzLl9lbmRZICsgZHkgKyBueSk7XG4gICAgICAgIGxldCBzZWNvbmRDb3JuZXJCYWQgPSAhaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4IC0gbngsIHRoaXMuX2VuZFkgKyBkeSAtIG55KTtcbiAgICAgICAgdGhpcy5fZW5kc1dpdGhBV2FsbCA9IGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcbiAgICAgICAgaWYgKChmaXJzdENvcm5lckJhZCB8fCBzZWNvbmRDb3JuZXJCYWQpICYmIHRoaXMuX2VuZHNXaXRoQVdhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHkuXG4gICAgICovXG4gICAgY3JlYXRlKGRpZ0NhbGxiYWNrKSB7XG4gICAgICAgIGxldCBzeCA9IHRoaXMuX3N0YXJ0WDtcbiAgICAgICAgbGV0IHN5ID0gdGhpcy5fc3RhcnRZO1xuICAgICAgICBsZXQgZHggPSB0aGlzLl9lbmRYIC0gc3g7XG4gICAgICAgIGxldCBkeSA9IHRoaXMuX2VuZFkgLSBzeTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDEgKyBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG4gICAgICAgIGlmIChkeCkge1xuICAgICAgICAgICAgZHggPSBkeCAvIE1hdGguYWJzKGR4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkpIHtcbiAgICAgICAgICAgIGR5ID0gZHkgLyBNYXRoLmFicyhkeSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSBzeCArIGkgKiBkeDtcbiAgICAgICAgICAgIGxldCB5ID0gc3kgKyBpICogZHk7XG4gICAgICAgICAgICBkaWdDYWxsYmFjayh4LCB5LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY3JlYXRlUHJpb3JpdHlXYWxscyhwcmlvcml0eVdhbGxDYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuX2VuZHNXaXRoQVdhbGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3ggPSB0aGlzLl9zdGFydFg7XG4gICAgICAgIGxldCBzeSA9IHRoaXMuX3N0YXJ0WTtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy5fZW5kWCAtIHN4O1xuICAgICAgICBsZXQgZHkgPSB0aGlzLl9lbmRZIC0gc3k7XG4gICAgICAgIGlmIChkeCkge1xuICAgICAgICAgICAgZHggPSBkeCAvIE1hdGguYWJzKGR4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkpIHtcbiAgICAgICAgICAgIGR5ID0gZHkgLyBNYXRoLmFicyhkeSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG54ID0gZHk7XG4gICAgICAgIGxldCBueSA9IC1keDtcbiAgICAgICAgcHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpO1xuICAgICAgICBwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgbngsIHRoaXMuX2VuZFkgKyBueSk7XG4gICAgICAgIHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggLSBueCwgdGhpcy5fZW5kWSAtIG55KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgRHVuZ2VvbiBmcm9tIFwiLi9kdW5nZW9uLmpzXCI7XG5pbXBvcnQgeyBSb29tLCBDb3JyaWRvciB9IGZyb20gXCIuL2ZlYXR1cmVzLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbjtcbi8qKlxuICogQGNsYXNzIER1bmdlb24gZ2VuZXJhdG9yIHdoaWNoIHRyaWVzIHRvIGZpbGwgdGhlIHNwYWNlIGV2ZW5seS4gR2VuZXJhdGVzIGluZGVwZW5kZW50IHJvb21zIGFuZCB0cmllcyB0byBjb25uZWN0IHRoZW0uXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5EdW5nZW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuaWZvcm0gZXh0ZW5kcyBEdW5nZW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgICAgICAgcm9vbVdpZHRoOiBbMywgOV0sXG4gICAgICAgICAgICByb29tSGVpZ2h0OiBbMywgNV0sXG4gICAgICAgICAgICByb29tRHVnUGVyY2VudGFnZTogMC4xLFxuICAgICAgICAgICAgdGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb21BdHRlbXB0cyA9IDIwOyAvKiBuZXcgcm9vbSBpcyBjcmVhdGVkIE4tdGltZXMgdW50aWwgaXMgY29uc2lkZXJlZCBhcyBpbXBvc3NpYmxlIHRvIGdlbmVyYXRlICovXG4gICAgICAgIHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMgPSAyMDsgLyogY29ycmlkb3JzIGFyZSB0cmllZCBOLXRpbWVzIHVudGlsIHRoZSBsZXZlbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gY29ubmVjdCAqL1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSBbXTsgLyogbGlzdCBvZiBhbHJlYWR5IGNvbm5lY3RlZCByb29tcyAqL1xuICAgICAgICB0aGlzLl91bmNvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIHJlbWFpbmluZyB1bmNvbm5lY3RlZCByb29tcyAqL1xuICAgICAgICB0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWFwLiBJZiB0aGUgdGltZSBsaW1pdCBoYXMgYmVlbiBoaXQsIHJldHVybnMgbnVsbC5cbiAgICAgKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gICAgICovXG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB0MSA9IERhdGUubm93KCk7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBsZXQgdDIgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSAvKiB0aW1lIGxpbWl0ISAqL1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgICAgICB0aGlzLl9yb29tcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fdW5jb25uZWN0ZWQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlUm9vbXMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb29tcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VuZXJhdGVDb3JyaWRvcnMoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgc3VpdGFibGUgYW1vdW50IG9mIHJvb21zXG4gICAgICovXG4gICAgX2dlbmVyYXRlUm9vbXMoKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5fd2lkdGggLSAyO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodCAtIDI7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByb29tID0gdGhpcy5fZ2VuZXJhdGVSb29tKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHVnIC8gKHcgKiBoKSA+IHRoaXMuX29wdGlvbnMucm9vbUR1Z1BlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gLyogYWNoaWV2ZWQgcmVxdWVzdGVkIGFtb3VudCBvZiBmcmVlIHNwYWNlICovXG4gICAgICAgIH0gd2hpbGUgKHJvb20pO1xuICAgICAgICAvKiBlaXRoZXIgZW5vdWdoIHJvb21zLCBvciBub3QgYWJsZSB0byBnZW5lcmF0ZSBtb3JlIG9mIHRoZW0gOikgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJ5IHRvIGdlbmVyYXRlIG9uZSByb29tXG4gICAgICovXG4gICAgX2dlbmVyYXRlUm9vbSgpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKGNvdW50IDwgdGhpcy5fcm9vbUF0dGVtcHRzKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgbGV0IHJvb20gPSBSb29tLmNyZWF0ZVJhbmRvbSh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgICAgIGlmICghcm9vbS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fcm9vbXMucHVzaChyb29tKTtcbiAgICAgICAgICAgIHJldHVybiByb29tO1xuICAgICAgICB9XG4gICAgICAgIC8qIG5vIHJvb20gd2FzIGdlbmVyYXRlZCBpbiBhIGdpdmVuIG51bWJlciBvZiBhdHRlbXB0cyAqL1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGNvbm5lY3RvcnMgYmV3ZWVuIHJvb21zXG4gICAgICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3MgV2FzIHRoaXMgYXR0ZW1wdCBzdWNjZXNzZnVsbD9cbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVDb3JyaWRvcnMoKSB7XG4gICAgICAgIGxldCBjbnQgPSAwO1xuICAgICAgICB3aGlsZSAoY250IDwgdGhpcy5fY29ycmlkb3JBdHRlbXB0cykge1xuICAgICAgICAgICAgY250Kys7XG4gICAgICAgICAgICB0aGlzLl9jb3JyaWRvcnMgPSBbXTtcbiAgICAgICAgICAgIC8qIGRpZyByb29tcyBpbnRvIGEgY2xlYXIgbWFwICovXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9yb29tcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCByb29tID0gdGhpcy5fcm9vbXNbaV07XG4gICAgICAgICAgICAgICAgcm9vbS5jbGVhckRvb3JzKCk7XG4gICAgICAgICAgICAgICAgcm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdW5jb25uZWN0ZWQgPSBSTkcuc2h1ZmZsZSh0aGlzLl9yb29tcy5zbGljZSgpKTtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IFtdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHRoaXMuX3VuY29ubmVjdGVkLnBvcCgpKTtcbiAgICAgICAgICAgIH0gLyogZmlyc3Qgb25lIGlzIGFsd2F5cyBjb25uZWN0ZWQgKi9cbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgLyogMS4gcGljayByYW5kb20gY29ubmVjdGVkIHJvb20gKi9cbiAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGVkID0gUk5HLmdldEl0ZW0odGhpcy5fY29ubmVjdGVkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogMi4gZmluZCBjbG9zZXN0IHVuY29ubmVjdGVkICovXG4gICAgICAgICAgICAgICAgbGV0IHJvb20xID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fdW5jb25uZWN0ZWQsIGNvbm5lY3RlZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyb29tMSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogMy4gY29ubmVjdCBpdCB0byBjbG9zZXN0IGNvbm5lY3RlZCAqL1xuICAgICAgICAgICAgICAgIGxldCByb29tMiA9IHRoaXMuX2Nsb3Nlc3RSb29tKHRoaXMuX2Nvbm5lY3RlZCwgcm9vbTEpO1xuICAgICAgICAgICAgICAgIGlmICghcm9vbTIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBvayA9IHRoaXMuX2Nvbm5lY3RSb29tcyhyb29tMSwgcm9vbTIpO1xuICAgICAgICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSAvKiBzdG9wIGNvbm5lY3RpbmcsIHJlLXNodWZmbGUgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IC8qIGRvbmU7IG5vIHJvb21zIHJlbWFpbiAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIEZvciBhIGdpdmVuIHJvb20sIGZpbmQgdGhlIGNsb3Nlc3Qgb25lIGZyb20gdGhlIGxpc3RcbiAgICAgKi9cbiAgICBfY2xvc2VzdFJvb20ocm9vbXMsIHJvb20pIHtcbiAgICAgICAgbGV0IGRpc3QgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IGNlbnRlciA9IHJvb20uZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgciA9IHJvb21zW2ldO1xuICAgICAgICAgICAgbGV0IGMgPSByLmdldENlbnRlcigpO1xuICAgICAgICAgICAgbGV0IGR4ID0gY1swXSAtIGNlbnRlclswXTtcbiAgICAgICAgICAgIGxldCBkeSA9IGNbMV0gLSBjZW50ZXJbMV07XG4gICAgICAgICAgICBsZXQgZCA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICAgICAgaWYgKGQgPCBkaXN0KSB7XG4gICAgICAgICAgICAgICAgZGlzdCA9IGQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfY29ubmVjdFJvb21zKHJvb20xLCByb29tMikge1xuICAgICAgICAvKlxuICAgICAgICAgICAgcm9vbTEuZGVidWcoKTtcbiAgICAgICAgICAgIHJvb20yLmRlYnVnKCk7XG4gICAgICAgICovXG4gICAgICAgIGxldCBjZW50ZXIxID0gcm9vbTEuZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCBjZW50ZXIyID0gcm9vbTIuZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCBkaWZmWCA9IGNlbnRlcjJbMF0gLSBjZW50ZXIxWzBdO1xuICAgICAgICBsZXQgZGlmZlkgPSBjZW50ZXIyWzFdIC0gY2VudGVyMVsxXTtcbiAgICAgICAgbGV0IHN0YXJ0O1xuICAgICAgICBsZXQgZW5kO1xuICAgICAgICBsZXQgZGlySW5kZXgxLCBkaXJJbmRleDIsIG1pbiwgbWF4LCBpbmRleDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpZmZYKSA8IE1hdGguYWJzKGRpZmZZKSkgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBub3J0aC1zb3V0aCB3YWxscyAqL1xuICAgICAgICAgICAgZGlySW5kZXgxID0gKGRpZmZZID4gMCA/IDIgOiAwKTtcbiAgICAgICAgICAgIGRpckluZGV4MiA9IChkaXJJbmRleDEgKyAyKSAlIDQ7XG4gICAgICAgICAgICBtaW4gPSByb29tMi5nZXRMZWZ0KCk7XG4gICAgICAgICAgICBtYXggPSByb29tMi5nZXRSaWdodCgpO1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBlYXN0LXdlc3Qgd2FsbHMgKi9cbiAgICAgICAgICAgIGRpckluZGV4MSA9IChkaWZmWCA+IDAgPyAxIDogMyk7XG4gICAgICAgICAgICBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuICAgICAgICAgICAgbWluID0gcm9vbTIuZ2V0VG9wKCk7XG4gICAgICAgICAgICBtYXggPSByb29tMi5nZXRCb3R0b20oKTtcbiAgICAgICAgICAgIGluZGV4ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20xLCBkaXJJbmRleDEpOyAvKiBjb3JyaWRvciB3aWxsIHN0YXJ0IGhlcmUgKi9cbiAgICAgICAgaWYgKCFzdGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydFtpbmRleF0gPj0gbWluICYmIHN0YXJ0W2luZGV4XSA8PSBtYXgpIHsgLyogcG9zc2libGUgdG8gY29ubmVjdCB3aXRoIHN0cmFpZ2h0IGxpbmUgKEktbGlrZSkgKi9cbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0LnNsaWNlKCk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgICAgICAgc3dpdGNoIChkaXJJbmRleDIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcm9vbTIuZ2V0VG9wKCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcm9vbTIuZ2V0UmlnaHQoKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRCb3R0b20oKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRMZWZ0KCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuZFsoaW5kZXggKyAxKSAlIDJdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9kaWdMaW5lKFtzdGFydCwgZW5kXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnRbaW5kZXhdIDwgbWluIC0gMSB8fCBzdGFydFtpbmRleF0gPiBtYXggKyAxKSB7IC8qIG5lZWQgdG8gc3dpdGNoIHRhcmdldCB3YWxsIChMLWxpa2UpICovXG4gICAgICAgICAgICBsZXQgZGlmZiA9IHN0YXJ0W2luZGV4XSAtIGNlbnRlcjJbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IHJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIHN3aXRjaCAoZGlySW5kZXgyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAzIDogMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gKGRpZmYgPCAwID8gMSA6IDMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpckluZGV4MiA9IChkaXJJbmRleDIgKyByb3RhdGlvbikgJSA0O1xuICAgICAgICAgICAgZW5kID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTIsIGRpckluZGV4Mik7XG4gICAgICAgICAgICBpZiAoIWVuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtaWQgPSBbMCwgMF07XG4gICAgICAgICAgICBtaWRbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IGluZGV4MiA9IChpbmRleCArIDEpICUgMjtcbiAgICAgICAgICAgIG1pZFtpbmRleDJdID0gZW5kW2luZGV4Ml07XG4gICAgICAgICAgICB0aGlzLl9kaWdMaW5lKFtzdGFydCwgbWlkLCBlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLyogdXNlIGN1cnJlbnQgd2FsbCBwYWlyLCBidXQgYWRqdXN0IHRoZSBsaW5lIGluIHRoZSBtaWRkbGUgKFMtbGlrZSkgKi9cbiAgICAgICAgICAgIGxldCBpbmRleDIgPSAoaW5kZXggKyAxKSAlIDI7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLl9wbGFjZUluV2FsbChyb29tMiwgZGlySW5kZXgyKTtcbiAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1pZCA9IE1hdGgucm91bmQoKGVuZFtpbmRleDJdICsgc3RhcnRbaW5kZXgyXSkgLyAyKTtcbiAgICAgICAgICAgIGxldCBtaWQxID0gWzAsIDBdO1xuICAgICAgICAgICAgbGV0IG1pZDIgPSBbMCwgMF07XG4gICAgICAgICAgICBtaWQxW2luZGV4XSA9IHN0YXJ0W2luZGV4XTtcbiAgICAgICAgICAgIG1pZDFbaW5kZXgyXSA9IG1pZDtcbiAgICAgICAgICAgIG1pZDJbaW5kZXhdID0gZW5kW2luZGV4XTtcbiAgICAgICAgICAgIG1pZDJbaW5kZXgyXSA9IG1pZDtcbiAgICAgICAgICAgIHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQxLCBtaWQyLCBlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICByb29tMS5hZGREb29yKHN0YXJ0WzBdLCBzdGFydFsxXSk7XG4gICAgICAgIHJvb20yLmFkZERvb3IoZW5kWzBdLCBlbmRbMV0pO1xuICAgICAgICBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTEpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0ZWQucHVzaChyb29tMSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB0aGlzLl91bmNvbm5lY3RlZC5pbmRleE9mKHJvb20yKTtcbiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkLnB1c2gocm9vbTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfcGxhY2VJbldhbGwocm9vbSwgZGlySW5kZXgpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gWzAsIDBdO1xuICAgICAgICBsZXQgZGlyID0gWzAsIDBdO1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgc3dpdGNoIChkaXJJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRpciA9IFsxLCAwXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRUb3AoKSAtIDFdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKSAtIHJvb20uZ2V0TGVmdCgpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBkaXIgPSBbMCwgMV07XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBbcm9vbS5nZXRSaWdodCgpICsgMSwgcm9vbS5nZXRUb3AoKV07XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcm9vbS5nZXRCb3R0b20oKSAtIHJvb20uZ2V0VG9wKCkgKyAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGRpciA9IFsxLCAwXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRCb3R0b20oKSArIDFdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKSAtIHJvb20uZ2V0TGVmdCgpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBkaXIgPSBbMCwgMV07XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCkgLSAxLCByb29tLmdldFRvcCgpXTtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSByb29tLmdldEJvdHRvbSgpIC0gcm9vbS5nZXRUb3AoKSArIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF2YWlsID0gW107XG4gICAgICAgIGxldCBsYXN0QmFkSW5kZXggPSAtMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSBzdGFydFswXSArIGkgKiBkaXJbMF07XG4gICAgICAgICAgICBsZXQgeSA9IHN0YXJ0WzFdICsgaSAqIGRpclsxXTtcbiAgICAgICAgICAgIGF2YWlsLnB1c2gobnVsbCk7XG4gICAgICAgICAgICBsZXQgaXNXYWxsID0gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbiAgICAgICAgICAgIGlmIChpc1dhbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJhZEluZGV4ICE9IGkgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsW2ldID0gW3gsIHldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhc3RCYWRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxbaSAtIDFdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IGF2YWlsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoIWF2YWlsW2ldKSB7XG4gICAgICAgICAgICAgICAgYXZhaWwuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYXZhaWwubGVuZ3RoID8gUk5HLmdldEl0ZW0oYXZhaWwpIDogbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpZyBhIHBvbHlsaW5lLlxuICAgICAqL1xuICAgIF9kaWdMaW5lKHBvaW50cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcG9pbnRzW2kgLSAxXTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBsZXQgY29ycmlkb3IgPSBuZXcgQ29ycmlkb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdLCBlbmRbMF0sIGVuZFsxXSk7XG4gICAgICAgICAgICBjb3JyaWRvci5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fY29ycmlkb3JzLnB1c2goY29ycmlkb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9kaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2R1ZysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc1dhbGxDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG4gICAgfVxuICAgIF9jYW5CZUR1Z0NhbGxiYWNrKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPCAxIHx8IHkgPCAxIHx8IHggKyAxID49IHRoaXMuX3dpZHRoIHx8IHkgKyAxID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEdW5nZW9uIGZyb20gXCIuL2R1bmdlb24uanNcIjtcbmltcG9ydCB7IFJvb20sIENvcnJpZG9yIH0gZnJvbSBcIi4vZmVhdHVyZXMuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuaW1wb3J0IHsgRElSUyB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmNvbnN0IEZFQVRVUkVTID0ge1xuICAgIFwicm9vbVwiOiBSb29tLFxuICAgIFwiY29ycmlkb3JcIjogQ29ycmlkb3Jcbn07XG4vKipcbiAqIFJhbmRvbSBkdW5nZW9uIGdlbmVyYXRvciB1c2luZyBodW1hbi1saWtlIGRpZ2dpbmcgcGF0dGVybnMuXG4gKiBIZWF2aWx5IGJhc2VkIG9uIE1pa2UgQW5kZXJzb24ncyBpZGVhcyBmcm9tIHRoZSBcIlR5cmFudFwiIGFsZ28sIG1lbnRpb25lZCBhdFxuICogaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9RHVuZ2Vvbi1CdWlsZGluZ19BbGdvcml0aG0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpZ2dlciBleHRlbmRzIER1bmdlb24ge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgcm9vbVdpZHRoOiBbMywgOV0sXG4gICAgICAgICAgICByb29tSGVpZ2h0OiBbMywgNV0sXG4gICAgICAgICAgICBjb3JyaWRvckxlbmd0aDogWzMsIDEwXSxcbiAgICAgICAgICAgIGR1Z1BlcmNlbnRhZ2U6IDAuMixcbiAgICAgICAgICAgIHRpbWVMaW1pdDogMTAwMCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgbXVjaCB0aW1lIGhhcyBwYXNzZWQgKG1zZWMpICovXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9mZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIFwicm9vbVwiOiA0LFxuICAgICAgICAgICAgXCJjb3JyaWRvclwiOiA0XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICB0aGlzLl9mZWF0dXJlQXR0ZW1wdHMgPSAyMDsgLyogaG93IG1hbnkgdGltZXMgZG8gd2UgdHJ5IHRvIGNyZWF0ZSBhIGZlYXR1cmUgb24gYSBzdWl0YWJsZSB3YWxsICovXG4gICAgICAgIHRoaXMuX3dhbGxzID0ge307IC8qIHRoZXNlIGFyZSBhdmFpbGFibGUgZm9yIGRpZ2dpbmcgKi9cbiAgICAgICAgdGhpcy5fZHVnID0gMDtcbiAgICAgICAgdGhpcy5fZGlnQ2FsbGJhY2sgPSB0aGlzLl9kaWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrID0gdGhpcy5fY2FuQmVEdWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9pc1dhbGxDYWxsYmFjayA9IHRoaXMuX2lzV2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrID0gdGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3Jvb21zID0gW107XG4gICAgICAgIHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICB0aGlzLl93YWxscyA9IHt9O1xuICAgICAgICB0aGlzLl9kdWcgPSAwO1xuICAgICAgICBsZXQgYXJlYSA9ICh0aGlzLl93aWR0aCAtIDIpICogKHRoaXMuX2hlaWdodCAtIDIpO1xuICAgICAgICB0aGlzLl9maXJzdFJvb20oKTtcbiAgICAgICAgbGV0IHQxID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IHByaW9yaXR5V2FsbHM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHByaW9yaXR5V2FsbHMgPSAwO1xuICAgICAgICAgICAgbGV0IHQyID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmICh0MiAtIHQxID4gdGhpcy5fb3B0aW9ucy50aW1lTGltaXQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGZpbmQgYSBnb29kIHdhbGwgKi9cbiAgICAgICAgICAgIGxldCB3YWxsID0gdGhpcy5fZmluZFdhbGwoKTtcbiAgICAgICAgICAgIGlmICghd2FsbCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSAvKiBubyBtb3JlIHdhbGxzICovXG4gICAgICAgICAgICBsZXQgcGFydHMgPSB3YWxsLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgIGxldCB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuICAgICAgICAgICAgbGV0IHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG4gICAgICAgICAgICBsZXQgZGlyID0gdGhpcy5fZ2V0RGlnZ2luZ0RpcmVjdGlvbih4LCB5KTtcbiAgICAgICAgICAgIGlmICghZGlyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IC8qIHRoaXMgd2FsbCBpcyBub3Qgc3VpdGFibGUgKi9cbiAgICAgICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwid2FsbFwiLCB4LCB5KTtcbiAgICAgICAgICAgIC8qIHRyeSBhZGRpbmcgYSBmZWF0dXJlICovXG4gICAgICAgICAgICBsZXQgZmVhdHVyZUF0dGVtcHRzID0gMDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlQXR0ZW1wdHMrKztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHJ5RmVhdHVyZSh4LCB5LCBkaXJbMF0sIGRpclsxXSkpIHsgLyogZmVhdHVyZSBhZGRlZCAqL1xuICAgICAgICAgICAgICAgICAgICAvL2lmICh0aGlzLl9yb29tcy5sZW5ndGggKyB0aGlzLl9jb3JyaWRvcnMubGVuZ3RoID09IDIpIHsgdGhpcy5fcm9vbXNbMF0uYWRkRG9vcih4LCB5KTsgfSAvKiBmaXJzdCByb29tIG9maWNpYWxseSBoYXMgZG9vcnMgKi9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4IC0gZGlyWzBdLCB5IC0gZGlyWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZmVhdHVyZUF0dGVtcHRzIDwgdGhpcy5fZmVhdHVyZUF0dGVtcHRzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMuX3dhbGxzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3dhbGxzW2lkXSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlXYWxscysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodGhpcy5fZHVnIC8gYXJlYSA8IHRoaXMuX29wdGlvbnMuZHVnUGVyY2VudGFnZSB8fCBwcmlvcml0eVdhbGxzKTsgLyogZml4bWUgbnVtYmVyIG9mIHByaW9yaXR5IHdhbGxzICovXG4gICAgICAgIHRoaXMuX2FkZERvb3JzKCk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93YWxscyA9IHt9O1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9kaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gMCB8fCB2YWx1ZSA9PSAyKSB7IC8qIGVtcHR5ICovXG4gICAgICAgICAgICB0aGlzLl9tYXBbeF1beV0gPSAwO1xuICAgICAgICAgICAgdGhpcy5fZHVnKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8qIHdhbGwgKi9cbiAgICAgICAgICAgIHRoaXMuX3dhbGxzW3ggKyBcIixcIiArIHldID0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNXYWxsQ2FsbGJhY2soeCwgeSkge1xuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5ID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgIH1cbiAgICBfY2FuQmVEdWdDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgIGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4ICsgMSA+PSB0aGlzLl93aWR0aCB8fCB5ICsgMSA+PSB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbiAgICB9XG4gICAgX3ByaW9yaXR5V2FsbENhbGxiYWNrKHgsIHkpIHsgdGhpcy5fd2FsbHNbeCArIFwiLFwiICsgeV0gPSAyOyB9XG4gICAgO1xuICAgIF9maXJzdFJvb20oKSB7XG4gICAgICAgIGxldCBjeCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGggLyAyKTtcbiAgICAgICAgbGV0IGN5ID0gTWF0aC5mbG9vcih0aGlzLl9oZWlnaHQgLyAyKTtcbiAgICAgICAgbGV0IHJvb20gPSBSb29tLmNyZWF0ZVJhbmRvbUNlbnRlcihjeCwgY3ksIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICB0aGlzLl9yb29tcy5wdXNoKHJvb20pO1xuICAgICAgICByb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHN1aXRhYmxlIHdhbGxcbiAgICAgKi9cbiAgICBfZmluZFdhbGwoKSB7XG4gICAgICAgIGxldCBwcmlvMSA9IFtdO1xuICAgICAgICBsZXQgcHJpbzIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5fd2FsbHMpIHtcbiAgICAgICAgICAgIGxldCBwcmlvID0gdGhpcy5fd2FsbHNbaWRdO1xuICAgICAgICAgICAgaWYgKHByaW8gPT0gMikge1xuICAgICAgICAgICAgICAgIHByaW8yLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJpbzEucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFyciA9IChwcmlvMi5sZW5ndGggPyBwcmlvMiA6IHByaW8xKTtcbiAgICAgICAgaWYgKCFhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSAvKiBubyB3YWxscyA6LyAqL1xuICAgICAgICBsZXQgaWQgPSBSTkcuZ2V0SXRlbShhcnIuc29ydCgpKTsgLy8gc29ydCB0byBtYWtlIHRoZSBvcmRlciBkZXRlcm1pbmlzdGljXG4gICAgICAgIGRlbGV0ZSB0aGlzLl93YWxsc1tpZF07XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZXMgYWRkaW5nIGEgZmVhdHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sfSB3YXMgdGhpcyBhIHN1Y2Nlc3NmdWwgdHJ5P1xuICAgICAqL1xuICAgIF90cnlGZWF0dXJlKHgsIHksIGR4LCBkeSkge1xuICAgICAgICBsZXQgZmVhdHVyZU5hbWUgPSBSTkcuZ2V0V2VpZ2h0ZWRWYWx1ZSh0aGlzLl9mZWF0dXJlcyk7XG4gICAgICAgIGxldCBjdG9yID0gRkVBVFVSRVNbZmVhdHVyZU5hbWVdO1xuICAgICAgICBsZXQgZmVhdHVyZSA9IGN0b3IuY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgaWYgKCFmZWF0dXJlLmlzVmFsaWQodGhpcy5faXNXYWxsQ2FsbGJhY2ssIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2spKSB7XG4gICAgICAgICAgICAvL1x0XHRjb25zb2xlLmxvZyhcIm5vdCB2YWxpZFwiKTtcbiAgICAgICAgICAgIC8vXHRcdGZlYXR1cmUuZGVidWcoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmZWF0dXJlLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4gICAgICAgIC8vXHRmZWF0dXJlLmRlYnVnKCk7XG4gICAgICAgIGlmIChmZWF0dXJlIGluc3RhbmNlb2YgUm9vbSkge1xuICAgICAgICAgICAgdGhpcy5fcm9vbXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmVhdHVyZSBpbnN0YW5jZW9mIENvcnJpZG9yKSB7XG4gICAgICAgICAgICBmZWF0dXJlLmNyZWF0ZVByaW9yaXR5V2FsbHModGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fY29ycmlkb3JzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKGN4LCBjeSkge1xuICAgICAgICBsZXQgZGVsdGFzID0gRElSU1s0XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGxldCB4ID0gY3ggKyBkZWx0YVswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkZWx0YVsxXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl93YWxsc1t4ICsgXCIsXCIgKyB5XTtcbiAgICAgICAgICAgIHggPSBjeCArIDIgKiBkZWx0YVswXTtcbiAgICAgICAgICAgIHkgPSBjeSArIDIgKiBkZWx0YVsxXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl93YWxsc1t4ICsgXCIsXCIgKyB5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHZlY3RvciBpbiBcImRpZ2dpbmdcIiBkaXJlY3Rpb24sIG9yIGZhbHNlLCBpZiB0aGlzIGRvZXMgbm90IGV4aXN0IChvciBpcyBub3QgdW5pcXVlKVxuICAgICAqL1xuICAgIF9nZXREaWdnaW5nRGlyZWN0aW9uKGN4LCBjeSkge1xuICAgICAgICBpZiAoY3ggPD0gMCB8fCBjeSA8PSAwIHx8IGN4ID49IHRoaXMuX3dpZHRoIC0gMSB8fCBjeSA+PSB0aGlzLl9oZWlnaHQgLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgbGV0IGRlbHRhcyA9IERJUlNbNF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsdGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSBkZWx0YXNbaV07XG4gICAgICAgICAgICBsZXQgeCA9IGN4ICsgZGVsdGFbMF07XG4gICAgICAgICAgICBsZXQgeSA9IGN5ICsgZGVsdGFbMV07XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21hcFt4XVt5XSkgeyAvKiB0aGVyZSBhbHJlYWR5IGlzIGFub3RoZXIgZW1wdHkgbmVpZ2hib3IhICovXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVsdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogbm8gZW1wdHkgbmVpZ2hib3IgKi9cbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLXJlc3VsdFswXSwgLXJlc3VsdFsxXV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgZW1wdHkgc3BhY2VzIHN1cnJvdW5kaW5nIHJvb21zLCBhbmQgYXBwbHkgZG9vcnMuXG4gICAgICovXG4gICAgX2FkZERvb3JzKCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuX21hcDtcbiAgICAgICAgZnVuY3Rpb24gaXNXYWxsQ2FsbGJhY2soeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIChkYXRhW3hdW3ldID09IDEpO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9yb29tcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJvb20gPSB0aGlzLl9yb29tc1tpXTtcbiAgICAgICAgICAgIHJvb20uY2xlYXJEb29ycygpO1xuICAgICAgICAgICAgcm9vbS5hZGREb29ycyhpc1dhbGxDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG4vKipcbiAqIEpvaW4gbGlzdHMgd2l0aCBcImlcIiBhbmQgXCJpKzFcIlxuICovXG5mdW5jdGlvbiBhZGRUb0xpc3QoaSwgTCwgUikge1xuICAgIFJbTFtpICsgMV1dID0gUltpXTtcbiAgICBMW1JbaV1dID0gTFtpICsgMV07XG4gICAgUltpXSA9IGkgKyAxO1xuICAgIExbaSArIDFdID0gaTtcbn1cbi8qKlxuICogUmVtb3ZlIFwiaVwiIGZyb20gaXRzIGxpc3RcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRnJvbUxpc3QoaSwgTCwgUikge1xuICAgIFJbTFtpXV0gPSBSW2ldO1xuICAgIExbUltpXV0gPSBMW2ldO1xuICAgIFJbaV0gPSBpO1xuICAgIExbaV0gPSBpO1xufVxuLyoqXG4gKiBNYXplIGdlbmVyYXRvciAtIEVsbGVyJ3MgYWxnb3JpdGhtXG4gKiBTZWUgaHR0cDovL2hvbWVwYWdlcy5jd2kubmwvfnRyb21wL21hemUuaHRtbCBmb3IgZXhwbGFuYXRpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxsZXJNYXplIGV4dGVuZHMgTWFwIHtcbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG1hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG4gICAgICAgIGxldCB3ID0gTWF0aC5jZWlsKCh0aGlzLl93aWR0aCAtIDIpIC8gMik7XG4gICAgICAgIGxldCByYW5kID0gOSAvIDI0O1xuICAgICAgICBsZXQgTCA9IFtdO1xuICAgICAgICBsZXQgUiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgTC5wdXNoKGkpO1xuICAgICAgICAgICAgUi5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIEwucHVzaCh3IC0gMSk7IC8qIGZha2Ugc3RvcC1ibG9jayBhdCB0aGUgcmlnaHQgc2lkZSAqL1xuICAgICAgICBsZXQgajtcbiAgICAgICAgZm9yIChqID0gMTsgaiArIDMgPCB0aGlzLl9oZWlnaHQ7IGogKz0gMikge1xuICAgICAgICAgICAgLyogb25lIHJvdyAqL1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyBpKyspIHtcbiAgICAgICAgICAgICAgICAvKiBjZWxsIGNvb3JkcyAod2lsbCBiZSBhbHdheXMgZW1wdHkpICovXG4gICAgICAgICAgICAgICAgbGV0IHggPSAyICogaSArIDE7XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBqO1xuICAgICAgICAgICAgICAgIG1hcFt4XVt5XSA9IDA7XG4gICAgICAgICAgICAgICAgLyogcmlnaHQgY29ubmVjdGlvbiAqL1xuICAgICAgICAgICAgICAgIGlmIChpICE9IExbaSArIDFdICYmIFJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTGlzdChpLCBMLCBSKTtcbiAgICAgICAgICAgICAgICAgICAgbWFwW3ggKyAxXVt5XSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIGJvdHRvbSBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gTFtpXSAmJiBSTkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkge1xuICAgICAgICAgICAgICAgICAgICAvKiByZW1vdmUgY29ubmVjdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGNyZWF0ZSBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIG1hcFt4XVt5ICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBsYXN0IHJvdyAqL1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgLyogY2VsbCBjb29yZHMgKHdpbGwgYmUgYWx3YXlzIGVtcHR5KSAqL1xuICAgICAgICAgICAgbGV0IHggPSAyICogaSArIDE7XG4gICAgICAgICAgICBsZXQgeSA9IGo7XG4gICAgICAgICAgICBtYXBbeF1beV0gPSAwO1xuICAgICAgICAgICAgLyogcmlnaHQgY29ubmVjdGlvbiAqL1xuICAgICAgICAgICAgaWYgKGkgIT0gTFtpICsgMV0gJiYgKGkgPT0gTFtpXSB8fCBSTkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkpIHtcbiAgICAgICAgICAgICAgICAvKiBkaWcgcmlnaHQgYWxzbyBpZiB0aGUgY2VsbCBpcyBzZXBhcmF0ZWQsIHNvIGl0IGdldHMgY29ubmVjdGVkIHRvIHRoZSByZXN0IG9mIG1hemUgKi9cbiAgICAgICAgICAgICAgICBhZGRUb0xpc3QoaSwgTCwgUik7XG4gICAgICAgICAgICAgICAgbWFwW3ggKyAxXVt5XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCBBcmVuYSBmcm9tIFwiLi9hcmVuYS5qc1wiO1xuaW1wb3J0IFVuaWZvcm0gZnJvbSBcIi4vdW5pZm9ybS5qc1wiO1xuaW1wb3J0IENlbGx1bGFyIGZyb20gXCIuL2NlbGx1bGFyLmpzXCI7XG5pbXBvcnQgRGlnZ2VyIGZyb20gXCIuL2RpZ2dlci5qc1wiO1xuaW1wb3J0IEVsbGVyTWF6ZSBmcm9tIFwiLi9lbGxlcm1hemUuanNcIjtcbmltcG9ydCBEaXZpZGVkTWF6ZSBmcm9tIFwiLi9kaXZpZGVkbWF6ZS5qc1wiO1xuaW1wb3J0IEljZXlNYXplIGZyb20gXCIuL2ljZXltYXplLmpzXCI7XG5pbXBvcnQgUm9ndWUgZnJvbSBcIi4vcm9ndWUuanNcIjtcbmV4cG9ydCBkZWZhdWx0IHsgQXJlbmEsIFVuaWZvcm0sIENlbGx1bGFyLCBEaWdnZXIsIEVsbGVyTWF6ZSwgRGl2aWRlZE1hemUsIEljZXlNYXplLCBSb2d1ZSB9O1xuIiwiaW1wb3J0IE1hcCBmcm9tIFwiLi9tYXAuanNcIjtcbmltcG9ydCB7IERJUlMgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbjtcbi8qKlxuICogQGNsYXNzIENlbGx1bGFyIGF1dG9tYXRvbiBtYXAgZ2VuZXJhdG9yXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uc1xuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuYm9ybl0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGEgbmV3IGNlbGwgdG8gYmUgYm9ybiBpbiBlbXB0eSBzcGFjZVxuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuc3Vydml2ZV0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGFuIGV4aXN0aW5nICBjZWxsIHRvIHN1cnZpdmVcbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neV0gVG9wb2xvZ3kgNCBvciA2IG9yIDhcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2VsbHVsYXIgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGJvcm46IFs1LCA2LCA3LCA4XSxcbiAgICAgICAgICAgIHN1cnZpdmU6IFs0LCA1LCA2LCA3LCA4XSxcbiAgICAgICAgICAgIHRvcG9sb2d5OiA4XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fZGlycyA9IERJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG4gICAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbGwgdGhlIG1hcCB3aXRoIHJhbmRvbSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge2Zsb2F0fSBwcm9iYWJpbGl0eSBQcm9iYWJpbGl0eSBmb3IgYSBjZWxsIHRvIGJlY29tZSBhbGl2ZTsgMCA9IGFsbCBlbXB0eSwgMSA9IGFsbCBmdWxsXG4gICAgICovXG4gICAgcmFuZG9taXplKHByb2JhYmlsaXR5KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcFtpXVtqXSA9IChSTkcuZ2V0VW5pZm9ybSgpIDwgcHJvYmFiaWxpdHkgPyAxIDogMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSBvcHRpb25zLlxuICAgICAqIEBzZWUgUk9ULk1hcC5DZWxsdWxhclxuICAgICAqL1xuICAgIHNldE9wdGlvbnMob3B0aW9ucykgeyBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpOyB9XG4gICAgc2V0KHgsIHksIHZhbHVlKSB7IHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlOyB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBuZXdNYXAgPSB0aGlzLl9maWxsTWFwKDApO1xuICAgICAgICBsZXQgYm9ybiA9IHRoaXMuX29wdGlvbnMuYm9ybjtcbiAgICAgICAgbGV0IHN1cnZpdmUgPSB0aGlzLl9vcHRpb25zLnN1cnZpdmU7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgIGxldCB3aWR0aFN0ZXAgPSAxO1xuICAgICAgICAgICAgbGV0IHdpZHRoU3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikge1xuICAgICAgICAgICAgICAgIHdpZHRoU3RlcCA9IDI7XG4gICAgICAgICAgICAgICAgd2lkdGhTdGFydCA9IGogJSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHdpZHRoU3RhcnQ7IGkgPCB0aGlzLl93aWR0aDsgaSArPSB3aWR0aFN0ZXApIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VyID0gdGhpcy5fbWFwW2ldW2pdO1xuICAgICAgICAgICAgICAgIGxldCBuY291bnQgPSB0aGlzLl9nZXROZWlnaGJvcnMoaSwgaik7XG4gICAgICAgICAgICAgICAgaWYgKGN1ciAmJiBzdXJ2aXZlLmluZGV4T2YobmNvdW50KSAhPSAtMSkgeyAvKiBzdXJ2aXZlICovXG4gICAgICAgICAgICAgICAgICAgIG5ld01hcFtpXVtqXSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjdXIgJiYgYm9ybi5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogYm9ybiAqL1xuICAgICAgICAgICAgICAgICAgICBuZXdNYXBbaV1bal0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIGNhbGxiYWNrICYmIHRoaXMuX3NlcnZpY2VDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgfVxuICAgIF9zZXJ2aWNlQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgbGV0IHdpZHRoU3RlcCA9IDE7XG4gICAgICAgICAgICBsZXQgd2lkdGhTdGFydCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7XG4gICAgICAgICAgICAgICAgd2lkdGhTdGVwID0gMjtcbiAgICAgICAgICAgICAgICB3aWR0aFN0YXJ0ID0gaiAlIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gd2lkdGhTdGFydDsgaSA8IHRoaXMuX3dpZHRoOyBpICs9IHdpZHRoU3RlcCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG5laWdoYm9yIGNvdW50IGF0IFtpLGpdIGluIHRoaXMuX21hcFxuICAgICAqL1xuICAgIF9nZXROZWlnaGJvcnMoY3gsIGN5KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkaXIgPSB0aGlzLl9kaXJzW2ldO1xuICAgICAgICAgICAgbGV0IHggPSBjeCArIGRpclswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkaXJbMV07XG4gICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9ICh0aGlzLl9tYXBbeF1beV0gPT0gMSA/IDEgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgZXZlcnkgbm9uLXdhbGwgc3BhY2UgaXMgYWNjZXNzaWJsZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayB0byBjYWxsIHRvIGRpc3BsYXkgbWFwIHdoZW4gZG9cbiAgICAgKiBAcGFyYW0ge2ludH0gdmFsdWUgdG8gY29uc2lkZXIgZW1wdHkgc3BhY2UgLSBkZWZhdWx0cyB0byAwXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgdG8gY2FsbCB3aGVuIGEgbmV3IGNvbm5lY3Rpb24gaXMgbWFkZVxuICAgICAqL1xuICAgIGNvbm5lY3QoY2FsbGJhY2ssIHZhbHVlLCBjb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgbGV0IGFsbEZyZWVTcGFjZSA9IFtdO1xuICAgICAgICBsZXQgbm90Q29ubmVjdGVkID0ge307XG4gICAgICAgIC8vIGZpbmQgYWxsIGZyZWUgc3BhY2VcbiAgICAgICAgbGV0IHdpZHRoU3RlcCA9IDE7XG4gICAgICAgIGxldCB3aWR0aFN0YXJ0cyA9IFswLCAwXTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikge1xuICAgICAgICAgICAgd2lkdGhTdGVwID0gMjtcbiAgICAgICAgICAgIHdpZHRoU3RhcnRzID0gWzAsIDFdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5faGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSB3aWR0aFN0YXJ0c1t5ICUgMl07IHggPCB0aGlzLl93aWR0aDsgeCArPSB3aWR0aFN0ZXApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZnJlZVNwYWNlKHgsIHksIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IFt4LCB5XTtcbiAgICAgICAgICAgICAgICAgICAgbm90Q29ubmVjdGVkW3RoaXMuX3BvaW50S2V5KHApXSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIGFsbEZyZWVTcGFjZS5wdXNoKFt4LCB5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IGFsbEZyZWVTcGFjZVtSTkcuZ2V0VW5pZm9ybUludCgwLCBhbGxGcmVlU3BhY2UubGVuZ3RoIC0gMSldO1xuICAgICAgICBsZXQga2V5ID0gdGhpcy5fcG9pbnRLZXkoc3RhcnQpO1xuICAgICAgICBsZXQgY29ubmVjdGVkID0ge307XG4gICAgICAgIGNvbm5lY3RlZFtrZXldID0gc3RhcnQ7XG4gICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XTtcbiAgICAgICAgLy8gZmluZCB3aGF0J3MgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuICAgICAgICB0aGlzLl9maW5kQ29ubmVjdGVkKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBbc3RhcnRdLCBmYWxzZSwgdmFsdWUpO1xuICAgICAgICB3aGlsZSAoT2JqZWN0LmtleXMobm90Q29ubmVjdGVkKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBmaW5kIHR3byBwb2ludHMgZnJvbSBub3RDb25uZWN0ZWQgdG8gY29ubmVjdGVkXG4gICAgICAgICAgICBsZXQgcCA9IHRoaXMuX2dldEZyb21Ubyhjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCk7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHBbMF07IC8vIG5vdENvbm5lY3RlZFxuICAgICAgICAgICAgbGV0IHRvID0gcFsxXTsgLy8gY29ubmVjdGVkXG4gICAgICAgICAgICAvLyBmaW5kIGV2ZXJ5dGhpbmcgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuICAgICAgICAgICAgbGV0IGxvY2FsID0ge307XG4gICAgICAgICAgICBsb2NhbFt0aGlzLl9wb2ludEtleShmcm9tKV0gPSBmcm9tO1xuICAgICAgICAgICAgdGhpcy5fZmluZENvbm5lY3RlZChsb2NhbCwgbm90Q29ubmVjdGVkLCBbZnJvbV0sIHRydWUsIHZhbHVlKTtcbiAgICAgICAgICAgIC8vIGNvbm5lY3QgdG8gYSBjb25uZWN0ZWQgY2VsbFxuICAgICAgICAgICAgbGV0IHR1bm5lbEZuID0gKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNiA/IHRoaXMuX3R1bm5lbFRvQ29ubmVjdGVkNiA6IHRoaXMuX3R1bm5lbFRvQ29ubmVjdGVkKTtcbiAgICAgICAgICAgIHR1bm5lbEZuLmNhbGwodGhpcywgdG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCB2YWx1ZSwgY29ubmVjdGlvbkNhbGxiYWNrKTtcbiAgICAgICAgICAgIC8vIG5vdyBhbGwgb2YgbG9jYWwgaXMgY29ubmVjdGVkXG4gICAgICAgICAgICBmb3IgKGxldCBrIGluIGxvY2FsKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBwID0gbG9jYWxba107XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwW3BwWzBdXVtwcFsxXV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25uZWN0ZWRba10gPSBwcDtcbiAgICAgICAgICAgICAgICBkZWxldGUgbm90Q29ubmVjdGVkW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrICYmIHRoaXMuX3NlcnZpY2VDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgcmFuZG9tIHBvaW50cyB0byBjb25uZWN0LiBTZWFyY2ggZm9yIHRoZSBjbG9zZXN0IHBvaW50IGluIHRoZSBsYXJnZXIgc3BhY2UuXG4gICAgICogVGhpcyBpcyB0byBtaW5pbWl6ZSB0aGUgbGVuZ3RoIG9mIHRoZSBwYXNzYWdlIHdoaWxlIG1haW50YWluaW5nIGdvb2QgcGVyZm9ybWFuY2UuXG4gICAgICovXG4gICAgX2dldEZyb21Ubyhjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCkge1xuICAgICAgICBsZXQgZnJvbSA9IFswLCAwXSwgdG8gPSBbMCwgMF0sIGQ7XG4gICAgICAgIGxldCBjb25uZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoY29ubmVjdGVkKTtcbiAgICAgICAgbGV0IG5vdENvbm5lY3RlZEtleXMgPSBPYmplY3Qua2V5cyhub3RDb25uZWN0ZWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3RlZEtleXMubGVuZ3RoIDwgbm90Q29ubmVjdGVkS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5cyA9IGNvbm5lY3RlZEtleXM7XG4gICAgICAgICAgICAgICAgdG8gPSBjb25uZWN0ZWRba2V5c1tSTkcuZ2V0VW5pZm9ybUludCgwLCBrZXlzLmxlbmd0aCAtIDEpXV07XG4gICAgICAgICAgICAgICAgZnJvbSA9IHRoaXMuX2dldENsb3Nlc3QodG8sIG5vdENvbm5lY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5cyA9IG5vdENvbm5lY3RlZEtleXM7XG4gICAgICAgICAgICAgICAgZnJvbSA9IG5vdENvbm5lY3RlZFtrZXlzW1JORy5nZXRVbmlmb3JtSW50KDAsIGtleXMubGVuZ3RoIC0gMSldXTtcbiAgICAgICAgICAgICAgICB0byA9IHRoaXMuX2dldENsb3Nlc3QoZnJvbSwgY29ubmVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQgPSAoZnJvbVswXSAtIHRvWzBdKSAqIChmcm9tWzBdIC0gdG9bMF0pICsgKGZyb21bMV0gLSB0b1sxXSkgKiAoZnJvbVsxXSAtIHRvWzFdKTtcbiAgICAgICAgICAgIGlmIChkIDwgNjQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+PiBjb25uZWN0ZWQ9XCIgKyB0byArIFwiIG5vdENvbm5lY3RlZD1cIiArIGZyb20gKyBcIiBkaXN0PVwiICsgZCk7XG4gICAgICAgIHJldHVybiBbZnJvbSwgdG9dO1xuICAgIH1cbiAgICBfZ2V0Q2xvc2VzdChwb2ludCwgc3BhY2UpIHtcbiAgICAgICAgbGV0IG1pblBvaW50ID0gbnVsbDtcbiAgICAgICAgbGV0IG1pbkRpc3QgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBrIGluIHNwYWNlKSB7XG4gICAgICAgICAgICBsZXQgcCA9IHNwYWNlW2tdO1xuICAgICAgICAgICAgbGV0IGQgPSAocFswXSAtIHBvaW50WzBdKSAqIChwWzBdIC0gcG9pbnRbMF0pICsgKHBbMV0gLSBwb2ludFsxXSkgKiAocFsxXSAtIHBvaW50WzFdKTtcbiAgICAgICAgICAgIGlmIChtaW5EaXN0ID09IG51bGwgfHwgZCA8IG1pbkRpc3QpIHtcbiAgICAgICAgICAgICAgICBtaW5EaXN0ID0gZDtcbiAgICAgICAgICAgICAgICBtaW5Qb2ludCA9IHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pblBvaW50O1xuICAgIH1cbiAgICBfZmluZENvbm5lY3RlZChjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgc3RhY2ssIGtlZXBOb3RDb25uZWN0ZWQsIHZhbHVlKSB7XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgcCA9IHN0YWNrLnNwbGljZSgwLCAxKVswXTtcbiAgICAgICAgICAgIGxldCB0ZXN0cztcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHtcbiAgICAgICAgICAgICAgICB0ZXN0cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gKyAyLCBwWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gKyAxLCBwWzFdIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdIC0gMSwgcFsxXSAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSAtIDIsIHBbMV1dLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSAtIDEsIHBbMV0gKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gKyAxLCBwWzFdICsgMV0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlc3RzID0gW1xuICAgICAgICAgICAgICAgICAgICBbcFswXSArIDEsIHBbMV1dLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSAtIDEsIHBbMV1dLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSwgcFsxXSArIDFdLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSwgcFsxXSAtIDFdXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gdGhpcy5fcG9pbnRLZXkodGVzdHNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0ZWRba2V5XSA9PSBudWxsICYmIHRoaXMuX2ZyZWVTcGFjZSh0ZXN0c1tpXVswXSwgdGVzdHNbaV1bMV0sIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0ZWRba2V5XSA9IHRlc3RzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWtlZXBOb3RDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHRlc3RzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3R1bm5lbFRvQ29ubmVjdGVkKHRvLCBmcm9tLCBjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgdmFsdWUsIGNvbm5lY3Rpb25DYWxsYmFjaykge1xuICAgICAgICBsZXQgYSwgYjtcbiAgICAgICAgaWYgKGZyb21bMF0gPCB0b1swXSkge1xuICAgICAgICAgICAgYSA9IGZyb207XG4gICAgICAgICAgICBiID0gdG87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhID0gdG87XG4gICAgICAgICAgICBiID0gZnJvbTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB4eCA9IGFbMF07IHh4IDw9IGJbMF07IHh4KyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt4eF1bYVsxXV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGxldCBwID0gW3h4LCBhWzFdXTtcbiAgICAgICAgICAgIGxldCBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG4gICAgICAgICAgICBjb25uZWN0ZWRbcGtleV0gPSBwO1xuICAgICAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtwa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdGlvbkNhbGxiYWNrICYmIGFbMF0gPCBiWzBdKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uQ2FsbGJhY2soYSwgW2JbMF0sIGFbMV1dKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB4IGlzIG5vdyBmaXhlZFxuICAgICAgICBsZXQgeCA9IGJbMF07XG4gICAgICAgIGlmIChmcm9tWzFdIDwgdG9bMV0pIHtcbiAgICAgICAgICAgIGEgPSBmcm9tO1xuICAgICAgICAgICAgYiA9IHRvO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYSA9IHRvO1xuICAgICAgICAgICAgYiA9IGZyb207XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgeXkgPSBhWzFdOyB5eSA8IGJbMV07IHl5KyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt4XVt5eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGxldCBwID0gW3gsIHl5XTtcbiAgICAgICAgICAgIGxldCBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG4gICAgICAgICAgICBjb25uZWN0ZWRbcGtleV0gPSBwO1xuICAgICAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtwa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29ubmVjdGlvbkNhbGxiYWNrICYmIGFbMV0gPCBiWzFdKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uQ2FsbGJhY2soW2JbMF0sIGFbMV1dLCBbYlswXSwgYlsxXV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF90dW5uZWxUb0Nvbm5lY3RlZDYodG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCB2YWx1ZSwgY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBhLCBiO1xuICAgICAgICBpZiAoZnJvbVswXSA8IHRvWzBdKSB7XG4gICAgICAgICAgICBhID0gZnJvbTtcbiAgICAgICAgICAgIGIgPSB0bztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGEgPSB0bztcbiAgICAgICAgICAgIGIgPSBmcm9tO1xuICAgICAgICB9XG4gICAgICAgIC8vIHR1bm5lbCBkaWFnb25hbGx5IHVudGlsIGhvcml6b250YWxseSBsZXZlbFxuICAgICAgICBsZXQgeHggPSBhWzBdO1xuICAgICAgICBsZXQgeXkgPSBhWzFdO1xuICAgICAgICB3aGlsZSAoISh4eCA9PSBiWzBdICYmIHl5ID09IGJbMV0pKSB7XG4gICAgICAgICAgICBsZXQgc3RlcFdpZHRoID0gMjtcbiAgICAgICAgICAgIGlmICh5eSA8IGJbMV0pIHtcbiAgICAgICAgICAgICAgICB5eSsrO1xuICAgICAgICAgICAgICAgIHN0ZXBXaWR0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh5eSA+IGJbMV0pIHtcbiAgICAgICAgICAgICAgICB5eS0tO1xuICAgICAgICAgICAgICAgIHN0ZXBXaWR0aCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeHggPCBiWzBdKSB7XG4gICAgICAgICAgICAgICAgeHggKz0gc3RlcFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeHggPiBiWzBdKSB7XG4gICAgICAgICAgICAgICAgeHggLT0gc3RlcFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYlsxXSAlIDIpIHtcbiAgICAgICAgICAgICAgICAvLyBXb24ndCBzdGVwIG91dHNpZGUgbWFwIGlmIGRlc3RpbmF0aW9uIG9uIGlzIG1hcCdzIHJpZ2h0IGVkZ2VcbiAgICAgICAgICAgICAgICB4eCAtPSBzdGVwV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkaXR0byBmb3IgbGVmdCBlZGdlXG4gICAgICAgICAgICAgICAgeHggKz0gc3RlcFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFwW3h4XVt5eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGxldCBwID0gW3h4LCB5eV07XG4gICAgICAgICAgICBsZXQgcGtleSA9IHRoaXMuX3BvaW50S2V5KHApO1xuICAgICAgICAgICAgY29ubmVjdGVkW3BrZXldID0gcDtcbiAgICAgICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rpb25DYWxsYmFjaykge1xuICAgICAgICAgICAgY29ubmVjdGlvbkNhbGxiYWNrKGZyb20sIHRvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZnJlZVNwYWNlKHgsIHksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMuX3dpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5faGVpZ2h0ICYmIHRoaXMuX21hcFt4XVt5XSA9PSB2YWx1ZTtcbiAgICB9XG4gICAgX3BvaW50S2V5KHApIHsgcmV0dXJuIHBbMF0gKyBcIi5cIiArIHBbMV07IH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbi8qKlxuICogQGNsYXNzIFJlY3Vyc2l2ZWx5IGRpdmlkZWQgbWF6ZSwgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NYXplX2dlbmVyYXRpb25fYWxnb3JpdGhtI1JlY3Vyc2l2ZV9kaXZpc2lvbl9tZXRob2RcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpdmlkZWRNYXplIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgfVxuICAgIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgdyA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGg7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBib3JkZXIgPSAoaSA9PSAwIHx8IGogPT0gMCB8fCBpICsgMSA9PSB3IHx8IGogKyAxID09IGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcFtpXS5wdXNoKGJvcmRlciA/IDEgOiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFjayA9IFtcbiAgICAgICAgICAgIFsxLCAxLCB3IC0gMiwgaCAtIDJdXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIF9wcm9jZXNzKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5fc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcm9vbSA9IHRoaXMuX3N0YWNrLnNoaWZ0KCk7IC8qIFtsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21dICovXG4gICAgICAgICAgICB0aGlzLl9wYXJ0aXRpb25Sb29tKHJvb20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wYXJ0aXRpb25Sb29tKHJvb20pIHtcbiAgICAgICAgbGV0IGF2YWlsWCA9IFtdO1xuICAgICAgICBsZXQgYXZhaWxZID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSByb29tWzBdICsgMTsgaSA8IHJvb21bMl07IGkrKykge1xuICAgICAgICAgICAgbGV0IHRvcCA9IHRoaXMuX21hcFtpXVtyb29tWzFdIC0gMV07XG4gICAgICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5fbWFwW2ldW3Jvb21bM10gKyAxXTtcbiAgICAgICAgICAgIGlmICh0b3AgJiYgYm90dG9tICYmICEoaSAlIDIpKSB7XG4gICAgICAgICAgICAgICAgYXZhaWxYLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IHJvb21bMV0gKyAxOyBqIDwgcm9vbVszXTsgaisrKSB7XG4gICAgICAgICAgICBsZXQgbGVmdCA9IHRoaXMuX21hcFtyb29tWzBdIC0gMV1bal07XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSB0aGlzLl9tYXBbcm9vbVsyXSArIDFdW2pdO1xuICAgICAgICAgICAgaWYgKGxlZnQgJiYgcmlnaHQgJiYgIShqICUgMikpIHtcbiAgICAgICAgICAgICAgICBhdmFpbFkucHVzaChqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWF2YWlsWC5sZW5ndGggfHwgIWF2YWlsWS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeCA9IFJORy5nZXRJdGVtKGF2YWlsWCk7XG4gICAgICAgIGxldCB5ID0gUk5HLmdldEl0ZW0oYXZhaWxZKTtcbiAgICAgICAgdGhpcy5fbWFwW3hdW3ldID0gMTtcbiAgICAgICAgbGV0IHdhbGxzID0gW107XG4gICAgICAgIGxldCB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIGxlZnQgcGFydCAqL1xuICAgICAgICBmb3IgKGxldCBpID0gcm9vbVswXTsgaSA8IHg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW2ldW3ldID0gMTtcbiAgICAgICAgICAgIGlmIChpICUgMilcbiAgICAgICAgICAgICAgICB3LnB1c2goW2ksIHldKTtcbiAgICAgICAgfVxuICAgICAgICB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIHJpZ2h0IHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IHggKyAxOyBpIDw9IHJvb21bMl07IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW2ldW3ldID0gMTtcbiAgICAgICAgICAgIGlmIChpICUgMilcbiAgICAgICAgICAgICAgICB3LnB1c2goW2ksIHldKTtcbiAgICAgICAgfVxuICAgICAgICB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIHRvcCBwYXJ0ICovXG4gICAgICAgIGZvciAobGV0IGogPSByb29tWzFdOyBqIDwgeTsgaisrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeF1bal0gPSAxO1xuICAgICAgICAgICAgaWYgKGogJSAyKVxuICAgICAgICAgICAgICAgIHcucHVzaChbeCwgal0pO1xuICAgICAgICB9XG4gICAgICAgIHcgPSBbXTtcbiAgICAgICAgd2FsbHMucHVzaCh3KTsgLyogYm90dG9tIHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaiA9IHkgKyAxOyBqIDw9IHJvb21bM107IGorKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW3hdW2pdID0gMTtcbiAgICAgICAgICAgIGlmIChqICUgMilcbiAgICAgICAgICAgICAgICB3LnB1c2goW3gsIGpdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc29saWQgPSBSTkcuZ2V0SXRlbSh3YWxscyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB3ID0gd2FsbHNbaV07XG4gICAgICAgICAgICBpZiAodyA9PSBzb2xpZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGhvbGUgPSBSTkcuZ2V0SXRlbSh3KTtcbiAgICAgICAgICAgIHRoaXMuX21hcFtob2xlWzBdXVtob2xlWzFdXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgcm9vbVsxXSwgeCAtIDEsIHkgLSAxXSk7IC8qIGxlZnQgdG9wICovXG4gICAgICAgIHRoaXMuX3N0YWNrLnB1c2goW3ggKyAxLCByb29tWzFdLCByb29tWzJdLCB5IC0gMV0pOyAvKiByaWdodCB0b3AgKi9cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgeSArIDEsIHggLSAxLCByb29tWzNdXSk7IC8qIGxlZnQgYm90dG9tICovXG4gICAgICAgIHRoaXMuX3N0YWNrLnB1c2goW3ggKyAxLCB5ICsgMSwgcm9vbVsyXSwgcm9vbVszXV0pOyAvKiByaWdodCBib3R0b20gKi9cbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG4vKipcbiAqIEljZXkncyBNYXplIGdlbmVyYXRvclxuICogU2VlIGh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPVNpbXBsZV9tYXplIGZvciBleHBsYW5hdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY2V5TWF6ZSBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgcmVndWxhcml0eSA9IDApIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX3JlZ3VsYXJpdHkgPSByZWd1bGFyaXR5O1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgd2lkdGggLT0gKHdpZHRoICUgMiA/IDEgOiAyKTtcbiAgICAgICAgaGVpZ2h0IC09IChoZWlnaHQgJSAyID8gMSA6IDIpO1xuICAgICAgICBsZXQgY3ggPSAwO1xuICAgICAgICBsZXQgY3kgPSAwO1xuICAgICAgICBsZXQgbnggPSAwO1xuICAgICAgICBsZXQgbnkgPSAwO1xuICAgICAgICBsZXQgZG9uZSA9IDA7XG4gICAgICAgIGxldCBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBkaXJzID0gW1xuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdXG4gICAgICAgIF07XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN4ID0gMSArIDIgKiBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiAod2lkdGggLSAxKSAvIDIpO1xuICAgICAgICAgICAgY3kgPSAxICsgMiAqIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIChoZWlnaHQgLSAxKSAvIDIpO1xuICAgICAgICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgICAgICAgICAgbWFwW2N4XVtjeV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXBbY3hdW2N5XSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JhbmRvbWl6ZShkaXJzKTtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiAodGhpcy5fcmVndWxhcml0eSArIDEpKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5kb21pemUoZGlycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBueCA9IGN4ICsgZGlyc1tpXVswXSAqIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBueSA9IGN5ICsgZGlyc1tpXVsxXSAqIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNGcmVlKG1hcCwgbngsIG55LCB3aWR0aCwgaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtueF1bbnldID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBbY3ggKyBkaXJzW2ldWzBdXVtjeSArIGRpcnNbaV1bMV1dID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCA9IG54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5ID0gbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFibG9ja2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZG9uZSArIDEgPCB3aWR0aCAqIGhlaWdodCAvIDQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3JhbmRvbWl6ZShkaXJzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICBkaXJzW2ldWzBdID0gMDtcbiAgICAgICAgICAgIGRpcnNbaV1bMV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogNCkpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkaXJzWzBdWzBdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1sxXVswXSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyc1syXVsxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbM11bMV0gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGRpcnNbM11bMF0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzJdWzBdID0gMTtcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzFdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1swXVsxXSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGlyc1syXVswXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbM11bMF0gPSAxO1xuICAgICAgICAgICAgICAgIGRpcnNbMF1bMV0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzFdID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzBdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1swXVswXSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyc1szXVsxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbMl1bMV0gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc0ZyZWUobWFwLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4ID49IHdpZHRoIHx8IHkgPj0gaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcFt4XVt5XTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG5pbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuLyoqXG4gKiBEdW5nZW9uIGdlbmVyYXRvciB3aGljaCB1c2VzIHRoZSBcIm9yZ2luYWxcIiBSb2d1ZSBkdW5nZW9uIGdlbmVyYXRpb24gYWxnb3JpdGhtLiBTZWUgaHR0cDovL2t1b2kuY29tL35rYW1pa2F6ZS9HYW1lRGVzaWduL2FydDA3X3JvZ3VlX2R1bmdlb24ucGhwXG4gKiBAYXV0aG9yIGh5YWt1Z2VpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvZ3VlIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLm1hcCA9IFtdO1xuICAgICAgICB0aGlzLnJvb21zID0gW107XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ2VsbHMgPSBbXTtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2VsbFdpZHRoOiAzLFxuICAgICAgICAgICAgY2VsbEhlaWdodDogMyAvLyAgICAgaWUuIGFzIGFuIGFycmF5IHdpdGggbWluLW1heCB2YWx1ZXMgZm9yIGVhY2ggZGlyZWN0aW9uLi4uLlxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgLypcbiAgICAgICAgU2V0IHRoZSByb29tIHNpemVzIGFjY29yZGluZyB0byB0aGUgb3Zlci1hbGwgd2lkdGggb2YgdGhlIG1hcCxcbiAgICAgICAgYW5kIHRoZSBjZWxsIHNpemVzLlxuICAgICAgICAqL1xuICAgICAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tV2lkdGhcIikpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbXCJyb29tV2lkdGhcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl93aWR0aCwgb3B0aW9uc1tcImNlbGxXaWR0aFwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KFwicm9vbUhlaWdodFwiKSkge1xuICAgICAgICAgICAgb3B0aW9uc1tcInJvb21IZWlnaHRcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl9oZWlnaHQsIG9wdGlvbnNbXCJjZWxsSGVpZ2h0XCJdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgdGhpcy5yb29tcyA9IFtdO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENlbGxzID0gW107XG4gICAgICAgIHRoaXMuX2luaXRSb29tcygpO1xuICAgICAgICB0aGlzLl9jb25uZWN0Um9vbXMoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdFVuY29ubmVjdGVkUm9vbXMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVJvb21zKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvcnJpZG9ycygpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaSwgaiwgdGhpcy5tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2NhbGN1bGF0ZVJvb21TaXplKHNpemUsIGNlbGwpIHtcbiAgICAgICAgbGV0IG1heCA9IE1hdGguZmxvb3IoKHNpemUgLyBjZWxsKSAqIDAuOCk7XG4gICAgICAgIGxldCBtaW4gPSBNYXRoLmZsb29yKChzaXplIC8gY2VsbCkgKiAwLjI1KTtcbiAgICAgICAgaWYgKG1pbiA8IDIpIHtcbiAgICAgICAgICAgIG1pbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heCA8IDIpIHtcbiAgICAgICAgICAgIG1heCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFttaW4sIG1heF07XG4gICAgfVxuICAgIF9pbml0Um9vbXMoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSByb29tcyBhcnJheS4gVGhpcyBpcyB0aGUgXCJncmlkXCIgbGlzdCBmcm9tIHRoZSBhbGdvLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm9vbXMucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXS5wdXNoKHsgXCJ4XCI6IDAsIFwieVwiOiAwLCBcIndpZHRoXCI6IDAsIFwiaGVpZ2h0XCI6IDAsIFwiY29ubmVjdGlvbnNcIjogW10sIFwiY2VsbHhcIjogaSwgXCJjZWxseVwiOiBqIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jb25uZWN0Um9vbXMoKSB7XG4gICAgICAgIC8vcGljayByYW5kb20gc3RhcnRpbmcgZ3JpZFxuICAgICAgICBsZXQgY2d4ID0gUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGggLSAxKTtcbiAgICAgICAgbGV0IGNneSA9IFJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodCAtIDEpO1xuICAgICAgICBsZXQgaWR4O1xuICAgICAgICBsZXQgbmNneDtcbiAgICAgICAgbGV0IG5jZ3k7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcm9vbTtcbiAgICAgICAgbGV0IG90aGVyUm9vbTtcbiAgICAgICAgbGV0IGRpclRvQ2hlY2s7XG4gICAgICAgIC8vIGZpbmQgIHVuY29ubmVjdGVkIG5laWdoYm91ciBjZWxsc1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvL2RpclRvQ2hlY2sgPSBbMCwgMSwgMiwgMywgNCwgNSwgNiwgN107XG4gICAgICAgICAgICBkaXJUb0NoZWNrID0gWzAsIDIsIDQsIDZdO1xuICAgICAgICAgICAgZGlyVG9DaGVjayA9IFJORy5zaHVmZmxlKGRpclRvQ2hlY2spO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWR4ID0gZGlyVG9DaGVjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBuY2d4ID0gY2d4ICsgRElSU1s4XVtpZHhdWzBdO1xuICAgICAgICAgICAgICAgIG5jZ3kgPSBjZ3kgKyBESVJTWzhdW2lkeF1bMV07XG4gICAgICAgICAgICAgICAgaWYgKG5jZ3ggPCAwIHx8IG5jZ3ggPj0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuY2d5IDwgMCB8fCBuY2d5ID49IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm9vbSA9IHRoaXMucm9vbXNbY2d4XVtjZ3ldO1xuICAgICAgICAgICAgICAgIGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBsb25nIGFzIHRoaXMgcm9vbSBkb2Vzbid0IGFscmVhZHkgY29vbmVjdCB0byBtZSwgd2UgYXJlIG9rIHdpdGggaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMF0gPT0gbmNneCAmJiByb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMV0gPT0gbmNneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tuY2d4XVtuY2d5XTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaChbY2d4LCBjZ3ldKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRDZWxscy5wdXNoKFtuY2d4LCBuY2d5XSk7XG4gICAgICAgICAgICAgICAgICAgIGNneCA9IG5jZ3g7XG4gICAgICAgICAgICAgICAgICAgIGNneSA9IG5jZ3k7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDAgJiYgZm91bmQgPT0gZmFsc2UpO1xuICAgICAgICB9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDApO1xuICAgIH1cbiAgICBfY29ubmVjdFVuY29ubmVjdGVkUm9vbXMoKSB7XG4gICAgICAgIC8vV2hpbGUgdGhlcmUgYXJlIHVuY29ubmVjdGVkIHJvb21zLCB0cnkgdG8gY29ubmVjdCB0aGVtIHRvIGEgcmFuZG9tIGNvbm5lY3RlZCBuZWlnaGJvclxuICAgICAgICAvLyhpZiBhIHJvb20gaGFzIG5vIGNvbm5lY3RlZCBuZWlnaGJvcnMgeWV0LCBqdXN0IGtlZXAgY3ljbGluZywgeW91J2xsIGZpbGwgb3V0IHRvIGl0IGV2ZW50dWFsbHkpLlxuICAgICAgICBsZXQgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENlbGxzID0gUk5HLnNodWZmbGUodGhpcy5jb25uZWN0ZWRDZWxscyk7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBsZXQgb3RoZXJSb29tO1xuICAgICAgICBsZXQgdmFsaWRSb29tO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICByb29tID0gdGhpcy5yb29tc1tpXVtqXTtcbiAgICAgICAgICAgICAgICBpZiAocm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXJlY3Rpb25zID0gWzAsIDIsIDQsIDZdO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25zID0gUk5HLnNodWZmbGUoZGlyZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkUm9vbSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlySWR4ID0gZGlyZWN0aW9ucy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJID0gaSArIERJUlNbOF1bZGlySWR4XVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdKID0gaiArIERJUlNbOF1bZGlySWR4XVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJIDwgMCB8fCBuZXdJID49IGN3IHx8IG5ld0ogPCAwIHx8IG5ld0ogPj0gY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmV3SV1bbmV3Sl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFJvb20gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdWzBdID09IGkgJiYgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMV0gPT0gaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFJvb20gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUm9vbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChkaXJlY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFJvb20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21bXCJjb25uZWN0aW9uc1wiXS5wdXNoKFtvdGhlclJvb21bXCJjZWxseFwiXSwgb3RoZXJSb29tW1wiY2VsbHlcIl1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0gVW5hYmxlIHRvIGNvbm5lY3Qgcm9vbS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucygpIHtcbiAgICAgICAgLy8gRW1wdHkgZm9yIG5vdy5cbiAgICB9XG4gICAgX2NyZWF0ZVJvb21zKCkge1xuICAgICAgICBsZXQgdyA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgbGV0IGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG4gICAgICAgIGxldCBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcbiAgICAgICAgbGV0IGN3cCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGggLyBjdyk7XG4gICAgICAgIGxldCBjaHAgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodCAvIGNoKTtcbiAgICAgICAgbGV0IHJvb213O1xuICAgICAgICBsZXQgcm9vbWg7XG4gICAgICAgIGxldCByb29tV2lkdGggPSB0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdO1xuICAgICAgICBsZXQgcm9vbUhlaWdodCA9IHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdO1xuICAgICAgICBsZXQgc3g7XG4gICAgICAgIGxldCBzeTtcbiAgICAgICAgbGV0IG90aGVyUm9vbTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdzsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzeCA9IGN3cCAqIGk7XG4gICAgICAgICAgICAgICAgc3kgPSBjaHAgKiBqO1xuICAgICAgICAgICAgICAgIGlmIChzeCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN4ID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN5ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb29tdyA9IFJORy5nZXRVbmlmb3JtSW50KHJvb21XaWR0aFswXSwgcm9vbVdpZHRoWzFdKTtcbiAgICAgICAgICAgICAgICByb29taCA9IFJORy5nZXRVbmlmb3JtSW50KHJvb21IZWlnaHRbMF0sIHJvb21IZWlnaHRbMV0pO1xuICAgICAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdGhlclJvb20gPSB0aGlzLnJvb21zW2ldW2ogLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN5IC0gKG90aGVyUm9vbVtcInlcIl0gKyBvdGhlclJvb21bXCJoZWlnaHRcIl0pIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3krKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tpIC0gMV1bal07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzeCAtIChvdGhlclJvb21bXCJ4XCJdICsgb3RoZXJSb29tW1wid2lkdGhcIl0pIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3grKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc3hPZmZzZXQgPSBNYXRoLnJvdW5kKFJORy5nZXRVbmlmb3JtSW50KDAsIGN3cCAtIHJvb213KSAvIDIpO1xuICAgICAgICAgICAgICAgIGxldCBzeU9mZnNldCA9IE1hdGgucm91bmQoUk5HLmdldFVuaWZvcm1JbnQoMCwgY2hwIC0gcm9vbWgpIC8gMik7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN4ICsgc3hPZmZzZXQgKyByb29tdyA+PSB3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzeE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3hPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb213LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN5ICsgc3lPZmZzZXQgKyByb29taCA+PSBoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzeU9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3lPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21oLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ggPSBzeCArIHN4T2Zmc2V0O1xuICAgICAgICAgICAgICAgIHN5ID0gc3kgKyBzeU9mZnNldDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb21zW2ldW2pdW1wieFwiXSA9IHN4O1xuICAgICAgICAgICAgICAgIHRoaXMucm9vbXNbaV1bal1bXCJ5XCJdID0gc3k7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXVtqXVtcIndpZHRoXCJdID0gcm9vbXc7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXVtqXVtcImhlaWdodFwiXSA9IHJvb21oO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gc3g7IGlpIDwgc3ggKyByb29tdzsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqaiA9IHN5OyBqaiA8IHN5ICsgcm9vbWg7IGpqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwW2lpXVtqal0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRXYWxsUG9zaXRpb24oYVJvb20sIGFEaXJlY3Rpb24pIHtcbiAgICAgICAgbGV0IHJ4O1xuICAgICAgICBsZXQgcnk7XG4gICAgICAgIGxldCBkb29yO1xuICAgICAgICBpZiAoYURpcmVjdGlvbiA9PSAxIHx8IGFEaXJlY3Rpb24gPT0gMykge1xuICAgICAgICAgICAgcnggPSBSTkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInhcIl0gKyAxLCBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdIC0gMik7XG4gICAgICAgICAgICBpZiAoYURpcmVjdGlvbiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcnkgPSBhUm9vbVtcInlcIl0gLSAyO1xuICAgICAgICAgICAgICAgIGRvb3IgPSByeSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByeSA9IGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdICsgMTtcbiAgICAgICAgICAgICAgICBkb29yID0gcnkgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXBbcnhdW2Rvb3JdID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLlxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcnkgPSBSTkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInlcIl0gKyAxLCBhUm9vbVtcInlcIl0gKyBhUm9vbVtcImhlaWdodFwiXSAtIDIpO1xuICAgICAgICAgICAgaWYgKGFEaXJlY3Rpb24gPT0gMikge1xuICAgICAgICAgICAgICAgIHJ4ID0gYVJvb21bXCJ4XCJdICsgYVJvb21bXCJ3aWR0aFwiXSArIDE7XG4gICAgICAgICAgICAgICAgZG9vciA9IHJ4IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJ4ID0gYVJvb21bXCJ4XCJdIC0gMjtcbiAgICAgICAgICAgICAgICBkb29yID0gcnggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXBbZG9vcl1bcnldID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcngsIHJ5XTtcbiAgICB9XG4gICAgX2RyYXdDb3JyaWRvcihzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xuICAgICAgICBsZXQgeE9mZnNldCA9IGVuZFBvc2l0aW9uWzBdIC0gc3RhcnRQb3NpdGlvblswXTtcbiAgICAgICAgbGV0IHlPZmZzZXQgPSBlbmRQb3NpdGlvblsxXSAtIHN0YXJ0UG9zaXRpb25bMV07XG4gICAgICAgIGxldCB4cG9zID0gc3RhcnRQb3NpdGlvblswXTtcbiAgICAgICAgbGV0IHlwb3MgPSBzdGFydFBvc2l0aW9uWzFdO1xuICAgICAgICBsZXQgdGVtcERpc3Q7XG4gICAgICAgIGxldCB4RGlyO1xuICAgICAgICBsZXQgeURpcjtcbiAgICAgICAgbGV0IG1vdmU7IC8vIDIgZWxlbWVudCBhcnJheSwgZWxlbWVudCAwIGlzIHRoZSBkaXJlY3Rpb24sIGVsZW1lbnQgMSBpcyB0aGUgdG90YWwgdmFsdWUgdG8gbW92ZS5cbiAgICAgICAgbGV0IG1vdmVzID0gW107IC8vIGEgbGlzdCBvZiAyIGVsZW1lbnQgYXJyYXlzXG4gICAgICAgIGxldCB4QWJzID0gTWF0aC5hYnMoeE9mZnNldCk7XG4gICAgICAgIGxldCB5QWJzID0gTWF0aC5hYnMoeU9mZnNldCk7XG4gICAgICAgIGxldCBwZXJjZW50ID0gUk5HLmdldFVuaWZvcm0oKTsgLy8gdXNlZCB0byBzcGxpdCB0aGUgbW92ZSBhdCBkaWZmZXJlbnQgcGxhY2VzIGFsb25nIHRoZSBsb25nIGF4aXNcbiAgICAgICAgbGV0IGZpcnN0SGFsZiA9IHBlcmNlbnQ7XG4gICAgICAgIGxldCBzZWNvbmRIYWxmID0gMSAtIHBlcmNlbnQ7XG4gICAgICAgIHhEaXIgPSB4T2Zmc2V0ID4gMCA/IDIgOiA2O1xuICAgICAgICB5RGlyID0geU9mZnNldCA+IDAgPyA0IDogMDtcbiAgICAgICAgaWYgKHhBYnMgPCB5QWJzKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeSBvZmZzZXRcbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5jZWlsKHlBYnMgKiBmaXJzdEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgYWxsIHRoZSB4IG9mZnNldFxuICAgICAgICAgICAgbW92ZXMucHVzaChbeERpciwgeEFic10pO1xuICAgICAgICAgICAgLy8gbW92ZSBzZW5kSGFsZiBvZiB0aGUgIHkgb2Zmc2V0XG4gICAgICAgICAgICB0ZW1wRGlzdCA9IE1hdGguZmxvb3IoeUFicyAqIHNlY29uZEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vICBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeCBvZmZzZXRcbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5jZWlsKHhBYnMgKiBmaXJzdEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgYWxsIHRoZSB5IG9mZnNldFxuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgeUFic10pO1xuICAgICAgICAgICAgLy8gbW92ZSBzZWNvbmRIYWxmIG9mIHRoZSB4IG9mZnNldC5cbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5mbG9vcih4QWJzICogc2Vjb25kSGFsZik7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt4RGlyLCB0ZW1wRGlzdF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwW3hwb3NdW3lwb3NdID0gMDtcbiAgICAgICAgd2hpbGUgKG1vdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1vdmUgPSBtb3Zlcy5wb3AoKTtcbiAgICAgICAgICAgIHdoaWxlIChtb3ZlWzFdID4gMCkge1xuICAgICAgICAgICAgICAgIHhwb3MgKz0gRElSU1s4XVttb3ZlWzBdXVswXTtcbiAgICAgICAgICAgICAgICB5cG9zICs9IERJUlNbOF1bbW92ZVswXV1bMV07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuICAgICAgICAgICAgICAgIG1vdmVbMV0gPSBtb3ZlWzFdIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY3JlYXRlQ29ycmlkb3JzKCkge1xuICAgICAgICAvLyBEcmF3IENvcnJpZG9ycyBiZXR3ZWVuIGNvbm5lY3RlZCByb29tc1xuICAgICAgICBsZXQgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuICAgICAgICBsZXQgcm9vbTtcbiAgICAgICAgbGV0IGNvbm5lY3Rpb247XG4gICAgICAgIGxldCBvdGhlclJvb207XG4gICAgICAgIGxldCB3YWxsO1xuICAgICAgICBsZXQgb3RoZXJXYWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2g7IGorKykge1xuICAgICAgICAgICAgICAgIHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSByb29tW1wiY29ubmVjdGlvbnNcIl1ba107XG4gICAgICAgICAgICAgICAgICAgIG90aGVyUm9vbSA9IHRoaXMucm9vbXNbY29ubmVjdGlvblswXV1bY29ubmVjdGlvblsxXV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIHN0YXJ0IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmlndXJlIG91dCB3aGF0IHdhbGwgb3VyIGNvcnJpZG9yIHdpbGwgZW5kIG9uLlxuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY2VsbHhcIl0gPiByb29tW1wiY2VsbHhcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGwgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJXYWxsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA8IHJvb21bXCJjZWxseFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FsbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlcldhbGwgPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG90aGVyUm9vbVtcImNlbGx5XCJdID4gcm9vbVtcImNlbGx5XCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyV2FsbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyV2FsbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd0NvcnJpZG9yKHRoaXMuX2dldFdhbGxQb3NpdGlvbihyb29tLCB3YWxsKSwgdGhpcy5fZ2V0V2FsbFBvc2l0aW9uKG90aGVyUm9vbSwgb3RoZXJXYWxsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IE5vaXNlIGZyb20gXCIuL25vaXNlLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbmltcG9ydCB7IG1vZCB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5jb25zdCBGMiA9IDAuNSAqIChNYXRoLnNxcnQoMykgLSAxKTtcbmNvbnN0IEcyID0gKDMgLSBNYXRoLnNxcnQoMykpIC8gNjtcbi8qKlxuICogQSBzaW1wbGUgMmQgaW1wbGVtZW50YXRpb24gb2Ygc2ltcGxleCBub2lzZSBieSBPbmRyZWogWmFyYVxuICpcbiAqIEJhc2VkIG9uIGEgc3BlZWQtaW1wcm92ZWQgc2ltcGxleCBub2lzZSBhbGdvcml0aG0gZm9yIDJELCAzRCBhbmQgNEQgaW4gSmF2YS5cbiAqIFdoaWNoIGlzIGJhc2VkIG9uIGV4YW1wbGUgY29kZSBieSBTdGVmYW4gR3VzdGF2c29uIChzdGVndUBpdG4ubGl1LnNlKS5cbiAqIFdpdGggT3B0aW1pc2F0aW9ucyBieSBQZXRlciBFYXN0bWFuIChwZWFzdG1hbkBkcml6emxlLnN0YW5mb3JkLmVkdSkuXG4gKiBCZXR0ZXIgcmFuayBvcmRlcmluZyBtZXRob2QgYnkgU3RlZmFuIEd1c3RhdnNvbiBpbiAyMDEyLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGV4IGV4dGVuZHMgTm9pc2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBncmFkaWVudHMgUmFuZG9tIGdyYWRpZW50c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdyYWRpZW50cyA9IDI1Nikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9ncmFkaWVudHMgPSBbXG4gICAgICAgICAgICBbMCwgLTFdLFxuICAgICAgICAgICAgWzEsIC0xXSxcbiAgICAgICAgICAgIFsxLCAwXSxcbiAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgIFstMSwgMV0sXG4gICAgICAgICAgICBbLTEsIDBdLFxuICAgICAgICAgICAgWy0xLCAtMV1cbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHBlcm11dGF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyYWRpZW50czsgaSsrKSB7XG4gICAgICAgICAgICBwZXJtdXRhdGlvbnMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICBwZXJtdXRhdGlvbnMgPSBSTkcuc2h1ZmZsZShwZXJtdXRhdGlvbnMpO1xuICAgICAgICB0aGlzLl9wZXJtcyA9IFtdO1xuICAgICAgICB0aGlzLl9pbmRleGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMiAqIGdyYWRpZW50czsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9wZXJtcy5wdXNoKHBlcm11dGF0aW9uc1tpICUgZ3JhZGllbnRzXSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleGVzLnB1c2godGhpcy5fcGVybXNbaV0gJSB0aGlzLl9ncmFkaWVudHMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoeGluLCB5aW4pIHtcbiAgICAgICAgbGV0IHBlcm1zID0gdGhpcy5fcGVybXM7XG4gICAgICAgIGxldCBpbmRleGVzID0gdGhpcy5faW5kZXhlcztcbiAgICAgICAgbGV0IGNvdW50ID0gcGVybXMubGVuZ3RoIC8gMjtcbiAgICAgICAgbGV0IG4wID0gMCwgbjEgPSAwLCBuMiA9IDAsIGdpOyAvLyBOb2lzZSBjb250cmlidXRpb25zIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcbiAgICAgICAgLy8gU2tldyB0aGUgaW5wdXQgc3BhY2UgdG8gZGV0ZXJtaW5lIHdoaWNoIHNpbXBsZXggY2VsbCB3ZSdyZSBpblxuICAgICAgICBsZXQgcyA9ICh4aW4gKyB5aW4pICogRjI7IC8vIEhhaXJ5IGZhY3RvciBmb3IgMkRcbiAgICAgICAgbGV0IGkgPSBNYXRoLmZsb29yKHhpbiArIHMpO1xuICAgICAgICBsZXQgaiA9IE1hdGguZmxvb3IoeWluICsgcyk7XG4gICAgICAgIGxldCB0ID0gKGkgKyBqKSAqIEcyO1xuICAgICAgICBsZXQgWDAgPSBpIC0gdDsgLy8gVW5za2V3IHRoZSBjZWxsIG9yaWdpbiBiYWNrIHRvICh4LHkpIHNwYWNlXG4gICAgICAgIGxldCBZMCA9IGogLSB0O1xuICAgICAgICBsZXQgeDAgPSB4aW4gLSBYMDsgLy8gVGhlIHgseSBkaXN0YW5jZXMgZnJvbSB0aGUgY2VsbCBvcmlnaW5cbiAgICAgICAgbGV0IHkwID0geWluIC0gWTA7XG4gICAgICAgIC8vIEZvciB0aGUgMkQgY2FzZSwgdGhlIHNpbXBsZXggc2hhcGUgaXMgYW4gZXF1aWxhdGVyYWwgdHJpYW5nbGUuXG4gICAgICAgIC8vIERldGVybWluZSB3aGljaCBzaW1wbGV4IHdlIGFyZSBpbi5cbiAgICAgICAgbGV0IGkxLCBqMTsgLy8gT2Zmc2V0cyBmb3Igc2Vjb25kIChtaWRkbGUpIGNvcm5lciBvZiBzaW1wbGV4IGluIChpLGopIGNvb3Jkc1xuICAgICAgICBpZiAoeDAgPiB5MCkge1xuICAgICAgICAgICAgaTEgPSAxO1xuICAgICAgICAgICAgajEgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBsb3dlciB0cmlhbmdsZSwgWFkgb3JkZXI6ICgwLDApLT4oMSwwKS0+KDEsMSlcbiAgICAgICAgICAgIGkxID0gMDtcbiAgICAgICAgICAgIGoxID0gMTtcbiAgICAgICAgfSAvLyB1cHBlciB0cmlhbmdsZSwgWVggb3JkZXI6ICgwLDApLT4oMCwxKS0+KDEsMSlcbiAgICAgICAgLy8gQSBzdGVwIG9mICgxLDApIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoMS1jLC1jKSBpbiAoeCx5KSwgYW5kXG4gICAgICAgIC8vIGEgc3RlcCBvZiAoMCwxKSBpbiAoaSxqKSBtZWFucyBhIHN0ZXAgb2YgKC1jLDEtYykgaW4gKHgseSksIHdoZXJlXG4gICAgICAgIC8vIGMgPSAoMy1zcXJ0KDMpKS82XG4gICAgICAgIGxldCB4MSA9IHgwIC0gaTEgKyBHMjsgLy8gT2Zmc2V0cyBmb3IgbWlkZGxlIGNvcm5lciBpbiAoeCx5KSB1bnNrZXdlZCBjb29yZHNcbiAgICAgICAgbGV0IHkxID0geTAgLSBqMSArIEcyO1xuICAgICAgICBsZXQgeDIgPSB4MCAtIDEgKyAyICogRzI7IC8vIE9mZnNldHMgZm9yIGxhc3QgY29ybmVyIGluICh4LHkpIHVuc2tld2VkIGNvb3Jkc1xuICAgICAgICBsZXQgeTIgPSB5MCAtIDEgKyAyICogRzI7XG4gICAgICAgIC8vIFdvcmsgb3V0IHRoZSBoYXNoZWQgZ3JhZGllbnQgaW5kaWNlcyBvZiB0aGUgdGhyZWUgc2ltcGxleCBjb3JuZXJzXG4gICAgICAgIGxldCBpaSA9IG1vZChpLCBjb3VudCk7XG4gICAgICAgIGxldCBqaiA9IG1vZChqLCBjb3VudCk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY29udHJpYnV0aW9uIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcbiAgICAgICAgbGV0IHQwID0gMC41IC0geDAgKiB4MCAtIHkwICogeTA7XG4gICAgICAgIGlmICh0MCA+PSAwKSB7XG4gICAgICAgICAgICB0MCAqPSB0MDtcbiAgICAgICAgICAgIGdpID0gaW5kZXhlc1tpaSArIHBlcm1zW2pqXV07XG4gICAgICAgICAgICBsZXQgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG4gICAgICAgICAgICBuMCA9IHQwICogdDAgKiAoZ3JhZFswXSAqIHgwICsgZ3JhZFsxXSAqIHkwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdDEgPSAwLjUgLSB4MSAqIHgxIC0geTEgKiB5MTtcbiAgICAgICAgaWYgKHQxID49IDApIHtcbiAgICAgICAgICAgIHQxICo9IHQxO1xuICAgICAgICAgICAgZ2kgPSBpbmRleGVzW2lpICsgaTEgKyBwZXJtc1tqaiArIGoxXV07XG4gICAgICAgICAgICBsZXQgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG4gICAgICAgICAgICBuMSA9IHQxICogdDEgKiAoZ3JhZFswXSAqIHgxICsgZ3JhZFsxXSAqIHkxKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdDIgPSAwLjUgLSB4MiAqIHgyIC0geTIgKiB5MjtcbiAgICAgICAgaWYgKHQyID49IDApIHtcbiAgICAgICAgICAgIHQyICo9IHQyO1xuICAgICAgICAgICAgZ2kgPSBpbmRleGVzW2lpICsgMSArIHBlcm1zW2pqICsgMV1dO1xuICAgICAgICAgICAgbGV0IGdyYWQgPSB0aGlzLl9ncmFkaWVudHNbZ2ldO1xuICAgICAgICAgICAgbjIgPSB0MiAqIHQyICogKGdyYWRbMF0gKiB4MiArIGdyYWRbMV0gKiB5Mik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGNvbnRyaWJ1dGlvbnMgZnJvbSBlYWNoIGNvcm5lciB0byBnZXQgdGhlIGZpbmFsIG5vaXNlIHZhbHVlLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIHNjYWxlZCB0byByZXR1cm4gdmFsdWVzIGluIHRoZSBpbnRlcnZhbCBbLTEsMV0uXG4gICAgICAgIHJldHVybiA3MCAqIChuMCArIG4xICsgbjIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERJUlMgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBwYXRoZmluZGVyXG4gKiBAcGFyYW0ge2ludH0gdG9YIFRhcmdldCBYIGNvb3JkXG4gKiBAcGFyYW0ge2ludH0gdG9ZIFRhcmdldCBZIGNvb3JkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXNzYWJsZUNhbGxiYWNrIENhbGxiYWNrIHRvIGRldGVybWluZSBtYXAgcGFzc2FiaWxpdHlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXRoIHtcbiAgICBjb25zdHJ1Y3Rvcih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX3RvWCA9IHRvWDtcbiAgICAgICAgdGhpcy5fdG9ZID0gdG9ZO1xuICAgICAgICB0aGlzLl9wYXNzYWJsZUNhbGxiYWNrID0gcGFzc2FibGVDYWxsYmFjaztcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdG9wb2xvZ3k6IDhcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2RpcnMgPSBESVJTW3RoaXMuX29wdGlvbnMudG9wb2xvZ3ldO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA4KSB7IC8qIHJlb3JkZXIgZGlycyBmb3IgbW9yZSBhZXN0aGV0aWMgcmVzdWx0ICh2ZXJ0aWNhbC9ob3Jpem9udGFsIGZpcnN0KSAqL1xuICAgICAgICAgICAgdGhpcy5fZGlycyA9IFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzBdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbMl0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1s0XSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzZdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbMV0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1szXSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzVdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbN11cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldE5laWdoYm9ycyhjeCwgY3kpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkaXIgPSB0aGlzLl9kaXJzW2ldO1xuICAgICAgICAgICAgbGV0IHggPSBjeCArIGRpclswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkaXJbMV07XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Bhc3NhYmxlQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt4LCB5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLCJpbXBvcnQgRGlqa3N0cmEgZnJvbSBcIi4vZGlqa3N0cmEuanNcIjtcbmltcG9ydCBBU3RhciBmcm9tIFwiLi9hc3Rhci5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgeyBEaWprc3RyYSwgQVN0YXIgfTtcbiIsImltcG9ydCBQYXRoIGZyb20gXCIuL3BhdGguanNcIjtcbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgRGlqa3N0cmEncyBhbGdvcml0aG06IGFsbCBlZGdlcyBoYXZlIGEgdmFsdWUgb2YgMVxuICogQGF1Z21lbnRzIFJPVC5QYXRoXG4gKiBAc2VlIFJPVC5QYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpamtzdHJhIGV4dGVuZHMgUGF0aCB7XG4gICAgY29uc3RydWN0b3IodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9jb21wdXRlZCA9IHt9O1xuICAgICAgICB0aGlzLl90b2RvID0gW107XG4gICAgICAgIHRoaXMuX2FkZCh0b1gsIHRvWSwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICAgICAqIEBzZWUgUk9ULlBhdGgjY29tcHV0ZVxuICAgICAqL1xuICAgIGNvbXB1dGUoZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQga2V5ID0gZnJvbVggKyBcIixcIiArIGZyb21ZO1xuICAgICAgICBpZiAoIShrZXkgaW4gdGhpcy5fY29tcHV0ZWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21wdXRlKGZyb21YLCBmcm9tWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5fY29tcHV0ZWRba2V5XTtcbiAgICAgICAgd2hpbGUgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnByZXY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIG5vbi1jYWNoZWQgdmFsdWVcbiAgICAgKi9cbiAgICBfY29tcHV0ZShmcm9tWCwgZnJvbVkpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3RvZG8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChpdGVtLnggPT0gZnJvbVggJiYgaXRlbS55ID09IGZyb21ZKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5laWdoYm9ycyA9IHRoaXMuX2dldE5laWdoYm9ycyhpdGVtLngsIGl0ZW0ueSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IG5laWdoYm9yWzBdO1xuICAgICAgICAgICAgICAgIGxldCB5ID0gbmVpZ2hib3JbMV07XG4gICAgICAgICAgICAgICAgbGV0IGlkID0geCArIFwiLFwiICsgeTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgaW4gdGhpcy5fY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSAvKiBhbHJlYWR5IGRvbmUgKi9cbiAgICAgICAgICAgICAgICB0aGlzLl9hZGQoeCwgeSwgaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZCh4LCB5LCBwcmV2KSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHByZXY6IHByZXZcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY29tcHV0ZWRbeCArIFwiLFwiICsgeV0gPSBvYmo7XG4gICAgICAgIHRoaXMuX3RvZG8ucHVzaChvYmopO1xuICAgIH1cbn1cbiIsImltcG9ydCBQYXRoIGZyb20gXCIuL3BhdGguanNcIjtcbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgQSogYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBU3RhciBleHRlbmRzIFBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90b2RvID0gW107XG4gICAgICAgIHRoaXMuX2RvbmUgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gICAgICogQHNlZSBST1QuUGF0aCNjb21wdXRlXG4gICAgICovXG4gICAgY29tcHV0ZShmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3RvZG8gPSBbXTtcbiAgICAgICAgdGhpcy5fZG9uZSA9IHt9O1xuICAgICAgICB0aGlzLl9mcm9tWCA9IGZyb21YO1xuICAgICAgICB0aGlzLl9mcm9tWSA9IGZyb21ZO1xuICAgICAgICB0aGlzLl9hZGQodGhpcy5fdG9YLCB0aGlzLl90b1ksIG51bGwpO1xuICAgICAgICB3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5fdG9kby5zaGlmdCgpO1xuICAgICAgICAgICAgbGV0IGlkID0gaXRlbS54ICsgXCIsXCIgKyBpdGVtLnk7XG4gICAgICAgICAgICBpZiAoaWQgaW4gdGhpcy5fZG9uZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZG9uZVtpZF0gPSBpdGVtO1xuICAgICAgICAgICAgaWYgKGl0ZW0ueCA9PSBmcm9tWCAmJiBpdGVtLnkgPT0gZnJvbVkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07XG4gICAgICAgICAgICAgICAgbGV0IHggPSBuZWlnaGJvclswXTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IG5laWdoYm9yWzFdO1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IHggKyBcIixcIiArIHk7XG4gICAgICAgICAgICAgICAgaWYgKGlkIGluIHRoaXMuX2RvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZCh4LCB5LCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX2RvbmVbZnJvbVggKyBcIixcIiArIGZyb21ZXTtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGl0ZW0pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnByZXY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZCh4LCB5LCBwcmV2KSB7XG4gICAgICAgIGxldCBoID0gdGhpcy5fZGlzdGFuY2UoeCwgeSk7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHByZXY6IHByZXYsXG4gICAgICAgICAgICBnOiAocHJldiA/IHByZXYuZyArIDEgOiAwKSxcbiAgICAgICAgICAgIGg6IGhcbiAgICAgICAgfTtcbiAgICAgICAgLyogaW5zZXJ0IGludG8gcHJpb3JpdHkgcXVldWUgKi9cbiAgICAgICAgbGV0IGYgPSBvYmouZyArIG9iai5oO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RvZG8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5fdG9kb1tpXTtcbiAgICAgICAgICAgIGxldCBpdGVtRiA9IGl0ZW0uZyArIGl0ZW0uaDtcbiAgICAgICAgICAgIGlmIChmIDwgaXRlbUYgfHwgKGYgPT0gaXRlbUYgJiYgaCA8IGl0ZW0uaCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b2RvLnNwbGljZShpLCAwLCBvYmopO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90b2RvLnB1c2gob2JqKTtcbiAgICB9XG4gICAgX2Rpc3RhbmNlKHgsIHkpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5KSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLmFicyh4IC0gdGhpcy5fZnJvbVgpICsgTWF0aC5hYnMoeSAtIHRoaXMuX2Zyb21ZKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgbGV0IGR4ID0gTWF0aC5hYnMoeCAtIHRoaXMuX2Zyb21YKTtcbiAgICAgICAgICAgICAgICBsZXQgZHkgPSBNYXRoLmFicyh5IC0gdGhpcy5fZnJvbVkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkeSArIE1hdGgubWF4KDAsIChkeCAtIGR5KSAvIDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLmFicyh4IC0gdGhpcy5fZnJvbVgpLCBNYXRoLmFicyh5IC0gdGhpcy5fZnJvbVkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNvbnN0IHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbWVcIik7XHJcbmltcG9ydCAqIGFzIFJPVCBmcm9tIFwicm90LWpzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZ3JpZCA9IHtcclxuICAgIHdpZHRoOiA1MCxcclxuICAgIGhlaWdodDogMzQsXHJcbiAgXHJcbiAgICBtYXA6IHtcclxuICAgICAgd2lkdGg6IDIwLFxyXG4gICAgICBoZWlnaHQ6IDEwLFxyXG4gICAgICB4OiAxMCxcclxuICAgICAgeTogMyxcclxuICAgIH0sXHJcblxyXG4gICAgZW5lbWllczoge1xyXG4gICAgICB3aWR0aDoxMCxcclxuICAgICAgaGVpZ2h0OjEwLFxyXG4gICAgICB4OiAzMSxcclxuICAgICAgeTogM1xyXG4gICAgfSxcclxuXHJcbiAgICBhY3RpdmVQbGF5ZXI6IHtcclxuICAgICAgd2lkdGg6IDEwLFxyXG4gICAgICBoZWlnaHQ6IDIsXHJcbiAgICAgIHg6MSxcclxuICAgICAgeTozXHJcbiAgICB9LFxyXG5cclxuICAgIGRpZU1lbnU6IHtcclxuICAgICAgd2lkdGg6NTAsXHJcbiAgICAgIGhlaWdodDoyLFxyXG4gICAgICB4OiAxMCxcclxuICAgICAgeTogMTRcclxuICAgIH0sXHJcblxyXG4gICAgYWJpbGl0eU1lbnU6IHtcclxuICAgICAgd2lkdGg6MzAsXHJcbiAgICAgIGhlaWdodDoxLFxyXG4gICAgICB4OjEwLFxyXG4gICAgICB5OjE2XHJcbiAgICB9LFxyXG5cclxuICAgIHBoYXNlTWVudToge1xyXG4gICAgICB3aWR0aDogMjAsXHJcbiAgICAgIGhlaWdodDoxLFxyXG4gICAgICB4OiAxMixcclxuICAgICAgeTogMlxyXG4gICAgfSxcclxuXHJcbiAgICBoZWxwTWVudToge1xyXG4gICAgICB3aWR0aDo0MCxcclxuICAgICAgaGVpZ2h0OjMwXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRpc3BsYXlPcHRpb25zID0ge1xyXG4gICAgLy8gQ29uZmlndXJlIHRoZSBkaXNwbGF5XHJcbiAgICBiZzogXCJibGFja1wiLCAvLyBiYWNrZ3JvdW5kXHJcbiAgICBmZzogXCJHcmV5XCIsIC8vIGZvcmVncm91bmRcclxuICAgIGZvbnRGYW1pbHk6IFwiRmlyYSBNb25vXCIsIC8vIGZvbnQgKHVzZSBhIG1vbm9zcGFjZSBmb3IgZXN0aGV0aWNzKVxyXG4gICAgd2lkdGg6IGdyaWQud2lkdGgsXHJcbiAgICBoZWlnaHQ6IGdyaWQuaGVpZ2h0LCAvLyBjYW52YXMgaGVpZ2h0IGFuZCB3aWR0aFxyXG4gICAgZm9udFNpemU6IDE4LCAvLyBjYW52YXMgZm9udHNpemVcclxuICAgIGZvcmNlU3F1YXJlUmF0aW86IHRydWUgLy8gbWFrZSB0aGUgY2FudmFzIHNxdWFyZWQgcmF0aW9cclxuICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc3BsYXkgPSBuZXcgUk9ULkRpc3BsYXkoZGlzcGxheU9wdGlvbnMpO1xyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpc3BsYXkuZ2V0Q29udGFpbmVyKCkpO1xyXG5cclxuY29uc3QgZGlzcGxheU9wdGlvbnNIZWxwID0ge1xyXG4gIC8vIENvbmZpZ3VyZSB0aGUgZGlzcGxheVxyXG4gIGJnOiBcImJsYWNrXCIsIC8vIGJhY2tncm91bmRcclxuICBmZzogXCJHcmV5XCIsIC8vIGZvcmVncm91bmRcclxuICBmb250RmFtaWx5OiBcIkZpcmEgTW9ub1wiLCAvLyBmb250ICh1c2UgYSBtb25vc3BhY2UgZm9yIGVzdGhldGljcylcclxuICB3aWR0aDogZ3JpZC5oZWxwTWVudS53aWR0aCxcclxuICBoZWlnaHQ6IGdyaWQuaGVscE1lbnUuaGVpZ2h0LCAvLyBjYW52YXMgaGVpZ2h0IGFuZCB3aWR0aFxyXG4gIGZvbnRTaXplOiAxOCwgLy8gY2FudmFzIGZvbnRzaXplXHJcbiAgZm9yY2VTcXVhcmVSYXRpbzogdHJ1ZSAvLyBtYWtlIHRoZSBjYW52YXMgc3F1YXJlZCByYXRpb1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgIGRpdkhlbHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuZGl2SGVscC5pZCA9ICdoZWxwTWVudSc7XHJcblxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkhlbHApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc3BsYXlIZWxwID0gbmV3IFJPVC5EaXNwbGF5KGRpc3BsYXlPcHRpb25zSGVscCk7XHJcbmRpdkhlbHAuYXBwZW5kQ2hpbGQoZGlzcGxheUhlbHAuZ2V0Q29udGFpbmVyKCkpXHJcbmRpc3BsYXlIZWxwLmRyYXdUZXh0KDAsMCxcIkhFTExPIENBTiBZT1UgU0VFIFRISVNcIilcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcmVzZXJ2ZUNhbWVsQ2FzZSA9IHN0cmluZyA9PiB7XG5cdGxldCBpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0bGV0IGlzTGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXHRsZXQgaXNMYXN0TGFzdENoYXJVcHBlciA9IGZhbHNlO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY2hhcmFjdGVyID0gc3RyaW5nW2ldO1xuXG5cdFx0aWYgKGlzTGFzdENoYXJMb3dlciAmJiAvW1xccHtMdX1dL3UudGVzdChjaGFyYWN0ZXIpKSB7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgaSkgKyAnLScgKyBzdHJpbmcuc2xpY2UoaSk7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBmYWxzZTtcblx0XHRcdGlzTGFzdExhc3RDaGFyVXBwZXIgPSBpc0xhc3RDaGFyVXBwZXI7XG5cdFx0XHRpc0xhc3RDaGFyVXBwZXIgPSB0cnVlO1xuXHRcdFx0aSsrO1xuXHRcdH0gZWxzZSBpZiAoaXNMYXN0Q2hhclVwcGVyICYmIGlzTGFzdExhc3RDaGFyVXBwZXIgJiYgL1tcXHB7TGx9XS91LnRlc3QoY2hhcmFjdGVyKSkge1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGkgLSAxKSArICctJyArIHN0cmluZy5zbGljZShpIC0gMSk7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gZmFsc2U7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpc0xhc3RDaGFyTG93ZXIgPSBjaGFyYWN0ZXIudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gY2hhcmFjdGVyICYmIGNoYXJhY3Rlci50b0xvY2FsZVVwcGVyQ2FzZSgpICE9PSBjaGFyYWN0ZXI7XG5cdFx0XHRpc0xhc3RMYXN0Q2hhclVwcGVyID0gaXNMYXN0Q2hhclVwcGVyO1xuXHRcdFx0aXNMYXN0Q2hhclVwcGVyID0gY2hhcmFjdGVyLnRvTG9jYWxlVXBwZXJDYXNlKCkgPT09IGNoYXJhY3RlciAmJiBjaGFyYWN0ZXIudG9Mb2NhbGVMb3dlckNhc2UoKSAhPT0gY2hhcmFjdGVyO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHJpbmc7XG59O1xuXG5jb25zdCBjYW1lbENhc2UgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0aWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBBcnJheS5pc0FycmF5KGlucHV0KSkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgaW5wdXQgdG8gYmUgYHN0cmluZyB8IHN0cmluZ1tdYCcpO1xuXHR9XG5cblx0b3B0aW9ucyA9IHtcblx0XHQuLi57cGFzY2FsQ2FzZTogZmFsc2V9LFxuXHRcdC4uLm9wdGlvbnNcblx0fTtcblxuXHRjb25zdCBwb3N0UHJvY2VzcyA9IHggPT4gb3B0aW9ucy5wYXNjYWxDYXNlID8geC5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKSArIHguc2xpY2UoMSkgOiB4O1xuXG5cdGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHRcdGlucHV0ID0gaW5wdXQubWFwKHggPT4geC50cmltKCkpXG5cdFx0XHQuZmlsdGVyKHggPT4geC5sZW5ndGgpXG5cdFx0XHQuam9pbignLScpO1xuXHR9IGVsc2Uge1xuXHRcdGlucHV0ID0gaW5wdXQudHJpbSgpO1xuXHR9XG5cblx0aWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdGlmIChpbnB1dC5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5wYXNjYWxDYXNlID8gaW5wdXQudG9Mb2NhbGVVcHBlckNhc2UoKSA6IGlucHV0LnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdH1cblxuXHRjb25zdCBoYXNVcHBlckNhc2UgPSBpbnB1dCAhPT0gaW5wdXQudG9Mb2NhbGVMb3dlckNhc2UoKTtcblxuXHRpZiAoaGFzVXBwZXJDYXNlKSB7XG5cdFx0aW5wdXQgPSBwcmVzZXJ2ZUNhbWVsQ2FzZShpbnB1dCk7XG5cdH1cblxuXHRpbnB1dCA9IGlucHV0XG5cdFx0LnJlcGxhY2UoL15bXy5cXC0gXSsvLCAnJylcblx0XHQudG9Mb2NhbGVMb3dlckNhc2UoKVxuXHRcdC5yZXBsYWNlKC9bXy5cXC0gXSsoW1xccHtBbHBoYX1cXHB7Tn1fXXwkKS9ndSwgKF8sIHAxKSA9PiBwMS50b0xvY2FsZVVwcGVyQ2FzZSgpKVxuXHRcdC5yZXBsYWNlKC9cXGQrKFtcXHB7QWxwaGF9XFxwe059X118JCkvZ3UsIG0gPT4gbS50b0xvY2FsZVVwcGVyQ2FzZSgpKTtcblxuXHRyZXR1cm4gcG9zdFByb2Nlc3MoaW5wdXQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbENhc2U7XG4vLyBUT0RPOiBSZW1vdmUgdGhpcyBmb3IgdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGNhbWVsQ2FzZTtcbiIsImltcG9ydCBjYW1lbGNhc2VTbG93IGZyb20gJ2NhbWVsY2FzZSc7XHJcblxyXG5jb25zdCBjYW1lbENhY2hlID0ge307XHJcblxyXG5leHBvcnQgY29uc3QgY2FtZWxTdHJpbmcgPSAodmFsdWUpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGNhbWVsQ2FjaGVbdmFsdWVdO1xyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgY2FtZWxDYWNoZVt2YWx1ZV0gPSBjYW1lbGNhc2VTbG93KHZhbHVlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhbWVsQ2FjaGVbdmFsdWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbiIsImltcG9ydCB7IGNhbWVsU3RyaW5nIH0gZnJvbSAnLi91dGlsL3N0cmluZy11dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21wb25lbnRSZWdpc3RyeSB7XHJcbiAgICBfY2JpdCA9IDA7XHJcbiAgICBfbWFwID0ge307XHJcblxyXG4gICAgcmVnaXN0ZXIoY2xhenopIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBjYW1lbFN0cmluZyhjbGF6ei5uYW1lKTtcclxuXHJcbiAgICAgICAgY2xhenoucHJvdG90eXBlLl9ja2V5ID0ga2V5O1xyXG4gICAgICAgIGNsYXp6LnByb3RvdHlwZS5fY2JpdCA9IEJpZ0ludCgrK3RoaXMuX2NiaXQpO1xyXG5cclxuICAgICAgICB0aGlzLl9tYXBba2V5XSA9IGNsYXp6O1xyXG4gICAgfVxyXG5cclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWFwW2tleV07XHJcbiAgICB9XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNNZXJnZWFibGVPYmplY3QgPSBmdW5jdGlvbiBpc01lcmdlYWJsZU9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gaXNOb25OdWxsT2JqZWN0KHZhbHVlKVxuXHRcdCYmICFpc1NwZWNpYWwodmFsdWUpXG59O1xuXG5mdW5jdGlvbiBpc05vbk51bGxPYmplY3QodmFsdWUpIHtcblx0cmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xufVxuXG5mdW5jdGlvbiBpc1NwZWNpYWwodmFsdWUpIHtcblx0dmFyIHN0cmluZ1ZhbHVlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuXHRyZXR1cm4gc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IFJlZ0V4cF0nXG5cdFx0fHwgc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IERhdGVdJ1xuXHRcdHx8IGlzUmVhY3RFbGVtZW50KHZhbHVlKVxufVxuXG4vLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYjVhYzk2M2ZiNzkxZDEyOThlN2YzOTYyMzYzODNiYzk1NWY5MTZjMS9zcmMvaXNvbW9ycGhpYy9jbGFzc2ljL2VsZW1lbnQvUmVhY3RFbGVtZW50LmpzI0wyMS1MMjVcbnZhciBjYW5Vc2VTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gY2FuVXNlU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xuXG5mdW5jdGlvbiBpc1JlYWN0RWxlbWVudCh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxufVxuXG5mdW5jdGlvbiBlbXB0eVRhcmdldCh2YWwpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSA/IFtdIDoge31cbn1cblxuZnVuY3Rpb24gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQodmFsdWUsIG9wdGlvbnMpIHtcblx0cmV0dXJuIChvcHRpb25zLmNsb25lICE9PSBmYWxzZSAmJiBvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0KHZhbHVlKSlcblx0XHQ/IGRlZXBtZXJnZShlbXB0eVRhcmdldCh2YWx1ZSksIHZhbHVlLCBvcHRpb25zKVxuXHRcdDogdmFsdWVcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEFycmF5TWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcblx0cmV0dXJuIHRhcmdldC5jb25jYXQoc291cmNlKS5tYXAoZnVuY3Rpb24oZWxlbWVudCkge1xuXHRcdHJldHVybiBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChlbGVtZW50LCBvcHRpb25zKVxuXHR9KVxufVxuXG5mdW5jdGlvbiBnZXRNZXJnZUZ1bmN0aW9uKGtleSwgb3B0aW9ucykge1xuXHRpZiAoIW9wdGlvbnMuY3VzdG9tTWVyZ2UpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlXG5cdH1cblx0dmFyIGN1c3RvbU1lcmdlID0gb3B0aW9ucy5jdXN0b21NZXJnZShrZXkpO1xuXHRyZXR1cm4gdHlwZW9mIGN1c3RvbU1lcmdlID09PSAnZnVuY3Rpb24nID8gY3VzdG9tTWVyZ2UgOiBkZWVwbWVyZ2Vcbn1cblxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZU93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNcblx0XHQ/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KS5maWx0ZXIoZnVuY3Rpb24oc3ltYm9sKSB7XG5cdFx0XHRyZXR1cm4gdGFyZ2V0LnByb3BlcnR5SXNFbnVtZXJhYmxlKHN5bWJvbClcblx0XHR9KVxuXHRcdDogW11cbn1cblxuZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuY29uY2F0KGdldEVudW1lcmFibGVPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSlcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlJc09uT2JqZWN0KG9iamVjdCwgcHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gcHJvcGVydHkgaW4gb2JqZWN0XG5cdH0gY2F0Y2goXykge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9XG59XG5cbi8vIFByb3RlY3RzIGZyb20gcHJvdG90eXBlIHBvaXNvbmluZyBhbmQgdW5leHBlY3RlZCBtZXJnaW5nIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG5mdW5jdGlvbiBwcm9wZXJ0eUlzVW5zYWZlKHRhcmdldCwga2V5KSB7XG5cdHJldHVybiBwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpIC8vIFByb3BlcnRpZXMgYXJlIHNhZmUgdG8gbWVyZ2UgaWYgdGhleSBkb24ndCBleGlzdCBpbiB0aGUgdGFyZ2V0IHlldCxcblx0XHQmJiAhKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSAvLyB1bnNhZmUgaWYgdGhleSBleGlzdCB1cCB0aGUgcHJvdG90eXBlIGNoYWluLFxuXHRcdFx0JiYgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGFyZ2V0LCBrZXkpKSAvLyBhbmQgYWxzbyB1bnNhZmUgaWYgdGhleSdyZSBub25lbnVtZXJhYmxlLlxufVxuXG5mdW5jdGlvbiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHR2YXIgZGVzdGluYXRpb24gPSB7fTtcblx0aWYgKG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3QodGFyZ2V0KSkge1xuXHRcdGdldEtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IGNsb25lVW5sZXNzT3RoZXJ3aXNlU3BlY2lmaWVkKHRhcmdldFtrZXldLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fVxuXHRnZXRLZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRpZiAocHJvcGVydHlJc1Vuc2FmZSh0YXJnZXQsIGtleSkpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGlmIChwcm9wZXJ0eUlzT25PYmplY3QodGFyZ2V0LCBrZXkpICYmIG9wdGlvbnMuaXNNZXJnZWFibGVPYmplY3Qoc291cmNlW2tleV0pKSB7XG5cdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZ2V0TWVyZ2VGdW5jdGlvbihrZXksIG9wdGlvbnMpKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZChzb3VyY2Vba2V5XSwgb3B0aW9ucyk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGRlc3RpbmF0aW9uXG59XG5cbmZ1bmN0aW9uIGRlZXBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy5hcnJheU1lcmdlID0gb3B0aW9ucy5hcnJheU1lcmdlIHx8IGRlZmF1bHRBcnJheU1lcmdlO1xuXHRvcHRpb25zLmlzTWVyZ2VhYmxlT2JqZWN0ID0gb3B0aW9ucy5pc01lcmdlYWJsZU9iamVjdCB8fCBpc01lcmdlYWJsZU9iamVjdDtcblx0Ly8gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgaXMgYWRkZWQgdG8gYG9wdGlvbnNgIHNvIHRoYXQgY3VzdG9tIGFycmF5TWVyZ2UoKVxuXHQvLyBpbXBsZW1lbnRhdGlvbnMgY2FuIHVzZSBpdC4gVGhlIGNhbGxlciBtYXkgbm90IHJlcGxhY2UgaXQuXG5cdG9wdGlvbnMuY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQgPSBjbG9uZVVubGVzc090aGVyd2lzZVNwZWNpZmllZDtcblxuXHR2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcblx0dmFyIHRhcmdldElzQXJyYXkgPSBBcnJheS5pc0FycmF5KHRhcmdldCk7XG5cdHZhciBzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoID0gc291cmNlSXNBcnJheSA9PT0gdGFyZ2V0SXNBcnJheTtcblxuXHRpZiAoIXNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2gpIHtcblx0XHRyZXR1cm4gY2xvbmVVbmxlc3NPdGhlcndpc2VTcGVjaWZpZWQoc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2UgaWYgKHNvdXJjZUlzQXJyYXkpIHtcblx0XHRyZXR1cm4gb3B0aW9ucy5hcnJheU1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBtZXJnZU9iamVjdCh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucylcblx0fVxufVxuXG5kZWVwbWVyZ2UuYWxsID0gZnVuY3Rpb24gZGVlcG1lcmdlQWxsKGFycmF5LCBvcHRpb25zKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheScpXG5cdH1cblxuXHRyZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcblx0XHRyZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnMpXG5cdH0sIHt9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBtZXJnZV8xO1xuIiwiaW1wb3J0IG1lcmdlIGZyb20gJ2RlZXBtZXJnZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVmYWJDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoY2xhenosIHByb3BlcnRpZXMgPSB7fSwgb3ZlcndyaXRlID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuY2xhenogPSBjbGF6ejtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xyXG4gICAgICAgIHRoaXMub3ZlcndyaXRlID0gb3ZlcndyaXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5VG9FbnRpdHkoZW50aXR5LCBpbml0aWFsUHJvcHMgPSB7fSkge1xyXG4gICAgICAgIGlmICghdGhpcy5jbGF6ei5hbGxvd011bHRpcGxlICYmIGVudGl0eS5oYXModGhpcy5jbGF6eikpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm92ZXJ3cml0ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb21wID0gZW50aXR5W3RoaXMuY2xhenoucHJvdG90eXBlLl9ja2V5XTtcclxuXHJcbiAgICAgICAgICAgIGVudGl0eS5yZW1vdmUoY29tcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcm9wcyA9IG1lcmdlKHRoaXMucHJvcGVydGllcywgaW5pdGlhbFByb3BzKTtcclxuXHJcbiAgICAgICAgZW50aXR5LmFkZCh0aGlzLmNsYXp6LCBwcm9wcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlZmFiIHtcclxuICAgIG5hbWUgPSAnJztcclxuICAgIGluaGVyaXQgPSBbXTtcclxuICAgIGNvbXBvbmVudHMgPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb21wb25lbnQocHJlZmFiQ29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2gocHJlZmFiQ29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRvRW50aXR5KGVudGl0eSwgcHJlZmFiUHJvcHMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMuaW5oZXJpdC5mb3JFYWNoKChwYXJlbnQpID0+IHtcclxuICAgICAgICAgICAgcGFyZW50LmFwcGx5VG9FbnRpdHkoZW50aXR5LCBwcmVmYWJQcm9wcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFyckNvbXBzID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2xhenogPSBjb21wb25lbnQuY2xheno7XHJcbiAgICAgICAgICAgIGNvbnN0IGNrZXkgPSBjbGF6ei5wcm90b3R5cGUuX2NrZXk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5pdGlhbENvbXBQcm9wcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgaWYgKGNsYXp6LmFsbG93TXVsdGlwbGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGF6ei5rZXlQcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGNvbXBvbmVudC5wcm9wZXJ0aWVzW2NsYXp6LmtleVByb3BlcnR5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWZhYlByb3BzW2NrZXldICYmIHByZWZhYlByb3BzW2NrZXldW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbENvbXBQcm9wcyA9IHByZWZhYlByb3BzW2NrZXldW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFyckNvbXBzW2NrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyckNvbXBzW2NrZXldID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmFiUHJvcHNbY2tleV0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmFiUHJvcHNbY2tleV1bYXJyQ29tcHNbY2tleV1dXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxDb21wUHJvcHMgPSBwcmVmYWJQcm9wc1tja2V5XVthcnJDb21wc1tja2V5XV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBhcnJDb21wc1tja2V5XSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbENvbXBQcm9wcyA9IHByZWZhYlByb3BzW2NrZXldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb21wb25lbnQuYXBwbHlUb0VudGl0eShlbnRpdHksIGluaXRpYWxDb21wUHJvcHMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQcmVmYWJDb21wb25lbnQgZnJvbSAnLi9QcmVmYWJDb21wb25lbnQnO1xyXG5pbXBvcnQgUHJlZmFiIGZyb20gJy4vUHJlZmFiJztcclxuaW1wb3J0IHsgY2FtZWxTdHJpbmcgfSBmcm9tICcuL3V0aWwvc3RyaW5nLXV0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByZWZhYlJlZ2lzdHJ5IHtcclxuICAgIF9wcmVmYWJzID0ge307XHJcbiAgICBfZW5naW5lID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzZXJpYWxpemUoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyZWQgPSB0aGlzLmdldChkYXRhLm5hbWUpO1xyXG5cclxuICAgICAgICBpZiAocmVnaXN0ZXJlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByZWZhYiA9IG5ldyBQcmVmYWIoZGF0YS5uYW1lKTtcclxuXHJcbiAgICAgICAgbGV0IGluaGVyaXQ7XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuaW5oZXJpdCkpIHtcclxuICAgICAgICAgICAgaW5oZXJpdCA9IGRhdGEuaW5oZXJpdDtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLmluaGVyaXQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGluaGVyaXQgPSBbZGF0YS5pbmhlcml0XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbmhlcml0ID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmVmYWIuaW5oZXJpdCA9IGluaGVyaXQubWFwKChwYXJlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVmID0gdGhpcy5nZXQocGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcmVmKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgICAgICAgYFByZWZhYiBcIiR7ZGF0YS5uYW1lfVwiIGNhbm5vdCBpbmhlcml0IGZyb20gUHJlZmFiIFwiJHtwYXJlbnR9XCIgYmVjYXVzZSBpcyBub3QgcmVnaXN0ZXJlZCB5ZXQhIFByZWZhYnMgbXVzdCBiZSByZWdpc3RlcmVkIGluIHRoZSByaWdodCBvcmRlci5gXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlZjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29tcHMgPSBkYXRhLmNvbXBvbmVudHMgfHwgW107XHJcblxyXG4gICAgICAgIGNvbXBzLmZvckVhY2goKGNvbXBvbmVudERhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnREYXRhID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2tleSA9IGNhbWVsU3RyaW5nKGNvbXBvbmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xhenogPSB0aGlzLl9lbmdpbmUuX2NvbXBvbmVudHMuZ2V0KGNrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGF6eikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWZhYi5hZGRDb21wb25lbnQobmV3IFByZWZhYkNvbXBvbmVudChjbGF6eikpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50RGF0YSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNrZXkgPSBjYW1lbFN0cmluZyhjb21wb25lbnREYXRhLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2xhenogPSB0aGlzLl9lbmdpbmUuX2NvbXBvbmVudHMuZ2V0KGNrZXkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjbGF6eikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZWZhYi5hZGRDb21wb25lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmVmYWJDb21wb25lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGF6eixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudERhdGEucHJvcGVydGllcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudERhdGEub3ZlcndyaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgICAgIGBVbnJlY29nbml6ZWQgY29tcG9uZW50IHJlZmVyZW5jZSBcIiR7Y29tcG9uZW50RGF0YX1cIiBpbiBwcmVmYWIgXCIke2RhdGEubmFtZX1cIi4gRW5zdXJlIHRoZSBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIHByZWZhYi5gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcmVmYWI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXIoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHByZWZhYiA9IHRoaXMuZGVzZXJpYWxpemUoZGF0YSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZWZhYnNbcHJlZmFiLm5hbWVdID0gcHJlZmFiO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWZhYnNbbmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKHdvcmxkLCBuYW1lLCBwcm9wZXJ0aWVzID0ge30pIHtcclxuICAgICAgICBjb25zdCBwcmVmYWIgPSB0aGlzLmdldChuYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKCFwcmVmYWIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgICAgICAgICAgYENvdWxkIG5vdCBpbnN0YW50aWF0ZSBwcmVmYWIgXCIke25hbWV9XCIgc2luY2UgaXQgaXMgbm90IHJlZ2lzdGVyZWRgXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlbnRpdHkgPSB3b3JsZC5jcmVhdGVFbnRpdHkoKTtcclxuXHJcbiAgICAgICAgZW50aXR5Ll9xZWxpZ2libGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcHJlZmFiLmFwcGx5VG9FbnRpdHkoZW50aXR5LCBwcm9wZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgZW50aXR5Ll9xZWxpZ2libGUgPSB0cnVlO1xyXG4gICAgICAgIGVudGl0eS5fY2FuZGlkYWN5KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgYWxsb3dNdWx0aXBsZSA9IGZhbHNlO1xyXG4gICAgc3RhdGljIGtleVByb3BlcnR5ID0gbnVsbDtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge307XHJcblxyXG4gICAgZ2V0IHdvcmxkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVudGl0eS53b3JsZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWxsb3dNdWx0aXBsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5hbGxvd011bHRpcGxlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBrZXlQcm9wZXJ0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5rZXlQcm9wZXJ0eTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzID0ge30pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHRoaXMuY29uc3RydWN0b3IucHJvcGVydGllcywgcHJvcGVydGllcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmVudGl0eS5yZW1vdmUodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX29uRGVzdHJveWVkKCkge1xyXG4gICAgICAgIHRoaXMub25EZXN0cm95ZWQoKTtcclxuICAgICAgICBkZWxldGUgdGhpcy5lbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgX29uRXZlbnQoZXZ0KSB7XHJcbiAgICAgICAgdGhpcy5vbkV2ZW50KGV2dCk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpc1tldnQuaGFuZGxlck5hbWVdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXNbZXZ0LmhhbmRsZXJOYW1lXShldnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfb25BdHRhY2hlZChlbnRpdHkpIHtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLm9uQXR0YWNoZWQoZW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgY29uc3Qgb2IgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIG9iW2tleV0gPSB0aGlzW2tleV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2I7XHJcbiAgICB9XHJcblxyXG4gICAgb25BdHRhY2hlZChlbnRpdHkpIHt9XHJcbiAgICBvbkRlc3Ryb3llZCgpIHt9XHJcbiAgICBvbkV2ZW50KGV2dCkge31cclxufVxyXG4iLCJpbXBvcnQgeyBjYW1lbFN0cmluZyB9IGZyb20gJy4vdXRpbC9zdHJpbmctdXRpbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW50aXR5RXZlbnQge1xyXG4gICAgZGF0YSA9IHt9O1xyXG4gICAgcHJldmVudGVkID0gZmFsc2U7XHJcbiAgICBoYW5kbGVkID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IobmFtZSwgZGF0YSA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlck5hbWUgPSBjYW1lbFN0cmluZyhgb24gJHt0aGlzLm5hbWV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXMobmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgPT09IG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlKCkge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXZlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImNvbnN0IE9ORSA9IDFuO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN1YnRyYWN0Qml0ID0gKG51bSwgYml0KSA9PiB7XHJcbiAgICByZXR1cm4gbnVtICYgfigxbiA8PCBiaXQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZEJpdCA9IChudW0sIGJpdCkgPT4ge1xyXG4gICAgcmV0dXJuIG51bSB8IChPTkUgPDwgYml0KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYXNCaXQgPSAobnVtLCBiaXQpID0+IHtcclxuICAgIHJldHVybiAobnVtID4+IGJpdCkgJSAybiAhPT0gMG47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYml0SW50ZXJzZWN0aW9uID0gKG4xLCBuMikgPT4ge1xyXG4gICAgcmV0dXJuIG4xICYgbjI7XHJcbn07XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vQ29tcG9uZW50JztcclxuaW1wb3J0IHsgRW50aXR5RXZlbnQgfSBmcm9tICcuL0VudGl0eUV2ZW50JztcclxuaW1wb3J0IHsgYWRkQml0LCBoYXNCaXQsIHN1YnRyYWN0Qml0IH0gZnJvbSAnLi91dGlsL2JpdC11dGlsJztcclxuXHJcbmNvbnN0IGF0dGFjaENvbXBvbmVudCA9IChlbnRpdHksIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gY29tcG9uZW50Ll9ja2V5O1xyXG5cclxuICAgIGVudGl0eVtrZXldID0gY29tcG9uZW50O1xyXG4gICAgZW50aXR5LmNvbXBvbmVudHNba2V5XSA9IGNvbXBvbmVudDtcclxufTtcclxuXHJcbmNvbnN0IGF0dGFjaENvbXBvbmVudEtleWVkID0gKGVudGl0eSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjb21wb25lbnQuX2NrZXk7XHJcblxyXG4gICAgaWYgKCFlbnRpdHkuY29tcG9uZW50c1trZXldKSB7XHJcbiAgICAgICAgZW50aXR5W2tleV0gPSB7fTtcclxuICAgICAgICBlbnRpdHkuY29tcG9uZW50c1trZXldID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgZW50aXR5W2tleV1bY29tcG9uZW50W2NvbXBvbmVudC5rZXlQcm9wZXJ0eV1dID0gY29tcG9uZW50O1xyXG4gICAgZW50aXR5LmNvbXBvbmVudHNba2V5XVtjb21wb25lbnRbY29tcG9uZW50LmtleVByb3BlcnR5XV0gPSBjb21wb25lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBhdHRhY2hDb21wb25lbnRBcnJheSA9IChlbnRpdHksIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gY29tcG9uZW50Ll9ja2V5O1xyXG5cclxuICAgIGlmICghZW50aXR5LmNvbXBvbmVudHNba2V5XSkge1xyXG4gICAgICAgIGVudGl0eVtrZXldID0gW107XHJcbiAgICAgICAgZW50aXR5LmNvbXBvbmVudHNba2V5XSA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGVudGl0eVtrZXldLnB1c2goY29tcG9uZW50KTtcclxuICAgIGVudGl0eS5jb21wb25lbnRzW2tleV0ucHVzaChjb21wb25lbnQpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQ29tcG9uZW50ID0gKGVudGl0eSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjb21wb25lbnQuX2NrZXk7XHJcblxyXG4gICAgZGVsZXRlIGVudGl0eVtrZXldO1xyXG4gICAgZGVsZXRlIGVudGl0eS5jb21wb25lbnRzW2tleV07XHJcblxyXG4gICAgZW50aXR5Ll9jYml0cyA9IHN1YnRyYWN0Qml0KGVudGl0eS5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICBlbnRpdHkuX2NhbmRpZGFjeSgpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQ29tcG9uZW50S2V5ZWQgPSAoZW50aXR5LCBjb21wb25lbnQpID0+IHtcclxuICAgIGNvbnN0IGtleSA9IGNvbXBvbmVudC5fY2tleTtcclxuICAgIGNvbnN0IGtleVByb3AgPSBjb21wb25lbnRbY29tcG9uZW50LmtleVByb3BlcnR5XTtcclxuXHJcbiAgICBkZWxldGUgZW50aXR5W2tleV1ba2V5UHJvcF07XHJcbiAgICBkZWxldGUgZW50aXR5LmNvbXBvbmVudHNba2V5XVtrZXlQcm9wXTtcclxuXHJcbiAgICBpZiAoT2JqZWN0LmtleXMoZW50aXR5W2tleV0pLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgZGVsZXRlIGVudGl0eVtrZXldO1xyXG4gICAgICAgIGRlbGV0ZSBlbnRpdHkuY29tcG9uZW50c1trZXldO1xyXG4gICAgICAgIGVudGl0eS5fY2JpdHMgPSBzdWJ0cmFjdEJpdChlbnRpdHkuX2NiaXRzLCBjb21wb25lbnQuX2NiaXQpO1xyXG4gICAgICAgIGVudGl0eS5fY2FuZGlkYWN5KCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVDb21wb25lbnRBcnJheSA9IChlbnRpdHksIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgY29uc3Qga2V5ID0gY29tcG9uZW50Ll9ja2V5O1xyXG4gICAgY29uc3QgaWR4ID0gZW50aXR5W2tleV0uaW5kZXhPZihjb21wb25lbnQpO1xyXG5cclxuICAgIGVudGl0eVtrZXldLnNwbGljZShpZHgsIDEpO1xyXG4gICAgZW50aXR5LmNvbXBvbmVudHNba2V5XS5zcGxpY2UoaWR4LCAxKTtcclxuXHJcbiAgICBpZiAoZW50aXR5W2tleV0ubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICBkZWxldGUgZW50aXR5W2tleV07XHJcbiAgICAgICAgZGVsZXRlIGVudGl0eS5jb21wb25lbnRzW2tleV07XHJcbiAgICAgICAgZW50aXR5Ll9jYml0cyA9IHN1YnRyYWN0Qml0KGVudGl0eS5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICAgICAgZW50aXR5Ll9jYW5kaWRhY3koKVxyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3Qgc2VyaWFsaXplQ29tcG9uZW50ID0gKGNvbXBvbmVudCkgPT4ge1xyXG4gICAgcmV0dXJuIGNvbXBvbmVudC5zZXJpYWxpemUoKTtcclxufTtcclxuXHJcbmNvbnN0IHNlcmlhbGl6ZUNvbXBvbmVudEFycmF5ID0gKGFycikgPT4ge1xyXG4gICAgcmV0dXJuIGFyci5tYXAoc2VyaWFsaXplQ29tcG9uZW50KTtcclxufTtcclxuXHJcbmNvbnN0IHNlcmlhbGl6ZUNvbXBvbmVudEtleWVkID0gKG9iKSA9PiB7XHJcbiAgICBjb25zdCBzZXIgPSB7fTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGsgaW4gb2IpIHtcclxuICAgICAgICBzZXJba10gPSBzZXJpYWxpemVDb21wb25lbnQob2Jba10pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZXI7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRW50aXR5IHtcclxuICAgIF9jYml0cyA9IDBuO1xyXG4gICAgX3FlbGlnaWJsZSA9IHRydWU7XHJcblxyXG4gICAgY29uc3RydWN0b3Iod29ybGQsIGlkKSB7XHJcbiAgICAgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB7fTtcclxuICAgICAgICB0aGlzLmlzRGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgX2NhbmRpZGFjeSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fcWVsaWdpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMud29ybGQuX2NhbmRpZGF0ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKGNsYXp6LCBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gbmV3IGNsYXp6KHByb3BlcnRpZXMpO1xyXG5cclxuICAgICAgICBpZiAoY29tcG9uZW50LmtleVByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGF0dGFjaENvbXBvbmVudEtleWVkKHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQuYWxsb3dNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICBhdHRhY2hDb21wb25lbnRBcnJheSh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF0dGFjaENvbXBvbmVudCh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY2JpdHMgPSBhZGRCaXQodGhpcy5fY2JpdHMsIGNvbXBvbmVudC5fY2JpdCk7XHJcbiAgICAgICAgY29tcG9uZW50Ll9vbkF0dGFjaGVkKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYW5kaWRhY3koKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXMoY2xhenopIHtcclxuICAgICAgICByZXR1cm4gaGFzQml0KHRoaXMuX2NiaXRzLCBjbGF6ei5wcm90b3R5cGUuX2NiaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZShjb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoY29tcG9uZW50LmtleVByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNvbXBvbmVudEtleWVkKHRoaXMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQuYWxsb3dNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICByZW1vdmVDb21wb25lbnRBcnJheSh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUNvbXBvbmVudCh0aGlzLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29tcG9uZW50Ll9vbkRlc3Ryb3llZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5jb21wb25lbnRzW2tdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NiaXRzID0gc3VidHJhY3RCaXQodGhpcy5fY2JpdHMsIHYuX2NiaXQpO1xyXG4gICAgICAgICAgICAgICAgdi5fb25EZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYml0cyA9IHN1YnRyYWN0Qml0KHRoaXMuX2NiaXRzLCBjb21wb25lbnQuX2NiaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5fb25EZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIE9iamVjdC52YWx1ZXModikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYml0cyA9IHN1YnRyYWN0Qml0KHRoaXMuX2NiaXRzLCBjb21wb25lbnQuX2NiaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5fb25EZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXNba107XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbXBvbmVudHNba107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jYW5kaWRhY3koKTtcclxuICAgICAgICB0aGlzLndvcmxkLl9kZXN0cm95ZWQodGhpcy5pZCk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0ge307XHJcbiAgICAgICAgdGhpcy5pc0Rlc3Ryb3llZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5jb21wb25lbnRzW2tdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHNba10gPSBzZXJpYWxpemVDb21wb25lbnQodik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodiBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzW2tdID0gc2VyaWFsaXplQ29tcG9uZW50QXJyYXkodik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzW2tdID0gc2VyaWFsaXplQ29tcG9uZW50S2V5ZWQodik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAuLi5jb21wb25lbnRzLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZmlyZUV2ZW50KG5hbWUsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBldnQgPSBuZXcgRW50aXR5RXZlbnQobmFtZSwgZGF0YSk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5jb21wb25lbnRzW2tleV07XHJcblxyXG4gICAgICAgICAgICBpZiAodiBpbnN0YW5jZW9mIENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgdi5fb25FdmVudChldnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChldnQucHJldmVudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh2IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZbaV0uX29uRXZlbnQoZXZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2dC5wcmV2ZW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBPYmplY3QudmFsdWVzKHYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Ll9vbkV2ZW50KGV2dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldnQucHJldmVudGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXZ0O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGFkZEJpdCwgYml0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi91dGlsL2JpdC11dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBRdWVyeSB7XHJcbiAgICBfY2FjaGUgPSBbXTtcclxuICAgIF9vbkFkZExpc3RlbmVycyA9IFtdO1xyXG4gICAgX29uUmVtb3ZlTGlzdGVuZXJzID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3Iod29ybGQsIGZpbHRlcnMpIHtcclxuICAgICAgICB0aGlzLl93b3JsZCA9IHdvcmxkO1xyXG5cclxuICAgICAgICBjb25zdCBhbnkgPSBmaWx0ZXJzLmFueSB8fCBbXTtcclxuICAgICAgICBjb25zdCBhbGwgPSBmaWx0ZXJzLmFsbCB8fCBbXTtcclxuICAgICAgICBjb25zdCBub25lID0gZmlsdGVycy5ub25lIHx8IFtdO1xyXG5cclxuICAgICAgICB0aGlzLl9hbnkgPSBhbnkucmVkdWNlKChzLCBjKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRCaXQocywgYy5wcm90b3R5cGUuX2NiaXQpO1xyXG4gICAgICAgIH0sIDBuKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYWxsID0gYWxsLnJlZHVjZSgocywgYykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYWRkQml0KHMsIGMucHJvdG90eXBlLl9jYml0KTtcclxuICAgICAgICB9LCAwbik7XHJcblxyXG4gICAgICAgIHRoaXMuX25vbmUgPSBub25lLnJlZHVjZSgocywgYykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYWRkQml0KHMsIGMucHJvdG90eXBlLl9jYml0KTtcclxuICAgICAgICB9LCAwbik7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW50aXR5QWRkZWQoZm4pIHtcclxuICAgICAgICB0aGlzLl9vbkFkZExpc3RlbmVycy5wdXNoKGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVudGl0eVJlbW92ZWQoZm4pIHtcclxuICAgICAgICB0aGlzLl9vblJlbW92ZUxpc3RlbmVycy5wdXNoKGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBoYXMoZW50aXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWR4KGVudGl0eSkgPj0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZHgoZW50aXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmluZGV4T2YoZW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBtYXRjaGVzKGVudGl0eSkge1xyXG4gICAgICAgIGNvbnN0IGJpdHMgPSBlbnRpdHkuX2NiaXRzO1xyXG5cclxuICAgICAgICBjb25zdCBhbnkgPSB0aGlzLl9hbnkgPT09IDBuIHx8IGJpdEludGVyc2VjdGlvbihiaXRzLCB0aGlzLl9hbnkpID4gMDtcclxuICAgICAgICBjb25zdCBhbGwgPSBiaXRJbnRlcnNlY3Rpb24oYml0cywgdGhpcy5fYWxsKSA9PT0gdGhpcy5fYWxsO1xyXG4gICAgICAgIGNvbnN0IG5vbmUgPSBiaXRJbnRlcnNlY3Rpb24oYml0cywgdGhpcy5fbm9uZSkgPT09IDBuO1xyXG5cclxuICAgICAgICByZXR1cm4gYW55ICYmIGFsbCAmJiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbmRpZGF0ZShlbnRpdHkpIHtcclxuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmlkeChlbnRpdHkpO1xyXG4gICAgICAgIGNvbnN0IGlzVHJhY2tpbmcgPSBpZHggPj0gMDtcclxuXHJcbiAgICAgICAgaWYgKCFlbnRpdHkuaXNEZXN0cm95ZWQgJiYgdGhpcy5tYXRjaGVzKGVudGl0eSkpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1RyYWNraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZS5wdXNoKGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkFkZExpc3RlbmVycy5mb3JFYWNoKChjYikgPT4gY2IoZW50aXR5KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzVHJhY2tpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FjaGUuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiBjYihlbnRpdHkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoKCkge1xyXG4gICAgICAgIHRoaXMuX2NhY2hlID0gW107XHJcbiAgICAgICAgdGhpcy5fd29ybGQuX2VudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmRpZGF0ZShlbnRpdHkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnLi9FbnRpdHknO1xyXG5pbXBvcnQgeyBRdWVyeSB9IGZyb20gJy4vUXVlcnknO1xyXG5pbXBvcnQgeyBjYW1lbFN0cmluZyB9IGZyb20gJy4vdXRpbC9zdHJpbmctdXRpbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgV29ybGQge1xyXG4gICAgX2lkID0gMDtcclxuICAgIF9xdWVyaWVzID0gW107XHJcbiAgICBfZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICsrdGhpcy5faWQgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXR5KGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmdldChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXRpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLnZhbHVlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUVudGl0eShpZCA9IHRoaXMuY3JlYXRlSWQoKSkge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkodGhpcywgaWQpO1xyXG5cclxuICAgICAgICB0aGlzLl9lbnRpdGllcy5zZXQoaWQsIGVudGl0eSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveUVudGl0eShpZCkge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZ2V0RW50aXR5KGlkKTtcclxuXHJcbiAgICAgICAgaWYgKGVudGl0eSkge1xyXG4gICAgICAgICAgICBlbnRpdHkuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95RW50aXRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5fZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgIGVudGl0eS5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmRlc3Ryb3lFbnRpdGllcygpO1xyXG4gICAgICAgIHRoaXMuX2lkID0gMDtcclxuICAgICAgICB0aGlzLl9xdWVyaWVzID0gW107XHJcbiAgICAgICAgdGhpcy5fZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUXVlcnkoZmlsdGVycykge1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KHRoaXMsIGZpbHRlcnMpO1xyXG5cclxuICAgICAgICB0aGlzLl9xdWVyaWVzLnB1c2gocXVlcnkpO1xyXG5cclxuICAgICAgICByZXR1cm4gcXVlcnk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHJlZmFiKG5hbWUsIHByb3BlcnRpZXMgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVuZ2luZS5fcHJlZmFicy5jcmVhdGUodGhpcywgbmFtZSwgcHJvcGVydGllcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKGVudGl0aWVzKSB7XHJcbiAgICAgICAgY29uc3QganNvbiA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBlbnRpdGllcyB8fCB0aGlzLl9lbnRpdGllcztcclxuXHJcbiAgICAgICAgbGlzdC5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgIGpzb24ucHVzaChlLnNlcmlhbGl6ZSgpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXRpZXM6IGpzb24sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBkZXNlcmlhbGl6ZShkYXRhKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHlEYXRhIG9mIGRhdGEuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlT3JHZXRFbnRpdHlCeUlkKGVudGl0eURhdGEuaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHlEYXRhIG9mIGRhdGEuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVzZXJpYWxpemVFbnRpdHkoZW50aXR5RGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVPckdldEVudGl0eUJ5SWQoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbnRpdHkoaWQpIHx8IHRoaXMuY3JlYXRlRW50aXR5KGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBfZGVzZXJpYWxpemVFbnRpdHkoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHsgaWQsIC4uLmNvbXBvbmVudHMgfSA9IGRhdGE7XHJcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5fY3JlYXRlT3JHZXRFbnRpdHlCeUlkKGlkKTtcclxuICAgICAgICBlbnRpdHkuX3FlbGlnaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBPYmplY3QuZW50cmllcyhjb21wb25lbnRzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGNhbWVsU3RyaW5nKGtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuZW5naW5lLl9jb21wb25lbnRzLmdldCh0eXBlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWYuYWxsb3dNdWx0aXBsZSkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh2YWx1ZSkuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5hZGQoZGVmLCBkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZW50aXR5LmFkZChkZWYsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlbnRpdHkuX3FlbGlnaWJsZSA9IHRydWU7XHJcbiAgICAgICAgZW50aXR5Ll9jYW5kaWRhY3koKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2FuZGlkYXRlKGVudGl0eSkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJpZXMuZm9yRWFjaCgocSkgPT4gcS5jYW5kaWRhdGUoZW50aXR5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2Rlc3Ryb3llZChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcy5kZWxldGUoaWQpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudFJlZ2lzdHJ5IH0gZnJvbSAnLi9Db21wb25lbnRSZWdpc3RyeSc7XHJcbmltcG9ydCB7IFByZWZhYlJlZ2lzdHJ5IH0gZnJvbSAnLi9QcmVmYWJSZWdpc3RyeSc7XHJcbmltcG9ydCB7IFdvcmxkIH0gZnJvbSAnLi9Xb3JsZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcclxuICAgIF9jb21wb25lbnRzID0gbmV3IENvbXBvbmVudFJlZ2lzdHJ5KCk7XHJcbiAgICBfcHJlZmFicyA9IG5ldyBQcmVmYWJSZWdpc3RyeSh0aGlzKTtcclxuXHJcbiAgICByZWdpc3RlckNvbXBvbmVudChjbGF6eikge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMucmVnaXN0ZXIoY2xhenopO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyUHJlZmFiKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9wcmVmYWJzLnJlZ2lzdGVyKGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVdvcmxkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgV29ybGQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveVdvcmxkKHdvcmxkKSB7XHJcbiAgICAgICAgd29ybGQuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBjYWNoZSA9IHtcclxuICAgIGVudGl0aWVzQXRMb2NhdGlvbjoge30sXHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgY29uc3QgYWRkQ2FjaGVTZXQgPSAobmFtZSwga2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgaWYgKGNhY2hlW25hbWVdW2tleV0pIHtcclxuICAgICAgY2FjaGVbbmFtZV1ba2V5XS5hZGQodmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FjaGVbbmFtZV1ba2V5XSA9IG5ldyBTZXQoKTtcclxuICAgICAgY2FjaGVbbmFtZV1ba2V5XS5hZGQodmFsdWUpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgZXhwb3J0IGNvbnN0IGRlbGV0ZUNhY2hlU2V0ID0gKG5hbWUsIGtleSwgdmFsdWUpID0+IHtcclxuICAgIGlmIChjYWNoZVtuYW1lXVtrZXldICYmIGNhY2hlW25hbWVdW2tleV0uaGFzKHZhbHVlKSkge1xyXG4gICAgICBjYWNoZVtuYW1lXVtrZXldLmRlbGV0ZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgY29uc3QgcmVhZENhY2hlU2V0ID0gKG5hbWUsIGtleSwgdmFsdWUpID0+IHtcclxuICAgIGlmIChjYWNoZVtuYW1lXVtrZXldKSB7XHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZVtuYW1lXVtrZXldLmdldCh2YWx1ZSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmV0dXJuIGNhY2hlW25hbWVdW2tleV07XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICBleHBvcnQgZGVmYXVsdCBjYWNoZTsgIiwiZXhwb3J0IGNvbnN0IENoZWNrU2luZ2xlcyA9IChjb3VudHMsIEFsbG93ZWQgPSBbMSwyLDMsNCw1LDZdKSA9PiB7XHJcbiAgICByZXR1cm4gKENoZWNrU2FtZXMoY291bnRzLDEsIEFsbG93ZWQpKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ2hlY2tEb3VibGVzID0gKGNvdW50cywgQWxsb3dlZCA9IFsxLDIsMyw0LDUsNl0pID0+IHtcclxuICAgIHJldHVybiAoQ2hlY2tTYW1lcyhjb3VudHMsMiwgQWxsb3dlZCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja1RyaXBsZXMgPSAoY291bnRzLCBBbGxvd2VkID0gWzEsMiwzLDQsNSw2XSkgPT4ge1xyXG4gICAgcmV0dXJuIChDaGVja1NhbWVzKGNvdW50cywzLCBBbGxvd2VkKSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrUXVhZHMgPSAoY291bnRzLCAgQWxsb3dlZCA9IFsxLDIsMyw0LDUsNl0pID0+IHtcclxuICAgIHJldHVybiAoQ2hlY2tTYW1lcyhjb3VudHMsNCwgQWxsb3dlZCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja1NhbWVzID0gKGNvdW50cywgbWF0Y2gsIEFsbG93ZWQgPSBbMSwyLDMsNCw1LDZdKSA9PiB7XHJcbiAgICB2YXIgZm91bmQgPSBbXTtcclxuICAgIGZvciAobGV0IHggPSAxOyB4IDwgNzsgeCsrKSB7XHJcbiAgICAgICAgaWYoY291bnRzW3hdICYmIGNvdW50c1t4XSA9PSBtYXRjaCAmJiBBbGxvd2VkLmluY2x1ZGVzKHgpKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZm91bmQgbWF0Y2hcIilcclxuICAgICAgICAgICAgZm91bmQucHVzaCh4KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2lmIHdlIHdlbnQgb3ZlciBhbGxvd2VkIGxpbWl0XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGNvdW50cylcclxuICAgIGNvbnNvbGUubG9nKGZvdW5kKVxyXG4gICAgY29uc29sZS5sb2coXCJtYXRjaDpcIiArIG1hdGNoKVxyXG4gICAgcmV0dXJuIGZvdW5kXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja1N0cmFpZ2h0ID0gKGNvdW50cywgbWF0Y2gpID0+IHtcclxuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgdmFyIG1hdGNoZWQgPSAxO1xyXG4gICAgZm9yKHZhciB4ID0gMTsgeCA8IDc7IHgrKyl7XHJcbiAgICAgICAgaWYoY291bnRzW3hdIHx8IDApIHsgLy9tYWtlIHN1cmUgdGhpcyBkaWUgZXhpc3RzXHJcbiAgICAgICAgICAgIGlmKGNvdW50c1t4LTFdIHx8IDApeyAvL21ha2Ugc3VyZSBwcmV2aW91cyBkaWUgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICBpZihjb3VudHNbeF0gPT0gY291bnRzW3gtMV0peyAvL2lmIGN1cnJlbnQgZGllIGVxdWFscyBwcmV2aW91cyBkaWVcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkKys7IC8vd2UgZm91bmQgYSBtYXRjaCBzbyB1cCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG1hdGNoZWQgPT0gbWF0Y2gpeyAvLyBpZiBvdXIgbWF0Y2hlZCBjb3VudCBlcXVhbHMgb3VyIHN0cmFpZ2h0IHRhcmdldCBmb3VuZCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSAxOyAvL2N1cnJlbnQgZG9lc24ndCBtYXRjaCBwcmV2aW91cyBzZXQgbWF0Y2hlZCBiYWNrIHRvIGNvdW50IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhjb3VudHMpXHJcblxyXG4gICAgcmV0dXJuIGZvdW5kXHJcbn0iLCJleHBvcnQgY29uc3QgdG9DZWxsID0gKGNlbGxPcklkKSA9PiB7XHJcbiAgICBsZXQgY2VsbCA9IGNlbGxPcklkO1xyXG4gICAgaWYgKHR5cGVvZiBjZWxsID09PSBcInN0cmluZ1wiKSBjZWxsID0gaWRUb0NlbGwoY2VsbCk7XHJcbiAgXHJcbiAgICByZXR1cm4gY2VsbDtcclxuICB9O1xyXG4gIFxyXG4gIGV4cG9ydCBjb25zdCB0b0xvY0lkID0gKGNlbGxPcklkKSA9PiB7XHJcbiAgICBsZXQgbG9jSWQgPSBjZWxsT3JJZDtcclxuICAgIGlmICh0eXBlb2YgbG9jSWQgIT09IFwic3RyaW5nXCIpIGxvY0lkID0gY2VsbFRvSWQobG9jSWQpO1xyXG4gIFxyXG4gICAgcmV0dXJuIGxvY0lkO1xyXG4gIH07XHJcblxyXG5cclxuICBjb25zdCBpZFRvQ2VsbCA9IChpZCkgPT4ge1xyXG4gICAgY29uc3QgY29vcmRzID0gaWQuc3BsaXQoXCIsXCIpO1xyXG4gICAgcmV0dXJuIHsgeDogcGFyc2VJbnQoY29vcmRzWzBdLCAxMCksIHk6IHBhcnNlSW50KGNvb3Jkc1sxXSwgMTApIH07XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBjZWxsVG9JZCA9ICh7IHgsIHkgfSkgPT4gYCR7eH0sJHt5fWA7IiwiaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIjtcclxuaW1wb3J0ICogYXMgeWFodHplZSBmcm9tIFwiLi95YWh0emVlXCJcclxuaW1wb3J0IHtnYW1lU3RhdGUsIHRhcmdldEVudGl0eSwgU2V0UXVldWVkQWJpbGl0eSwgRXhhbWluZVRhcmdldEVuYWJsZSwgU2V0UXVldWVkRW50aXR5fSBmcm9tIFwiLi4vaW5kZXhcIlxyXG5pbXBvcnQgeyByZWFkQ2FjaGVTZXQgfSBmcm9tIFwiLi4vc3RhdGUvY2FjaGVcIjtcclxuaW1wb3J0IHt0b0xvY0lkfSBmcm9tIFwiLi4vbGliL2dyaWRcIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5ID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnY2FuVXNlJylcclxuICAgICAgICByZXR1cm4geWFodHplZS5DaGVja1NpbmdsZXMoZGljZSlcclxuICAgIH0sXHJcbiAgICBvblVzZTogKGFiaWxpdHksIGVudGl0eSwgdGFyZ2V0PSBudWxsKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3VzZWQnKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFiaWxpdHkpXHJcbiAgICAgICAgY29uc29sZS5sb2coYWJpbGl0eS5hYmlsaXR5UGhhc2UucGhhc2UpXHJcbiAgICAgICAgR2V0U2VsZWN0ZWREaWUoZW50aXR5KVxyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJnYWluLW1vdmVtZW50XCIsIDMpXHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlNb3ZlID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tTaW5nbGVzKGRpY2UpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6IChhYmlsaXR5LCBlbnRpdHksdGFyZ2V0ID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIC8vZ2V0IHNlbGVjdGVkIGRpZVxyXG4gICAgICAgIHZhciBzZWxlY3RlZCA9IEdldFNlbGVjdGVkRGllKGVudGl0eSlcclxuICAgICAgICB2YXIgdG9HYWluID0gMFxyXG4gICAgICAgIGZvcih2YXIgeCA9IDE7IHg8IDc7eCsrKXtcclxuICAgICAgICAgICAgaWYoc2VsZWN0ZWRbeF0gJiYgc2VsZWN0ZWRbeF0gPT0gMSl7XHJcbiAgICAgICAgICAgICAgICB0b0dhaW4gPSB4XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImdhaW4tbW92ZW1lbnRcIiwgdG9HYWluKTtcclxuICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG4gICAgfSxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlEb2RnZSA9IHtcclxuICAgIGNhblVzZTogKGFiaWxpdHksZW50aXR5LCBkaWNlID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrRG91YmxlcyhkaWNlKVxyXG4gICAgfSxcclxuICAgIG9uVXNlOiAoYWJpbGl0eSwgZW50aXR5LHRhcmdldD0gbnVsbCkgPT4ge1xyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJnYWluLWRvZGdlXCIsIDEpO1xyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJleGhhdXN0LXNlbGVjdGVkXCIpXHJcbiAgICB9LFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVN3b3JkSmFiID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzVHVybkVuZCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tTaW5nbGVzKGRpY2UsIGFiaWxpdHkuYWJpbGl0eUFsbG93ZWREaWUuYWxsb3dlZClcclxuICAgIH0sXHJcbiAgICBvblVzZTooYWJpbGl0eSxlbnRpdHksIHRhcmdldCA9IG51bGwpID0+IHtcclxuICAgICAgICAvL2dldCB0YXJnZXQhXHJcbiAgICAgICAgLy8gdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDp0YXJnZXRFbnRpdHkucG9zaXRpb24ueCx5OnRhcmdldEVudGl0eS5wb3NpdGlvbi55fSkpXHJcbiAgICAgICAgLy8gLy9hcHBseSBhdGsgdG8gZWFjaCB0aWxlIHdpdGhpbiB0aGlzIGF0dGFja3MgY29vcmRzXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZ2V0RW50aXRpZXNBdExvYylcclxuICAgICAgICAvLyBnZXRFbnRpdGllc0F0TG9jLmZvckVhY2goZWlkID0+IHtcclxuICAgICAgICAvLyAgICAgdmFyIGZldGNoZWRFbnQgPSB3b3JsZC5nZXRFbnRpdHkoZWlkKVxyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhmZXRjaGVkRW50KVxyXG4gICAgICAgIC8vICAgICBpZihmZXRjaGVkRW50Lmhhcyhjb21wb25lbnRzLkxheWVyTWFwKSl7XHJcbiAgICAgICAgLy8gICAgICAgICAvL3RoaXMgaXMgb3VyIG1hcCB0aWxlID9cclxuICAgICAgICAvLyAgICAgfSAgICAgICAgICAgICBcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgLy9kbyBhYmlsaXR5XHJcbiAgICAgICAgLy9mb3IgZWFjaCB0YXJnZXQgY3JlYXRlIGRtZyB0aWxlXHJcbiAgICAgICAgY29uc29sZS5sb2coYWJpbGl0eSlcclxuICAgICAgICBjb25zb2xlLmxvZyhhYmlsaXR5LmFiaWxpdHlUYXJnZXQuY29vcmRzKVxyXG5cclxuICAgICAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSwgdGFyZ2V0KVxyXG5cclxuICAgICAgICBcclxuICAgICAgICAvL2NyZWF0ZSBkbWcgdGlsZXNcclxuICAgICAgICBjb29yZHMuZm9yRWFjaChjb29yZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvb3JkKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQueCArIFwiLFwiK3RhcmdldC55KVxyXG4gICAgICAgICAgICB2YXIgbmV3RG1nVGlsZSA9ICB3b3JsZC5jcmVhdGVFbnRpdHkoKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDp0YXJnZXQueCArIGNvb3JkWzBdLHk6dGFyZ2V0LnkgKyBjb29yZFsxXX0gKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkZhc3RBdHRhY2spXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuRG1nVGlsZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJleGhhdXN0LXNlbGVjdGVkXCIpXHJcbiAgICAgICAgaWYoYWJpbGl0eS5oYXMoY29tcG9uZW50cy5BYmlsaXR5RW5kc1R1cm4pKXtcclxuICAgICAgICAgICAgZW50aXR5LmFkZChjb21wb25lbnRzLklzVHVybkVuZClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9zZXQgZ2FtZXN0YXRlIGJhY2tcclxuICAgIH0sIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIC8vc2V0IGdhbWVTdGF0ZSB0byB0YXJnZXRpbmdcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHF1ZXVlZEFiaWxpdHkpXHJcbiAgICAgICAgU2V0UXVldWVkQWJpbGl0eShhYmlsaXR5KVxyXG4gICAgICAgIFNldFF1ZXVlZEVudGl0eShlbnRpdHkpXHJcbiAgICAgICAgLy9xdWV1ZWRBYmlsaXR5ID0gYWJpbGl0eVxyXG4gICAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJ0YXJnZXRpbmdcIilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlTd29yZFN3aW5nID0ge1xyXG4gICAgY2FuVXNlOiAoYWJpbGl0eSxlbnRpdHksIGRpY2UgPSBHZXRTZWxlY3RlZERpZShlbnRpdHkpKSA9PiB7XHJcbiAgICAgICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzVHVybkVuZCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHlhaHR6ZWUuQ2hlY2tTaW5nbGVzKGRpY2UsIGFiaWxpdHkuYWJpbGl0eUFsbG93ZWREaWUuYWxsb3dlZClcclxuICAgIH0sXHJcbiAgICBvblVzZTooYWJpbGl0eSxlbnRpdHksdGFyZ2V0PSBudWxsKSA9PiB7XHJcbiAgICAgICAgdmFyIGNvb3JkcyA9IFJvdGF0ZUNvb3JkcyhhYmlsaXR5LCBlbnRpdHksdGFyZ2V0KVxyXG4gICAgICAgIC8vZG8gYWJpbGl0eVxyXG4gICAgICAgIC8vZm9yIGVhY2ggdGFyZ2V0IGNyZWF0ZSBkbWcgdGlsZVxyXG4gICAgICAgIGNvb3Jkcy5mb3JFYWNoKGNvb3JkID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29vcmQpXHJcbiAgICAgICAgICAgIHZhciBuZXdEbWdUaWxlID0gIHdvcmxkLmNyZWF0ZUVudGl0eSgpXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OnRhcmdldC54ICsgY29vcmRbMF0seTp0YXJnZXQueSArIGNvb3JkWzFdfSApXHJcbiAgICAgICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuU2xvd0F0dGFjaylcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5EbWdUaWxlKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgICAgICBpZihhYmlsaXR5Lmhhcyhjb21wb25lbnRzLkFiaWxpdHlFbmRzVHVybikpe1xyXG4gICAgICAgICAgICBlbnRpdHkuYWRkKGNvbXBvbmVudHMuSXNUdXJuRW5kKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIFNldFF1ZXVlZEFiaWxpdHkoYWJpbGl0eSlcclxuICAgICAgICBTZXRRdWV1ZWRFbnRpdHkoZW50aXR5KVxyXG4gICAgICAgIC8vcXVldWVkQWJpbGl0eSA9IGFiaWxpdHlcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwidGFyZ2V0aW5nXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5U3BlYXJUaHJ1c3QgPSB7XHJcbiAgICBjYW5Vc2U6IChhYmlsaXR5LGVudGl0eSwgZGljZSA9IEdldFNlbGVjdGVkRGllKGVudGl0eSkpID0+IHtcclxuICAgICAgICBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuSXNUdXJuRW5kKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geWFodHplZS5DaGVja1NpbmdsZXMoZGljZSwgYWJpbGl0eS5hYmlsaXR5QWxsb3dlZERpZS5hbGxvd2VkKVxyXG4gICAgfSxcclxuICAgIG9uVXNlOihhYmlsaXR5LGVudGl0eSx0YXJnZXQ9IG51bGwpID0+IHtcclxuICAgICAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSx0YXJnZXQpXHJcbiAgICAgICAgLy9kbyBhYmlsaXR5XHJcbiAgICAgICAgLy9mb3IgZWFjaCB0YXJnZXQgY3JlYXRlIGRtZyB0aWxlXHJcbiAgICAgICAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb29yZClcclxuICAgICAgICAgICAgdmFyIG5ld0RtZ1RpbGUgPSAgd29ybGQuY3JlYXRlRW50aXR5KClcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6dGFyZ2V0LnggKyBjb29yZFswXSx5OnRhcmdldC55ICsgY29vcmRbMV19IClcclxuICAgICAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5TbG93QXR0YWNrKVxyXG4gICAgICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkRtZ1RpbGUpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG4gICAgICAgIGlmKGFiaWxpdHkuaGFzKGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKSl7XHJcbiAgICAgICAgICAgIGVudGl0eS5hZGQoY29tcG9uZW50cy5Jc1R1cm5FbmQpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgXHJcbiAgICBvblRhcmdldDogKGFiaWxpdHksZW50aXR5KSA9PiB7XHJcbiAgICAgICAgU2V0UXVldWVkQWJpbGl0eShhYmlsaXR5KVxyXG4gICAgICAgIFNldFF1ZXVlZEVudGl0eShlbnRpdHkpXHJcbiAgICAgICAgLy9xdWV1ZWRBYmlsaXR5ID0gYWJpbGl0eVxyXG4gICAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJ0YXJnZXRpbmdcIilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlEb3VibGVBeGVTd2luZyA9IHtcclxuICAgIGNhblVzZTogKGFiaWxpdHksZW50aXR5LCBkaWNlID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KSkgPT4ge1xyXG4gICAgICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5Jc1R1cm5FbmQpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrRG91YmxlcyhkaWNlLCBhYmlsaXR5LmFiaWxpdHlBbGxvd2VkRGllLmFsbG93ZWQpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6R2VuZXJpY1Nsb3dBdHRhY2ssIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIFNldFF1ZXVlZEFiaWxpdHkoYWJpbGl0eSlcclxuICAgICAgICBTZXRRdWV1ZWRFbnRpdHkoZW50aXR5KVxyXG4gICAgICAgIC8vcXVldWVkQWJpbGl0eSA9IGFiaWxpdHlcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwidGFyZ2V0aW5nXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5QXhlRGVjYXBpdGF0ZSA9IHtcclxuICAgIGNhblVzZTogKGFiaWxpdHksZW50aXR5LCBkaWNlID0gR2V0U2VsZWN0ZWREaWUoZW50aXR5KSkgPT4ge1xyXG4gICAgICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5Jc1R1cm5FbmQpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB5YWh0emVlLkNoZWNrRG91YmxlcyhkaWNlLCBhYmlsaXR5LmFiaWxpdHlBbGxvd2VkRGllLmFsbG93ZWQpXHJcbiAgICB9LFxyXG4gICAgb25Vc2U6R2VuZXJpY0Zhc3RBdHRhY2ssIFxyXG4gICAgb25UYXJnZXQ6IChhYmlsaXR5LGVudGl0eSkgPT4ge1xyXG4gICAgICAgIFNldFF1ZXVlZEFiaWxpdHkoYWJpbGl0eSlcclxuICAgICAgICBTZXRRdWV1ZWRFbnRpdHkoZW50aXR5KVxyXG4gICAgICAgIC8vcXVldWVkQWJpbGl0eSA9IGFiaWxpdHlcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RW5hYmxlKFwidGFyZ2V0aW5nXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdlbmVyaWNTbG93QXR0YWNrKGFiaWxpdHksZW50aXR5LHRhcmdldD0gbnVsbCkge1xyXG4gICAgdmFyIGNvb3JkcyA9IFJvdGF0ZUNvb3JkcyhhYmlsaXR5LCBlbnRpdHksdGFyZ2V0KVxyXG4gICAgLy9kbyBhYmlsaXR5XHJcbiAgICAvL2ZvciBlYWNoIHRhcmdldCBjcmVhdGUgZG1nIHRpbGVcclxuICAgIGNvb3Jkcy5mb3JFYWNoKGNvb3JkID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhjb29yZClcclxuICAgICAgICB2YXIgbmV3RG1nVGlsZSA9ICB3b3JsZC5jcmVhdGVFbnRpdHkoKVxyXG4gICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OnRhcmdldC54ICsgY29vcmRbMF0seTp0YXJnZXQueSArIGNvb3JkWzFdfSApXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5TbG93QXR0YWNrKVxyXG4gICAgICAgIG5ld0RtZ1RpbGUuYWRkKGNvbXBvbmVudHMuRG1nVGlsZSwge2RtZzogYWJpbGl0eS5hYmlsaXR5RGFtYWdlLmRtZ30pXHJcbiAgICB9KVxyXG4gICAgZW50aXR5LmZpcmVFdmVudChcImV4aGF1c3Qtc2VsZWN0ZWRcIilcclxuICAgIGlmKGFiaWxpdHkuaGFzKGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKSl7XHJcbiAgICAgICAgZW50aXR5LmFkZChjb21wb25lbnRzLklzVHVybkVuZClcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gR2VuZXJpY0Zhc3RBdHRhY2soYWJpbGl0eSxlbnRpdHksdGFyZ2V0PSBudWxsKSB7XHJcbiAgICB2YXIgY29vcmRzID0gUm90YXRlQ29vcmRzKGFiaWxpdHksIGVudGl0eSx0YXJnZXQpXHJcbiAgICAvL2RvIGFiaWxpdHlcclxuICAgIC8vZm9yIGVhY2ggdGFyZ2V0IGNyZWF0ZSBkbWcgdGlsZVxyXG4gICAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNvb3JkKVxyXG4gICAgICAgIHZhciBuZXdEbWdUaWxlID0gIHdvcmxkLmNyZWF0ZUVudGl0eSgpXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6dGFyZ2V0LnggKyBjb29yZFswXSx5OnRhcmdldC55ICsgY29vcmRbMV19IClcclxuICAgICAgICBuZXdEbWdUaWxlLmFkZChjb21wb25lbnRzLkZhc3RBdHRhY2spXHJcbiAgICAgICAgbmV3RG1nVGlsZS5hZGQoY29tcG9uZW50cy5EbWdUaWxlLCB7ZG1nOiBhYmlsaXR5LmFiaWxpdHlEYW1hZ2UuZG1nfSlcclxuICAgIH0pXHJcbiAgICBlbnRpdHkuZmlyZUV2ZW50KFwiZXhoYXVzdC1zZWxlY3RlZFwiKVxyXG5cclxuICAgIGlmKGFiaWxpdHkuaGFzKGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKSl7XHJcbiAgICAgICAgZW50aXR5LmFkZChjb21wb25lbnRzLklzVHVybkVuZClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEdldFNlbGVjdGVkRGllID0gKGVudGl0eSkgPT4ge1xyXG4gICAgbGV0IGRpZUxpc3QgPSBbXVxyXG4gICAgZm9yKHZhciB4ID0gMDt4IDwgZW50aXR5LmRpZS5sZW5ndGg7IHgrKyl7XHJcbiAgICAgICAgaWYoZW50aXR5LmRpZVt4XS5zZWxlY3RlZCAmJiAhZW50aXR5LmRpZVt4XS5leGhhdXN0ZWQpe1xyXG4gICAgICAgICAgICBkaWVMaXN0LnB1c2goZW50aXR5LmRpZVt4XS5udW1iZXIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpZUxpc3Quc29ydCgpXHJcbiAgICB2YXIgY291bnRzID0ge307XHJcbiAgICBkaWVMaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgeyBjb3VudHNbeF0gPSAoY291bnRzW3hdIHx8IDApKzE7IH0pO1xyXG4gICAgLy9jb25zb2xlLmxvZyhjb3VudHMpXHJcbiAgICByZXR1cm4gY291bnRzO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgR2V0QWxsRGllID0gKGVudGl0eSkgPT4ge1xyXG4gICAgbGV0IGRpZUxpc3QgPSBbXVxyXG4gICAgY29uc29sZS5sb2coXCJBSSBESUNFXCIpXHJcbiAgICBmb3IodmFyIHggPSAwO3ggPCBlbnRpdHkuZGllLmxlbmd0aDsgeCsrKXtcclxuICAgICAgICBpZighZW50aXR5LmRpZVt4XS5leGhhdXN0ZWQpe1xyXG4gICAgICAgICAgICBkaWVMaXN0LnB1c2goZW50aXR5LmRpZVt4XS5udW1iZXIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpZUxpc3Quc29ydCgpXHJcbiAgICBjb25zb2xlLmxvZyhkaWVMaXN0LnRvU3RyaW5nKCkpXHJcbiAgICB2YXIgY291bnRzID0ge307XHJcbiAgICBkaWVMaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgeyBjb3VudHNbeF0gPSAoY291bnRzW3hdIHx8IDApKzE7IH0pO1xyXG4gICAgY29uc29sZS5sb2coY291bnRzKVxyXG4gICAgcmV0dXJuIGNvdW50cztcclxufVxyXG5cclxuY29uc3QgUm90YXRlQ29vcmRzID0gKGFiaWxpdHksIGVudGl0eSwgdGFyZ2V0KSA9PiB7XHJcbiAgICAvL2RvIHdlIG5lZWQgdG8gcm90YXRlIGNvb3Jkcz9cclxuICAgIHZhciBkaWZmWCA9IHRhcmdldC54IC0gZW50aXR5LnBvc2l0aW9uLnggIFxyXG4gICAgdmFyIGRpZmZZID0gdGFyZ2V0LnkgLSBlbnRpdHkucG9zaXRpb24ueTtcclxuICAgIHZhciBjb29yZHMgPSBhYmlsaXR5LmFiaWxpdHlUYXJnZXQuY29vcmRzO1xyXG4gICAgY29uc29sZS5sb2coXCJiZWZvcmUgcm90YXRlXCIpXHJcbiAgICBjb25zb2xlLmxvZyhjb29yZHMpXHJcbiAgICBjb25zb2xlLmxvZyhcImRpcmVjdGlvblwiKVxyXG4gICAgaWYoZGlmZlkgPD0gLTEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidXBcIilcclxuICAgIH1lbHNlIGlmKGRpZmZZID49IDEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZG93blwiKVxyXG4gICAgICAgIGNvb3JkcyA9IENvbnZlcnRDb29yZHNEb3duKGNvb3JkcylcclxuICAgIH1lbHNlIGlmKGRpZmZYIDw9IC0xKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxlZnRcIilcclxuICAgICAgICBjb29yZHMgPSBDb252ZXJ0Q29vcmRzTGVmdChjb29yZHMpXHJcbiAgICB9ZWxzZSBpZihkaWZmWCA+PSAxKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJpZ2h0XCIpXHJcbiAgICAgICAgY29vcmRzID0gQ29udmVydENvb3Jkc1JpZ2h0KGNvb3JkcylcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiYWZ0ZXIgcm90YXRlXCIpXHJcbiAgICBjb25zb2xlLmxvZyhjb29yZHMpXHJcbiAgICByZXR1cm4gY29vcmRzXHJcbn1cclxuXHJcbmNvbnN0IENvbnZlcnRDb29yZHNSaWdodCA9IChjb29yZHMpID0+IHtcclxuICAgIHZhciBuZXdSaWdodCA9IFtdXHJcbiAgICBjb29yZHMuZm9yRWFjaCggKGNvKSA9PiB7XHJcbiAgICAgICAgdmFyIGhvbGRlciA9IFtdXHJcbiAgICAgICAgaG9sZGVyLnB1c2goY29bMV0pXHJcbiAgICAgICAgaG9sZGVyLnB1c2goY29bMF0pXHJcbiAgICAgICAgaG9sZGVyWzBdID0gaG9sZGVyWzBdICogLTFcclxuICAgICAgICBob2xkZXJbMV0gPSBob2xkZXJbMV0gKiAxXHJcbiAgICAgICAgbmV3UmlnaHQucHVzaChob2xkZXIpXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIG5ld1JpZ2h0XHJcbn1cclxuXHJcbmNvbnN0IENvbnZlcnRDb29yZHNMZWZ0ID0gKGNvb3JkcykgPT4ge1xyXG4gICAgdmFyIG5ld1JpZ2h0ID0gW11cclxuICAgIGNvb3Jkcy5mb3JFYWNoKCAoY28pID0+IHtcclxuICAgICAgICB2YXIgaG9sZGVyID0gW11cclxuICAgICAgICBob2xkZXIucHVzaChjb1sxXSlcclxuICAgICAgICBob2xkZXIucHVzaChjb1swXSlcclxuICAgICAgICAvL2hvbGRlclswXSA9IGhvbGRlclswXSAqIC0xXHJcbiAgICAgICAgaG9sZGVyWzFdID0gaG9sZGVyWzFdICogLTFcclxuICAgICAgICBuZXdSaWdodC5wdXNoKGhvbGRlcilcclxuICAgIH0pXHJcbiAgICByZXR1cm4gbmV3UmlnaHRcclxufVxyXG5cclxuY29uc3QgQ29udmVydENvb3Jkc0Rvd24gPSAoY29vcmRzKSA9PiB7XHJcbiAgICB2YXIgbmV3UmlnaHQgPSBbXVxyXG4gICAgY29vcmRzLmZvckVhY2goIChjbykgPT4ge1xyXG4gICAgICAgIHZhciBob2xkZXIgPSBbXVxyXG4gICAgICAgIGhvbGRlciA9IFsuLi5jb11cclxuICAgICAgICBob2xkZXJbMF0gPSBob2xkZXJbMF0gKiAtMVxyXG4gICAgICAgIGhvbGRlclsxXSA9IGhvbGRlclsxXSAqIC0xXHJcbiAgICAgICAgbmV3UmlnaHQucHVzaChob2xkZXIpXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIG5ld1JpZ2h0XHJcbn0iLCJpbXBvcnQgd29ybGQgZnJvbSBcIi4vZWNzXCJcclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCJnZW90aWNcIjtcclxuaW1wb3J0IHsgcmFuZG9tLCBjb21wYWN0IH0gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQge2FkZENhY2hlU2V0LCBkZWxldGVDYWNoZVNldH0gZnJvbSBcIi4vY2FjaGVcIlxyXG5pbXBvcnQgKiBhcyBBYmlsaXRpZXMgZnJvbSBcIi4uL3N5c3RlbXMvYWJpbGl0aWVzXCJcclxuaW1wb3J0ICogYXMgTW92ZW1lbnRzIGZyb20gXCIuLi9zeXN0ZW1zL21vdmVtZW50XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBlYXJhbmNlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge1xyXG4gICAgICBjb2xvcjogXCIjZmYwMDc3XCIsXHJcbiAgICAgIGNoYXI6IFwiP1wiLFxyXG4gICAgICBiYWNrZ3JvdW5kOiBcIiMwMDBcIixcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEZXNjcmlwdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHsgXHJcbiAgICAgICAgbmFtZTogXCJObyBOYW1lXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFwibm90aGluZ1wiXHJcbiAgICAgfTtcclxuICB9XHJcbmV4cG9ydCBjbGFzcyBJc0Jsb2NraW5nIGV4dGVuZHMgQ29tcG9uZW50IHt9XHJcblxyXG5leHBvcnQgY2xhc3MgUG9zaXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7IHg6IDAsIHk6IDAgfTtcclxuICBcclxuICAgIG9uQXR0YWNoZWQoKSB7XHJcbiAgICAgIGNvbnN0IGxvY0lkID0gYCR7dGhpcy5lbnRpdHkucG9zaXRpb24ueH0sJHt0aGlzLmVudGl0eS5wb3NpdGlvbi55fWA7XHJcbiAgICAgIGFkZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIGxvY0lkLCB0aGlzLmVudGl0eS5pZCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBvbkRlc3Ryb3llZCgpIHsgICAgICBcclxuICAgICAgICBjb25zdCBsb2NJZCA9IGAke3RoaXMueH0sJHt0aGlzLnl9YDtcclxuICAgICAgICBkZWxldGVDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCBsb2NJZCwgdGhpcy5lbnRpdHkuaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbmV4cG9ydCBjbGFzcyBIZWFsdGggZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7IG1heDogNCwgY3VycmVudDogNCB9O1xyXG4gIFxyXG4gICAgb25UYWtlRGFtYWdlKGV2dCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaSd2ZSBiZWVuIGhpdCFcIilcclxuICAgICAgICB0aGlzLmN1cnJlbnQgLT0gZXZ0LmRhdGEuYW1vdW50O1xyXG4gICAgICBcclxuICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcylcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm93XCIpXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LnJlbW92ZSh0aGlzLmVudGl0eS5wb3NpdGlvbilcclxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuYWRkKElzRGVhZClcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuYXBwZWFyYW5jZS5jaGFyID0gXCIlXCI7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LnJlbW92ZSh0aGlzLmVudGl0eS5haSlcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkucmVtb3ZlKHRoaXMuZW50aXR5LmlzQmxvY2tpbmcpXHJcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LnJlbW92ZSh0aGlzLmVudGl0eS5sYXllcjQwMClcclxuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuYWRkKElzRGVhZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmFkZChMYXllcjMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICBldnQuaGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHBvcnQgY2xhc3MgTW92ZW1lbnQgZXh0ZW5kcyBDb21wb25lbnR7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHttb3ZlbWVudDogMCwgZG9kZ2U6IDAsIHg6IDAsIHk6IDB9XHJcblxyXG4gICAgb25HYWluTW92ZW1lbnQoZXZ0KSB7XHJcbiAgICAgIHRoaXMubW92ZW1lbnQgKz0gZXZ0LmRhdGE7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3IG1vdmVtZW50OiBcIiArIHRoaXMubW92ZW1lbnQpXHJcbiAgICAgIGV2dC5oYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkdhaW5Eb2RnZShldnQpe1xyXG4gICAgICB0aGlzLmRvZGdlICs9IGV2dC5kYXRhO1xyXG4gICAgICBldnQuaGFuZGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25UdXJuRW5kKGV2dCl7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdlbmRlZCBpbiBtb3ZlJylcclxuICAgICAgdGhpcy5tb3ZlbWVudCA9IDBcclxuICAgICAgdGhpcy5kb2RnZSA9IDBcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZVBvc2l0aW9uKGV2dCl7XHJcbiAgICAgIHRoaXMueCA9IGV2dC5kYXRhLnhcclxuICAgICAgdGhpcy55ID0gZXZ0LmRhdGEueVxyXG4gICAgICBldnQuaGFuZGxlKClcclxuICAgIH1cclxuICBcclxuICAgIG9uQXR0ZW1wdE1vdmUoZXZ0KXtcclxuICAgICAgaWYodGhpcy5tb3ZlbWVudCA8PSAwICYmIHRoaXMuZG9kZ2UgPD0gMCl7XHJcbiAgICAgICAgZXZ0LmhhbmRsZSgpXHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICB2YXIgc3VjY2VzcyA9IE1vdmVtZW50cy5BdHRlbXB0TW92ZSh0aGlzLCB0aGlzLmVudGl0eSlcclxuICAgICAgICBpZihzdWNjZXNzKXtcclxuICAgICAgICAgIC8vY2hlY2sgaWYgd2UgdXNlZCBtb3ZlbWVudCBvciBkb2RnZVxyXG4gICAgICAgICAgaWYodGhpcy5kb2RnZSA+IDApe1xyXG4gICAgICAgICAgICB0aGlzLmRvZGdlID0gTWF0aC5tYXgoMCx0aGlzLmRvZGdlIC0gMSlcclxuICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudCAtPSAxXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMueCA9IDBcclxuICAgICAgdGhpcy55ID0gMFxyXG4gICAgICBldnQuaGFuZGxlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBHYWluTW92ZW1lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7YW1vdW50OjN9XHJcblxyXG4gICAgb25UdXJuU3RhcnQoZXZ0KXtcclxuICAgICAgdGhpcy5lbnRpdHkuZmlyZUV2ZW50KFwiZ2Fpbi1tb3ZlbWVudFwiLCB0aGlzLmFtb3VudClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBBcm1vdXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIHByb3BlcnRpZXMgPSB7IG1heDogMCwgY3VycmVudDogMH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBTdGFtaW5hIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0geyBtYXg6IDUsIGN1cnJlbnQ6IDUsIHVzZWQ6IDAsIHJlZ2VuOiA0fVxyXG4gICAgb25BdHRhY2hlZCgpe1xyXG4gICAgICAvL2NvbnNvbGUubG9nKFwiZmlyZWQgc3RhbWluYVwiKVxyXG4gICAgICAvL2FkZCBkaWUgdG8gdGhpcyBlbnRpdHlcclxuICAgICAgZm9yKHZhciB4ID0gMDsgeCA8IHRoaXMubWF4O3grKyl7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkuYWRkKERpZSlcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm9uUm9sbERpY2UoKVxyXG4gICAgfVxyXG5cclxuICAgIG9uVHVybkVuZChldnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2RvaW5nIHR1cm4gZW5kJylcclxuICAgICAgLy9nYWluIHN0YW1pbmEgYmFjayA0LXVzZWQgc3RhbWluYSB0aGlzIHR1cm5cclxuICAgICAgLy90aGlzLm9uVXBkYXRlU3RhbWluYSgpXHJcbiAgICAgIHRoaXMuY3VycmVudCA9IE1hdGgubWluKHRoaXMubWF4LCB0aGlzLmN1cnJlbnQgKyBNYXRoLm1heCgwLHRoaXMucmVnZW4tdGhpcy51c2VkKSlcclxuICAgICAgdGhpcy51c2VkID0gMDtcclxuICAgICAgdGhpcy5vblJvbGxEaWNlKClcclxuICAgICAgLy9ldnQuaGFuZGxlKClcclxuICAgIH1cclxuXHJcbiAgICBvblJvbGxEaWNlKCl7XHJcbiAgICAgIC8vbG9vcCBvdmVyIGFsbCBkaWUgYW5kIHNodWZmbGUgdGhlbSBhbmQgZXhoYXVzdCBvbmVzIHRoYXQgYXJlIHBhc3QgbWF4XHJcbiAgICAgIGZvcih2YXIgeCA9IDA7IHggPCB0aGlzLm1heDsgeCsrKXtcclxuICAgICAgICB0aGlzLmVudGl0eS5kaWVbeF0uc2VsZWN0ZWQgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMuZW50aXR5LmRpZVt4XS5leGhhdXN0ZWQgPSAoeD49dGhpcy5jdXJyZW50KVxyXG4gICAgICAgIHRoaXMuZW50aXR5LmRpZVt4XS5udW1iZXIgPSByYW5kb20oMSwgNik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblVzZVN0YW1pbmEoZXZ0KXtcclxuICAgICAgdGhpcy5jdXJyZW50ID0gTWF0aC5tYXgodGhpcy5jdXJyZW50IC0gZXZ0LmRhdGEsIDApXHJcbiAgICB9XHJcblxyXG4gICAgb25BaVVzZVN0YW1pbmEoZXZ0KXtcclxuICAgICAgdGhpcy51c2VkICs9IGV2dC5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlU3RhbWluYSgpe1xyXG4gICAgICAvL3RoaXMuY3VycmVudCA9IE1hdGgubWluKDAsIHRoaXMuY3VycmVudCs9IE1hdGgubWF4KDQtdGhpcy51c2VkLHRoaXMubWF4KSlcclxuICAgICAgLy90aGlzLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnQgLSB0aGlzLnVzZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHBvcnQgY2xhc3MgRGllIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBhbGxvd011bHRpcGxlID0gdHJ1ZTtcclxuICAgIHN0YXRpYyBwcm9wZXJ0aWVzID0ge251bWJlcjogMCwgc2VsZWN0ZWQ6IGZhbHNlLCBleGhhdXN0ZWQ6IGZhbHNlfVxyXG5cclxuICAgIFxyXG4gICAgb25FeGhhdXN0U2VsZWN0ZWQoZXZ0KXtcclxuICAgICAgaWYodGhpcy5zZWxlY3RlZCl7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkuc3RhbWluYS51c2VkKys7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkuc3RhbWluYS5jdXJyZW50LS07XHJcbiAgICAgICAgdGhpcy5leGhhdXN0ZWQgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlXHJcblxyXG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmVFdmVudChcInVwZGF0ZS1zdGFtaW5hXCIpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBJc1R1cm5FbmQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgb25UdXJuRW5kKGV2dCkge1xyXG4gICAgICB0aGlzLmRlc3Ryb3koKVxyXG4gICAgfVxyXG4gIH1cclxuICBleHBvcnQgY2xhc3MgSXNQbGF5ZXJDb250cm9sbGVkIGV4dGVuZHMgQ29tcG9uZW50e31cclxuICBleHBvcnQgY2xhc3MgSXNFbmVteSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHtlbmVteTogdHJ1ZX1cclxuICB9XHJcbiAgZXhwb3J0IGNsYXNzIEFpIGV4dGVuZHMgQ29tcG9uZW50IHt9XHJcblxyXG4gIGV4cG9ydCBjbGFzcyBMYXllck1hcCBleHRlbmRzIENvbXBvbmVudCB7fVxyXG4gIGV4cG9ydCBjbGFzcyBMYXllclVuaXQgZXh0ZW5kcyBDb21wb25lbnQge31cclxuXHJcbiAgZXhwb3J0IGNsYXNzIFNsb3dBdHRhY2sgZXh0ZW5kcyBDb21wb25lbnQge31cclxuICBleHBvcnQgY2xhc3MgRmFzdEF0dGFjayBleHRlbmRzIENvbXBvbmVudCB7fVxyXG4gIGV4cG9ydCBjbGFzcyBJc0RlYWQgZXh0ZW5kcyBDb21wb25lbnQge30gLy9uZWVkcyB0byByZW1vdmUgaXMgYmxvY2sgYW5kIGNoYW5nZSBhcHBlYXJhbmNlIHRvIGNvcnBzZSBhbmQgc3VjaD9cclxuICBleHBvcnQgY2xhc3MgRG1nVGlsZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHtkbWc6IDF9XHJcbiAgfVxyXG5cclxuICAvL2FiaWxpdGllc1xyXG5leHBvcnQgY2xhc3MgQWJpbGl0eUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2FiaWxpdGllczogW119XHJcblxyXG4gIG9uQXR0YWNoZWQoKXtcclxuICAgIC8vdXBvbiBjcmVhdGlvbiBnZW5lcmF0ZSB0aGUgcHJlZmFicyBhbmQgZmlsbCB0aGlzIGxpc3RcclxuICAgIHZhciBhYmlsaXRpZXMgPSBbXVxyXG5cclxuICAgIHRoaXMuYWJpbGl0aWVzLmZvckVhY2goIChhYmlsKSA9PiB7XHJcbiAgICAgIGFiaWxpdGllcy5wdXNoKHdvcmxkLmNyZWF0ZVByZWZhYihhYmlsKSlcclxuICAgIH0pXHJcbiAgICB0aGlzLmFiaWxpdGllcz1hYmlsaXRpZXNcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5VGFyZ2V0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcGVydGllcyA9IHtjb29yZHM6IFtbMCwwXV19XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5QWxsb3dlZERpZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7YWxsb3dlZDogWzEsMiwzLDQsNSw2XX1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlGdW5jdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgcHJvcGVydGllcyA9IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHl9IFxyXG59XHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5UGhhc2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge3BoYXNlOiBcIkFueVwifVxyXG59XHJcbiAgXHJcbmV4cG9ydCBjbGFzcyBBYmlsaXR5U3BlZWQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge3NwZWVkOiBcIkluc3RhbnRcIn1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlTdGFtaW5hQ29zdCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7YW1vdW50OiAxfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eVNtYWxsTmFtZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3RhdGljIHByb3BlcnRpZXMgPSB7c21hbGxOYW1lOiBcImFibFwifVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJpbGl0eVJhbmdlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBzdGF0aWMgcHJvcGVydGllcyA9IHtyYW5nZTogMX1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlEYW1hZ2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHN0YXRpYyBwcm9wZXJ0aWVzID0ge2RtZzogMX1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFiaWxpdHlFbmRzVHVybiBleHRlbmRzIENvbXBvbmVudCB7fSIsImltcG9ydCB3b3JsZCBmcm9tIFwiLi4vc3RhdGUvZWNzXCI7XHJcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSBcIi4uL3N0YXRlL2NvbXBvbmVudFwiXHJcbmltcG9ydCB7IGdyaWQgfSBmcm9tIFwiLi4vbGliL2NhbnZhc1wiO1xyXG5pbXBvcnQgeyBhZGRDYWNoZVNldCwgZGVsZXRlQ2FjaGVTZXQsIHJlYWRDYWNoZVNldCB9IGZyb20gXCIuLi9zdGF0ZS9jYWNoZVwiO1xyXG5pbXBvcnQge3RvQ2VsbCwgdG9Mb2NJZH0gZnJvbSBcIi4uL2xpYi9ncmlkXCJcclxuXHJcbmV4cG9ydCBjb25zdCBBdHRlbXB0TW92ZSA9IChtb3ZlQ29tcCwgZW50aXR5KSA9PiB7XHJcbiAgICAvL21vdmUgY29tcCB3aWxsIGNvbnRhaW4gYW4geC95IGNoYW5nZVxyXG5cclxuICAgIC8vZW50aXR5IGlzIHRoZSBtb3ZpbmcgZW50aXR5XHJcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrIGhlcmVcIilcclxuICAgIGNvbnNvbGUubG9nKG1vdmVDb21wKVxyXG4gICAgY29uc29sZS5sb2coZW50aXR5KVxyXG5cclxuICAgIGxldCBteCA9IG1vdmVDb21wLng7XHJcbiAgICBsZXQgbXkgPSBtb3ZlQ29tcC55O1xyXG5cclxuICAgIG14ID0gZW50aXR5LnBvc2l0aW9uLnggKyBteDtcclxuICAgIG15ID0gZW50aXR5LnBvc2l0aW9uLnkgKyBteTtcclxuXHJcbiAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHdpbGwgcnVuIGFueSBjaGVja3MgdG8gc2VlIGlmIGVudGl0eSBjYW4gbW92ZSB0byBuZXcgbG9jYXRpb25cclxuICAgIC8vIG9ic2VydmUgbWFwIGJvdW5kYXJpZXNcclxuICAgIC8vbXggPSBNYXRoLm1pbigwLCBNYXRoLm1heChncmlkLm1hcC53aWR0aC0xLCBteCkpXHJcbiAgICAvL215ID0gTWF0aC5taW4oMCwgTWF0aC5tYXgoZ3JpZC5tYXAuaGVpZ2h0LTEsIG15KSlcclxuICAgIFxyXG4gICAgLy8gbXggPSBNYXRoLm1pbihncmlkLm1hcC53aWR0aCArIGdyaWQubWFwLnggLSAxLCBNYXRoLm1heChncmlkLm1hcC53aWR0aCwgbXgpKTtcclxuICAgIC8vIG15ID0gTWF0aC5taW4oZ3JpZC5tYXAuaGVpZ2h0ICsgZ3JpZC5tYXAueSAtIDEsIE1hdGgubWF4KGdyaWQubWFwLmhlaWdodCwgbXkpKTtcclxuXHJcbiAgICAvLyBjaGVjayBmb3IgYmxvY2tlcnNcclxuICAgIGNvbnN0IGJsb2NrZXJzID0gW107XHJcbiAgICBjb25zdCBmYXN0QXR0YWNrcyA9IFtdO1xyXG4gICAgLy8gcmVhZCBmcm9tIGNhY2hlXHJcbiAgICBjb25zb2xlLmxvZyhgJHtteH0sJHtteX1gKVxyXG4gICAgY29uc3QgZW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCBgJHtteH0sJHtteX1gKTtcclxuICAgIGNvbnNvbGUubG9nKGVudGl0aWVzQXRMb2MpXHJcbiAgICBmb3IgKGNvbnN0IGVJZCBvZiBlbnRpdGllc0F0TG9jKSB7XHJcbiAgICAgICAgaWYgKHdvcmxkLmdldEVudGl0eShlSWQpLmlzQmxvY2tpbmcpIHtcclxuICAgICAgICAgIGJsb2NrZXJzLnB1c2goZUlkKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGlmKGJsb2NrZXJzLmxlbmd0aCA+PSAxKXtcclxuICAgICAgICAvL3dlIGNhbid0IG1vdmUgaGVyZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdibG9ja2VkJylcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy9jaGVjayBjdXJyZW50IHRpbGUgZm9yIGZhc3QgYXR0YWNrc1xyXG4gICAgY29uc3QgZW50aXRpZXNBdEN1cnJlbnRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDplbnRpdHkucG9zaXRpb24ueCx5OmVudGl0eS5wb3NpdGlvbi55fSkpXHJcbiAgICBmb3IgKGNvbnN0IGVJZCBvZiBlbnRpdGllc0F0Q3VycmVudExvYykge1xyXG4gICAgICBjb25zb2xlLmxvZyh3b3JsZC5nZXRFbnRpdHkoZUlkKSlcclxuICAgICAgaWYod29ybGQuZ2V0RW50aXR5KGVJZCkuZmFzdEF0dGFjaykge1xyXG4gICAgICAgIGZhc3RBdHRhY2tzLnB1c2goZW50aXR5KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2NoZWNrIGlmIHdlIGZvdW5kIGFueVxyXG4gICAgaWYoZmFzdEF0dGFja3MubGVuZ3RoID49IDEpe1xyXG4gICAgICAvL3dlIG5lZWQgZG9kZ2UgdG8gbW92ZS5cclxuICAgICAgaWYoZW50aXR5Lm1vdmVtZW50LmRvZGdlIDwgMSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJubyBkb2RnZVwiKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIC8vcmVtb3ZlIDEgZG9kZ2UgZm9yIGdldHRpbmcgb3V0IG9mIHRpbGVcclxuICAgICAgICAvL2VudGl0eS5tb3ZlbWVudC5kb2RnZSA9IE1hdGgubWF4KDAsZW50aXR5Lm1vdmVtZW50LmRvZGdlIC0gMSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vd2UgY2FuIG1vdmUgdG8gdGhpcyBwb3NpdGlvblxyXG4gICAgZGVsZXRlQ2FjaGVTZXQoXHJcbiAgICAgICAgXCJlbnRpdGllc0F0TG9jYXRpb25cIixcclxuICAgICAgICBgJHtlbnRpdHkucG9zaXRpb24ueH0sJHtlbnRpdHkucG9zaXRpb24ueX1gLFxyXG4gICAgICAgIGVudGl0eS5pZFxyXG4gICAgICApO1xyXG4gICAgICBhZGRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCBgJHtteH0sJHtteX1gLCBlbnRpdHkuaWQpO1xyXG4gIFxyXG4gICAgICBlbnRpdHkucG9zaXRpb24ueCA9IG14O1xyXG4gICAgICBlbnRpdHkucG9zaXRpb24ueSA9IG15O1xyXG4gIFxyXG4gICAgcmV0dXJuIHRydWVcclxufVxyXG4iLCJcclxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tIFwiLi9jb21wb25lbnRcIlxyXG5pbXBvcnQgKiBhcyBBYmlsaXRpZXMgZnJvbSBcIi4uL3N5c3RlbXMvYWJpbGl0aWVzXCJcclxuXHJcbi8vIEJhc2VcclxuZXhwb3J0IGNvbnN0IFRpbGUgPSB7XHJcbiAgICBuYW1lOiBcIlRpbGVcIixcclxuICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgeyB0eXBlOiBcIkFwcGVhcmFuY2VcIiB9LFxyXG4gICAgICB7IHR5cGU6IFwiRGVzY3JpcHRpb25cIiB9LFxyXG4gICAgICB7IHR5cGU6IFwiTGF5ZXJNYXBcIiB9LFxyXG4gICAgXSxcclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgQmVpbmcgPSB7XHJcbiAgICBuYW1lOiBcIkJlaW5nXCIsXHJcbiAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgIHsgdHlwZTogXCJBcHBlYXJhbmNlXCIgfSxcclxuICAgICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIgfSxcclxuICAgICAgeyB0eXBlOiBcIkhlYWx0aFwiIH0sXHJcbiAgICAgIHsgdHlwZTogXCJJc0Jsb2NraW5nXCIgfSxcclxuICAgICAgeyB0eXBlOiBcIkxheWVyVW5pdFwiIH0sXHJcbiAgICAgIHsgdHlwZTogXCJNb3ZlbWVudFwifSxcclxuICAgICAgeyB0eXBlOiBcIkFybW91clwifSxcclxuICAgICAgeyB0eXBlOiBcIlN0YW1pbmFcIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5TGlzdFwifVxyXG4gICAgXSxcclxuICB9O1xyXG5cclxuICBleHBvcnQgY29uc3QgQWJpbGl0eSA9IHtcclxuICAgIG5hbWU6IFwiQWJpbGl0eVwiLFxyXG4gICAgY29tcG9uZW50czpbXHJcbiAgICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkdlbmVyaWMgQWJpbGl0eVwiLCBkZXNjcmlwdGlvbjogXCJ1c2VkIGZvciB0ZXN0aW5nIGFzIGJhc2UgdGVtcGxhdGVcIn19LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVBoYXNlXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVNwZWVkXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVN0YW1pbmFDb3N0XCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCJ9LFxyXG4gICAgICB7IHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlUYXJnZXRcIn0sXHJcbiAgICAgIHsgdHlwZTogXCJBYmlsaXR5QWxsb3dlZERpZVwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlSYW5nZVwifSxcclxuICAgICAgeyB0eXBlOiBcIkFiaWxpdHlEYW1hZ2VcIn1cclxuICAgIF1cclxuICB9XHJcblxyXG5cclxuICAgICAgLy8gZGVzY3JpcHRpb25cclxuXHRcdC8vIG5hbWVcclxuXHRcdC8vIHBoYXNlIFtERUZFTlNFLCBBVFRBQ0ssIEFOWV1cclxuXHRcdC8vIHNwZWVkIFtpbnN0YW50LCBmYXN0LHNsb3ddXHJcblx0XHQvLyBjYW5Vc2UoKSA9e30gIC0+IGRvIHJlcXVpcmVtZW50cyBjaGVja1xyXG5cdFx0Ly8gb25Vc2UoKSA9e30gLT4gZ2l2ZSBpbnN0YW50IHBsYXllciBidWZmIGxpa2UgbW92ZSBwb2ludHNcclxuXHRcdC8vIFx0XHRcdFx0c3RhcnQgdGFyZ2V0aW5nIHN5c3RlbVxyXG5cdFx0Ly8gb25UYXJnZXRVc2UoKSA9e30gLT4gd2hlbiB0YXJnZXQgaXMgZ2l2ZW4sIGlmIHZhbGlkIHRhcmdldCBleGhhdXN0IHN0YW1pbmEgZGllIGFuZCBhZGQgdG8gc3RhbWluYVJlZ2VuLnVzZWRcclxuXHJcbi8vYWR2YW5jZWRcclxuZXhwb3J0IGNvbnN0IFdhbGwgPSB7XHJcbiAgICBuYW1lOiBcIldhbGxcIixcclxuICAgIGluaGVyaXQ6IFtcIlRpbGVcIl0sXHJcbiAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgIHsgdHlwZTogXCJJc0Jsb2NraW5nXCIgfSxcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFwiQXBwZWFyYW5jZVwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHsgY2hhcjogXCIjXCIsIGNvbG9yOiBcIiNBQUFcIiB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHsgbmFtZTogXCJ3YWxsXCIgfSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBGbG9vciA9IHtcclxuICAgIG5hbWU6IFwiRmxvb3JcIixcclxuICAgIGluaGVyaXQ6IFtcIlRpbGVcIl0sXHJcbiAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0eXBlOiBcIkFwcGVhcmFuY2VcIixcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7IGNoYXI6IFwiLlwiLCBjb2xvcjogXCIjQUFBXCIgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7IG5hbWU6IFwid2FsbFwiIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gIH07XHJcblxyXG4gZXhwb3J0IGNvbnN0IFBsYXllckJlaW5nID0ge1xyXG4gICBuYW1lOiBcIlBsYXllckJlaW5nXCIsXHJcbiAgIGluaGVyaXQ6IFtcIkJlaW5nXCJdLFxyXG4gICBjb21wb25lbnRzOiBbXHJcbiAgICAge1xyXG4gICAgICAgdHlwZTogXCJJc1BsYXllckNvbnRyb2xsZWRcIlxyXG4gICAgIH0sXHJcbiAgICAgeyB0eXBlOiBcIkFwcGVyYW5jZVwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7Y2hhcjogXCJAXCJ9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFiaWxpdHlMaXN0XCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHthYmlsaXRpZXM6IFtcIkFiaWxpdHlNb3ZlXCIsIFwiQWJpbGl0eURvZGdlXCIsIFwiQWJpbGl0eVN3b3JkSmFiXCIsIFwiQWJpbGl0eVN3b3JkU3dpbmdcIl0gfVxyXG4gICAgfVxyXG4gICBdXHJcbiB9O1xyXG5cclxuIGV4cG9ydCBjb25zdCBNb2IgPSB7XHJcbiAgbmFtZTogXCJNb2JcIixcclxuICBpbmhlcml0OiBbXCJCZWluZ1wiXSxcclxuICBjb21wb25lbnRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWlcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJJc0VuZW15XCIsXHJcbiAgICB9LFxyXG4gICAge3R5cGU6IFwiR2Fpbk1vdmVtZW50XCJ9XHJcbiAgXVxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBHb2JsaW4gPSB7XHJcbiAgbmFtZTogXCJHb2JsaW5cIixcclxuICBpbmhlcml0OltcIk1vYlwiXSxcclxuICBjb21wb25lbnRzOiBbXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQXBwZWFyYW5jZVwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7Y2hhcjogXCJnXCIsIGNvbG9yOiBcImdyZWVuXCJ9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkdvYmxpblwiLCBkZXNjcmlwdGlvbjogXCJBIGxvd2x5IEdvYmxpblwifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5TGlzdFwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7YWJpbGl0aWVzOiBbXCJBYmlsaXR5U3BlYXJUaHJ1c3RcIl0gfVxyXG4gICAgfSxcclxuICAgIHt0eXBlOiBcIkhlYWx0aFwiLCBwcm9wZXJ0aWVzOiB7bWF4OjIsY3VycmVudDoyfX0sXHJcbiAgICB7IHR5cGU6IFwiU3RhbWluYVwiLCBwcm9wZXJ0aWVzOiB7IG1heDogMiwgY3VycmVudDogMiwgdXNlZDogMCwgcmVnZW46IDJ9fVxyXG4gIF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE9yY1dhcnJpb3IgPSB7XHJcbiAgbmFtZTogXCJPcmMgV2FycmlvclwiLFxyXG4gIGluaGVyaXQ6W1wiTW9iXCJdLFxyXG4gIGNvbXBvbmVudHM6IFtcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBcHBlYXJhbmNlXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtjaGFyOiBcIm9cIiwgY29sb3I6IFwiZ3JlZW5cIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiRGVzY3JpcHRpb25cIixcclxuICAgICAgcHJvcGVydGllczoge25hbWU6IFwiT3JjIFdhcnJpb3JcIiwgZGVzY3JpcHRpb246IFwiQSBmZWFyc29tZSBPcmMgd2llbGRpbmcgYXhlZXNcIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eUxpc3RcIixcclxuICAgICAgcHJvcGVydGllczoge2FiaWxpdGllczogW1wiQWJpbGl0eURvdWJsZUF4ZVN3aW5nXCIsIFwiQWJpbGl0eUF4ZURlY2FwaXRhdGVcIl0gfVxyXG4gICAgfSxcclxuICAgIHt0eXBlOiBcIkhlYWx0aFwiLCBwcm9wZXJ0aWVzOiB7bWF4OjgsY3VycmVudDo4fX0sXHJcbiAgICB7IHR5cGU6IFwiU3RhbWluYVwiLCBwcm9wZXJ0aWVzOiB7IG1heDogNCwgY3VycmVudDogNCwgdXNlZDogMCwgcmVnZW46IDR9fVxyXG4gIF1cclxufVxyXG5cclxuXHJcbi8vYWJpbGl0aWVzXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5TW92ZSA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlNb3ZlXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIk1vdmVcIiwgZGVzY3JpcHRpb246IFwiZXhoYXVzdHMgMSBkaWUgdG8gZ2l2ZSBpdCdzIGZhY2UgdmFsdWUgZm9yIG1vdmVtZW50IHBvaW50c1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlNb3ZlfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5U21hbGxOYW1lXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtzbWFsbE5hbWU6IFwiTU9WXCJ9XHJcbiAgICB9XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eURvZGdlID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eURvZGdlXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkRvZGdlXCIsIGRlc2NyaXB0aW9uOiBcImV4aGF1c3RzIGEgcGFpciB0byBnaXZlIDEgZG9kZ2UgcG9pbnRcIn19LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlGdW5jdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7ZnVuY3Rpb246IEFiaWxpdGllcy5BYmlsaXR5RG9kZ2V9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiBcIkFiaWxpdHlTbWFsbE5hbWVcIixcclxuICAgICAgcHJvcGVydGllczoge3NtYWxsTmFtZTogXCJEREdcIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eVN0YW1pbmFDb3N0XCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHthbW91bnQ6IDJ9XHJcbiAgICB9XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVNwZWFyVGhydXN0ID0ge1xyXG4gIG5hbWU6IFwiQWJpbGl0eVNwZWFyVGhydXN0XCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIlNwZWFyIFRocnVzdFwiLCBkZXNjcmlwdGlvbjogXCJleGhhdXN0cyA1LDYgdG8gZG8gYSBzbG93IGF0dGFjayBvbiBhIDJ4MSAxIGRtZ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlTcGVhclRocnVzdH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eVBoYXNlXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtwaGFzZTogXCJBdHRhY2tcIn1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIlNUSFwifVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTogXCJBYmlsaXR5VGFyZ2V0XCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtjb29yZHM6IFtbMCwwXSxbMCwtMV1dfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdHlwZTpcIkFiaWxpdHlBbGxvd2VkRGllXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHthbGxvd2VkOls1LDZdfVxyXG4gICAgfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5UmFuZ2VcIiwgcHJvcGVydGllczoge3JhbmdlOjJ9fVxyXG4gIF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlTd29yZEphYiA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlTd29yZEphYlwiLFxyXG4gIGluaGVyaXQ6W1wiQWJpbGl0eVwiXSxcclxuICBjb21wb25lbnRzOltcclxuICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7bmFtZTogXCJTd29yZCBKYWJcIiwgZGVzY3JpcHRpb246IFwiZXhoYXVzdHMgYSA0LDUsNiB0byBkbyBhIHNsb3cgYXR0YWNrIG9uIGEgc2luZ2xlIHRpbGUgZm9yIDEgZG1nXCJ9fSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RnVuY3Rpb25cIiwgcHJvcGVydGllczoge2Z1bmN0aW9uOiBBYmlsaXRpZXMuQWJpbGl0eVN3b3JkSmFifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlQaGFzZVwiLCBwcm9wZXJ0aWVzOiB7cGhhc2U6IFwiQXR0YWNrXCJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLCBwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIlNKQlwifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlUYXJnZXRcIiwgcHJvcGVydGllczoge2Nvb3JkczogW1swLDBdXX0gfSxcclxuICAgIHsgdHlwZTpcIkFiaWxpdHlBbGxvd2VkRGllXCIsIHByb3BlcnRpZXM6IHthbGxvd2VkOls0LDUsNl19IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUVuZHNUdXJuXCJ9XHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWJpbGl0eVN3b3JkU3dpbmcgPSB7XHJcbiAgbmFtZTogXCJBYmlsaXR5U3dvcmRTd2luZ1wiLFxyXG4gIGluaGVyaXQ6W1wiQWJpbGl0eVwiXSxcclxuICBjb21wb25lbnRzOltcclxuICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7bmFtZTogXCJTd29yZCBTd2luZ1wiLCBkZXNjcmlwdGlvbjogXCJleGhhdXN0cyA2IHRvIGRvIGEgc2xvdyBhdHRhY2sgb24gYSBUIHNoYXBlIGZvciAxIGRtZ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUZ1bmN0aW9uXCIsIHByb3BlcnRpZXM6IHtmdW5jdGlvbjogQWJpbGl0aWVzLkFiaWxpdHlTd29yZFN3aW5nfSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlQaGFzZVwiLCBwcm9wZXJ0aWVzOiB7cGhhc2U6IFwiQXR0YWNrXCJ9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVNtYWxsTmFtZVwiLCBwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIlNTV1wifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlUYXJnZXRcIiwgcHJvcGVydGllczoge2Nvb3JkczogWyBbLTEsMF0sWzAsMF0sWzEsMF0sWzAsLTFdIF19IH0sXHJcbiAgICB7IHR5cGU6XCJBYmlsaXR5QWxsb3dlZERpZVwiLCBwcm9wZXJ0aWVzOiB7YWxsb3dlZDpbNl19IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eUVuZHNUdXJuXCJ9XHJcbiAgXVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IEFiaWxpdHlEb3VibGVBeGVTd2luZyA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlEb3VibGVBeGVTd2luZ1wiLFxyXG4gIGluaGVyaXQ6W1wiQWJpbGl0eVwiXSxcclxuICBjb21wb25lbnRzOltcclxuICAgIHsgdHlwZTogXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7bmFtZTogXCJEb3VibGUgQXhlIFN3aW5nXCIsIGRlc2NyaXB0aW9uOiBcInN3aW5ncyBib3RoIHlvdXIgYXhlcyBpbiB0d28gbWFzc2l2ZSBhcmNzIGRlYWxpbmcgMiBkbWdcIn19LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlGdW5jdGlvblwiLCBwcm9wZXJ0aWVzOiB7ZnVuY3Rpb246IEFiaWxpdGllcy5BYmlsaXR5RG91YmxlQXhlU3dpbmd9IH0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVBoYXNlXCIsIHByb3BlcnRpZXM6IHtwaGFzZTogXCJBdHRhY2tcIn0gfSxcclxuICAgIHt0eXBlOiBcIkFiaWxpdHlTbWFsbE5hbWVcIixwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIkRBU1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVRhcmdldFwiLCBwcm9wZXJ0aWVzOiB7Y29vcmRzOiBbWy0xLDBdLFswLDBdLFsxLDBdLFstMSwxXSxbMSwxXV19fSxcclxuICAgIHsgdHlwZTpcIkFiaWxpdHlBbGxvd2VkRGllXCIsIHByb3BlcnRpZXM6IHthbGxvd2VkOls1LDZdfSAgfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5U3RhbWluYUNvc3RcIiwgcHJvcGVydGllczoge2Ftb3VudDogM30gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RGFtYWdlXCIsIHByb3BlcnRpZXM6IHtkbWc6Mn0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RW5kc1R1cm5cIn1cclxuICBdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBYmlsaXR5QXhlRGVjYXBpdGF0ZSA9IHtcclxuICBuYW1lOiBcIkFiaWxpdHlBeGVEZWNhcGl0YXRlXCIsXHJcbiAgaW5oZXJpdDpbXCJBYmlsaXR5XCJdLFxyXG4gIGNvbXBvbmVudHM6W1xyXG4gICAgeyB0eXBlOiBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBcIkF4ZSBEZWNhcGl0YXRlXCIsIGRlc2NyaXB0aW9uOiBcIlN3aW5ncyBhbiBheGUgZGlyZWN0bHkgYXQgdGhlIHRhcmdldHMgaGVhZCBmb3IgMyBkbWdcIn19LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlGdW5jdGlvblwiLCBwcm9wZXJ0aWVzOiB7ZnVuY3Rpb246IEFiaWxpdGllcy5BYmlsaXR5QXhlRGVjYXBpdGF0ZX0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5UGhhc2VcIiwgcHJvcGVydGllczoge3BoYXNlOiBcIkF0dGFja1wifSB9LFxyXG4gICAgeyB0eXBlOiBcIkFiaWxpdHlTbWFsbE5hbWVcIixwcm9wZXJ0aWVzOiB7c21hbGxOYW1lOiBcIkRBQ1wifX0sXHJcbiAgICB7IHR5cGU6IFwiQWJpbGl0eVRhcmdldFwiLCBwcm9wZXJ0aWVzOiB7Y29vcmRzOiBbWzAsMF1dfSB9LFxyXG4gICAgeyB0eXBlOlwiQWJpbGl0eUFsbG93ZWREaWVcIiwgcHJvcGVydGllczoge2FsbG93ZWQ6WzZdfSAgfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5U3RhbWluYUNvc3RcIiwgcHJvcGVydGllczoge2Ftb3VudDogNH0gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RGFtYWdlXCIsIHByb3BlcnRpZXM6IHtkbWc6M30gfSxcclxuICAgIHsgdHlwZTogXCJBYmlsaXR5RW5kc1R1cm5cIn1cclxuICBdXHJcbn0iLCJpbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiZ2VvdGljXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuL2NvbXBvbmVudFwiXHJcblxyXG5pbXBvcnQgKiBhcyBwcmVmYWJzIGZyb20gXCIuL3ByZWZhYlwiXHJcbmltcG9ydCB7U3RhcnRHYW1lfSBmcm9tIFwiLi4vaW5kZXhcIlxyXG5cclxuY29uc3QgZWNzID0gbmV3IEVuZ2luZSgpO1xyXG5cclxuY29uc3Qgd29ybGQgPSBlY3MuY3JlYXRlV29ybGQoKTtcclxucmVnaXN0ZXJDb21wcygpXHJcbnJlZ2lzdGVyUHJlZmFicygpXHJcblxyXG5TdGFydEdhbWUoKVxyXG5jb25zdCByZWdpc3RlckNvbXBzID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiZ290IGhlcmUgZmlyc3RcIilcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BcHBlYXJhbmNlKTtcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Bcm1vdXIpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuRGVzY3JpcHRpb24pO1xyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkhlYWx0aClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Jc0Jsb2NraW5nKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLklzRGVhZClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5Jc1BsYXllckNvbnRyb2xsZWQpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuSXNFbmVteSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5MYXllck1hcCk7XHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuTGF5ZXJVbml0KVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLk1vdmVtZW50KVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLlBvc2l0aW9uKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLlN0YW1pbmEpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuRGllKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLlNsb3dBdHRhY2spXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuRmFzdEF0dGFjaylcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5EbWdUaWxlKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLklzVHVybkVuZClcclxuXHJcbiAgLy9hYmlsaXR5XHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eUxpc3QpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eUZ1bmN0aW9uKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlQaGFzZSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5U3BlZWQpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eVN0YW1pbmFDb3N0KVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlTbWFsbE5hbWUpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eVRhcmdldClcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5BYmlsaXR5QWxsb3dlZERpZSlcclxuICBlY3MucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50cy5HYWluTW92ZW1lbnQpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eVJhbmdlKVxyXG4gIGVjcy5yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnRzLkFiaWxpdHlEYW1hZ2UpXHJcbiAgZWNzLnJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudHMuQWJpbGl0eUVuZHNUdXJuKVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IHJlZ2lzdGVyUHJlZmFicyA9ICgpID0+IHtcclxuICAvL3ByZWZhYnNcclxuXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuVGlsZSlcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5CZWluZylcclxuXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuV2FsbClcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5GbG9vcilcclxuXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuUGxheWVyQmVpbmcpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuTW9iKVxyXG5cclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5Hb2JsaW4pXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuT3JjV2FycmlvcilcclxuXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eSlcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5TW92ZSlcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5RG9kZ2UpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eVNwZWFyVGhydXN0KVxyXG4gIGVjcy5yZWdpc3RlclByZWZhYihwcmVmYWJzLkFiaWxpdHlTd29yZEphYilcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5U3dvcmRTd2luZylcclxuICBlY3MucmVnaXN0ZXJQcmVmYWIocHJlZmFicy5BYmlsaXR5RG91YmxlQXhlU3dpbmcpXHJcbiAgZWNzLnJlZ2lzdGVyUHJlZmFiKHByZWZhYnMuQWJpbGl0eUF4ZURlY2FwaXRhdGUpXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBtZXNzYWdlTG9nID0gW1wiXCIsIFwiV2VsY29tZSB0byBHb2JzICdPIEdvYmxpbnMhXCIsIFwiXCJdO1xyXG5leHBvcnQgY29uc3QgYWRkTG9nID0gKHRleHQpID0+IHtcclxuICBtZXNzYWdlTG9nLnVuc2hpZnQodGV4dCk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3b3JsZDsiLCIvL3VzZWQgZm9yIGRyYXdpbmcgdGhlIGhlbHAgbWVudVxyXG5cclxuaW1wb3J0IHtkaXNwbGF5LCBkaXNwbGF5SGVscCxkaXZIZWxwLCBncmlkIH0gZnJvbSBcIi4uL2xpYi9jYW52YXNcIlxyXG5cclxuZXhwb3J0IGNvbnN0IERyYXdIZWxwTWVudSA9ICgpID0+IHtcclxuICAgIE1ha2VWaXNpYmxlKClcclxuXHJcbiAgICB2YXIgaGVscFRleHQgPSBcIldlbGNvbWUgdG8gbXkgYmFkIGdhbWUsIHRoaXMgaXMganVzdCBwbGFjZWhvbGRlciBoZWxwIHRleHQgZm9yIG5vd1wiXHJcblxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5cXG5FbmVteSBhdHRhY2tzIGF0IGVuZCBvZiBwbGF5ZXIgZGVmZW5kIHR1cm5cIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG55b3UgbmVlZCB0byB1c2UgZG9kZ2UgdG8gZ2V0IG91dCBvZiByZWQgYXR0YWNrc1wiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbllvdSByZWdlbiA0IHN0YW1pbmEgLSB0aGUgYW1vdW50IHVzZWQgdGhpcyB0dXJuXCJcclxuXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbnBsYXllciBhdHRhY2tzIHJlc29sdmUgYXQgZW5kIG9mIHBsYXllciBhdHRhY2sgdHVyblwiXHJcblxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5cXG5IT1RLRVlTOlwiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbkFycm93IEtleXMgdG8gbW92ZVwiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbkVudGVyIHRvIGVuZCB0dXJuIC8gY29uZmlybSB0YXJnZXRcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5uOiBzZWxlY3QgbmV4dCBjaGFyYWN0ZXJcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG4xLTYgYXJlIHRvIHNlbGVjdCBzdGFtaW5hIGRpZVwiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbnF3ZXJ0eSBzZWxlY3RzIGFiaWxpdGVzXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuc2hpZnQrcXdlcnR5IGZvciBpbmZvXCJcclxuICAgIGhlbHBUZXh0ICs9IFwiXFxuejogc2hvd3MgZW5lbXkgbnVtYmVyc1wiXHJcbiAgICBoZWxwVGV4dCArPSBcIlxcbmM6IHNob3dzIGRtZyB0aGF0IHdpbGwgaGl0IHRpbGVcIlxyXG4gICAgaGVscFRleHQgKz0gXCJcXG5Fc2NhcGUgdG8gZXhpdCB0aGlzIGFuZCBtb3N0IG1lbnVzXCJcclxuXHJcbiAgICBkaXNwbGF5SGVscC5kcmF3VGV4dCgyLDUsaGVscFRleHQpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBIaWRlSGVscE1lbnUgPSAoKSA9PiB7XHJcbiAgICBkaXNwbGF5SGVscC5jbGVhcigpXHJcbiAgICBkaXZIZWxwLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xyXG59XHJcblxyXG5jb25zdCBNYWtlVmlzaWJsZSA9ICgpID0+IHtcclxuICAgIC8vbWFrZSBpdCB2aXNpYmxlXHJcbiAgICBkaXZIZWxwLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcclxuXHJcbiAgICB2YXIgYmFubmVyID0gXCIjXCIucmVwZWF0KGdyaWQuaGVscE1lbnUud2lkdGgpO1xyXG4gICAgZGlzcGxheUhlbHAuZHJhd1RleHQoMCwwLGJhbm5lcilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNob3dBYmlsaXR5SW5mbyA9IChhYmlsKSA9PiB7XHJcbiAgICBNYWtlVmlzaWJsZSgpXHJcbiAgICB2YXIgdG9Xcml0ZSA9IFdyaXRlQWJpbGl0eShhYmlsKVxyXG4gICAgZGlzcGxheUhlbHAuZHJhd1RleHQoMiw1LHRvV3JpdGUpXHJcbiAgICAvL0FiaWxpdHkgbmFtZVxyXG4gICAgLy9BYmlsaXR5IHNob3J0IG5hbWVcclxuICAgIC8vZGVzY3JpcHRpb25cclxuICAgIC8vcGhhc2VcclxufVxyXG5cclxuY29uc3QgV3JpdGVBYmlsaXR5ID0gKGFiaWwpID0+IHtcclxuICAgIHZhciB0b1dyaXRlID0gXCJcIlxyXG5cclxuICAgIHRvV3JpdGUgKz0gXCJcXG5cIithYmlsLmRlc2NyaXB0aW9uLm5hbWVcclxuICAgIHRvV3JpdGUgKz0gXCJcXG5cIithYmlsLmRlc2NyaXB0aW9uLmRlc2NyaXB0aW9uXHJcbiAgICB0b1dyaXRlICs9IFwiXFxuXCIrYWJpbC5hYmlsaXR5UGhhc2UucGhhc2VcclxuICAgIHRvV3JpdGUgKz0gXCJcXG5cIithYmlsLmFiaWxpdHlQaGFzZS5zcGVlZFxyXG5cclxuICAgIHJldHVybiB0b1dyaXRlXHJcbn0iLCJpbXBvcnQge1xyXG4gICAgZGlzcGxheSxcclxuICAgIGdyaWRcclxuICB9IGZyb20gXCIuLi9saWIvY2FudmFzXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuLi9zdGF0ZS9jb21wb25lbnRcIlxyXG5cclxuaW1wb3J0IHdvcmxkIGZyb20gXCIuLi9zdGF0ZS9lY3NcIjtcclxuaW1wb3J0IHsgcmVhZENhY2hlU2V0IH0gZnJvbSBcIi4uL3N0YXRlL2NhY2hlXCI7XHJcbmltcG9ydCB7dG9DZWxsLCB0b0xvY0lkfSBmcm9tIFwiLi4vbGliL2dyaWRcIlxyXG5pbXBvcnQge0N1cnJyZW50QWN0aXZlUGxheWVyLCBnYW1lU3RhdGUsIHRhcmdldEVudGl0eX0gZnJvbSBcIi4uL2luZGV4XCJcclxuaW1wb3J0IHtEcmF3SGVscE1lbnUsU2hvd0FiaWxpdHlJbmZvfSBmcm9tIFwiLi4vc3RhdGUvaGVscE1lbnVcIlxyXG5cclxuY29uc3QgbGF5ZXJNYXBFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICAgIGFsbDogW2NvbXBvbmVudHMuUG9zaXRpb24sIGNvbXBvbmVudHMuQXBwZWFyYW5jZSwgY29tcG9uZW50cy5MYXllck1hcF1cclxuICB9KTtcclxuXHJcbiAgY29uc3QgbGF5ZXJVbml0RW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0XVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBzbG93RG1nRW50aXRpZXMgPSB3b3JsZC5jcmVhdGVRdWVyeSh7XHJcbiAgICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLlNsb3dBdHRhY2tdXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGZhc3REbWdFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICAgIGFsbDogW2NvbXBvbmVudHMuUG9zaXRpb24sIGNvbXBvbmVudHMuRmFzdEF0dGFja11cclxuICB9KTtcclxuXHJcbiAgY29uc3QgZW5lbXlFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICAgIGFsbDogW2NvbXBvbmVudHMuUG9zaXRpb24sIGNvbXBvbmVudHMuQXBwZWFyYW5jZSwgY29tcG9uZW50cy5MYXllclVuaXQsY29tcG9uZW50cy5Jc0VuZW15XSxcclxuICAgIG5vbmU6IFtjb21wb25lbnRzLklzRGVhZF1cclxuICB9KVxyXG5cclxuXHJcbmNvbnN0IGNsZWFyRGlzcGxheSA9ICgpID0+IHtcclxuICAgIGRpc3BsYXkuY2xlYXIoKVxyXG4gICAgLy9jbGVhckNhbnZhcyhncmlkLm1hcC54IC0gMSwgZ3JpZC5tYXAueSwgZ3JpZC5tYXAud2lkdGggKyAxLCBncmlkLm1hcC5oZWlnaHQpO1xyXG4gICAgXHJcbn07XHJcbmxldCBFbnRpdHlUb1JlbmRlciA9XCJcIlxyXG5cclxuZXhwb3J0IGNvbnN0IFNldEVudGl0eVRvUmVuZGVyID0gKGVudGl0eSkgPT4ge1xyXG4gICAgRW50aXR5VG9SZW5kZXIgPSBlbnRpdHlcclxufVxyXG5cclxuY29uc3QgcmVuZGVyTWFwID0gKCkgPT4ge1xyXG4gICAgbGF5ZXJNYXBFbnRpdGllcy5nZXQoKS5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICBEcmF3Q2hhcihlbnRpdHksXHJcbiAgICAgICAgICAgIGVudGl0eS5wb3NpdGlvbi54K2dyaWQubWFwLngsXHJcbiAgICAgICAgICAgIGVudGl0eS5wb3NpdGlvbi55K2dyaWQubWFwLnkpXHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgcmVuZGVyRW5lbXlRdWlja0JhciA9ICgpID0+IHtcclxuICAgIHZhciBjb3VudCA9IDFcclxuICAgIGVuZW15RW50aXRpZXMuZ2V0KCkuZm9yRWFjaCggZW50aXR5ID0+IHtcclxuICAgICAgICB2YXIgdGV4dCA9IFwiXCIgKyBjb3VudFxyXG4gICAgICAgIHRleHQgKz0gXCIlY3tcIitlbnRpdHkuYXBwZWFyYW5jZS5jb2xvcitcIn0gXCIrZW50aXR5LmRlc2NyaXB0aW9uLm5hbWUgKyBcIiBcIiArIGVudGl0eS5oZWFsdGguY3VycmVudFxyXG4gICAgICAgIERyYXdUZXh0KHRleHQsIGdyaWQuZW5lbWllcy54LCBncmlkLmVuZW1pZXMueSArIGNvdW50IC0gMSlcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgUmVuZGVyRGFtYWdlTnVtYmVycyA9ICgpID0+IHtcclxuICAgIHZhciBkbWdUaWxlcyA9IFtdXHJcbiAgICBkbWdUaWxlcy5wdXNoLmFwcGx5KGRtZ1RpbGVzLCBzbG93RG1nRW50aXRpZXMuZ2V0KCkpO1xyXG4gICAgZG1nVGlsZXMucHVzaC5hcHBseShkbWdUaWxlcywgZmFzdERtZ0VudGl0aWVzLmdldCgpKTtcclxuICAgIGNvbnNvbGUubG9nKGRtZ1RpbGVzKVxyXG4gICAgdmFyIGRtZ0NvdW50ID0gW11cclxuICAgIGRtZ1RpbGVzLmZvckVhY2goIGRtZyA9PiB7XHJcbiAgICAgICAgdmFyIHRvTG9jID0gdG9Mb2NJZCh7eDpkbWcucG9zaXRpb24ueCx5OmRtZy5wb3NpdGlvbi55fSlcclxuICAgICAgICBpZighZG1nQ291bnRbdG9Mb2NdKSB7XHJcbiAgICAgICAgICAgIGRtZ0NvdW50W3RvTG9jXSA9IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgIGRtZ0NvdW50W3RvTG9jXSArPSBkbWcuZG1nVGlsZS5kbWdcclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyhkbWdDb3VudClcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRtZ0NvdW50KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke2tleX06ICR7dmFsdWV9YCk7XHJcbiAgICAgICAgdmFyIHBvcyA9IHRvQ2VsbChrZXkpXHJcbiAgICAgICAgZGlzcGxheS5kcmF3KGdyaWQubWFwLngrcG9zLngsIGdyaWQubWFwLnkgKyBwb3MueSwgdmFsdWUpXHJcbiAgICAgIH1cclxufVxyXG5cclxuY29uc3QgUmVuZGVyRW5lbXlOdW1iZXJzID0gKCkgPT4ge1xyXG4gICAgdmFyIGNvdW50ID0gMVxyXG4gICAgZW5lbXlFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCBlbnRpdHkgID0+IHtcclxuICAgICAgICBkaXNwbGF5LmRyYXcoZ3JpZC5tYXAueCtlbnRpdHkucG9zaXRpb24ueCwgZ3JpZC5tYXAueStlbnRpdHkucG9zaXRpb24ueSwgY291bnQudG9TdHJpbmcoKSlcclxuICAgICAgICBjb3VudCsrXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCByZW5kZXJPYmplY3RzID0gKCkgPT4ge1xyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IHJlbmRlclVuaXRzID0gKCkgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2cobGF5ZXJVbml0RW50aXRpZXMuZ2V0KCkpXHJcbiAgICBsYXllclVuaXRFbnRpdGllcy5nZXQoKS5mb3JFYWNoKChlbnRpdHkpID0+IHtcclxuICAgICAgICBEcmF3Q2hhcihlbnRpdHksXHJcbiAgICAgICAgICAgIGVudGl0eS5wb3NpdGlvbi54K2dyaWQubWFwLngsXHJcbiAgICAgICAgICAgIGVudGl0eS5wb3NpdGlvbi55K2dyaWQubWFwLnkpXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCByZW5kZXJBY3RpdmVQbGF5ZXIgPSAoKSA9PiB7XHJcbiAgICBpZihDdXJycmVudEFjdGl2ZVBsYXllcil7XHJcbiAgICAgICAgdmFyIHRleHQgPSBcIkFjdGl2ZTpcIlxyXG4gICAgICAgIERyYXdUZXh0KHRleHQsZ3JpZC5hY3RpdmVQbGF5ZXIueCxncmlkLmFjdGl2ZVBsYXllci55IClcclxuICAgICAgICBEcmF3Q2hhcihDdXJycmVudEFjdGl2ZVBsYXllcixcclxuICAgICAgICAgICAgZ3JpZC5hY3RpdmVQbGF5ZXIueCsgdGV4dC5sZW5ndGgsXHJcbiAgICAgICAgICAgIGdyaWQuYWN0aXZlUGxheWVyLnkpXHJcblxyXG4gICAgICAgIERyYXdUZXh0KFwiSHA6XCIrQ3VycnJlbnRBY3RpdmVQbGF5ZXIuaGVhbHRoLmN1cnJlbnQudG9TdHJpbmcoKSxncmlkLmFjdGl2ZVBsYXllci54LGdyaWQuYWN0aXZlUGxheWVyLnkrMSlcclxuICAgICAgICBEcmF3VGV4dChcIlN0YW06XCIrQ3VycnJlbnRBY3RpdmVQbGF5ZXIuc3RhbWluYS5jdXJyZW50LnRvU3RyaW5nKCkrXCIvXCIrQ3VycnJlbnRBY3RpdmVQbGF5ZXIuc3RhbWluYS5tYXgudG9TdHJpbmcoKSxncmlkLmFjdGl2ZVBsYXllci54LGdyaWQuYWN0aXZlUGxheWVyLnkrMilcclxuICAgICAgICBEcmF3VGV4dChcIlN0YW1SZ246XCIrKE1hdGgubWF4KDAsNCAtIEN1cnJyZW50QWN0aXZlUGxheWVyLnN0YW1pbmEudXNlZCkpLnRvU3RyaW5nKCksZ3JpZC5hY3RpdmVQbGF5ZXIueCxncmlkLmFjdGl2ZVBsYXllci55KzMpXHJcbiAgICAgICAgRHJhd1RleHQoXCJNb3ZlOlwiK0N1cnJyZW50QWN0aXZlUGxheWVyLm1vdmVtZW50Lm1vdmVtZW50LnRvU3RyaW5nKCksZ3JpZC5hY3RpdmVQbGF5ZXIueCxncmlkLmFjdGl2ZVBsYXllci55KzQpXHJcbiAgICAgICAgRHJhd1RleHQoXCJEb2RnZTpcIitDdXJycmVudEFjdGl2ZVBsYXllci5tb3ZlbWVudC5kb2RnZS50b1N0cmluZygpLGdyaWQuYWN0aXZlUGxheWVyLngsZ3JpZC5hY3RpdmVQbGF5ZXIueSs1KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCByZW5kZXJQaGFzZSA9ICgpID0+IHtcclxuICAgIERyYXdUZXh0KGdhbWVTdGF0ZSwgZ3JpZC5waGFzZU1lbnUueCxncmlkLnBoYXNlTWVudS55KVxyXG59XHJcblxyXG5jb25zdCByZW5kZXJEaWVNZW51ID0gKCkgPT4ge1xyXG4gICAgaWYoQ3VycnJlbnRBY3RpdmVQbGF5ZXIpe1xyXG4gICAgICAgIGZvcih2YXIgeCA9IDA7IHggPCBDdXJycmVudEFjdGl2ZVBsYXllci5kaWUubGVuZ3RoOyB4Kyspe1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKEN1cnJyZW50QWN0aXZlUGxheWVyLmRpZVt4XSlcclxuICAgICAgICAgICAgLy8gIDF8M3xcclxuICAgICAgICAgICAgLy9nZXQgY29sb3JcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0gXCJ3aGl0ZVwiXHJcbiAgICAgICAgICAgIGlmKEN1cnJyZW50QWN0aXZlUGxheWVyLmRpZVt4XS5zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFwiZ3JlZW5cIlxyXG4gICAgICAgICAgICB9ZWxzZSBpZihDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbeF0uZXhoYXVzdGVkKXtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gXCJncmV5XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2Rpc3BsYXkuZHJhdygyK2dyaWQuZGllTWVudS54ICsgKHgqNSksIGdyaWQuZGllTWVudS55LTEsJ18nKSAgICBcclxuICAgICAgICAgICAgRHJhd1RleHQoKHgrMSkudG9TdHJpbmcoKStcInxcIitcIiBcIitcInxcIiwgZ3JpZC5kaWVNZW51LngrICh4KjUpLCBncmlkLmRpZU1lbnUueSlcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbeF0ubnVtYmVyKVxyXG4gICAgICAgICAgICBkaXNwbGF5LmRyYXcoMitncmlkLmRpZU1lbnUueCArICh4KjUpLCBncmlkLmRpZU1lbnUueSwgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuZGllW3hdLm51bWJlci50b1N0cmluZygpLCBcImJsYWNrXCIsIGNvbG9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYWJpbGl0eUhvdGtleXMgPSBbJ3EnLCd3JywnZScsJ3InLCd0JywneSddXHJcblxyXG5jb25zdCByZW5kZXJBYmlsaXR5TWVudSA9ICgpID0+IHtcclxuICAgIC8vZm9yIGVhY2ggYWJpbGl0eSBtYWtlIGEgYnV0dG9uIG1heCBvZiAzIGNoYXIgbmFtZSBcclxuICAgIC8vIHFbbXZdIHdbYXRrXSBlW2RnXVxyXG4gICAgXHJcbiAgICAvL2lmIGNhbiB1c2Ugc2V0IHRvIGdyZWVuP1xyXG4gICAgLy9pZiBhbHJlYWR5IHVzZWQgc2V0IHRvIGdyZXlcclxuICAgIFxyXG4gICAgZm9yKHZhciB4ID0gMDsgeCA8IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllcy5sZW5ndGg7eCsrKXtcclxuICAgICAgICB2YXIgY29sb3IgPSBcImdyYXlcIlxyXG4gICAgICAgIHZhciBjdXJyZW50UGhhc2UgPSAoZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkRlZmVuZFwiKSA/IFwiRGVmZW5kXCIgOiBcIkF0dGFja1wiXHJcbiAgICAgICAgaWYoIChDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbeF0uYWJpbGl0eVBoYXNlLnBoYXNlID09IFwiQW55XCIgfHwgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW3hdLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBjdXJyZW50UGhhc2UpXHJcbiAgICAgICAgICYmIEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllc1t4XS5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24uY2FuVXNlKFxyXG4gICAgICAgICAgICBDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbeF0sXHJcbiAgICAgICAgICAgICBDdXJycmVudEFjdGl2ZVBsYXllcikubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGNvbG9yID0gXCJ3aGl0ZVwiXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIGxldCBzbWxOYW1lID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzW3hdLmFiaWxpdHlTbWFsbE5hbWUuc21hbGxOYW1lXHJcbiAgICAgICAgRHJhd1RleHQoYWJpbGl0eUhvdGtleXNbeF0rXCJbJWN7XCIrY29sb3IrXCJ9XCIrc21sTmFtZStcIiVje31dXCIsZ3JpZC5hYmlsaXR5TWVudS54ICsgKHgqNyksIGdyaWQuYWJpbGl0eU1lbnUueSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgcmVuZGVyVGFyZ2V0ID0gKCkgPT4ge1xyXG4gICAgLy9nZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSB0YXJnZXRFbnRpdHlcclxuICAgIC8vZ2V0IGVudGl0aWVzIGF0IHBvc2l0aW9uXHJcbiAgICAvL2ZvciBub3cganVzdCBkcmF3IHggYXQgcG9zaXRpb25cclxuICAgIGNvbnNvbGUubG9nKHRhcmdldEVudGl0eSlcclxuICAgIERyYXdDaGFyKHRhcmdldEVudGl0eSwgXHJcbiAgICAgICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLngrZ3JpZC5tYXAueCxcclxuICAgICAgICB0YXJnZXRFbnRpdHkucG9zaXRpb24ueStncmlkLm1hcC55KVxyXG5cclxuICAgIC8vIGRyYXcgdGhlIGFjdHVhbCB0YXJnZXQgY29vcmRzXHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgcmVuZGVyU2xvd0F0dGFja3MgPSAoKSA9PiB7XHJcbiAgICBzbG93RG1nRW50aXRpZXMuZ2V0KCkuZm9yRWFjaChzbG93ID0+IHtcclxuICAgIC8vY2hlY2sgaWYgdW5pdCBleGlzdHMgb24gdGhpcyB0aWxlLlxyXG4gICAgICAgIHZhciBnZXRFbnRpdGllc0F0TG9jID0gcmVhZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIHRvTG9jSWQoe3g6c2xvdy5wb3NpdGlvbi54LHk6c2xvdy5wb3NpdGlvbi55fSkpXHJcbiAgICAgICAgdmFyIGdvdFVuaXQgPSBmYWxzZVxyXG4gICAgICAgIHZhciBmbG9vclxyXG4gICAgICAgIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaChlaWQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZW50cyA9IHdvcmxkLmdldEVudGl0eShlaWQpXHJcbiAgICAgICAgICAgIGlmKGVudHMuaGFzKGNvbXBvbmVudHMuTGF5ZXJVbml0KSl7XHJcbiAgICAgICAgICAgICAgICBnb3RVbml0ID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheS5kcmF3KHNsb3cucG9zaXRpb24ueCArIGdyaWQubWFwLngsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xvdy5wb3NpdGlvbi55ICsgZ3JpZC5tYXAueSxcclxuICAgICAgICAgICAgICAgICAgICBlbnRzLmFwcGVhcmFuY2UuY2hhcixcclxuICAgICAgICAgICAgICAgICAgICBlbnRzLmFwcGVhcmFuY2UuY29sb3IsIFwieWVsbG93XCIpXHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGVudHMuaGFzKGNvbXBvbmVudHMuTGF5ZXJNYXApKXtcclxuICAgICAgICAgICAgICAgIGZsb29yID0gZW50c1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighZ290VW5pdCAmJiBmbG9vcil7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmRyYXcoc2xvdy5wb3NpdGlvbi54ICsgZ3JpZC5tYXAueCwgXHJcbiAgICAgICAgICAgICAgICAgICAgc2xvdy5wb3NpdGlvbi55ICsgZ3JpZC5tYXAueSwgXHJcbiAgICAgICAgICAgICAgICAgICAgZmxvb3IuYXBwZWFyYW5jZS5jaGFyLCBcclxuICAgICAgICAgICAgICAgICAgICBmbG9vci5hcHBlYXJhbmNlLmNvbG9yLCBcInllbGxvd1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIC8vaWYgeWVzIGRyYXcgdGhhdCB0aWxlIHdpdGggeWVsbG93IGJhY2tncm91bmRcclxuXHJcbiAgICAvL2p1c3QgZHJhdyB0aGUgdGlsZSB3aXRoIHllbGxvdyBiYWNrZ3JvdW5kICAgIFxyXG4gICAgfSlcclxuICAgIFxyXG59XHJcblxyXG5jb25zdCByZW5kZXJGYXN0QXR0YWNrcyA9ICgpID0+IHtcclxuICAgIGZhc3REbWdFbnRpdGllcy5nZXQoKS5mb3JFYWNoKGZhc3QgPT4ge1xyXG4gICAgLy9jaGVjayBpZiB1bml0IGV4aXN0cyBvbiB0aGlzIHRpbGUuXHJcbiAgICAgICAgdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDpmYXN0LnBvc2l0aW9uLngseTpmYXN0LnBvc2l0aW9uLnl9KSlcclxuICAgICAgICB2YXIgZ290VW5pdCA9IGZhbHNlXHJcbiAgICAgICAgdmFyIGZsb29yXHJcbiAgICAgICAgZ2V0RW50aXRpZXNBdExvYy5mb3JFYWNoKGVpZCA9PiB7XHJcbiAgICAgICAgICAgIHZhciBlbnRzID0gd29ybGQuZ2V0RW50aXR5KGVpZClcclxuICAgICAgICAgICAgaWYoZW50cy5oYXMoY29tcG9uZW50cy5MYXllclVuaXQpKXtcclxuICAgICAgICAgICAgICAgIGdvdFVuaXQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5LmRyYXcoZmFzdC5wb3NpdGlvbi54ICsgZ3JpZC5tYXAueCxcclxuICAgICAgICAgICAgICAgICAgICBmYXN0LnBvc2l0aW9uLnkgKyBncmlkLm1hcC55LFxyXG4gICAgICAgICAgICAgICAgICAgIGVudHMuYXBwZWFyYW5jZS5jaGFyLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudHMuYXBwZWFyYW5jZS5jb2xvciwgXCJyZWRcIilcclxuICAgICAgICAgICAgfWVsc2UgaWYoZW50cy5oYXMoY29tcG9uZW50cy5MYXllck1hcCkpe1xyXG4gICAgICAgICAgICAgICAgZmxvb3IgPSBlbnRzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCFnb3RVbml0ICYmIGZsb29yKXtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkuZHJhdyhmYXN0LnBvc2l0aW9uLnggKyBncmlkLm1hcC54LCBcclxuICAgICAgICAgICAgICAgICAgICBmYXN0LnBvc2l0aW9uLnkgKyBncmlkLm1hcC55LCBcclxuICAgICAgICAgICAgICAgICAgICBmbG9vci5hcHBlYXJhbmNlLmNoYXIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGZsb29yLmFwcGVhcmFuY2UuY29sb3IsIFwicmVkXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgLy9pZiB5ZXMgZHJhdyB0aGF0IHRpbGUgd2l0aCB5ZWxsb3cgYmFja2dyb3VuZFxyXG5cclxuICAgIC8vanVzdCBkcmF3IHRoZSB0aWxlIHdpdGggeWVsbG93IGJhY2tncm91bmQgICAgXHJcbiAgICB9KVxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEcmF3VGV4dCA9ICh0ZXh0LCB4LCB5KSA9PiB7XHJcbiAgICBkaXNwbGF5LmRyYXdUZXh0KHgseSx0ZXh0KVxyXG59XHJcblxyXG4vL3gseSBhcmUgb2Zmc2V0cyBmZXRjaGVkIGZyb20gZ3JpZFxyXG5leHBvcnQgY29uc3QgRHJhd0NoYXIgPSAoZW50aXR5LCB4LCB5KSA9PiB7XHJcbiAgICAvLyBkaXNwbGF5LmRyYXcoZ3JpZC5tYXAueCArIDUsICBncmlkLm1hcC55ICsgNCwgXCJAXCIpO1xyXG4gICAgZGlzcGxheS5kcmF3KHgsIHksZW50aXR5LmFwcGVhcmFuY2UuY2hhciwgZW50aXR5LmFwcGVhcmFuY2UuY29sb3IsIGVudGl0eS5hcHBlYXJhbmNlLmJhY2tncm91bmQgfHwgXCJibGFja1wiKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyQm9yZGVyID0gKCkgPT4ge1xyXG4gICAgZGlzcGxheS5kcmF3KDAsMCwnTycpXHJcbiAgICBkaXNwbGF5LmRyYXcoMCxncmlkLmhlaWdodC0xLCdPJylcclxuICAgIGRpc3BsYXkuZHJhdyhncmlkLndpZHRoLTEsMCwnTycpXHJcbiAgICBkaXNwbGF5LmRyYXcoZ3JpZC53aWR0aC0xLGdyaWQuaGVpZ2h0LTEsJ08nKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgaWYoZ2FtZVN0YXRlID09IFwiSGVscFwiKXtcclxuICAgICAgICBEcmF3SGVscE1lbnUoKVxyXG4gICAgfWVsc2UgaWYgKGdhbWVTdGF0ZSA9PSBcIkFiaWxpdHlJbmZvXCIpe1xyXG4gICAgICAgIFNob3dBYmlsaXR5SW5mbyhFbnRpdHlUb1JlbmRlcilcclxuICAgIH1lbHNlIGlmIChnYW1lU3RhdGUgPT0gXCJFbmVteU51bWJlcnNcIil7XHJcbiAgICAgICAgUmVuZGVyRW5lbXlOdW1iZXJzKClcclxuICAgIH1lbHNlIGlmICggZ2FtZVN0YXRlID09IFwiRGFtYWdlU2hvd1wiKXtcclxuICAgICAgICBSZW5kZXJEYW1hZ2VOdW1iZXJzKClcclxuICAgIH1lbHNlIHtcclxuICAgICAgICBjbGVhckRpc3BsYXkoKVxyXG4gICAgICAgIHJlbmRlck1hcCgpXHJcbiAgICAgICAgcmVuZGVyT2JqZWN0cygpXHJcbiAgICAgICAgcmVuZGVyVW5pdHMoKVxyXG4gICAgICAgIHJlbmRlckFjdGl2ZVBsYXllcigpXHJcbiAgICAgICAgcmVuZGVyRGllTWVudSgpXHJcbiAgICAgICAgcmVuZGVyQWJpbGl0eU1lbnUoKVxyXG4gICAgICAgIHJlbmRlclBoYXNlKClcclxuICAgICAgICByZW5kZXJCb3JkZXIoKVxyXG4gICAgICAgIHJlbmRlckVuZW15UXVpY2tCYXIoKVxyXG5cclxuICAgICAgICByZW5kZXJTbG93QXR0YWNrcygpXHJcbiAgICAgICAgcmVuZGVyRmFzdEF0dGFja3MoKVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhnYW1lU3RhdGUpXHJcbiAgICAgICAgaWYoZ2FtZVN0YXRlID09PSBcImV4YW1pbmVcIiB8fCBnYW1lU3RhdGUgPT09IFwidGFyZ2V0aW5nXCIgKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibmVlZCB0byBzaG93IHRhcmdldFwiKVxyXG4gICAgICAgICAgICByZW5kZXJUYXJnZXQoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB3b3JsZCBmcm9tIFwiLi4vc3RhdGUvZWNzXCI7XHJcbmltcG9ydCB7IHJhbmRvbSwgc2FtcGxlLCB0aW1lcyB9IGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IHtncmlkfSBmcm9tIFwiLi4vbGliL2NhbnZhc1wiXHJcbmltcG9ydCAqIGFzIFJPVCBmcm9tIFwicm90LWpzXCI7XHJcbmltcG9ydCB7cmVhZENhY2hlU2V0fSBmcm9tIFwiLi9jYWNoZVwiXHJcbmltcG9ydCB7QXBwZWFyYW5jZSwgSGVhbHRoLCBMYXllck1hcCwgUG9zaXRpb259IGZyb20gXCIuL2NvbXBvbmVudFwiXHJcbmltcG9ydCB7dG9DZWxsLCB0b0xvY0lkfSBmcm9tIFwiLi4vbGliL2dyaWRcIlxyXG5cclxuY29uc3QgbGF5ZXJNYXBFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICAgIGFsbDogW1Bvc2l0aW9uLCBBcHBlYXJhbmNlLCBMYXllck1hcF1cclxuICB9KTtcclxuXHJcbmNvbnN0IGR1bmdlb25NYXBHZW4gPSBuZXcgUk9ULk1hcC5BcmVuYShncmlkLm1hcC53aWR0aCwgZ3JpZC5tYXAuaGVpZ2h0KTtcclxuXHJcbmV4cG9ydCBjb25zdCBkdW5nZW9uTWFwID0gW11cclxuXHJcbmV4cG9ydCBjb25zdCBtYWtlTWFwID0gKCkgPT4ge1xyXG4gICAgZHVuZ2Vvbk1hcEdlbi5jcmVhdGUoZnVuY3Rpb24oeCwgeSwgd2FsbCkge1xyXG4gICAgICAgIC8vZGlzcGxheTEuZHJhdyh4LCB5LCB3YWxsID8gXCIjXCIgOiBcIi5cIik7XHJcbiAgICAgICAgaWYod2FsbCl7XHJcbiAgICAgICAgICAgIHdvcmxkLmNyZWF0ZVByZWZhYihcIldhbGxcIikuYWRkKFBvc2l0aW9uLCB7eCx5fSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgd29ybGQuY3JlYXRlUHJlZmFiKFwiRmxvb3JcIikuYWRkKFBvc2l0aW9uLCB7eCx5fSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEZldGNoRnJlZVRpbGUgPSAoKSA9PiB7XHJcbiAgICB2YXIgYW55RnJlZSA9IENyZWF0ZUZyZWVTcGFjZUxpc3QoKTtcclxuICAgIHJldHVybiBzYW1wbGUoYW55RnJlZSlcclxufSAgIFxyXG5cclxuY29uc3QgQ3JlYXRlRnJlZVNwYWNlTGlzdCA9ICgpID0+IHtcclxuICAgIHZhciBlbXB0eVRpbGVzID0gW11cclxuXHJcbiAgICBsYXllck1hcEVudGl0aWVzLmdldCgpLmZvckVhY2goKGVudGl0eSkgPT4ge1xyXG4gICAgICAgIGlmKGVudGl0eS5pc0Jsb2NraW5nKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0RW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OmVudGl0eS5wb3NpdGlvbi54LHk6ZW50aXR5LnBvc2l0aW9uLnl9KSlcclxuICAgICAgICBcclxuICAgICAgICBpZihnZXRFbnRpdGllc0F0TG9jLnNpemUgPT0gMSl7XHJcbiAgICAgICAgICAgIC8vbm90aGluZyBidXQgdGhlIHRpbGUgaGVyZSBzbyBjYW4gYWRkIHRvIGZyZWVcclxuICAgICAgICAgICAgZW1wdHlUaWxlcy5wdXNoKGVudGl0eSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBlbXB0eVRpbGVzXHJcbn1cclxuXHJcbiIsImltcG9ydCB7cmVhZENhY2hlU2V0fSBmcm9tIFwiLi4vc3RhdGUvY2FjaGVcIlxyXG5pbXBvcnQgd29ybGQgZnJvbSBcIi4uL3N0YXRlL2Vjc1wiXHJcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSBcIi4uL3N0YXRlL2NvbXBvbmVudFwiXHJcbmltcG9ydCAqIGFzIFJPVCBmcm9tIFwicm90LWpzXCI7XHJcbmltcG9ydCB7dG9Mb2NJZH0gZnJvbSBcIi4uL2xpYi9ncmlkXCJcclxuXHJcbmNvbnN0IGFsbHlFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICAgIGFsbDogW2NvbXBvbmVudHMuUG9zaXRpb24sIGNvbXBvbmVudHMuQXBwZWFyYW5jZSwgY29tcG9uZW50cy5MYXllclVuaXRdLFxyXG4gICAgbm9uZTogW2NvbXBvbmVudHMuSXNFbmVteV1cclxufSlcclxuXHJcbmNvbnN0IE1ha2VEaWprc3RyYSA9ICh4LHkpID0+e1xyXG4gICAgLyogcHJlcGFyZSBwYXRoIHRvIGdpdmVuIGNvb3JkcyAqL1xyXG4gICAgdmFyIGRpamtzdHJhID0gbmV3IFJPVC5QYXRoLkRpamtzdHJhKHgsIHksIHBhc3NhYmxlQ2FsbGJhY2ssIHt0b3BvbG9neSA6NH0pO1xyXG4gICAgcmV0dXJuIGRpamtzdHJhXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBaVBhdGhmaW5kID0gKGVudGl0eSkgPT4ge1xyXG4gICAgdmFyIGRpamtzdHJhID0gTWFrZURpamtzdHJhKGVudGl0eS5wb3NpdGlvbi54LGVudGl0eS5wb3NpdGlvbi55KVxyXG4gICAgY29uc29sZS5sb2coXCJwYXRoIGZpbmRlclwiKVxyXG4gICAgY29uc29sZS5sb2coZGlqa3N0cmEpXHJcbiAgICB2YXIgdGFyZ2V0ID0gRmluZENsb3Nlc3RUYXJnZXQoZGlqa3N0cmEsIGVudGl0eSlcclxuICAgIGNvbnNvbGUubG9nKHRhcmdldClcclxuICAgIC8vdGFyZ2V0LnJldmVyc2UoKVxyXG4gICAgdGFyZ2V0LnBvcCgpXHJcbiAgICByZXR1cm4gdGFyZ2V0XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWlQYXRoRW1wdHlUaWxlID0gKGVudGl0eSkgPT4ge1xyXG4gICAgdmFyIGRpamtzdHJhID0gTWFrZURpamtzdHJhKGVudGl0eS5wb3NpdGlvbi54LGVudGl0eS5wb3NpdGlvbi55KVxyXG4gICAgdmFyIHRhcmdldCA9IEZpbmRDbG9zZXN0RW1wdHlUaWxlKGRpamtzdHJhLCBlbnRpdHkpXHJcbiAgICB0YXJnZXQucG9wKClcclxuICAgIHJldHVybiB0YXJnZXRcclxufVxyXG5cclxuY29uc3QgRmluZENsb3Nlc3RFbXB0eVRpbGUgPSAoZGlqa3N0cmEsIGVudGl0eSkgPT4ge1xyXG5cclxufVxyXG5cclxuY29uc3QgRmluZENsb3Nlc3RUYXJnZXQgPSAoZGlqa3N0cmEsIGVudGl0eSkgPT4ge1xyXG4gICAgdmFyIHdpbm5lclxyXG5cclxuICAgIC8vaWYgZW50aXR5IGhhcyBpc0VuZW15LFxyXG4gICAgaWYoZW50aXR5Lmhhcyhjb21wb25lbnRzLklzRW5lbXkpKSB7XHJcbiAgICAgICAgLy9sb29wIHRocm91Z2ggYWxsIGFsbGllcyBhbmQgZ2V0IHRoZWlyIGNvb3JkcyBhbmQgY2FsYyBwYXRoXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJlbmVtaWVzIHRvIGNoZWNrOiBcIiArIGFsbHlFbnRpdGllcy5nZXQoKS5sZW5ndGgpXHJcbiAgICAgICAgYWxseUVudGl0aWVzLmdldCgpLmZvckVhY2goIGVudGl0eSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBjbG9zZXN0ID0gW11cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZW50aXR5KVxyXG4gICAgICAgICAgICBkaWprc3RyYS5jb21wdXRlKGVudGl0eS5wb3NpdGlvbi54LCBlbnRpdHkucG9zaXRpb24ueSwgZnVuY3Rpb24gKHgseSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rlc3QgcGF0aD8nKVxyXG5cclxuICAgICAgICAgICAgICAgIGNsb3Nlc3QucHVzaChbeCx5XSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoIXdpbm5lciB8fCBjbG9zZXN0Lmxlbmd0aCA8IHdpbm5lci5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgd2lubmVyID0gY2xvc2VzdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8vICBcclxuICAgICAgICAvL2xvb3AgdGhyb3VnaCBhbGwgZW5lbWllcyBhbmQgZ2V0IHRoZWlyIGNvb3JkcyBhbmQgY2FsYyBwYXRoXHJcbiAgICByZXR1cm4gd2lubmVyXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgQ2hlY2tTdHJhaWdodExpbmUgPSAoWy4uLnBhdGhdLCBjdXJyZW50WFkpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiaW4gcmFuZ2UgY2hlY2tcIilcclxuICAgIC8vY2hlY2sgaWYgbGVuZ3RoID0gMSB0aGVuIHdlIGFyZSByaWdodCBuZXh0IHRvIHRhcmdldFxyXG4gICAgaWYocGF0aC5sZW5ndGggPT0gMSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwYXRoIHNob3J0XCIpXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICAgIFxyXG4gICAgdmFyIFhzID0gW11cclxuICAgIHZhciBZcyA9IFtdXHJcbiAgICBwYXRoLmZvckVhY2goY29vcmRzID0+IHtcclxuICAgICAgICBYcy5wdXNoKGNvb3Jkc1swXSlcclxuICAgICAgICBZcy5wdXNoKGNvb3Jkc1sxXSlcclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyhYcy50b1N0cmluZygpKVxyXG4gICAgY29uc29sZS5sb2coWXMudG9TdHJpbmcoKSlcclxuICAgIC8vaWYoKGFsbEVxdWFsKFhzKSB8fCBhbGxFcXVhbChZcykgKSAmJiAoY3VycmVudFhZLnggPT0gcGF0aFswXVswXSB8fCBjdXJyZW50WFkueSA9PSBwYXRoWzBdWzFdKSApe1xyXG4gICAgaWYoKGN1cnJlbnRYWS54ID09IHBhdGhbMF1bMF0gfHwgY3VycmVudFhZLnkgPT0gcGF0aFswXVsxXSkgKXtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfWVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBhbGxFcXVhbCA9IGFyciA9PiBhcnIuZXZlcnkoIHYgPT4gdiA9PT0gYXJyWzBdIClcclxuXHJcblxyXG5jb25zdCB0ZXN0aW5nQ0IgPSAoKSA9PiB7XHJcblxyXG59XHJcblxyXG5jb25zdCBwYXNzYWJsZUNhbGxiYWNrID0gKHgseSkgPT4ge1xyXG4gICAgLy9jb25zb2xlLmxvZyhcImNoZWNraW5nIGNvb3JkczogXCIgKyB4ICsgXCI6XCIgKyB5KVxyXG4gICAgLy9nZXQgZW50aXRpZXMgYXQgeCx5XHJcbiAgICB2YXIgZ2V0RW50aXRpZXNBdExvYyA9IHJlYWRDYWNoZVNldChcImVudGl0aWVzQXRMb2NhdGlvblwiLCB0b0xvY0lkKHt4OngseTp5fSkpXHJcblxyXG4gICAgaWYoIWdldEVudGl0aWVzQXRMb2Mpe1xyXG4gICAgICAgIHJldHVybiAwXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXRpZXNBdExvYy5mb3JFYWNoKCBlaWQgPT4ge1xyXG4gICAgICAgIHZhciBlbnRpdHkgPSB3b3JsZC5nZXRFbnRpdHkoZWlkKVxyXG5cclxuICAgICAgICBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuSXNCbG9ja2luZykpe1xyXG4gICAgICAgICAgICByZXR1cm4gMFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvL2lmIGxlbmd0aCAwLCByZXR1cm4gMVxyXG4gICAgLy9pZiBhbnkgaXNCbG9jayByZXR1cm4gMVxyXG5cclxuICAgIC8vcmV0dXJuIDBcclxuICAgIHJldHVybiAxXHJcbn0iLCJpbXBvcnQge0dldFNlbGVjdGVkRGllLCBHZXRBbGxEaWV9IGZyb20gXCIuL2FiaWxpdGllc1wiXHJcbmltcG9ydCB7cmVhZENhY2hlU2V0fSBmcm9tIFwiLi4vc3RhdGUvY2FjaGVcIlxyXG5pbXBvcnQgd29ybGQgZnJvbSBcIi4uL3N0YXRlL2Vjc1wiXHJcbmltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSBcIi4uL3N0YXRlL2NvbXBvbmVudFwiXHJcbmltcG9ydCB7QWlQYXRoZmluZCxDaGVja1N0cmFpZ2h0TGluZX0gZnJvbSBcIi4vcGF0aGZpbmRpbmdcIlxyXG5pbXBvcnQge3RvTG9jSWR9IGZyb20gXCIuLi9saWIvZ3JpZFwiXHJcblxyXG5leHBvcnQgY29uc3QgRG9BaVR1cm5EZWZlbmQgPSAoZW50aXR5KSA9PiB7XHJcbiAgICB2YXIgYWJpbGl0aWVzQ2FuVXNlID0gW11cclxuICAgIC8vZm9yIGVhY2ggZGVmZW5zZSBhYmlsaXR5IGNoZWNrIGlmIHdlIGNhbiB1c2VcclxuICAgIHZhciBzdGFtaW5hID0gZW50aXR5LnN0YW1pbmEuY3VycmVudDtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coXCJBSSB1c2FibGUgc3RhbWluYVwiKVxyXG4gICAgY29uc29sZS5sb2coZW50aXR5KVxyXG4gICAgY29uc29sZS5sb2coc3RhbWluYSlcclxuXHJcbiAgICBlbnRpdHkuYWJpbGl0eUxpc3QuYWJpbGl0aWVzLmZvckVhY2goIGFiaWwgPT4ge1xyXG4gICAgICAgIC8vc3BsaXQgdGhlIGRpY2UgY291bnRzLCBpZiBhbnkgcmV0dXJuIHRydWUgYWRkIHRvIGNhbiB1c2UgYW5kIGNvbnRpbnVlXHJcbiAgICAgICAgY29uc29sZS5sb2coYWJpbC5hYmlsaXR5U3RhbWluYUNvc3QpXHJcbiAgICAgICAgaWYoIChhYmlsLmFiaWxpdHlQaGFzZS5waGFzZSA9PSBcIkFueVwiIHx8IGFiaWwuYWJpbGl0eVBoYXNlLnBoYXNlID09IFwiRGVmZW5kXCIpICYmIHN0YW1pbmEgPj0gYWJpbC5hYmlsaXR5U3RhbWluYUNvc3QuYW1vdW50KXtcclxuICAgICAgICAgICAgLy93ZSBoYXZlIGVub3VnaCB0byB1c2UgdGhpc1xyXG4gICAgICAgICAgICBhYmlsaXRpZXNDYW5Vc2UucHVzaChhYmlsKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBjb25zb2xlLmxvZyhcImFpIHVzYWJsZSBhYmlsaXRpZXNcIilcclxuICAgIGNvbnNvbGUubG9nKGFiaWxpdGllc0NhblVzZSlcclxuICAgIENob29zZUFpRGVmZW5kKGVudGl0eSwgYWJpbGl0aWVzQ2FuVXNlKVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERvQWlUdXJuQXR0YWNrID0gKGVudGl0eSkgPT4ge1xyXG5cclxuICAgIHZhciBhYmlsaXRpZXNDYW5Vc2UgPSBbXVxyXG4gICAgLy9mb3IgZWFjaCBkZWZlbnNlIGFiaWxpdHkgY2hlY2sgaWYgd2UgY2FuIHVzZVxyXG4gICAgdmFyIHN0YW1pbmEgPSBlbnRpdHkuc3RhbWluYS5jdXJyZW50O1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhcIkFJIHVzYWJsZSBzdGFtaW5hXCIpXHJcbiAgICBjb25zb2xlLmxvZyhlbnRpdHkpXHJcbiAgICBjb25zb2xlLmxvZyhzdGFtaW5hKVxyXG5cclxuICAgIGVudGl0eS5hYmlsaXR5TGlzdC5hYmlsaXRpZXMuZm9yRWFjaCggYWJpbCA9PiB7XHJcbiAgICAgICAgLy9zcGxpdCB0aGUgZGljZSBjb3VudHMsIGlmIGFueSByZXR1cm4gdHJ1ZSBhZGQgdG8gY2FuIHVzZSBhbmQgY29udGludWVcclxuICAgICAgICBpZiggKGFiaWwuYWJpbGl0eVBoYXNlLnBoYXNlID09IFwiQW55XCIgfHwgYWJpbC5hYmlsaXR5UGhhc2UucGhhc2UgPT0gXCJBdHRhY2tcIikgJiYgYWJpbC5hYmlsaXR5U3RhbWluYUNvc3QuYW1vdW50IDw9IGVudGl0eS5zdGFtaW5hLmN1cnJlbnQpe1xyXG4gICAgICAgICAgICAvL3dlIGhhdmUgZW5vdWdoIHRvIHVzZSB0aGlzXHJcbiAgICAgICAgICAgIGFiaWxpdGllc0NhblVzZS5wdXNoKGFiaWwpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGNvbnNvbGUubG9nKFwiYWkgdXNhYmxlIGFiaWxpdGllc1wiKVxyXG4gICAgY29uc29sZS5sb2coYWJpbGl0aWVzQ2FuVXNlKVxyXG4gICAgQ2hvb3NlQWlBdHRhY2soZW50aXR5LCBhYmlsaXRpZXNDYW5Vc2UpXHJcbiAgICBjb25zb2xlLmxvZyhcInBhdGhmaW5kaW5nXCIpXHJcbiAgICAvL0FpUGF0aGZpbmQoZW50aXR5KVxyXG4gICAgLy8gdmFyIGF0dGFja1VzZWQgPSAwXHJcbiAgICAvL2ZvciBlYWNoIGF0dGFjayBhYmlsaXR5LCBjaGVjayBpZiB3ZSBjYW4gdXNlXHJcblxyXG4gICAgLy9jaGVjayBpZiB3ZSBhcmUgaW4gcmFuZ2UgdG8gdXNlP1xyXG4gICAgICAgIC8vaWYgbm90IGluIHJhbmdlXHJcbiAgICAgICAgICAgIC8vYXR0ZW1wdCBtb3ZlP1xyXG4gICAgICAgIC8vaWYgaW4gcmFuZ2UgJiYgYXR0YWNrVXNlZCA9PSAwXHJcbiAgICAgICAgICAgIC8vdXNlIGF0dGFjayBvbiB0YXJnZXRcclxuICAgICAgICAgICAgLy9hdHRhY2tVc2VkID0gMVxyXG59XHJcblxyXG52YXIgYmxvY2tlcnMgPSBbXVxyXG5cclxuY29uc3QgQ2hvb3NlQWlEZWZlbmQgPSAoZW50aXR5LCBhYmlsaXR5TGlzdCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZW50aXR5KVxyXG4gICAgdmFyIGdldEVudGl0aWVzQXRMb2MgPSByZWFkQ2FjaGVTZXQoXCJlbnRpdGllc0F0TG9jYXRpb25cIiwgdG9Mb2NJZCh7eDplbnRpdHkucG9zaXRpb24ueCx5OmVudGl0eS5wb3NpdGlvbi55fSkpXHJcbiAgICB2YXIgZmFzdEhlcmUgPSBmYWxzZVxyXG4gICAgdmFyIHNsb3dIZXJlID0gZmFsc2VcclxuICAgIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaCggZWlkID0+IHtcclxuICAgICAgICB2YXIgZW50aXR5ID0gd29ybGQuZ2V0RW50aXR5KGVpZCk7XHJcbiAgICAvL2NoZWNrIGlmIHdlIGFyZSBvbiBhIGZhc3QgdGlsZVxyXG4gICAgICAgIGlmKGVudGl0eS5oYXMoY29tcG9uZW50cy5GYXN0QXR0YWNrKSl7XHJcbiAgICAgICAgICAgIGZhc3RIZXJlID0gdHJ1ZVxyXG4gICAgLy9jaGVjayBpZiB3ZSBhcmUgb24gYSB0aWxlIHdpdGggc2xvdyBhdHRhY2tcclxuICAgICAgICB9ZWxzZSBpZihlbnRpdHkuaGFzKGNvbXBvbmVudHMuU2xvd0F0dGFjaykpIHtcclxuICAgICAgICAgICAgc2xvd0hlcmUgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHZhciBtb3ZlZCA9IGZhbHNlXHJcbiAgICBpZihmYXN0SGVyZSl7XHJcbiAgICAgICAgLy9jaGVjayBpZiBkb2RnZSBpbiB1c2FibGVcclxuICAgICAgICB2YXIgZG9kZ2VcclxuICAgICAgICBhYmlsaXR5TGlzdC5mb3JFYWNoKCBhYmlsID0+IHtcclxuICAgICAgICAgICAgaWYoYWJpbC5kZXNjcmlwdGlvbi5uYW1lID09IFwiZG9kZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgZG9kZ2UgPSBhYmlsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmKGRvZGdlKXtcclxuICAgICAgICAgICAgLy93ZSBoYXZlIGRvZGdlIHNvIHdlIHNob3VsZCB1c2UgaXQhXHJcbiAgICAgICAgICAgIFN0YW1pbmFDb3N0KGVudGl0eSwgZG9kZ2UuYWJpbGl0eVN0YW1pbmFDb3N0LmFtb3VudClcclxuICAgICAgICAgICAgZG9kZ2UuYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLm9uVXNlKGRvZGdlLCBlbnRpdHkpXHJcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH1lbHNlIGlmKHNsb3dIZXJlKXtcclxuICAgICAgICAvL2NoZWNrIGlmIHdlIGNhbiBtb3ZlXHJcbiAgICAgICAgdmFyIG1vdmUgXHJcbiAgICAgICAgYWJpbGl0eUxpc3QuZm9yRWFjaChhYmlsID0+IHtcclxuICAgICAgICAgICAgaWYoYWJpbC5kZXNjcmlwdGlvbi5uYW1lID09IFwibW92ZVwiKXtcclxuICAgICAgICAgICAgICAgIG1vdmUgPSBhYmlsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vaWYgbW92ZVxyXG4gICAgICAgIGlmKG1vdmUpe1xyXG4gICAgICAgICAgICAvL3VzZSBpdCFcclxuICAgICAgICAgICAgU3RhbWluYUNvc3QoZW50aXR5LCBkb2RnZS5hYmlsaXR5U3RhbWluYUNvc3QuYW1vdW50KVxyXG4gICAgICAgICAgICBtb3ZlLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5vblVzZShtb3ZlLCBlbnRpdHkpXHJcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy90aGVuIG1vdmVcclxuICAgICAgICAgICAgLy9tb3ZlZCA9IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBpZiggKGZhc3RIZXJlIHx8IHNsb3dIZXJlKSAmJiAhbW92ZWQpIHtcclxuICAgICAgICAvL2NoZWNrIGlmIHdlIGhhdmUgYW55IGJsb2NrIHNraWxsc1xyXG4gICAgfVxyXG4gXHJcbn1cclxuXHJcbmNvbnN0IENob29zZUFpQXR0YWNrID0gKGVudGl0eSxhYmlsaXR5TGlzdCkgPT4ge1xyXG4gICAgLy9nZXQgY2xvc2VzdCB0YXJnZXQgZm9yIG5vd1xyXG4gICAgLy8gdmFyIHRhcmdldCA9IEFpUGF0aGZpbmQoZW50aXR5KVxyXG4gICAgdmFyIGF0dGFja2VkID0gZmFsc2VcclxuICAgIGFiaWxpdHlMaXN0LnNodWZmbGUoKVxyXG4gICAgLy9hYmlsaXR5TGlzdC5zaHVmZmxlKClcclxuICAgIGNvbnNvbGUubG9nKFwiRG9pbmcgbW9iIGF0dGFjazogXCIpXHJcbiAgICBmb3IodmFyIHggPSAwOyB4IDwgMjt4ICsrKXtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gQWlQYXRoZmluZChlbnRpdHkpXHJcbiAgICAgICAgYWJpbGl0eUxpc3QuZm9yRWFjaCggYWJpbCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldC50b1N0cmluZygpKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQubGVuZ3RoKVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBpZih0YXJnZXQubGVuZ3RoID49IDEgJiYgdGFyZ2V0Lmxlbmd0aCA8PSBhYmlsLmFiaWxpdHlSYW5nZS5yYW5nZSAmJiAhYXR0YWNrZWQgJiYgQ2hlY2tTdHJhaWdodExpbmUodGFyZ2V0LCB7eDplbnRpdHkucG9zaXRpb24ueCx5OmVudGl0eS5wb3NpdGlvbi55fSkpe1xyXG4gICAgICAgICAgICAgICAgLy93ZSBhcmUgaW4gcmFuZ2VcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW4gUmFuZ2VcIilcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmcgPSB0YXJnZXQucG9wKClcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmcudG9TdHJpbmcoKSlcclxuXHJcbiAgICAgICAgICAgICAgICBhYmlsLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5vblVzZShhYmlsLCBlbnRpdHksIHt4OnRhcmdbMF0seTp0YXJnWzFdfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvL3VzZSBzdGFtaW5hIHVwXHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwidXNlLXN0YW1pbmFcIixhYmlsLmFiaWxpdHlTdGFtaW5hQ29zdC5hbW91bnQpXHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiYWktdXNlLXN0YW1pbmFcIixhYmlsLmFiaWxpdHlTdGFtaW5hQ29zdC5hbW91bnQpXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tlZCA9IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYodGFyZ2V0Lmxlbmd0aCA+IDEgJiYgIWF0dGFja2VkKXtcclxuICAgICAgICAgICAgLy9tb3ZlIHRvd2FyZHMgZW5lbXlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3QgSW4gUmFuZ2Ugc28gd2UgbW92ZVwiKVxyXG4gICAgICAgICAgICBpZih0YXJnZXQubGVuZ3RoID4gMSl7XHJcbiAgICAgICAgICAgICAgICBNb3ZlRm9yd2FyZChlbnRpdHksIHRhcmdldClcclxuXHJcbiAgICAgICAgICAgICAgICAvL3VzZSAxIHN0YW1pbmFcclxuICAgICAgICAgICAgICAgIGVudGl0eS5maXJlRXZlbnQoXCJ1c2Utc3RhbWluYVwiLDEpXHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiYWktdXNlLXN0YW1pbmFcIiwxKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxufVxyXG5cclxuY29uc3QgTW92ZUZvcndhcmQgPSAoZW50aXR5LCB0YXJnZXQpID0+IHtcclxuICAgIC8vREVCVUc6IGdpdmUgKzEgbW92ZW1lbnRcclxuICAgIGVudGl0eS5maXJlRXZlbnQoXCJnYWluLW1vdmVtZW50XCIsIDIpXHJcblxyXG4gICAgLy9maW5kIG5lYXJlc3QgcGxheWVyXHJcblxyXG4gICAgdmFyIHkgPSBlbnRpdHkubW92ZW1lbnQubW92ZW1lbnRcclxuICAgIGZvcih2YXIgeCA9IDA7IHggPCB5O3grKyl7XHJcbiAgICAgICAgaWYodGFyZ2V0ICYmIHRhcmdldC5sZW5ndGggPiAxKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZW1haW5pbmcgdGFyZ2V0XCIpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldC50b1N0cmluZygpKVxyXG4gICAgICAgICAgICAvL2RpZCB3ZSBmaW5kIGEgdGFyZ2V0PyB3YWxrIHRvd2FyZHMgdGhlIGxhc3RcclxuICAgICAgICAgICAgdmFyIG5leHRTdGVwID0gdGFyZ2V0LnBvcCgpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmV4dCBTdGVwXCIgKyBuZXh0U3RlcC50b1N0cmluZygpKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9jb252ZXJ0IHRvIGEgc3RlcCBmcm9tIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGVudGl0eS5tb3ZlbWVudC54ID0gbmV4dFN0ZXBbMF0gLSBlbnRpdHkucG9zaXRpb24ueFxyXG4gICAgICAgICAgICBlbnRpdHkubW92ZW1lbnQueSA9ICBuZXh0U3RlcFsxXSAtIGVudGl0eS5wb3NpdGlvbi55IFxyXG4gICAgICAgICAgICBlbnRpdHkuZmlyZUV2ZW50KFwiYXR0ZW1wdC1tb3ZlXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBTdGFtaW5hQ29zdCA9IChlbnRpdHksIGFtb3VudCkgPT4ge1xyXG4gICAgZW50aXR5LmZpcmVFdmVudChcInVzZS1zdGFtaW5hXCIsIGFtb3VudClcclxufVxyXG5cclxuY29uc3QgU2VsZWN0RGllID0gKGVudGl0eSwgYW1vdW50KSA9PiB7XHJcblxyXG59XHJcblxyXG5jb25zdCBHZXREaWUgPSAoZW50aXR5KSA9PiB7XHJcbiAgICBsZXQgZGllTGlzdCA9IFtdXHJcbiAgICBmb3IodmFyIHggPSAwO3ggPCBlbnRpdHkuZGllLmxlbmd0aDsgeCsrKXtcclxuICAgICAgICBpZighZW50aXR5LmRpZVt4XS5leGhhdXN0ZWQpe1xyXG4gICAgICAgICAgICBkaWVMaXN0LnB1c2goZW50aXR5LmRpZVt4XS5udW1iZXIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpZUxpc3Quc29ydCgpXHJcbiAgICB2YXIgY291bnRzID0ge307XHJcbiAgICBkaWVMaXN0LmZvckVhY2goZnVuY3Rpb24oeCkgeyBjb3VudHNbeF0gPSAoY291bnRzW3hdIHx8IDApKzE7IH0pO1xyXG4gICAgLy9jb25zb2xlLmxvZyhjb3VudHMpXHJcbiAgICByZXR1cm4gY291bnRzO1xyXG59XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCAnc2h1ZmZsZScsIHtcclxuICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcclxuICAgICAgICAgICAgW3RoaXNbaV0sIHRoaXNbal1dID0gW3RoaXNbal0sIHRoaXNbaV1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufSk7IiwiaW1wb3J0IFwiLi9saWIvY2FudmFzLmpzXCI7XHJcbmltcG9ydCB3b3JsZCBmcm9tIFwiLi9zdGF0ZS9lY3NcIjtcclxuaW1wb3J0ICogYXMgUk9UIGZyb20gXCJyb3QtanNcIjtcclxuaW1wb3J0IHtyZW5kZXIsU2V0RW50aXR5VG9SZW5kZXJ9IGZyb20gXCIuL3N5c3RlbXMvcmVuZGVyXCJcclxuaW1wb3J0IHttYWtlTWFwLEZldGNoRnJlZVRpbGV9IGZyb20gXCIuL3N0YXRlL2R1bmdlb25cIlxyXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gXCIuL3N0YXRlL2NvbXBvbmVudFwiXHJcbmltcG9ydCB7IHRpbWVzIH0gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQgeyBUaWxlIH0gZnJvbSBcIi4vc3RhdGUvcHJlZmFiLmpzXCI7XHJcbmltcG9ydCB7cmVhZENhY2hlU2V0fSBmcm9tIFwiLi9zdGF0ZS9jYWNoZVwiXHJcbmltcG9ydCB7dG9Mb2NJZH0gZnJvbSBcIi4vbGliL2dyaWRcIlxyXG5pbXBvcnQgKiBhcyBBYmlsaXRpZXMgZnJvbSBcIi4vc3lzdGVtcy9hYmlsaXRpZXNcIlxyXG5pbXBvcnQgKiBhcyBBSSBmcm9tIFwiLi9zeXN0ZW1zL2FpXCJcclxuaW1wb3J0IHtIaWRlSGVscE1lbnV9IGZyb20gXCIuL3N0YXRlL2hlbHBNZW51XCJcclxuXHJcbmV4cG9ydCB2YXIgZ2FtZVN0YXRlID0gXCJzZXR1cFwiXHJcbmV4cG9ydCB2YXIgcHJldmlvdXNHYW1lU3RhdGUgPSBcIlwiXHJcblxyXG52YXIgcXVldWVkQWJpbGl0eSA9IFwiaGlcIlxyXG52YXIgcXVldWVkRW50aXR5ID0gXCJoaVwiXHJcbmV4cG9ydCBjb25zdCBTZXRRdWV1ZWRBYmlsaXR5ID0gKGFiaWwpID0+IHtcclxuICBxdWV1ZWRBYmlsaXR5ID0gYWJpbFxyXG59XHJcbmV4cG9ydCBjb25zdCBTZXRRdWV1ZWRFbnRpdHkgPSAoZW50KSA9PiB7XHJcbiAgcXVldWVkRW50aXR5ID0gZW50XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgdGFyZ2V0RW50aXR5ID0gd29ybGQuY3JlYXRlRW50aXR5KFwidGFyZ2V0RW50aXR5XCIpXHJcbnRhcmdldEVudGl0eS5hZGQoY29tcG9uZW50cy5BcHBlYXJhbmNlLCB7Y2hhcjogJ1gnLCBjb2xvcjogXCJibGFja1wiLCBiYWNrZ3JvdW5kOiBcImdyZWVuXCJ9KVxyXG5cclxudmFyIEN1cnJyZW50QWN0aXZlUGxheWVySW5kZXggPSAwXHJcbmV4cG9ydCB2YXIgQ3VycnJlbnRBY3RpdmVQbGF5ZXJcclxubGV0IHVzZXJJbnB1dCA9IG51bGw7XHJcblxyXG5jb25zdCBwbGF5ZXJFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0LCBjb21wb25lbnRzLklzUGxheWVyQ29udHJvbGxlZF0sXHJcbiAgbm9uZTogW2NvbXBvbmVudHMuSXNEZWFkXVxyXG59KTtcclxuXHJcbmNvbnN0IGFsbHlFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0XSxcclxuICBub25lOiBbY29tcG9uZW50cy5Jc0VuZW15XVxyXG59KVxyXG5cclxuY29uc3QgZW5lbXlFbnRpdGllcyA9IHdvcmxkLmNyZWF0ZVF1ZXJ5KHtcclxuICBhbGw6IFtjb21wb25lbnRzLlBvc2l0aW9uLCBjb21wb25lbnRzLkFwcGVhcmFuY2UsIGNvbXBvbmVudHMuTGF5ZXJVbml0LGNvbXBvbmVudHMuSXNFbmVteV0sXHJcbiAgbm9uZTogW2NvbXBvbmVudHMuSXNEZWFkXVxyXG59KVxyXG5cclxuY29uc3QgZG1nVGlsZUVudGl0aWVzID0gd29ybGQuY3JlYXRlUXVlcnkoe1xyXG4gIGFsbDogW2NvbXBvbmVudHMuRG1nVGlsZV1cclxufSlcclxuXHJcbmNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcclxuICAgIGlmKGdhbWVTdGF0ZSA9PSBcInNldHVwXCIpe1xyXG4gICAgICBnYW1lU3RhdGUgPSBcIkVuZW15VHVybkRlZmVuZFwiXHJcbiAgICB9ZWxzZSBpZihnYW1lU3RhdGUgPT0gXCJFbmVteVR1cm5EZWZlbmRcIikge1xyXG5cclxuICAgICAgXHJcbiAgICAgIC8vRW5lbXlEZWZlbmRUdXJuKClcclxuXHJcbiAgICAgIGdhbWVTdGF0ZSA9IFwiRW5lbXlUdXJuQXR0YWNrXCJcclxuICAgICAgcmVuZGVyKClcclxuICAgICAgLy9zZXQgdG8gcGxheWVydHVybmRlZmVuZFxyXG4gICAgICAvL2NoZWNrIHdpbi9sb3NlICBcclxuICAgIH1lbHNlIGlmKGdhbWVTdGF0ZSA9PSBcIkVuZW15VHVybkF0dGFja1wiKXtcclxuICAgICAgRW5lbXlBdHRhY2tUdXJuKClcclxuICAgICAgLy9maXJlIGVuZCB0dXJuIGZvciBhbGwgZW5lbXkgdW5pdHNcclxuICAgICAgRW5kVHVyblByb2Nlc3MoZW5lbXlFbnRpdGllcy5nZXQoKSlcclxuXHJcbiAgICAgIGdhbWVTdGF0ZSA9IFwiUGxheWVyVHVybkRlZmVuZFwiXHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICB9ZWxzZSBpZihnYW1lU3RhdGUgPT0gXCJQbGF5ZXJUdXJuRGVmZW5kXCIpIHtcclxuICAgICAgcHJvY2Vzc1VzZXJJbnB1dCgpXHJcbiAgICAgIC8vc2V0IHRvIHBsYXllcnR1cm5hdHRhY2tcclxuICAgICAgLy9jaGVjayB3aW4vbG9zZVxyXG4gICAgfWVsc2UgaWYoZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkF0dGFja1wiKSB7XHJcbiAgICAgIHByb2Nlc3NVc2VySW5wdXQoKVxyXG4gICAgICAvL3NldCB0byBlbmVteSB0dXJuXHJcbiAgICAgIC8vY2hlY2sgd2luL2xvc2VcclxuXHJcbiAgICAgIC8vZmlyZSBlbmRUdXJuIGZvciBhbGwgcGxheWVyIHVuaXRzXHJcbiAgICAgIFxyXG4gICAgfWVsc2UgaWYoZ2FtZVN0YXRlPT1cImV4YW1pbmVcIiB8fCBnYW1lU3RhdGUgPT1cInRhcmdldGluZ1wiIHx8IGdhbWVTdGF0ZSA9PSBcIkhlbHBcIiB8fCBnYW1lU3RhdGUgPT0gXCJBYmlsaXR5SW5mb1wiIHx8IGdhbWVTdGF0ZSA9PSBcIkRhbWFnZVNob3dcIiB8fCBnYW1lU3RhdGUgPT0gXCJFbmVteU51bWJlcnNcIil7XHJcbiAgICAgIHByb2Nlc3NVc2VySW5wdXQoKVxyXG4gICAgICAvL3JlbmRlciBlbnRpdGllcyB1bmRlciBjdXJyZW50IHJldGljbGVcclxuXHJcbiAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcblxyXG5jb25zdCBwcm9jZXNzVXNlcklucHV0ID0gKCkgPT4ge1xyXG4vL3Nob3cgaGVscCBzY3JlZW5cclxuICBpZihnYW1lU3RhdGUgPT0gXCJQbGF5ZXJUdXJuRGVmZW5kXCIgfHwgZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkF0dGFja1wiKXtcclxuICAgIGlmKHVzZXJJbnB1dCA9PT0gXCI/XCIpIHtcclxuICAgICAgU2V0UHJldmlvdXNTdGF0ZShcIkhlbHBcIilcclxuICAgICAgcmVuZGVyKClcclxuLy9zZWxlY3QgbmV4dCBwbGF5ZXJcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiblwiKSB7XHJcbiAgICAgIC8vY2hhbmdlIGFjdGl2ZSBwbGF5ZXIgdG8gbmV4dFxyXG4gICAgICBjb25zb2xlLmxvZygnaW5wdXQ6ICcgKyB1c2VySW5wdXQpXHJcbiAgICAgIEN1cnJyZW50QWN0aXZlUGxheWVyID0gR2V0TmV4dEFjdGl2ZVBsYXllcigpXHJcblxyXG4gICAgICByZW5kZXIoKVxyXG5cclxuLy9kaWUgc2VsZWN0XHJcbiAgICB9ZWxzZSBpZih1c2VySW5wdXQgPT09IFwiMVwiIHx8IHVzZXJJbnB1dCA9PT0gXCIyXCIgfHwgdXNlcklucHV0ID09PSBcIjNcIiB8fCB1c2VySW5wdXQgPT09IFwiNFwiIHx8IHVzZXJJbnB1dCA9PT0gXCI1XCIgfHwgdXNlcklucHV0ID09PSBcIjZcIiB8fCB1c2VySW5wdXQgPT09IFwiN1wiIHx8IHVzZXJJbnB1dCA9PT0gXCI4XCIgfHwgdXNlcklucHV0ID09PSBcIjlcIikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImRpY2Ugc3dhcFwiKVxyXG4gICAgICAvL3NlbGVjdCBkaWVcclxuICAgICAgaWYodXNlcklucHV0IC0gMSA8IEN1cnJyZW50QWN0aXZlUGxheWVyLmRpZS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbdXNlcklucHV0LTFdKVxyXG4gICAgICAgIGlmKCFDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbdXNlcklucHV0LTFdLmV4aGF1c3RlZCl7XHJcbiAgICAgICAgICBDdXJycmVudEFjdGl2ZVBsYXllci5kaWVbdXNlcklucHV0LTFdLnNlbGVjdGVkID0gIUN1cnJyZW50QWN0aXZlUGxheWVyLmRpZVt1c2VySW5wdXQtMV0uc2VsZWN0ZWRcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyKClcclxuICAgICAgICBcclxuICAgICAgfVxyXG4gICAgICBcclxuXHJcbi8vbW92ZW1lbnRcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dVcFwiKSB7XHJcbiAgICAgIFBsYXllckF0dGVtcHRNb3ZlKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dSaWdodFwiKSB7XHJcbiAgICAgIFBsYXllckF0dGVtcHRNb3ZlKClcclxuICAgIH1lbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dEb3duXCIpIHtcclxuICAgICAgUGxheWVyQXR0ZW1wdE1vdmUoKVxyXG4gICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd0xlZnRcIikge1xyXG4gICAgICBQbGF5ZXJBdHRlbXB0TW92ZSgpXHJcbiAgICBcclxuLy9hYmlsaXR5IHVzZVxyXG4gICAgfWVsc2UgaWYodXNlcklucHV0ID09PSBcInFcIiB8fCB1c2VySW5wdXQgPT09IFwid1wiIHx8IHVzZXJJbnB1dCA9PT0gXCJlXCIgfHwgdXNlcklucHV0ID09PSBcInJcIiB8fCB1c2VySW5wdXQgPT09IFwidFwiIHx8IHVzZXJJbnB1dCA9PT0gXCJ5XCIpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJhYmlsaXR5IHVzZVwiKVxyXG4gICAgICB2YXIgYWJpbGl0eUluZGV4ID0gQ29udmVydFNraWxsSG90a2V5KHVzZXJJbnB1dClcclxuXHJcbiAgICAgIC8vY2hlY2sgaWYgYWJpbGl0eSBleGlzdHNcclxuICAgICAgaWYoYWJpbGl0eUluZGV4IDwgQ3VycnJlbnRBY3RpdmVQbGF5ZXIuYWJpbGl0eUxpc3QuYWJpbGl0aWVzLmxlbmd0aCl7XHJcbiAgICAgICAgLy9oaXQgZXhpc3RpbmcgYWJpbGl0eSBrZXlcclxuICAgICAgICBsZXQgYWJpbCA9IEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllc1thYmlsaXR5SW5kZXhdXHJcbiAgICAgICAgbGV0IGNhblVzZSA9IGFiaWwuYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLmNhblVzZShhYmlsLEN1cnJyZW50QWN0aXZlUGxheWVyKVxyXG4gICAgICAgIHZhciBjdXJyZW50UGhhc2UgPSAoZ2FtZVN0YXRlID09IFwiUGxheWVyVHVybkRlZmVuZFwiKSA/IFwiRGVmZW5kXCIgOiBcIkF0dGFja1wiXHJcbiAgICAgICAgaWYoY2FuVXNlLmxlbmd0aCA+IDAgJiYgKGFiaWwuYWJpbGl0eVBoYXNlLnBoYXNlID09IFwiQW55XCIgfHwgYWJpbC5hYmlsaXR5UGhhc2UucGhhc2UgPT0gY3VycmVudFBoYXNlKSl7XHJcbiAgICAgICAgICAvL2NoZWNrIGlmIGFiaWxpdHkgaXMgaW5zdGFudCBvciB0YXJnZXRlZFxyXG4gICAgICAgICAgaWYoYWJpbC5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25UYXJnZXQpe1xyXG4gICAgICAgICAgICBhYmlsLmFiaWxpdHlGdW5jdGlvbi5mdW5jdGlvbi5vblRhcmdldChhYmlsLCBDdXJycmVudEFjdGl2ZVBsYXllcilcclxuXHJcbiAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgIGFiaWwuYWJpbGl0eUZ1bmN0aW9uLmZ1bmN0aW9uLm9uVXNlKGFiaWwsIEN1cnJyZW50QWN0aXZlUGxheWVyLCBHZXRUYXJnZXRFbnRpdHlQb3MoKSlcclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICBcclxuICAgIH1lbHNlIGlmKHVzZXJJbnB1dCA9PT0gXCJRXCIgfHwgdXNlcklucHV0ID09PSBcIldcIiB8fCB1c2VySW5wdXQgPT09IFwiRVwiIHx8IHVzZXJJbnB1dCA9PT0gXCJSXCIgfHwgdXNlcklucHV0ID09PSBcIlRcIiB8fCB1c2VySW5wdXQgPT09IFwiWVwiKSB7XHJcbiAgLy9hYmlsaXR5IGluZm9cclxuICAgICAgY29uc29sZS5sb2coXCJhYmlsaXR5IGluZm9cIilcclxuICAgICAgdmFyIGFiaWxpdHlJbmRleCA9IENvbnZlcnRTa2lsbEhvdGtleSh1c2VySW5wdXQpXHJcbiAgICAgIFNldFByZXZpb3VzU3RhdGUoXCJBYmlsaXR5SW5mb1wiKVxyXG4gICAgICBjb25zb2xlLmxvZyhhYmlsaXR5SW5kZXgpXHJcbiAgICAgIGNvbnNvbGUubG9nKEN1cnJyZW50QWN0aXZlUGxheWVyLmFiaWxpdHlMaXN0LmFiaWxpdGllc1thYmlsaXR5SW5kZXhdKVxyXG4gICAgICBTZXRFbnRpdHlUb1JlbmRlcihDdXJycmVudEFjdGl2ZVBsYXllci5hYmlsaXR5TGlzdC5hYmlsaXRpZXNbYWJpbGl0eUluZGV4XSlcclxuICAgICAgcmVuZGVyKClcclxuICAgIFxyXG4gICAgfWVsc2UgaWYodXNlcklucHV0PT1cIkVudGVyXCIpe1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkVudGVyXCIpXHJcbiAgICAgIGlmKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5EZWZlbmRcIil7XHJcbiAgICAgICAgUGxheWVyVHVybkRlZmVuZCgpXHJcbiAgICAgICAgZ2FtZVN0YXRlID0gXCJQbGF5ZXJUdXJuQXR0YWNrXCJcclxuICAgICAgfWVsc2UgaWYgKGdhbWVTdGF0ZSA9PSBcIlBsYXllclR1cm5BdHRhY2tcIil7XHJcbiAgICAgICAgLy9wcm9jZXNzIHBsYXllckF0dGFja1xyXG4gICAgICAgIFByb2Nlc3NEbWdUaWxlcygpXHJcblxyXG4gICAgICAgIEVuZFR1cm5Qcm9jZXNzKGFsbHlFbnRpdGllcy5nZXQoKSlcclxuICAgICAgICBnYW1lU3RhdGUgPSBcIkVuZW15VHVybkRlZmVuZFwiXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSAneCcpIHtcclxuICAgICAgLy9zZXQgZXhhbWluZSBtb2RlXHJcbiAgICAgIEV4YW1pbmVUYXJnZXRFbmFibGUoXCJleGFtaW5lXCIpXHJcblxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gJ2MnKSB7XHJcbiAgICAgIFNldFByZXZpb3VzU3RhdGUoXCJEYW1hZ2VTaG93XCIpXHJcbiAgICAgIHJlbmRlcigpXHJcbiAgICB9ZWxzZSBpZiAodXNlcklucHV0ID09PSAneicpIHtcclxuICAgICAgU2V0UHJldmlvdXNTdGF0ZShcIkVuZW15TnVtYmVyc1wiKVxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gJ3AnKSB7XHJcbiAgICAgIC8vdXNlZCBmb3IgdGVzdGluZ1xyXG4gICAgICBjb25zb2xlLmxvZyhDdXJycmVudEFjdGl2ZVBsYXllcilcclxuICAgICAgXHJcbiAgICB9XHJcbiAgfWVsc2UgaWYgKGdhbWVTdGF0ZSA9PT0gXCJleGFtaW5lXCIgfHwgZ2FtZVN0YXRlID09PSBcInRhcmdldGluZ1wiKSB7XHJcbiAgICAgIGlmICh1c2VySW5wdXQgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RGlzYWJsZSgpXHJcbiAgICAgICAgcmVuZGVyKClcclxuICAgICAgfWVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd1VwXCIgfHwgdXNlcklucHV0ID09PSBcIkFycm93UmlnaHRcIiB8fCB1c2VySW5wdXQgPT09IFwiQXJyb3dEb3duXCIgfHwgdXNlcklucHV0ID09PSBcIkFycm93TGVmdFwiKSB7XHJcbiAgICAgICAgVGFyZ2V0TW92ZSgpXHJcbiAgICAgICAgcmVuZGVyKClcclxuICAgICAgfWVsc2UgaWYodXNlcklucHV0ID09PSBcIkVudGVyXCIgJiYgZ2FtZVN0YXRlID09PSBcInRhcmdldGluZ1wiKXtcclxuICAgICAgICAvL2FjdGl2YXRlIHRoZSBxdWV1ZWQgYWJpbGl0eVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHF1ZXVlZEFiaWxpdHkpXHJcbiAgICAgICAgcXVldWVkQWJpbGl0eS5hYmlsaXR5RnVuY3Rpb24uZnVuY3Rpb24ub25Vc2UocXVldWVkQWJpbGl0eSwgcXVldWVkRW50aXR5LCBHZXRUYXJnZXRFbnRpdHlQb3MoKSlcclxuICAgICAgICBFeGFtaW5lVGFyZ2V0RGlzYWJsZSgpXHJcbiAgICAgICAgcmVuZGVyKClcclxuICAgIH1cclxuICB9ZWxzZSBpZiAoZ2FtZVN0YXRlID09PSBcIkhlbHBcIiB8fCBnYW1lU3RhdGUgPT0gXCJBYmlsaXR5SW5mb1wiIHx8IGdhbWVTdGF0ZSA9PSBcIkRhbWFnZVNob3dcIiB8fCBnYW1lU3RhdGUgPT0gXCJFbmVteU51bWJlcnNcIiApIHtcclxuICAgIGlmKHVzZXJJbnB1dCA9PT1cIkVzY2FwZVwiKXtcclxuICAgICAgSGlkZUhlbHBNZW51KClcclxuICAgICAgUmV0dXJuUHJldmlvdXNHYW1lU3RhdGUoKVxyXG4gICAgICByZW5kZXIoKVxyXG4gICAgfVxyXG4gIH1cclxuICAgIHVzZXJJbnB1dCA9IG51bGxcclxufVxyXG5cclxuY29uc3QgQ29udmVydFNraWxsSG90a2V5ID0gKGhvdGtleSkgPT4ge1xyXG4gIHN3aXRjaCAodXNlcklucHV0KSB7XHJcbiAgICBjYXNlIFwicVwiOlxyXG4gICAgY2FzZSBcIlFcIjpcclxuICAgICAgcmV0dXJuIDBcclxuICAgIGNhc2UgXCJ3XCI6XHJcbiAgICBjYXNlIFwiV1wiOlxyXG4gICAgICByZXR1cm4gMVxyXG4gICAgY2FzZSBcImVcIjpcclxuICAgIGNhc2UgXCJFXCI6XHJcbiAgICAgIHJldHVybiAyXHJcbiAgICBjYXNlIFwiclwiOlxyXG4gICAgY2FzZSBcIlJcIjpcclxuICAgICAgcmV0dXJuIDNcclxuICAgIGNhc2UgXCJ0XCI6XHJcbiAgICBjYXNlIFwiVFwiOlxyXG4gICAgICByZXR1cm4gNFxyXG4gICAgY2FzZSBcInlcIjpcclxuICAgIGNhc2UgXCJZXCI6XHJcbiAgICAgIHJldHVybiA1XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gMFxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgR2V0VGFyZ2V0RW50aXR5UG9zID0gKCkgPT4ge1xyXG4gIGlmKHRhcmdldEVudGl0eS5oYXMoY29tcG9uZW50cy5Qb3NpdGlvbikpe1xyXG4gICAgcmV0dXJuIHt4OnRhcmdldEVudGl0eS5wb3NpdGlvbi54LHk6dGFyZ2V0RW50aXR5LnBvc2l0aW9uLnl9XHJcbiAgfWVsc2Uge1xyXG4gICAgcmV0dXJuIHt4OjAseTowfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV4YW1pbmVUYXJnZXRFbmFibGUgPSAoc3RhdGUpID0+IHtcclxuICBTZXRQcmV2aW91c1N0YXRlKHN0YXRlKVxyXG5cclxuICAvL3NldCBleGFtaW5lIGJhc2UgcG9zaXRpb24gdG8gY3VycmVudCBhY3RpdmUgcGxheWVyIHBvc2l0aW9uXHJcbiAgdGFyZ2V0RW50aXR5LmFkZChjb21wb25lbnRzLlBvc2l0aW9uLCB7eDogQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueCx5OiBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55fSlcclxufVxyXG5cclxuY29uc3QgU2V0UHJldmlvdXNTdGF0ZSA9IChzdGF0ZSkgPT4ge1xyXG4gIHByZXZpb3VzR2FtZVN0YXRlID0gZ2FtZVN0YXRlXHJcbiAgZ2FtZVN0YXRlID0gc3RhdGVcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV4YW1pbmVUYXJnZXREaXNhYmxlPSAoKSA9PiB7XHJcbiAgUmV0dXJuUHJldmlvdXNHYW1lU3RhdGUoKVxyXG4gIHRhcmdldEVudGl0eS5yZW1vdmUodGFyZ2V0RW50aXR5LnBvc2l0aW9uKVxyXG59XHJcblxyXG5jb25zdCBSZXR1cm5QcmV2aW91c0dhbWVTdGF0ZSA9ICgpID0+IHtcclxuICBnYW1lU3RhdGUgPSBwcmV2aW91c0dhbWVTdGF0ZVxyXG59XHJcblxyXG5jb25zdCBFeGFtaW5nID0gKCkgPT4ge1xyXG5cclxufVxyXG5cclxuY29uc3QgVGFyZ2V0aW5nID0gKCkgPT4ge1xyXG5cclxufVxyXG5cclxuY29uc3QgUGxheWVyQXR0ZW1wdE1vdmUgPSAoKSA9PiB7XHJcbiAgLy8gcGxheWVyLmFkZChNb3ZlLCB7IHg6IDAsIHk6IC0xIH0pOyB1XHJcblxyXG4gIC8vIHBsYXllci5hZGQoTW92ZSwgeyB4OiAxLCB5OiAwIH0pOyByXHJcblxyXG4gIC8vIHBsYXllci5hZGQoTW92ZSwgeyB4OiAwLCB5OiAxIH0pOyBkXHJcblxyXG4gIC8vIHBsYXllci5hZGQoTW92ZSwgeyB4OiAtMSwgeTogMCB9KTsgbFxyXG5cclxuICBpZiAodXNlcklucHV0ID09PSBcIkFycm93VXBcIikge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXIubW92ZW1lbnQueSA9IC0xXHJcbiAgfVxyXG4gIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dSaWdodFwiKSB7XHJcbiAgICBDdXJycmVudEFjdGl2ZVBsYXllci5tb3ZlbWVudC54ID0gMVxyXG4gIH1cclxuICBpZiAodXNlcklucHV0ID09PSBcIkFycm93RG93blwiKSB7XHJcbiAgICBDdXJycmVudEFjdGl2ZVBsYXllci5tb3ZlbWVudC55ID0gMVxyXG4gIH1cclxuICBpZiAodXNlcklucHV0ID09PSBcIkFycm93TGVmdFwiKSB7XHJcbiAgICBDdXJycmVudEFjdGl2ZVBsYXllci5tb3ZlbWVudC54ID0gLTFcclxuICB9XHJcblxyXG4gIEN1cnJyZW50QWN0aXZlUGxheWVyLmZpcmVFdmVudChcImF0dGVtcHQtbW92ZVwiKVxyXG5cclxuICByZW5kZXIoKVxyXG59XHJcblxyXG5jb25zdCBUYXJnZXRNb3ZlID0gKCkgPT4ge1xyXG4gIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dVcFwiKSB7XHJcbiAgICB0YXJnZXRFbnRpdHkucG9zaXRpb24ueSA9IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLnkgKyAtMVxyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnggPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi54XHJcbiAgfSBlbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dSaWdodFwiKSB7XHJcbiAgICB0YXJnZXRFbnRpdHkucG9zaXRpb24ueCA9IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLnggKyAxXHJcbiAgICB0YXJnZXRFbnRpdHkucG9zaXRpb24ueSA9IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLnlcclxuICB9IGVsc2UgaWYgKHVzZXJJbnB1dCA9PT0gXCJBcnJvd0Rvd25cIikge1xyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnkgPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi55ICsgMVxyXG4gICAgdGFyZ2V0RW50aXR5LnBvc2l0aW9uLnggPSBDdXJycmVudEFjdGl2ZVBsYXllci5wb3NpdGlvbi54XHJcbiAgfSBlbHNlIGlmICh1c2VySW5wdXQgPT09IFwiQXJyb3dMZWZ0XCIpIHtcclxuICAgIHRhcmdldEVudGl0eS5wb3NpdGlvbi54ID0gQ3VycnJlbnRBY3RpdmVQbGF5ZXIucG9zaXRpb24ueCArIC0xXHJcbiAgICB0YXJnZXRFbnRpdHkucG9zaXRpb24ueSA9IEN1cnJyZW50QWN0aXZlUGxheWVyLnBvc2l0aW9uLnlcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEdldE5leHRBY3RpdmVQbGF5ZXIgPSAoKSA9PiB7XHJcbiAgaWYoQ3VycnJlbnRBY3RpdmVQbGF5ZXJJbmRleCArIDEgPj0gcGxheWVyRW50aXRpZXMuZ2V0KCkubGVuZ3RoKXtcclxuICAgIEN1cnJyZW50QWN0aXZlUGxheWVySW5kZXggPSAwXHJcbiAgfWVsc2Uge1xyXG4gICAgQ3VycnJlbnRBY3RpdmVQbGF5ZXJJbmRleCsrXHJcbiAgfVxyXG4gIC8vY29uc29sZS5sb2cocGxheWVyRW50aXRpZXMuZ2V0KClbQ3VycnJlbnRBY3RpdmVQbGF5ZXJJbmRleF0pXHJcbiAgcmV0dXJuIHBsYXllckVudGl0aWVzLmdldCgpW0N1cnJyZW50QWN0aXZlUGxheWVySW5kZXhdXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldikgPT4ge1xyXG4gIHVzZXJJbnB1dCA9IGV2LmtleTtcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0dXBUZXN0RmlnaHQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBuZXdQbGF5ZXIgPSB3b3JsZC5jcmVhdGVQcmVmYWIoXCJQbGF5ZXJCZWluZ1wiLCB7XHJcbiAgICAgIGFwcGVhcmFuY2U6IHtjaGFyOiBcIkBcIiwgY29sb3I6IFwiZ3JlZW5cIn1cclxuICAgIH0pO1xyXG4gICAgdmFyIGVtcHR5VGlsZSA9IEZldGNoRnJlZVRpbGUoKTtcclxuICAgIG5ld1BsYXllci5hZGQoY29tcG9uZW50cy5Qb3NpdGlvbiwge3g6ZW1wdHlUaWxlLnBvc2l0aW9uLngseTplbXB0eVRpbGUucG9zaXRpb24ueX0pXHJcbiAgICBDdXJycmVudEFjdGl2ZVBsYXllciA9IG5ld1BsYXllclxyXG5cclxuICAgIGNvbnN0IG5ld1BsYXllcjIgPSB3b3JsZC5jcmVhdGVQcmVmYWIoXCJQbGF5ZXJCZWluZ1wiLCB7XHJcbiAgICAgIGFwcGVhcmFuY2U6IHtjaGFyOiBcIkBcIiwgY29sb3I6IFwicHVycGxlXCJ9XHJcbiAgICB9KTtcclxuICAgIGVtcHR5VGlsZSA9IEZldGNoRnJlZVRpbGUoKTtcclxuICAgIG5ld1BsYXllcjIuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OmVtcHR5VGlsZS5wb3NpdGlvbi54LHk6ZW1wdHlUaWxlLnBvc2l0aW9uLnl9KVxyXG5cclxuICAgIHRpbWVzKDYsICgpID0+IHtcclxuICAgICAgZW1wdHlUaWxlID0gRmV0Y2hGcmVlVGlsZSgpO1xyXG4gICAgICB3b3JsZC5jcmVhdGVQcmVmYWIoXCJHb2JsaW5cIikuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OiBlbXB0eVRpbGUucG9zaXRpb24ueCwgeTogZW1wdHlUaWxlLnBvc2l0aW9uLnl9KVxyXG4gICAgfSk7XHJcblxyXG4gICAgZW1wdHlUaWxlID0gRmV0Y2hGcmVlVGlsZSgpO1xyXG4gICAgd29ybGQuY3JlYXRlUHJlZmFiKFwiT3JjIFdhcnJpb3JcIikuYWRkKGNvbXBvbmVudHMuUG9zaXRpb24sIHt4OiBlbXB0eVRpbGUucG9zaXRpb24ueCwgeTogZW1wdHlUaWxlLnBvc2l0aW9uLnl9KVxyXG59XHJcblxyXG5jb25zdCBFbmVteURlZmVuZFR1cm4gPSAoKSA9PiB7XHJcbiAgLy9sb29wIHRocm91Z2ggYWxsIGVuZW1pZXMgYW5kIGRvIHRoZWlyIHR1cm5cclxuICBlbmVteUVudGl0aWVzLmdldCgpLmZvckVhY2goIGVuZW0gPT4ge1xyXG4gICAgQUkuRG9BaVR1cm5EZWZlbmQoZW5lbSlcclxuICB9KVxyXG4gIC8vcHJvY2VzcyBwbGF5ZXJBdHRhY2tcclxuICBQcm9jZXNzRG1nVGlsZXMoKVxyXG59XHJcblxyXG5jb25zdCBFbmVteUF0dGFja1R1cm4gPSAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJlbmVteSBhdHRhY2tzXCIpXHJcbiAgZW5lbXlFbnRpdGllcy5nZXQoKS5mb3JFYWNoKCBlbmVtID0+IHtcclxuICAgIEFJLkRvQWlUdXJuQXR0YWNrKGVuZW0pXHJcbiAgfSlcclxufVxyXG5cclxuY29uc3QgUGxheWVyVHVybkRlZmVuZCA9ICgpID0+IHtcclxuICAvL3dhaXQgZm9yIHBsYXllciBpbnB1dCBhbmQgcHJvY2VzcywgYnV0IG9ubHkgYWxsb3cgZGVmZW5zaXZlIGFiaWxpdGllc1xyXG5cclxuICAvL3Byb2NjZXNzIGVuZW15QXR0YWNrXHJcbiAgUHJvY2Vzc0RtZ1RpbGVzKClcclxufVxyXG5cclxuY29uc3QgUGxheWVyVHVybkF0dGFjayA9ICgpID0+IHtcclxuICAvL3dhaXQgZm9yIHBsYXllciBpbnB1dCBhbmQgcHJvY2VzcywgYnV0IG9ubHkgYWxsb3cgb2ZmZW5zaXZlIGFiaWxpdGllcyBcclxufVxyXG5cclxuY29uc3QgUHJvY2Vzc0RtZ1RpbGVzID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwicHJvY2VzcyBkbWdcIilcclxuICAvL2ZvciBlYWNoIGRtZ3RpbGVcclxuICBjb25zb2xlLmxvZyhkbWdUaWxlRW50aXRpZXMuZ2V0KCkpXHJcbiAgLy9kb250IHJlbW92ZSBmcm9tIGFuIGFycmF5IHdoaWxlIGl0ZXJhdGluZyBvdmVyIGl0XHJcbiAgdmFyIHRvRGVzdHJveSA9IFtdXHJcbiAgZG1nVGlsZUVudGl0aWVzLmdldCgpLmZvckVhY2goIChlbnRpdHkpID0+IHtcclxuICAgIHZhciBnZXRFbnRpdGllc0F0TG9jID0gcmVhZENhY2hlU2V0KFwiZW50aXRpZXNBdExvY2F0aW9uXCIsIHRvTG9jSWQoe3g6ZW50aXR5LnBvc2l0aW9uLngseTplbnRpdHkucG9zaXRpb24ueX0pKVxyXG5cclxuICAgIGdldEVudGl0aWVzQXRMb2MuZm9yRWFjaCggKGVJZCkgPT4ge1xyXG4gICAgICAvL2NoZWNrIGlmIHRoaXMgaXMgYSB1bml0XHJcbiAgICAgIHZhciBlbnRpdHlBdExvYyA9IHdvcmxkLmdldEVudGl0eShlSWQpO1xyXG4gICAgICBjb25zb2xlLmxvZyhlbnRpdHlBdExvYylcclxuICAgICAgaWYoZW50aXR5QXRMb2MubGF5ZXJVbml0KXtcclxuICAgICAgICBlbnRpdHlBdExvYy5maXJlRXZlbnQoXCJ0YWtlLWRhbWFnZVwiLCB7YW1vdW50OiBlbnRpdHkuZG1nVGlsZS5kbWd9KVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRvRGVzdHJveS5wdXNoKGVudGl0eSlcclxuICB9KTtcclxuXHJcbiAgdG9EZXN0cm95LmZvckVhY2goIChlbnQpID0+e1xyXG4gICAgZW50LmRlc3Ryb3koKVxyXG4gIH0pXHJcbiAgY29uc29sZS5sb2coZG1nVGlsZUVudGl0aWVzLmdldCgpKVxyXG4gIGNvbnNvbGUubG9nKFwiZW5kIHByb2Nlc3MgZG1nXCIpXHJcbn1cclxuXHJcbmNvbnN0IEVuZFR1cm5Qcm9jZXNzID0gKGVudGl0aWVzKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ2VuZGluZyB0dXJuIGZvciAnKVxyXG4gIGVudGl0aWVzLmZvckVhY2goIChlbnRpdHkpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVudGl0eSlcclxuICAgIGVudGl0eS5maXJlRXZlbnQoJ3R1cm4tZW5kJywgZW50aXR5KTtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgU3RhcnRHYW1lID0gKCkgPT4ge1xyXG4gIG1ha2VNYXAoKVxyXG4gIHNldHVwVGVzdEZpZ2h0KClcclxuICBGZXRjaEZyZWVUaWxlKClcclxuICByZW5kZXIoKVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcclxuICAgIHVwZGF0ZSgpO1xyXG5cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgfTtcclxuICBcclxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcclxuICAiXSwic291cmNlUm9vdCI6IiJ9